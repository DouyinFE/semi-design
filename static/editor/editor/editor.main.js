/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.28.1(5871d139726f045842cd7dcb06c5465ca4eeaf1d)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var te=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/editor/common/core/position","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/base/common/objects","vs/editor/common/modes/languageConfigurationRegistry","vs/editor/common/config/editorOptions","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/platform/configuration/common/configuration","vs/base/browser/browser","vs/editor/common/controller/cursorCommon","vs/base/common/keyCodes","vs/base/common/resources","vs/base/browser/ui/aria/aria","vs/editor/common/view/editorColorRegistry","vs/base/common/network","vs/editor/browser/view/viewPart","vs/base/common/map","vs/base/common/actions","vs/base/browser/keyboardEvent","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/mouseEvent","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/base/browser/touch","vs/editor/common/core/editOperation","vs/platform/accessibility/common/accessibility","vs/platform/progress/common/progress","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/editor/browser/config/configuration","vs/editor/browser/core/editorState","vs/base/common/filters","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/base/common/htmlContent","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/quickinput/common/quickInput","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/theme/common/iconRegistry","vs/base/common/functional","vs/base/common/stopwatch","vs/editor/common/core/stringBuilder","vs/editor/common/model/bracketPairColorizer/length","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/core/lineTokens","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/telemetry/common/telemetry","vs/base/common/decorators","vs/base/browser/event","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/model/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/common/mime","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/core/markdownRenderer","vs/platform/theme/common/styler","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/bracketPairColorizer/ast","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/common/modes/modesRegistry","vs/editor/common/controller/cursorWordOperations","vs/editor/contrib/find/findModel","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/dnd","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/model/bracketPairColorizer/smallImmutableSet","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/editor/contrib/inlineCompletions/ghostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/common/commands/shiftCommand","vs/editor/browser/controller/mouseTarget","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/bracketPairColorizer/beforeEditPositionMapper","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/consts","vs/editor/contrib/inlineCompletions/inlineCompletionToGhostText","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/bracketPairColorizer/tokenizer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/browser/view/viewUserInputEvents","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/bracketPairColorizer/nodeReader","vs/editor/common/model/bracketPairColorizer/concat23Trees","vs/editor/common/model/bracketPairColorizer/parser","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/bracketPairColorizer/brackets","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairColorizer/bracketPairColorizer","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/common/insane/insane","vs/base/common/marked/marked","vs/editor/edcore.main"],ne=function($){for(var e=[],_=0,N=$.length;_<N;_++)e[_]=te[$[_]];return e},Rt;(function($){var e=function(){function N(){this._pendingLoads=0}return N.prototype.attachListeners=function(I,L,S,p){var v=function(){L.removeEventListener("load",i),L.removeEventListener("error",C)},i=function(s){v(),S()},C=function(s){v(),p(s)};L.addEventListener("load",i),L.addEventListener("error",C)},N.prototype._onLoad=function(I,L){this._pendingLoads--,L()},N.prototype._onLoadError=function(I,L,S){this._pendingLoads--,L(S)},N.prototype._insertLinkNode=function(I){this._pendingLoads++;var L=document.head||document.getElementsByTagName("head")[0],S=L.getElementsByTagName("link")||L.getElementsByTagName("script");S.length>0?L.insertBefore(I,S[S.length-1]):L.appendChild(I)},N.prototype.createLinkTag=function(I,L,S,p){var v=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",I);var C=function(){return v._onLoad(I,S)},s=function(a){return v._onLoadError(I,p,a)};return this.attachListeners(I,i,C,s),i.setAttribute("href",L),i},N.prototype._linkTagExists=function(I,L){var S,p,v,i,C=document.getElementsByTagName("link");for(S=0,p=C.length;S<p;S++)if(v=C[S].getAttribute("data-name"),i=C[S].getAttribute("href"),v===I||i===L)return!0;return!1},N.prototype.load=function(I,L,S,p){if(this._linkTagExists(I,L)){S();return}var v=this.createLinkTag(I,L,S,p);this._insertLinkNode(v)},N}(),_=function(){function N(){this._cssLoader=new e}return N.prototype.load=function(I,L,S,p){p=p||{};var v=p["vs/css"]||{};if(v.disabled){S({});return}var i=L.toUrl(I+".css");this._cssLoader.load(I,i,function(C){S({})},function(C){typeof S.error=="function"&&S.error("Could not find "+i+" or it was empty")})},N}();$.CSSPlugin=_,define("vs/css",new _)})(Rt||(Rt={}));var hi=this&&this.__spreadArrays||function(){for(var $=0,e=0,_=arguments.length;e<_;e++)$+=arguments[e].length;for(var N=Array($),I=0,e=0;e<_;e++)for(var L=arguments[e],S=0,p=L.length;S<p;S++,I++)N[I]=L[S];return N},At;(function($){var e=function(){function p(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(p.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),p.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},p}();function _(p,v,i){var C;return v.length===0?C=p:C=p.replace(/\{(\d+)\}/g,function(s,a){var u=a[0],h=v[u],d=s;return typeof h=="string"?d=h:(typeof h=="number"||typeof h=="boolean"||h===void 0||h===null)&&(d=String(h)),d}),i.isPseudo&&(C="\uFF3B"+C.replace(/[aouei]/g,"$&$&")+"\uFF3D"),C}function N(p,v){var i=p[v];return i||(i=p["*"],i)?i:null}function I(p,v,i){for(var C=[],s=3;s<arguments.length;s++)C[s-3]=arguments[s];return _(i,C,p)}function L(p,v){return function(i,C){var s=Array.prototype.slice.call(arguments,2);return _(p[i],s,v)}}var S=function(){function p(v){var i=this;this._env=v,this.localize=function(C,s){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];return I.apply(void 0,hi([i._env,C,s],a))}}return p.prototype.setPseudoTranslation=function(v){this._env._isPseudo=v},p.prototype.create=function(v,i){return{localize:L(i[v],this._env)}},p.prototype.load=function(v,i,C,s){var a=this;if(s=s||{},!v||v.length===0)C({localize:this.localize});else{var u=s["vs/nls"]||{},h=u.availableLanguages?N(u.availableLanguages,v):null,d=".nls";h!==null&&h!==p.DEFAULT_TAG&&(d=d+"."+h);var r=function(n){Array.isArray(n)?n.localize=L(n,a._env):n.localize=L(n[v],a._env),C(n)};typeof u.loadBundle=="function"?u.loadBundle(v,h,function(n,l){n?i([v+".nls"],r):r(l)}):i([v+d],r)}},p.DEFAULT_TAG="i-default",p}();$.NLSPlugin=S,define("vs/nls",new S(new e))})(At||(At={})),define(te[30],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class _{constructor(L){this.domNode=L,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){this._maxWidth!==L&&(this._maxWidth=L,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(L){this._width!==L&&(this._width=L,this.domNode.style.width=this._width+"px")}setHeight(L){this._height!==L&&(this._height=L,this.domNode.style.height=this._height+"px")}setTop(L){this._top!==L&&(this._top=L,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(L){this._left!==L&&(this._left=L,this.domNode.style.left=this._left+"px")}setBottom(L){this._bottom!==L&&(this._bottom=L,this.domNode.style.bottom=this._bottom+"px")}setRight(L){this._right!==L&&(this._right=L,this.domNode.style.right=this._right+"px")}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){this._fontSize!==L&&(this._fontSize=L,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(L){this._lineHeight!==L&&(this._lineHeight=L,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(L){this._letterSpacing!==L&&(this._letterSpacing=L,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,S){this.domNode.classList.toggle(L,S),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,S){this.domNode.setAttribute(L,S)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=_;function N(I){return new _(I)}e.createFastDomNode=N}),define(te[200],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let _=!1,N=null;function I(S){if(!S.parent||S.parent===S)return null;try{let p=S.location,v=S.parent.location;if(p.origin!=="null"&&v.origin!=="null"&&(p.protocol!==v.protocol||p.hostname!==v.hostname||p.port!==v.port))return _=!0,null}catch(p){return _=!0,null}return S.parent}class L{static getSameOriginWindowChain(){if(!N){N=[];let p=window,v;do v=I(p),v?N.push({window:p,iframeElement:p.frameElement||null}):N.push({window:p,iframeElement:null}),p=v;while(p)}return N.slice(0)}static hasDifferentOriginAncestor(){return N||this.getSameOriginWindowChain(),_}static getPositionOfChildWindowRelativeToAncestorWindow(p,v){if(!v||p===v)return{top:0,left:0};let i=0,C=0,s=this.getSameOriginWindowChain();for(const a of s){if(i+=a.window.scrollY,C+=a.window.scrollX,a.window===v||!a.iframeElement)break;let u=a.iframeElement.getBoundingClientRect();i+=u.top,C+=u.left}return{top:i,left:C}}}e.IframeUtils=L}),define(te[290],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class _ extends Error{constructor(I,L){super(`ListError [${I}] ${L}`)}}e.ListError=_}),define(te[291],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class _{constructor(I){this.spliceables=I}splice(I,L,S){this.spliceables.forEach(p=>p.splice(I,L,S))}}e.CombinedSpliceable=_}),define(te[201],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const _=20;class N{constructor(L,S,p,v,i,C){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(L),this._visibleSize=v,this._scrollSize=i,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new N(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(L){const S=Math.round(L);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(L){const S=Math.round(L);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(L){const S=Math.round(L);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(L){this._scrollbarSize=Math.round(L)}setOppositeScrollbarSize(L){this._oppositeScrollbarSize=Math.round(L)}static _computeValues(L,S,p,v,i){const C=Math.max(0,p-L),s=Math.max(0,C-2*S),a=v>0&&v>p;if(!a)return{computedAvailableSize:Math.round(C),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const u=Math.round(Math.max(_,Math.floor(p*s/v))),h=(s-u)/(v-p),d=i*h;return{computedAvailableSize:Math.round(C),computedIsNeeded:a,computedSliderSize:Math.round(u),computedSliderRatio:h,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const L=N._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=L.computedAvailableSize,this._computedIsNeeded=L.computedIsNeeded,this._computedSliderSize=L.computedSliderSize,this._computedSliderRatio=L.computedSliderRatio,this._computedSliderPosition=L.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(L){if(!this._computedIsNeeded)return 0;const S=L-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(L){if(!this._computedIsNeeded)return 0;const S=L-this._arrowSize;let p=this._scrollPosition;return S<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(L){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+L;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=N}),define(te[102],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var _;(function(L){L[L.Unknown=0]="Unknown",L[L.Twistie=1]="Twistie",L[L.Element=2]="Element"})(_=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class N extends Error{constructor(S,p){super(`TreeError [${S}] ${p}`)}}e.TreeError=N;class I{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let p=this._map.get(S);return p||(p=this.fn(S),this._map.set(S,p)),p}}e.WeakMapper=I}),define(te[19],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.splice=e.insertInto=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function _(g,m=0){return g[g.length-(1+m)]}e.tail=_;function N(g){if(g.length===0)throw new Error("Invalid tail call");return[g.slice(0,g.length-1),g[g.length-1]]}e.tail2=N;function I(g,m,w=(D,k)=>D===k){if(g===m)return!0;if(!g||!m||g.length!==m.length)return!1;for(let D=0,k=g.length;D<k;D++)if(!w(g[D],m[D]))return!1;return!0}e.equals=I;function L(g,m,w){let D=0,k=g.length-1;for(;D<=k;){const T=(D+k)/2|0,R=w(g[T],m);if(R<0)D=T+1;else if(R>0)k=T-1;else return T}return-(D+1)}e.binarySearch=L;function S(g,m){let w=0,D=g.length;if(D===0)return 0;for(;w<D;){const k=Math.floor((w+D)/2);m(g[k])?D=k:w=k+1}return w}e.findFirstInSorted=S;function p(g,m,w){if(g=g|0,g>=m.length)throw new TypeError("invalid index");let D=m[Math.floor(m.length*Math.random())],k=[],T=[],R=[];for(let M of m){const A=w(M,D);A<0?k.push(M):A>0?T.push(M):R.push(M)}return g<k.length?p(g,k,w):g<k.length+R.length?R[0]:p(g-(k.length+R.length),T,w)}e.quickSelect=p;function v(g,m){const w=[];let D;for(const k of g.slice(0).sort(m))!D||m(D[0],k)!==0?(D=[k],w.push(D)):D.push(k);return w}e.groupBy=v;function i(g){return g.filter(m=>!!m)}e.coalesce=i;function C(g){return!Array.isArray(g)||g.length===0}e.isFalsyOrEmpty=C;function s(g){return Array.isArray(g)&&g.length>0}e.isNonEmptyArray=s;function a(g,m){if(!m)return g.filter((D,k)=>g.indexOf(D)===k);const w=Object.create(null);return g.filter(D=>{const k=m(D);return w[k]?!1:(w[k]=!0,!0)})}e.distinct=a;function u(g){const m=new Set;return g.filter(w=>m.has(w)?!1:(m.add(w),!0))}e.distinctES6=u;function h(g,m){return g.length>0?g[0]:m}e.firstOrDefault=h;function d(g){return[].concat(...g)}e.flatten=d;function r(g,m){let w=typeof m=="number"?g:0;typeof m=="number"?w=g:(w=0,m=g);const D=[];if(w<=m)for(let k=w;k<m;k++)D.push(k);else for(let k=w;k>m;k--)D.push(k);return D}e.range=r;function n(g,m,w){const D=g.slice(0,m),k=g.slice(m);return D.concat(w,k)}e.arrayInsert=n;function l(g,m){const w=g.indexOf(m);w>-1&&(g.splice(w,1),g.unshift(m))}e.pushToStart=l;function t(g,m){const w=g.indexOf(m);w>-1&&(g.splice(w,1),g.push(m))}e.pushToEnd=t;function o(g){return Array.isArray(g)?g:[g]}e.asArray=o;function c(g,m,w){const D=y(g,m),k=g.length,T=w.length;g.length=k+T;for(let R=k-1;R>=D;R--)g[R+T]=g[R];for(let R=0;R<T;R++)g[R+D]=w[R]}e.insertInto=c;function f(g,m,w,D){const k=y(g,m),T=g.splice(k,w);return c(g,k,D),T}e.splice=f;function y(g,m){return m<0?Math.max(m+g.length,0):Math.min(m,g.length)}class b{constructor(m){this.items=m,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(m){let w=this.firstIdx;for(;w<this.items.length&&m(this.items[w]);)w++;const D=w===this.firstIdx?null:this.items.slice(this.firstIdx,w);return this.firstIdx=w,D}takeFromEndWhile(m){let w=this.lastIdx;for(;w>=0&&m(this.items[w]);)w--;const D=w===this.lastIdx?null:this.items.slice(w+1,this.lastIdx+1);return this.lastIdx=w,D}}e.ArrayQueue=b}),define(te[202],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function _(N,I){if(!N)throw new Error(I?`Assertion failed (${I})`:"Assertion Failed")}e.ok=_}),define(te[103],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const _=typeof Buffer!="undefined";let N;class I{constructor(a){this.buffer=a,this.byteLength=this.buffer.byteLength}static wrap(a){return _&&!Buffer.isBuffer(a)&&(a=Buffer.from(a.buffer,a.byteOffset,a.byteLength)),new I(a)}toString(){return _?this.buffer.toString():(N||(N=new TextDecoder),N.decode(this.buffer))}}e.VSBuffer=I;function L(s,a){return s[a+0]<<0>>>0|s[a+1]<<8>>>0}e.readUInt16LE=L;function S(s,a,u){s[u+0]=a&255,a=a>>>8,s[u+1]=a&255}e.writeUInt16LE=S;function p(s,a){return s[a]*Math.pow(2,24)+s[a+1]*Math.pow(2,16)+s[a+2]*Math.pow(2,8)+s[a+3]}e.readUInt32BE=p;function v(s,a,u){s[u+3]=a,a=a>>>8,s[u+2]=a,a=a>>>8,s[u+1]=a,a=a>>>8,s[u]=a}e.writeUInt32BE=v;function i(s,a){return s[a]}e.readUInt8=i;function C(s,a,u){s[u]=a}e.writeUInt8=C}),define(te[203],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const _=Object.prototype.hasOwnProperty;function N(L,S){for(let p in L)if(_.call(L,p)&&S({key:p,value:L[p]},function(){delete L[p]})===!1)return}e.forEach=N;class I{constructor(){this.map=new Map}add(S,p){let v=this.map.get(S);v||(v=new Set,this.map.set(S,v)),v.add(p)}delete(S,p){const v=this.map.get(S);!v||(v.delete(p),v.size===0&&this.map.delete(S))}forEach(S,p){const v=this.map.get(S);!v||v.forEach(p)}}e.SetMap=I}),define(te[29],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function _(p,v){const i=Math.pow(10,v);return Math.round(p*i)/i}class N{constructor(v,i,C,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=_(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.r===i.r&&v.g===i.g&&v.b===i.b&&v.a===i.a}}e.RGBA=N;class I{constructor(v,i,C,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=_(Math.max(Math.min(1,i),0),3),this.l=_(Math.max(Math.min(1,C),0),3),this.a=_(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.h===i.h&&v.s===i.s&&v.l===i.l&&v.a===i.a}static fromRGBA(v){const i=v.r/255,C=v.g/255,s=v.b/255,a=v.a,u=Math.max(i,C,s),h=Math.min(i,C,s);let d=0,r=0;const n=(h+u)/2,l=u-h;if(l>0){switch(r=Math.min(n<=.5?l/(2*n):l/(2-2*n),1),u){case i:d=(C-s)/l+(C<s?6:0);break;case C:d=(s-i)/l+2;break;case s:d=(i-C)/l+4;break}d*=60,d=Math.round(d)}return new I(d,r,n,a)}static _hue2rgb(v,i,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?v+(i-v)*6*C:C<1/2?i:C<2/3?v+(i-v)*(2/3-C)*6:v}static toRGBA(v){const i=v.h/360,{s:C,l:s,a}=v;let u,h,d;if(C===0)u=h=d=s;else{const r=s<.5?s*(1+C):s+C-s*C,n=2*s-r;u=I._hue2rgb(n,r,i+1/3),h=I._hue2rgb(n,r,i),d=I._hue2rgb(n,r,i-1/3)}return new N(Math.round(u*255),Math.round(h*255),Math.round(d*255),a)}}e.HSLA=I;class L{constructor(v,i,C,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=_(Math.max(Math.min(1,i),0),3),this.v=_(Math.max(Math.min(1,C),0),3),this.a=_(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.h===i.h&&v.s===i.s&&v.v===i.v&&v.a===i.a}static fromRGBA(v){const i=v.r/255,C=v.g/255,s=v.b/255,a=Math.max(i,C,s),u=Math.min(i,C,s),h=a-u,d=a===0?0:h/a;let r;return h===0?r=0:a===i?r=((C-s)/h%6+6)%6:a===C?r=(s-i)/h+2:r=(i-C)/h+4,new L(Math.round(r*60),d,a,v.a)}static toRGBA(v){const{h:i,s:C,v:s,a}=v,u=s*C,h=u*(1-Math.abs(i/60%2-1)),d=s-u;let[r,n,l]=[0,0,0];return i<60?(r=u,n=h):i<120?(r=h,n=u):i<180?(n=u,l=h):i<240?(n=h,l=u):i<300?(r=h,l=u):i<=360&&(r=u,l=h),r=Math.round((r+d)*255),n=Math.round((n+d)*255),l=Math.round((l+d)*255),new N(r,n,l,a)}}e.HSVA=L;class S{constructor(v){if(v)if(v instanceof N)this.rgba=v;else if(v instanceof I)this._hsla=v,this.rgba=I.toRGBA(v);else if(v instanceof L)this._hsva=v,this.rgba=L.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return S.Format.CSS.parseHex(v)||S.red}get hsla(){return this._hsla?this._hsla:I.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:L.fromRGBA(this.rgba)}equals(v){return!!v&&N.equals(this.rgba,v.rgba)&&I.equals(this.hsla,v.hsla)&&L.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=S._relativeLuminanceForComponent(this.rgba.r),i=S._relativeLuminanceForComponent(this.rgba.g),C=S._relativeLuminanceForComponent(this.rgba.b),s=.2126*v+.7152*i+.0722*C;return _(s,4)}static _relativeLuminanceForComponent(v){const i=v/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const i=this.getRelativeLuminance(),C=v.getRelativeLuminance();return i>C}isDarkerThan(v){const i=this.getRelativeLuminance(),C=v.getRelativeLuminance();return i<C}lighten(v){return new S(new I(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new S(new I(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:i,g:C,b:s,a}=this.rgba;return new S(new N(i,C,s,a*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new N(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(v,i,C){if(v.isLighterThan(i))return v;C=C||.5;const s=v.getRelativeLuminance(),a=i.getRelativeLuminance();return C=C*(a-s)/a,v.lighten(C)}static getDarkerColor(v,i,C){if(v.isDarkerThan(i))return v;C=C||.5;const s=v.getRelativeLuminance(),a=i.getRelativeLuminance();return C=C*(s-a)/s,v.darken(C)}}e.Color=S,S.white=new S(new N(255,255,255,1)),S.black=new S(new N(0,0,0,1)),S.red=new S(new N(255,0,0,1)),S.blue=new S(new N(0,0,255,1)),S.cyan=new S(new N(0,255,255,1)),S.lightgrey=new S(new N(211,211,211,1)),S.transparent=new S(new N(0,0,0,0)),function(p){let v;(function(i){let C;(function(s){function a(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:p.Format.CSS.formatRGBA(f)}s.formatRGB=a;function u(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}s.formatRGBA=u;function h(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(f)}s.formatHSL=h;function d(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}s.formatHSLA=d;function r(f){const y=f.toString(16);return y.length!==2?"0"+y:y}function n(f){return`#${r(f.rgba.r)}${r(f.rgba.g)}${r(f.rgba.b)}`}s.formatHex=n;function l(f,y=!1){return y&&f.rgba.a===1?p.Format.CSS.formatHex(f):`#${r(f.rgba.r)}${r(f.rgba.g)}${r(f.rgba.b)}${r(Math.round(f.rgba.a*255))}`}s.formatHexA=l;function t(f){return f.isOpaque()?p.Format.CSS.formatHex(f):p.Format.CSS.formatRGBA(f)}s.format=t;function o(f){const y=f.length;if(y===0||f.charCodeAt(0)!==35)return null;if(y===7){const b=16*c(f.charCodeAt(1))+c(f.charCodeAt(2)),g=16*c(f.charCodeAt(3))+c(f.charCodeAt(4)),m=16*c(f.charCodeAt(5))+c(f.charCodeAt(6));return new p(new N(b,g,m,1))}if(y===9){const b=16*c(f.charCodeAt(1))+c(f.charCodeAt(2)),g=16*c(f.charCodeAt(3))+c(f.charCodeAt(4)),m=16*c(f.charCodeAt(5))+c(f.charCodeAt(6)),w=16*c(f.charCodeAt(7))+c(f.charCodeAt(8));return new p(new N(b,g,m,w/255))}if(y===4){const b=c(f.charCodeAt(1)),g=c(f.charCodeAt(2)),m=c(f.charCodeAt(3));return new p(new N(16*b+b,16*g+g,16*m+m))}if(y===5){const b=c(f.charCodeAt(1)),g=c(f.charCodeAt(2)),m=c(f.charCodeAt(3)),w=c(f.charCodeAt(4));return new p(new N(16*b+b,16*g+g,16*m+m,(16*w+w)/255))}return null}s.parseHex=o;function c(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=i.CSS||(i.CSS={}))})(v=p.Format||(p.Format={}))}(S=e.Color||(e.Color={}))}),define(te[91],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function _(N,I,L){let S=null,p=null;if(typeof L.value=="function"?(S="value",p=L.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof L.get=="function"&&(S="get",p=L.get),!p)throw new Error("not supported");const v=`$memoize$${I}`;L[S]=function(...i){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,i)}),this[v]}}e.memoize=_}),define(te[292],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class _{constructor(I,L,S,p){this.originalStart=I,this.originalLength=L,this.modifiedStart=S,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=_}),define(te[10],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class _{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(u){setTimeout(()=>{throw u.stack?new Error(u.message+`

`+u.stack):u},0)}}emit(u){this.listeners.forEach(h=>{h(u)})}onUnexpectedError(u){this.unexpectedErrorHandler(u),this.emit(u)}onUnexpectedExternalError(u){this.unexpectedErrorHandler(u)}}e.ErrorHandler=_,e.errorHandler=new _;function N(a){p(a)||e.errorHandler.onUnexpectedError(a)}e.onUnexpectedError=N;function I(a){p(a)||e.errorHandler.onUnexpectedExternalError(a)}e.onUnexpectedExternalError=I;function L(a){if(a instanceof Error){let{name:u,message:h}=a;const d=a.stacktrace||a.stack;return{$isError:!0,name:u,message:h,stack:d}}return a}e.transformErrorForSerialization=L;const S="Canceled";function p(a){return a instanceof Error&&a.name===S&&a.message===S}e.isPromiseCanceledError=p;function v(){const a=new Error(S);return a.name=a.message,a}e.canceled=v;function i(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}e.illegalArgument=i;function C(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}e.illegalState=C;class s extends Error{constructor(u){super("NotSupported");u&&(this.message=u)}}e.NotSupportedError=s}),define(te[82],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function _(N){const I=this;let L=!1,S;return function(){return L||(L=!0,S=N.apply(I,arguments)),S}}e.once=_}),define(te[127],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class _{constructor(I){this._prefix=I,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=_,e.defaultGenerator=new _("id#")});let Ot;(function(){function $(e,_,N){function I(p,v){if(!_[p]){if(!e[p]){var i=typeof require=="function"&&require;if(!v&&i)return i(p,!0);if(L)return L(p,!0);var C=new Error("Cannot find module '"+p+"'");throw C.code="MODULE_NOT_FOUND",C}var s=_[p]={exports:{}};e[p][0].call(s.exports,function(a){var u=e[p][1][a];return I(u||a)},s,s.exports,$,e,_,N)}return _[p].exports}for(var L=typeof require=="function"&&require,S=0;S<N.length;S++)I(N[S]);return I}return $})()({1:[function($,e,_){"use strict";var N=$("./toMap"),I=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:N(I)}},{"./toMap":10}],2:[function($,e,_){"use strict";var N={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=N},{}],3:[function($,e,_){"use strict";var N=$("./toMap"),I=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:N(I)}},{"./toMap":10}],4:[function($,e,_){"use strict";var N=$("he"),I=$("assignment"),L=$("./parser"),S=$("./sanitizer"),p=$("./defaults");function v(i,C,s){var a=[],u=s===!0?C:I({},p,C),h=S(a,u);return L(i,h),a.join("")}v.defaults=p,e.exports=v,Ot=v},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function($,e,_){"use strict";e.exports=function(I){return typeof I=="string"?I.toLowerCase():I}},{}],6:[function($,e,_){"use strict";function N(I){for(var L=Array.prototype.slice.call(arguments,1),S,p;L.length;){S=L.shift();for(p in S)S.hasOwnProperty(p)&&(Object.prototype.toString.call(I[p])==="[object Object]"?I[p]=N(I[p],S[p]):I[p]=S[p])}return I}e.exports=N},{}],7:[function($,e,_){"use strict";var N=$("he"),I=$("./lowercase"),L=$("./attributes"),S=$("./elements"),p=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,v=/^<\s*\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,C=/^</,s=/^<\s*\//;function a(){var h=[];return h.lastItem=function(){return h[h.length-1]},h}function u(h,d){for(var r=a(),n=h,l;h;)t();g();function t(){l=!0,o();var m=h===n;n=h,m&&(h="")}function o(){h.substr(0,4)==="<!--"?f():s.test(h)?c(v,g):C.test(h)&&c(p,b),y()}function c(m,w){var D=h.match(m);D&&(h=h.substring(D[0].length),D[0].replace(m,w),l=!1)}function f(){var m=h.indexOf("-->");m>=0&&(d.comment&&d.comment(h.substring(4,m)),h=h.substring(m+3),l=!1)}function y(){if(!!l){var m,w=h.indexOf("<");w>=0?(m=h.substring(0,w),h=h.substring(w)):(m=h,h=""),d.chars&&d.chars(m)}}function b(m,w,D,k){var T={},R=I(w),M=S.voids[R]||!!k;D.replace(i,A),M||r.push(R),d.start&&d.start(R,T,M);function A(O,P,F,E,x){F===void 0&&E===void 0&&x===void 0?T[P]=void 0:T[P]=N.decode(F||E||x||"")}}function g(m,w){var D,k=0,T=I(w);if(T)for(k=r.length-1;k>=0&&r[k]!==T;k--);if(k>=0){for(D=r.length-1;D>=k;D--)d.end&&d.end(r[D]);r.length=k}}}e.exports=u},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function($,e,_){"use strict";var N=$("he"),I=$("./lowercase"),L=$("./attributes"),S=$("./elements");function p(v,i){var C,s,a=i||{};return o(),{start:h,end:d,chars:n};function u(c){v.push(c)}function h(c,f,y){var b=I(c);if(s.ignoring){l(b);return}if((a.allowedTags||[]).indexOf(b)===-1){l(b);return}if(a.filter&&!a.filter({tag:b,attrs:f})){l(b);return}u("<"),u(b),Object.keys(f).forEach(g),u(y?"/>":">");function g(m){var w=f[m],D=(a.allowedClasses||{})[b]||[],k=(a.allowedAttributes||{})[b]||[];k=k.concat((a.allowedAttributes||{})["*"]||[]);var T,R=I(m);R==="class"&&k.indexOf(R)===-1?(w=w.split(" ").filter(M).join(" ").trim(),T=w.length):T=k.indexOf(R)!==-1&&(L.uris[R]!==!0||r(w)),T&&(u(" "),u(m),typeof w=="string"&&(u('="'),u(N.encode(w)),u('"')));function M(A){return D&&D.indexOf(A)!==-1}}}function d(c){var f=I(c),y=(a.allowedTags||[]).indexOf(f)!==-1;y&&s.ignoring===!1?(u("</"),u(f),u(">")):t(f)}function r(c){var f=c[0];if(f==="#"||f==="/")return!0;var y=c.indexOf(":");if(y===-1)return!0;var b=c.indexOf("?");if(b!==-1&&y>b)return!0;var g=c.indexOf("#");if(g!==-1&&y>g)return!0;return a.allowedSchemes.some(m);function m(w){return c.indexOf(w+":")===0}}function n(c){s.ignoring===!1&&u(a.transformText?a.transformText(c):c)}function l(c){S.voids[c]||(s.ignoring===!1?s={ignoring:c,depth:1}:s.ignoring===c&&s.depth++)}function t(c){s.ignoring===c&&--s.depth<=0&&o()}function o(){s={ignoring:!1,depth:0}}}e.exports=p},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function($,e,_){"use strict";var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function p(s){return N[s]}function v(s){return I[s]}function i(s){return s==null?"":String(s).replace(S,p)}function C(s){return s==null?"":String(s).replace(L,v)}i.options=C.options={},e.exports={encode:i,escape:i,decode:C,unescape:C,version:"1.0.0-browser"}},{}],10:[function($,e,_){"use strict";function N(L){return L.reduce(I,{})}function I(L,S){return L[S]=!0,L}e.exports=N},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:Ot}}),define(te[54],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var _;(function(N){function I(c){return c&&typeof c=="object"&&typeof c[Symbol.iterator]=="function"}N.is=I;const L=Object.freeze([]);function S(){return L}N.empty=S;function*p(c){yield c}N.single=p;function v(c){return c||L}N.from=v;function i(c){return!c||c[Symbol.iterator]().next().done===!0}N.isEmpty=i;function C(c){return c[Symbol.iterator]().next().value}N.first=C;function s(c,f){for(const y of c)if(f(y))return!0;return!1}N.some=s;function a(c,f){for(const y of c)if(f(y))return y}N.find=a;function*u(c,f){for(const y of c)f(y)&&(yield y)}N.filter=u;function*h(c,f){let y=0;for(const b of c)yield f(b,y++)}N.map=h;function*d(...c){for(const f of c)for(const y of f)yield y}N.concat=d;function*r(c){for(const f of c)for(const y of f)yield y}N.concatNested=r;function n(c,f,y){let b=y;for(const g of c)b=f(b,g);return b}N.reduce=n;function*l(c,f,y=c.length){for(f<0&&(f+=c.length),y<0?y+=c.length:y>c.length&&(y=c.length);f<y;f++)yield c[f]}N.slice=l;function t(c,f=Number.POSITIVE_INFINITY){const y=[];if(f===0)return[y,c];const b=c[Symbol.iterator]();for(let g=0;g<f;g++){const m=b.next();if(m.done)return[y,N.empty()];y.push(m.value)}return[y,{[Symbol.iterator](){return b}}]}N.consume=t;function o(c,f,y=(b,g)=>b===g){const b=c[Symbol.iterator](),g=f[Symbol.iterator]();for(;;){const m=b.next(),w=g.next();if(m.done!==w.done)return!1;if(m.done)return!0;if(!y(m.value,w.value))return!1}}N.equals=o})(_=e.Iterable||(e.Iterable={}))}),define(te[43],ne([0,1,10]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class N{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,n){this._keyCodeToStr[r]=n,this._strToKeyCode[n.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const I=new N,L=new N,S=new N;(function(){function d(r,n,l=n,t=l){I.define(r,n),L.define(r,l),S.define(r,t)}d(0,"unknown"),d(1,"Backspace"),d(2,"Tab"),d(3,"Enter"),d(4,"Shift"),d(5,"Ctrl"),d(6,"Alt"),d(7,"PauseBreak"),d(8,"CapsLock"),d(9,"Escape"),d(10,"Space"),d(11,"PageUp"),d(12,"PageDown"),d(13,"End"),d(14,"Home"),d(15,"LeftArrow","Left"),d(16,"UpArrow","Up"),d(17,"RightArrow","Right"),d(18,"DownArrow","Down"),d(19,"Insert"),d(20,"Delete"),d(21,"0"),d(22,"1"),d(23,"2"),d(24,"3"),d(25,"4"),d(26,"5"),d(27,"6"),d(28,"7"),d(29,"8"),d(30,"9"),d(31,"A"),d(32,"B"),d(33,"C"),d(34,"D"),d(35,"E"),d(36,"F"),d(37,"G"),d(38,"H"),d(39,"I"),d(40,"J"),d(41,"K"),d(42,"L"),d(43,"M"),d(44,"N"),d(45,"O"),d(46,"P"),d(47,"Q"),d(48,"R"),d(49,"S"),d(50,"T"),d(51,"U"),d(52,"V"),d(53,"W"),d(54,"X"),d(55,"Y"),d(56,"Z"),d(57,"Meta"),d(58,"ContextMenu"),d(59,"F1"),d(60,"F2"),d(61,"F3"),d(62,"F4"),d(63,"F5"),d(64,"F6"),d(65,"F7"),d(66,"F8"),d(67,"F9"),d(68,"F10"),d(69,"F11"),d(70,"F12"),d(71,"F13"),d(72,"F14"),d(73,"F15"),d(74,"F16"),d(75,"F17"),d(76,"F18"),d(77,"F19"),d(78,"NumLock"),d(79,"ScrollLock"),d(80,";",";","OEM_1"),d(81,"=","=","OEM_PLUS"),d(82,",",",","OEM_COMMA"),d(83,"-","-","OEM_MINUS"),d(84,".",".","OEM_PERIOD"),d(85,"/","/","OEM_2"),d(86,"`","`","OEM_3"),d(110,"ABNT_C1"),d(111,"ABNT_C2"),d(87,"[","[","OEM_4"),d(88,"\\","\\","OEM_5"),d(89,"]","]","OEM_6"),d(90,"'","'","OEM_7"),d(91,"OEM_8"),d(92,"OEM_102"),d(93,"NumPad0"),d(94,"NumPad1"),d(95,"NumPad2"),d(96,"NumPad3"),d(97,"NumPad4"),d(98,"NumPad5"),d(99,"NumPad6"),d(100,"NumPad7"),d(101,"NumPad8"),d(102,"NumPad9"),d(103,"NumPad_Multiply"),d(104,"NumPad_Add"),d(105,"NumPad_Separator"),d(106,"NumPad_Subtract"),d(107,"NumPad_Decimal"),d(108,"NumPad_Divide")})();var p;(function(d){function r(c){return I.keyCodeToStr(c)}d.toString=r;function n(c){return I.strToKeyCode(c)}d.fromString=n;function l(c){return L.keyCodeToStr(c)}d.toUserSettingsUS=l;function t(c){return S.keyCodeToStr(c)}d.toUserSettingsGeneral=t;function o(c){return L.strToKeyCode(c)||S.strToKeyCode(c)}d.fromUserSettings=o})(p=e.KeyCodeUtils||(e.KeyCodeUtils={}));function v(d,r){const n=(r&65535)<<16>>>0;return(d|n)>>>0}e.KeyChord=v;function i(d,r){if(d===0)return null;const n=(d&65535)>>>0,l=(d&4294901760)>>>16;return l!==0?new a([C(n,r),C(l,r)]):new a([C(n,r)])}e.createKeybinding=i;function C(d,r){const n=!!(d&2048),l=!!(d&256),t=r===2?l:n,o=!!(d&1024),c=!!(d&512),f=r===2?n:l,y=d&255;return new s(t,o,c,f,y)}e.createSimpleKeybinding=C;class s{constructor(r,n,l,t,o){this.ctrlKey=r,this.shiftKey=n,this.altKey=l,this.metaKey=t,this.keyCode=o}equals(r){return this.ctrlKey===r.ctrlKey&&this.shiftKey===r.shiftKey&&this.altKey===r.altKey&&this.metaKey===r.metaKey&&this.keyCode===r.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=s;class a{constructor(r){if(r.length===0)throw(0,_.illegalArgument)("parts");this.parts=r}}e.ChordKeybinding=a;class u{constructor(r,n,l,t,o,c){this.ctrlKey=r,this.shiftKey=n,this.altKey=l,this.metaKey=t,this.keyLabel=o,this.keyAriaLabel=c}}e.ResolvedKeybindingPart=u;class h{}e.ResolvedKeybinding=h}),define(te[157],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class _{constructor(I){this.executor=I,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(I){this._error=I}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=_}),define(te[2],ne([0,1,82,54]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const I=!1;let L=null;function S(c){L=c}if(e.setDisposableTracker=S,I){const c="__is_disposable_tracked__";S(new class{trackDisposable(f){const y=new Error("Potentially leaked disposable").stack;setTimeout(()=>{f[c]||console.log(y)},3e3)}setParent(f,y){if(f&&f!==l.None)try{f[c]=!0}catch(b){}}markAsDisposed(f){if(f&&f!==l.None)try{f[c]=!0}catch(y){}}markAsSingleton(f){}})}function p(c){return L==null||L.trackDisposable(c),c}function v(c){L==null||L.markAsDisposed(c)}function i(c,f){L==null||L.setParent(c,f)}function C(c,f){if(!!L)for(const y of c)L.setParent(y,f)}function s(c){return L==null||L.markAsSingleton(c),c}e.markAsSingleton=s;class a extends Error{constructor(f){super(`Encountered errors while disposing of store. Errors: [${f.join(", ")}]`);this.errors=f}}e.MultiDisposeError=a;function u(c){return typeof c.dispose=="function"&&c.dispose.length===0}e.isDisposable=u;function h(c){if(N.Iterable.is(c)){let f=[];for(const y of c)if(y)try{y.dispose()}catch(b){f.push(b)}if(f.length===1)throw f[0];if(f.length>1)throw new a(f);return Array.isArray(c)?[]:c}else if(c)return c.dispose(),c}e.dispose=h;function d(...c){const f=r(()=>h(c));return C(c,f),f}e.combinedDisposable=d;function r(c){const f=p({dispose:(0,_.once)(()=>{v(f),c()})});return f}e.toDisposable=r;class n{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(v(this),this._isDisposed=!0,this.clear())}clear(){try{h(this._toDispose.values())}finally{this._toDispose.clear()}}add(f){if(!f)return f;if(f===this)throw new Error("Cannot register a disposable on itself!");return i(f,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(f),f}}e.DisposableStore=n,n.DISABLE_DISPOSED_WARNING=!1;class l{constructor(){this._store=new n,p(this),i(this._store,this)}dispose(){v(this),this._store.dispose()}_register(f){if(f===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(f)}}e.Disposable=l,l.None=Object.freeze({dispose(){}});class t{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(f){var y;this._isDisposed||f===this._value||((y=this._value)===null||y===void 0||y.dispose(),f&&i(f,this),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,v(this),(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}clearAndLeak(){const f=this._value;return this._value=void 0,f&&i(f,null),f}}e.MutableDisposable=t;class o{constructor(f){this.object=f}dispose(){}}e.ImmortalReference=o}),define(te[72],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class _{constructor(L){this.element=L,this.next=_.Undefined,this.prev=_.Undefined}}_.Undefined=new _(void 0);class N{constructor(){this._first=_.Undefined,this._last=_.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===_.Undefined}clear(){let L=this._first;for(;L!==_.Undefined;){const S=L.next;L.prev=_.Undefined,L.next=_.Undefined,L=S}this._first=_.Undefined,this._last=_.Undefined,this._size=0}unshift(L){return this._insert(L,!1)}push(L){return this._insert(L,!0)}_insert(L,S){const p=new _(L);if(this._first===_.Undefined)this._first=p,this._last=p;else if(S){const i=this._last;this._last=p,p.prev=i,i.next=p}else{const i=this._first;this._first=p,p.next=i,i.prev=p}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(p))}}shift(){if(this._first!==_.Undefined){const L=this._first.element;return this._remove(this._first),L}}pop(){if(this._last!==_.Undefined){const L=this._last.element;return this._remove(this._last),L}}_remove(L){if(L.prev!==_.Undefined&&L.next!==_.Undefined){const S=L.prev;S.next=L.next,L.next.prev=S}else L.prev===_.Undefined&&L.next===_.Undefined?(this._first=_.Undefined,this._last=_.Undefined):L.next===_.Undefined?(this._last=this._last.prev,this._last.next=_.Undefined):L.prev===_.Undefined&&(this._first=this._first.next,this._first.prev=_.Undefined);this._size-=1}*[Symbol.iterator](){let L=this._first;for(;L!==_.Undefined;)yield L.element,L=L.next}}e.LinkedList=N}),function($,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):($=typeof globalThis!="undefined"?globalThis:$||self,$.marked=e())}(this,function(){"use strict";function $(De,Ee){for(var ye=0;ye<Ee.length;ye++){var fe=Ee[ye];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(De,fe.key,fe)}}function e(De,Ee,ye){return Ee&&$(De.prototype,Ee),ye&&$(De,ye),De}function _(De,Ee){if(!!De){if(typeof De=="string")return N(De,Ee);var ye=Object.prototype.toString.call(De).slice(8,-1);if(ye==="Object"&&De.constructor&&(ye=De.constructor.name),ye==="Map"||ye==="Set")return Array.from(De);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return N(De,Ee)}}function N(De,Ee){(Ee==null||Ee>De.length)&&(Ee=De.length);for(var ye=0,fe=new Array(Ee);ye<Ee;ye++)fe[ye]=De[ye];return fe}function I(De,Ee){var ye=typeof Symbol!="undefined"&&De[Symbol.iterator]||De["@@iterator"];if(ye)return(ye=ye.call(De)).next.bind(ye);if(Array.isArray(De)||(ye=_(De))||Ee&&De&&typeof De.length=="number"){ye&&(De=ye);var fe=0;return function(){return fe>=De.length?{done:!0}:{done:!1,value:De[fe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L={exports:{}};function S(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function p(De){L.exports.defaults=De}L.exports={defaults:S(),getDefaults:S,changeDefaults:p};var v=/[&<>"']/,i=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(Ee){return a[Ee]};function h(De,Ee){if(Ee){if(v.test(De))return De.replace(i,u)}else if(C.test(De))return De.replace(s,u);return De}var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function r(De){return De.replace(d,function(Ee,ye){return ye=ye.toLowerCase(),ye==="colon"?":":ye.charAt(0)==="#"?ye.charAt(1)==="x"?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):""})}var n=/(^|[^\[])\^/g;function l(De,Ee){De=De.source||De,Ee=Ee||"";var ye={replace:function(Ce,we){return we=we.source||we,we=we.replace(n,"$1"),De=De.replace(Ce,we),ye},getRegex:function(){return new RegExp(De,Ee)}};return ye}var t=/[^\w:]/g,o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function c(De,Ee,ye){if(De){var fe;try{fe=decodeURIComponent(r(ye)).replace(t,"").toLowerCase()}catch(Ce){return null}if(fe.indexOf("javascript:")===0||fe.indexOf("vbscript:")===0||fe.indexOf("data:")===0)return null}Ee&&!o.test(ye)&&(ye=m(Ee,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(Ce){return null}return ye}var f={},y=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;function m(De,Ee){f[" "+De]||(y.test(De)?f[" "+De]=De+"/":f[" "+De]=T(De,"/",!0)),De=f[" "+De];var ye=De.indexOf(":")===-1;return Ee.substring(0,2)==="//"?ye?Ee:De.replace(b,"$1")+Ee:Ee.charAt(0)==="/"?ye?Ee:De.replace(g,"$1")+Ee:De+Ee}var w={exec:function(){}};function D(De){for(var Ee=1,ye,fe;Ee<arguments.length;Ee++){ye=arguments[Ee];for(fe in ye)Object.prototype.hasOwnProperty.call(ye,fe)&&(De[fe]=ye[fe])}return De}function k(De,Ee){var ye=De.replace(/\|/g,function(we,Se,Ie){for(var Be=!1,Pe=Se;--Pe>=0&&Ie[Pe]==="\\";)Be=!Be;return Be?"|":" |"}),fe=ye.split(/ \|/),Ce=0;if(fe[0].trim()||fe.shift(),fe[fe.length-1].trim()||fe.pop(),fe.length>Ee)fe.splice(Ee);else for(;fe.length<Ee;)fe.push("");for(;Ce<fe.length;Ce++)fe[Ce]=fe[Ce].trim().replace(/\\\|/g,"|");return fe}function T(De,Ee,ye){var fe=De.length;if(fe===0)return"";for(var Ce=0;Ce<fe;){var we=De.charAt(fe-Ce-1);if(we===Ee&&!ye)Ce++;else if(we!==Ee&&ye)Ce++;else break}return De.substr(0,fe-Ce)}function R(De,Ee){if(De.indexOf(Ee[1])===-1)return-1;for(var ye=De.length,fe=0,Ce=0;Ce<ye;Ce++)if(De[Ce]==="\\")Ce++;else if(De[Ce]===Ee[0])fe++;else if(De[Ce]===Ee[1]&&(fe--,fe<0))return Ce;return-1}function M(De){De&&De.sanitize&&!De.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function A(De,Ee){if(Ee<1)return"";for(var ye="";Ee>1;)Ee&1&&(ye+=De),Ee>>=1,De+=De;return ye+De}var O={escape:h,unescape:r,edit:l,cleanUrl:c,resolveUrl:m,noopTest:w,merge:D,splitCells:k,rtrim:T,findClosingBracket:R,checkSanitizeDeprecation:M,repeatString:A},P=L.exports.defaults,F=O.rtrim,E=O.splitCells,x=O.escape,W=O.findClosingBracket;function G(De,Ee,ye,fe){var Ce=Ee.href,we=Ee.title?x(Ee.title):null,Se=De[1].replace(/\\([\[\]])/g,"$1");return De[0].charAt(0)!=="!"?(fe.state.inLink=!0,{type:"link",raw:ye,href:Ce,title:we,text:Se,tokens:fe.inlineTokens(Se,[])}):{type:"image",raw:ye,href:Ce,title:we,text:x(Se)}}function Y(De,Ee){var ye=De.match(/^(\s+)(?:```)/);if(ye===null)return Ee;var fe=ye[1];return Ee.split(`
`).map(function(Ce){var we=Ce.match(/^\s+/);if(we===null)return Ce;var Se=we[0];return Se.length>=fe.length?Ce.slice(fe.length):Ce}).join(`
`)}var se=function(){function De(ye){this.options=ye||P}var Ee=De.prototype;return Ee.space=function(fe){var Ce=this.rules.block.newline.exec(fe);if(Ce)return Ce[0].length>1?{type:"space",raw:Ce[0]}:{raw:`
`}},Ee.code=function(fe){var Ce=this.rules.block.code.exec(fe);if(Ce){var we=Ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ce[0],codeBlockStyle:"indented",text:this.options.pedantic?we:F(we,`
`)}}},Ee.fences=function(fe){var Ce=this.rules.block.fences.exec(fe);if(Ce){var we=Ce[0],Se=Y(we,Ce[3]||"");return{type:"code",raw:we,lang:Ce[2]?Ce[2].trim():Ce[2],text:Se}}},Ee.heading=function(fe){var Ce=this.rules.block.heading.exec(fe);if(Ce){var we=Ce[2].trim();if(/#$/.test(we)){var Se=F(we,"#");(this.options.pedantic||!Se||/ $/.test(Se))&&(we=Se.trim())}var Ie={type:"heading",raw:Ce[0],depth:Ce[1].length,text:we,tokens:[]};return this.lexer.inline(Ie.text,Ie.tokens),Ie}},Ee.hr=function(fe){var Ce=this.rules.block.hr.exec(fe);if(Ce)return{type:"hr",raw:Ce[0]}},Ee.blockquote=function(fe){var Ce=this.rules.block.blockquote.exec(fe);if(Ce){var we=Ce[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ce[0],tokens:this.lexer.blockTokens(we,[]),text:we}}},Ee.list=function(fe){var Ce=this.rules.block.list.exec(fe);if(Ce){var we,Se,Ie,Be,Pe,xe,Ue,$e,Ze,je,He=Ce[1].trim(),Xe=He.length>1,Ge={type:"list",raw:"",ordered:Xe,start:Xe?+He.slice(0,-1):"",loose:!1,items:[]};He=Xe?"\\d{1,9}\\"+He.slice(-1):"\\"+He,this.options.pedantic&&(He=Xe?He:"[*+-]");for(var Qe=new RegExp("^( {0,3}"+He+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");fe&&!(this.rules.block.hr.test(fe)||!(Ce=Qe.exec(fe)));){Ze=Ce[2].split(`
`),this.options.pedantic?(Be=2,je=Ze[0].trimLeft()):(Be=Ce[2].search(/[^ ]/),Be=Ce[1].length+(Be>4?1:Be),je=Ze[0].slice(Be-Ce[1].length)),xe=!1,we=Ce[0],!Ze[0]&&/^ *$/.test(Ze[1])&&(we=Ce[1]+Ze.slice(0,2).join(`
`)+`
`,Ge.loose=!0,Ze=[]);var it=new RegExp("^ {0,"+Math.min(3,Be-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Pe=1;Pe<Ze.length;Pe++){if($e=Ze[Pe],this.options.pedantic&&($e=$e.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),it.test($e)){we=Ce[1]+Ze.slice(0,Pe).join(`
`)+`
`;break}if(!xe){$e.trim()||(xe=!0),$e.search(/[^ ]/)>=Be?je+=`
`+$e.slice(Be):je+=`
`+$e;continue}if($e.search(/[^ ]/)>=Be||!$e.trim()){je+=`
`+$e.slice(Be);continue}else{we=Ce[1]+Ze.slice(0,Pe).join(`
`)+`
`;break}}Ge.loose||(Ue?Ge.loose=!0:/\n *\n *$/.test(we)&&(Ue=!0)),this.options.gfm&&(Se=/^\[[ xX]\] /.exec(je),Se&&(Ie=Se[0]!=="[ ] ",je=je.replace(/^\[[ xX]\] +/,""))),Ge.items.push({type:"list_item",raw:we,task:!!Se,checked:Ie,loose:!1,text:je}),Ge.raw+=we,fe=fe.slice(we.length)}Ge.items[Ge.items.length-1].raw=we.trimRight(),Ge.items[Ge.items.length-1].text=je.trimRight(),Ge.raw=Ge.raw.trimRight();var Je=Ge.items.length;for(Pe=0;Pe<Je;Pe++)this.lexer.state.top=!1,Ge.items[Pe].tokens=this.lexer.blockTokens(Ge.items[Pe].text,[]),Ge.items[Pe].tokens.some(function(nt){return nt.type==="space"})&&(Ge.loose=!0,Ge.items[Pe].loose=!0);return Ge}},Ee.html=function(fe){var Ce=this.rules.block.html.exec(fe);if(Ce){var we={type:"html",raw:Ce[0],pre:!this.options.sanitizer&&(Ce[1]==="pre"||Ce[1]==="script"||Ce[1]==="style"),text:Ce[0]};return this.options.sanitize&&(we.type="paragraph",we.text=this.options.sanitizer?this.options.sanitizer(Ce[0]):x(Ce[0]),we.tokens=[],this.lexer.inline(we.text,we.tokens)),we}},Ee.def=function(fe){var Ce=this.rules.block.def.exec(fe);if(Ce){Ce[3]&&(Ce[3]=Ce[3].substring(1,Ce[3].length-1));var we=Ce[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:we,raw:Ce[0],href:Ce[2],title:Ce[3]}}},Ee.table=function(fe){var Ce=this.rules.block.table.exec(fe);if(Ce){var we={type:"table",header:E(Ce[1]).map(function(Ue){return{text:Ue}}),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[]};if(we.header.length===we.align.length){we.raw=Ce[0];var Se=we.align.length,Ie,Be,Pe,xe;for(Ie=0;Ie<Se;Ie++)/^ *-+: *$/.test(we.align[Ie])?we.align[Ie]="right":/^ *:-+: *$/.test(we.align[Ie])?we.align[Ie]="center":/^ *:-+ *$/.test(we.align[Ie])?we.align[Ie]="left":we.align[Ie]=null;for(Se=we.rows.length,Ie=0;Ie<Se;Ie++)we.rows[Ie]=E(we.rows[Ie],we.header.length).map(function(Ue){return{text:Ue}});for(Se=we.header.length,Be=0;Be<Se;Be++)we.header[Be].tokens=[],this.lexer.inlineTokens(we.header[Be].text,we.header[Be].tokens);for(Se=we.rows.length,Be=0;Be<Se;Be++)for(xe=we.rows[Be],Pe=0;Pe<xe.length;Pe++)xe[Pe].tokens=[],this.lexer.inlineTokens(xe[Pe].text,xe[Pe].tokens);return we}}},Ee.lheading=function(fe){var Ce=this.rules.block.lheading.exec(fe);if(Ce){var we={type:"heading",raw:Ce[0],depth:Ce[2].charAt(0)==="="?1:2,text:Ce[1],tokens:[]};return this.lexer.inline(we.text,we.tokens),we}},Ee.paragraph=function(fe){var Ce=this.rules.block.paragraph.exec(fe);if(Ce){var we={type:"paragraph",raw:Ce[0],text:Ce[1].charAt(Ce[1].length-1)===`
`?Ce[1].slice(0,-1):Ce[1],tokens:[]};return this.lexer.inline(we.text,we.tokens),we}},Ee.text=function(fe){var Ce=this.rules.block.text.exec(fe);if(Ce){var we={type:"text",raw:Ce[0],text:Ce[0],tokens:[]};return this.lexer.inline(we.text,we.tokens),we}},Ee.escape=function(fe){var Ce=this.rules.inline.escape.exec(fe);if(Ce)return{type:"escape",raw:Ce[0],text:x(Ce[1])}},Ee.tag=function(fe){var Ce=this.rules.inline.tag.exec(fe);if(Ce)return!this.lexer.state.inLink&&/^<a /i.test(Ce[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ce[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ce[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ce[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ce[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):x(Ce[0]):Ce[0]}},Ee.link=function(fe){var Ce=this.rules.inline.link.exec(fe);if(Ce){var we=Ce[2].trim();if(!this.options.pedantic&&/^</.test(we)){if(!/>$/.test(we))return;var Se=F(we.slice(0,-1),"\\");if((we.length-Se.length)%2==0)return}else{var Ie=W(Ce[2],"()");if(Ie>-1){var Be=Ce[0].indexOf("!")===0?5:4,Pe=Be+Ce[1].length+Ie;Ce[2]=Ce[2].substring(0,Ie),Ce[0]=Ce[0].substring(0,Pe).trim(),Ce[3]=""}}var xe=Ce[2],Ue="";if(this.options.pedantic){var $e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xe);$e&&(xe=$e[1],Ue=$e[3])}else Ue=Ce[3]?Ce[3].slice(1,-1):"";return xe=xe.trim(),/^</.test(xe)&&(this.options.pedantic&&!/>$/.test(we)?xe=xe.slice(1):xe=xe.slice(1,-1)),G(Ce,{href:xe&&xe.replace(this.rules.inline._escapes,"$1"),title:Ue&&Ue.replace(this.rules.inline._escapes,"$1")},Ce[0],this.lexer)}},Ee.reflink=function(fe,Ce){var we;if((we=this.rules.inline.reflink.exec(fe))||(we=this.rules.inline.nolink.exec(fe))){var Se=(we[2]||we[1]).replace(/\s+/g," ");if(Se=Ce[Se.toLowerCase()],!Se||!Se.href){var Ie=we[0].charAt(0);return{type:"text",raw:Ie,text:Ie}}return G(we,Se,we[0],this.lexer)}},Ee.emStrong=function(fe,Ce,we){we===void 0&&(we="");var Se=this.rules.inline.emStrong.lDelim.exec(fe);if(!!Se&&!(Se[3]&&we.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ie=Se[1]||Se[2]||"";if(!Ie||Ie&&(we===""||this.rules.inline.punctuation.exec(we))){var Be=Se[0].length-1,Pe,xe,Ue=Be,$e=0,Ze=Se[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ze.lastIndex=0,Ce=Ce.slice(-1*fe.length+Be);(Se=Ze.exec(Ce))!=null;)if(Pe=Se[1]||Se[2]||Se[3]||Se[4]||Se[5]||Se[6],!!Pe){if(xe=Pe.length,Se[3]||Se[4]){Ue+=xe;continue}else if((Se[5]||Se[6])&&Be%3&&!((Be+xe)%3)){$e+=xe;continue}if(Ue-=xe,!(Ue>0)){if(xe=Math.min(xe,xe+Ue+$e),Math.min(Be,xe)%2){var je=fe.slice(1,Be+Se.index+xe);return{type:"em",raw:fe.slice(0,Be+Se.index+xe+1),text:je,tokens:this.lexer.inlineTokens(je,[])}}var He=fe.slice(2,Be+Se.index+xe-1);return{type:"strong",raw:fe.slice(0,Be+Se.index+xe+1),text:He,tokens:this.lexer.inlineTokens(He,[])}}}}}},Ee.codespan=function(fe){var Ce=this.rules.inline.code.exec(fe);if(Ce){var we=Ce[2].replace(/\n/g," "),Se=/[^ ]/.test(we),Ie=/^ /.test(we)&&/ $/.test(we);return Se&&Ie&&(we=we.substring(1,we.length-1)),we=x(we,!0),{type:"codespan",raw:Ce[0],text:we}}},Ee.br=function(fe){var Ce=this.rules.inline.br.exec(fe);if(Ce)return{type:"br",raw:Ce[0]}},Ee.del=function(fe){var Ce=this.rules.inline.del.exec(fe);if(Ce)return{type:"del",raw:Ce[0],text:Ce[2],tokens:this.lexer.inlineTokens(Ce[2],[])}},Ee.autolink=function(fe,Ce){var we=this.rules.inline.autolink.exec(fe);if(we){var Se,Ie;return we[2]==="@"?(Se=x(this.options.mangle?Ce(we[1]):we[1]),Ie="mailto:"+Se):(Se=x(we[1]),Ie=Se),{type:"link",raw:we[0],text:Se,href:Ie,tokens:[{type:"text",raw:Se,text:Se}]}}},Ee.url=function(fe,Ce){var we;if(we=this.rules.inline.url.exec(fe)){var Se,Ie;if(we[2]==="@")Se=x(this.options.mangle?Ce(we[0]):we[0]),Ie="mailto:"+Se;else{var Be;do Be=we[0],we[0]=this.rules.inline._backpedal.exec(we[0])[0];while(Be!==we[0]);Se=x(we[0]),we[1]==="www."?Ie="http://"+Se:Ie=Se}return{type:"link",raw:we[0],text:Se,href:Ie,tokens:[{type:"text",raw:Se,text:Se}]}}},Ee.inlineText=function(fe,Ce){var we=this.rules.inline.text.exec(fe);if(we){var Se;return this.lexer.state.inRawBlock?Se=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(we[0]):x(we[0]):we[0]:Se=x(this.options.smartypants?Ce(we[0]):we[0]),{type:"text",raw:we[0],text:Se}}},De}(),re=O.noopTest,J=O.edit,le=O.merge,ae={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:re,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};ae._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,ae._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ae.def=J(ae.def).replace("label",ae._label).replace("title",ae._title).getRegex(),ae.bullet=/(?:[*+-]|\d{1,9}[.)])/,ae.listItemStart=J(/^( *)(bull) */).replace("bull",ae.bullet).getRegex(),ae.list=J(ae.list).replace(/bull/g,ae.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ae.def.source+")").getRegex(),ae._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ae._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ae.html=J(ae.html,"i").replace("comment",ae._comment).replace("tag",ae._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae.paragraph=J(ae._paragraph).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae._tag).getRegex(),ae.blockquote=J(ae.blockquote).replace("paragraph",ae.paragraph).getRegex(),ae.normal=le({},ae),ae.gfm=le({},ae.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ae.gfm.table=J(ae.gfm.table).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae._tag).getRegex(),ae.pedantic=le({},ae.normal,{html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ae._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:re,paragraph:J(ae.normal._paragraph).replace("hr",ae.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ae.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var V={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:re,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:re,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};V._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",V.punctuation=J(V.punctuation).replace(/punctuation/g,V._punctuation).getRegex(),V.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,V.escapedEmSt=/\\\*|\\_/g,V._comment=J(ae._comment).replace("(?:-->|$)","-->").getRegex(),V.emStrong.lDelim=J(V.emStrong.lDelim).replace(/punct/g,V._punctuation).getRegex(),V.emStrong.rDelimAst=J(V.emStrong.rDelimAst,"g").replace(/punct/g,V._punctuation).getRegex(),V.emStrong.rDelimUnd=J(V.emStrong.rDelimUnd,"g").replace(/punct/g,V._punctuation).getRegex(),V._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,V._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,V._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,V.autolink=J(V.autolink).replace("scheme",V._scheme).replace("email",V._email).getRegex(),V._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,V.tag=J(V.tag).replace("comment",V._comment).replace("attribute",V._attribute).getRegex(),V._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,V._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,V._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,V.link=J(V.link).replace("label",V._label).replace("href",V._href).replace("title",V._title).getRegex(),V.reflink=J(V.reflink).replace("label",V._label).getRegex(),V.reflinkSearch=J(V.reflinkSearch,"g").replace("reflink",V.reflink).replace("nolink",V.nolink).getRegex(),V.normal=le({},V),V.pedantic=le({},V.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",V._label).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",V._label).getRegex()}),V.gfm=le({},V.normal,{escape:J(V.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),V.gfm.url=J(V.gfm.url,"i").replace("email",V.gfm._extended_email).getRegex(),V.breaks=le({},V.gfm,{br:J(V.br).replace("{2,}","*").getRegex(),text:J(V.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var B={block:ae,inline:V},Z=se,H=L.exports.defaults,z=B.block,ie=B.inline,ce=O.repeatString;function K(De){return De.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Q(De){var Ee="",ye,fe,Ce=De.length;for(ye=0;ye<Ce;ye++)fe=De.charCodeAt(ye),Math.random()>.5&&(fe="x"+fe.toString(16)),Ee+="&#"+fe+";";return Ee}var U=function(){function De(ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=ye||H,this.options.tokenizer=this.options.tokenizer||new Z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var fe={block:z.normal,inline:ie.normal};this.options.pedantic?(fe.block=z.pedantic,fe.inline=ie.pedantic):this.options.gfm&&(fe.block=z.gfm,this.options.breaks?fe.inline=ie.breaks:fe.inline=ie.gfm),this.tokenizer.rules=fe}De.lex=function(fe,Ce){var we=new De(Ce);return we.lex(fe)},De.lexInline=function(fe,Ce){var we=new De(Ce);return we.inlineTokens(fe)};var Ee=De.prototype;return Ee.lex=function(fe){fe=fe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(fe,this.tokens);for(var Ce;Ce=this.inlineQueue.shift();)this.inlineTokens(Ce.src,Ce.tokens);return this.tokens},Ee.blockTokens=function(fe,Ce){var we=this;Ce===void 0&&(Ce=[]),this.options.pedantic&&(fe=fe.replace(/^ +$/gm,""));for(var Se,Ie,Be,Pe;fe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ue){return(Se=Ue.call({lexer:we},fe,Ce))?(fe=fe.substring(Se.raw.length),Ce.push(Se),!0):!1}))){if(Se=this.tokenizer.space(fe)){fe=fe.substring(Se.raw.length),Se.type&&Ce.push(Se);continue}if(Se=this.tokenizer.code(fe)){fe=fe.substring(Se.raw.length),Ie=Ce[Ce.length-1],Ie&&(Ie.type==="paragraph"||Ie.type==="text")?(Ie.raw+=`
`+Se.raw,Ie.text+=`
`+Se.text,this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):Ce.push(Se);continue}if(Se=this.tokenizer.fences(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.heading(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.hr(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.blockquote(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.list(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.html(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.def(fe)){fe=fe.substring(Se.raw.length),Ie=Ce[Ce.length-1],Ie&&(Ie.type==="paragraph"||Ie.type==="text")?(Ie.raw+=`
`+Se.raw,Ie.text+=`
`+Se.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):this.tokens.links[Se.tag]||(this.tokens.links[Se.tag]={href:Se.href,title:Se.title});continue}if(Se=this.tokenizer.table(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.lheading(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Be=fe,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ue=Infinity,$e=fe.slice(1),Ze=void 0;we.options.extensions.startBlock.forEach(function(je){Ze=je.call({lexer:this},$e),typeof Ze=="number"&&Ze>=0&&(Ue=Math.min(Ue,Ze))}),Ue<Infinity&&Ue>=0&&(Be=fe.substring(0,Ue+1))}(),this.state.top&&(Se=this.tokenizer.paragraph(Be))){Ie=Ce[Ce.length-1],Pe&&Ie.type==="paragraph"?(Ie.raw+=`
`+Se.raw,Ie.text+=`
`+Se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):Ce.push(Se),Pe=Be.length!==fe.length,fe=fe.substring(Se.raw.length);continue}if(Se=this.tokenizer.text(fe)){fe=fe.substring(Se.raw.length),Ie=Ce[Ce.length-1],Ie&&Ie.type==="text"?(Ie.raw+=`
`+Se.raw,Ie.text+=`
`+Se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):Ce.push(Se);continue}if(fe){var xe="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(xe);break}else throw new Error(xe)}}return this.state.top=!0,Ce},Ee.inline=function(fe,Ce){this.inlineQueue.push({src:fe,tokens:Ce})},Ee.inlineTokens=function(fe,Ce){var we=this;Ce===void 0&&(Ce=[]);var Se,Ie,Be,Pe=fe,xe,Ue,$e;if(this.tokens.links){var Ze=Object.keys(this.tokens.links);if(Ze.length>0)for(;(xe=this.tokenizer.rules.inline.reflinkSearch.exec(Pe))!=null;)Ze.includes(xe[0].slice(xe[0].lastIndexOf("[")+1,-1))&&(Pe=Pe.slice(0,xe.index)+"["+ce("a",xe[0].length-2)+"]"+Pe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(xe=this.tokenizer.rules.inline.blockSkip.exec(Pe))!=null;)Pe=Pe.slice(0,xe.index)+"["+ce("a",xe[0].length-2)+"]"+Pe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(xe=this.tokenizer.rules.inline.escapedEmSt.exec(Pe))!=null;)Pe=Pe.slice(0,xe.index)+"++"+Pe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;fe;)if(Ue||($e=""),Ue=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(He){return(Se=He.call({lexer:we},fe,Ce))?(fe=fe.substring(Se.raw.length),Ce.push(Se),!0):!1}))){if(Se=this.tokenizer.escape(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.tag(fe)){fe=fe.substring(Se.raw.length),Ie=Ce[Ce.length-1],Ie&&Se.type==="text"&&Ie.type==="text"?(Ie.raw+=Se.raw,Ie.text+=Se.text):Ce.push(Se);continue}if(Se=this.tokenizer.link(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.reflink(fe,this.tokens.links)){fe=fe.substring(Se.raw.length),Ie=Ce[Ce.length-1],Ie&&Se.type==="text"&&Ie.type==="text"?(Ie.raw+=Se.raw,Ie.text+=Se.text):Ce.push(Se);continue}if(Se=this.tokenizer.emStrong(fe,Pe,$e)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.codespan(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.br(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.del(fe)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.autolink(fe,Q)){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(!this.state.inLink&&(Se=this.tokenizer.url(fe,Q))){fe=fe.substring(Se.raw.length),Ce.push(Se);continue}if(Be=fe,this.options.extensions&&this.options.extensions.startInline&&function(){var He=Infinity,Xe=fe.slice(1),Ge=void 0;we.options.extensions.startInline.forEach(function(Qe){Ge=Qe.call({lexer:this},Xe),typeof Ge=="number"&&Ge>=0&&(He=Math.min(He,Ge))}),He<Infinity&&He>=0&&(Be=fe.substring(0,He+1))}(),Se=this.tokenizer.inlineText(Be,K)){fe=fe.substring(Se.raw.length),Se.raw.slice(-1)!=="_"&&($e=Se.raw.slice(-1)),Ue=!0,Ie=Ce[Ce.length-1],Ie&&Ie.type==="text"?(Ie.raw+=Se.raw,Ie.text+=Se.text):Ce.push(Se);continue}if(fe){var je="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(je);break}else throw new Error(je)}}return Ce},e(De,null,[{key:"rules",get:function(){return{block:z,inline:ie}}}]),De}(),ee=L.exports.defaults,de=O.cleanUrl,j=O.escape,ue=function(){function De(ye){this.options=ye||ee}var Ee=De.prototype;return Ee.code=function(fe,Ce,we){var Se=(Ce||"").match(/\S*/)[0];if(this.options.highlight){var Ie=this.options.highlight(fe,Se);Ie!=null&&Ie!==fe&&(we=!0,fe=Ie)}return fe=fe.replace(/\n$/,"")+`
`,Se?'<pre><code class="'+this.options.langPrefix+j(Se,!0)+'">'+(we?fe:j(fe,!0))+`</code></pre>
`:"<pre><code>"+(we?fe:j(fe,!0))+`</code></pre>
`},Ee.blockquote=function(fe){return`<blockquote>
`+fe+`</blockquote>
`},Ee.html=function(fe){return fe},Ee.heading=function(fe,Ce,we,Se){return this.options.headerIds?"<h"+Ce+' id="'+this.options.headerPrefix+Se.slug(we)+'">'+fe+"</h"+Ce+`>
`:"<h"+Ce+">"+fe+"</h"+Ce+`>
`},Ee.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ee.list=function(fe,Ce,we){var Se=Ce?"ol":"ul",Ie=Ce&&we!==1?' start="'+we+'"':"";return"<"+Se+Ie+`>
`+fe+"</"+Se+`>
`},Ee.listitem=function(fe){return"<li>"+fe+`</li>
`},Ee.checkbox=function(fe){return"<input "+(fe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ee.paragraph=function(fe){return"<p>"+fe+`</p>
`},Ee.table=function(fe,Ce){return Ce&&(Ce="<tbody>"+Ce+"</tbody>"),`<table>
<thead>
`+fe+`</thead>
`+Ce+`</table>
`},Ee.tablerow=function(fe){return`<tr>
`+fe+`</tr>
`},Ee.tablecell=function(fe,Ce){var we=Ce.header?"th":"td",Se=Ce.align?"<"+we+' align="'+Ce.align+'">':"<"+we+">";return Se+fe+"</"+we+`>
`},Ee.strong=function(fe){return"<strong>"+fe+"</strong>"},Ee.em=function(fe){return"<em>"+fe+"</em>"},Ee.codespan=function(fe){return"<code>"+fe+"</code>"},Ee.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ee.del=function(fe){return"<del>"+fe+"</del>"},Ee.link=function(fe,Ce,we){if(fe=de(this.options.sanitize,this.options.baseUrl,fe),fe===null)return we;var Se='<a href="'+j(fe)+'"';return Ce&&(Se+=' title="'+Ce+'"'),Se+=">"+we+"</a>",Se},Ee.image=function(fe,Ce,we){if(fe=de(this.options.sanitize,this.options.baseUrl,fe),fe===null)return we;var Se='<img src="'+fe+'" alt="'+we+'"';return Ce&&(Se+=' title="'+Ce+'"'),Se+=this.options.xhtml?"/>":">",Se},Ee.text=function(fe){return fe},De}(),X=function(){function De(){}var Ee=De.prototype;return Ee.strong=function(fe){return fe},Ee.em=function(fe){return fe},Ee.codespan=function(fe){return fe},Ee.del=function(fe){return fe},Ee.html=function(fe){return fe},Ee.text=function(fe){return fe},Ee.link=function(fe,Ce,we){return""+we},Ee.image=function(fe,Ce,we){return""+we},Ee.br=function(){return""},De}(),q=function(){function De(){this.seen={}}var Ee=De.prototype;return Ee.serialize=function(fe){return fe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ee.getNextSafeSlug=function(fe,Ce){var we=fe,Se=0;if(this.seen.hasOwnProperty(we)){Se=this.seen[fe];do Se++,we=fe+"-"+Se;while(this.seen.hasOwnProperty(we))}return Ce||(this.seen[fe]=Se,this.seen[we]=0),we},Ee.slug=function(fe,Ce){Ce===void 0&&(Ce={});var we=this.serialize(fe);return this.getNextSafeSlug(we,Ce.dryrun)},De}(),oe=ue,he=X,ge=q,pe=L.exports.defaults,ve=O.unescape,Le=function(){function De(ye){this.options=ye||pe,this.options.renderer=this.options.renderer||new oe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new he,this.slugger=new ge}De.parse=function(fe,Ce){var we=new De(Ce);return we.parse(fe)},De.parseInline=function(fe,Ce){var we=new De(Ce);return we.parseInline(fe)};var Ee=De.prototype;return Ee.parse=function(fe,Ce){Ce===void 0&&(Ce=!0);var we="",Se,Ie,Be,Pe,xe,Ue,$e,Ze,je,He,Xe,Ge,Qe,it,Je,nt,Pt,ot,St,Ft=fe.length;for(Se=0;Se<Ft;Se++){if(He=fe[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[He.type]&&(St=this.options.extensions.renderers[He.type].call({parser:this},He),St!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(He.type))){we+=St||"";continue}switch(He.type){case"space":continue;case"hr":{we+=this.renderer.hr();continue}case"heading":{we+=this.renderer.heading(this.parseInline(He.tokens),He.depth,ve(this.parseInline(He.tokens,this.textRenderer)),this.slugger);continue}case"code":{we+=this.renderer.code(He.text,He.lang,He.escaped);continue}case"table":{for(Ze="",$e="",Pe=He.header.length,Ie=0;Ie<Pe;Ie++)$e+=this.renderer.tablecell(this.parseInline(He.header[Ie].tokens),{header:!0,align:He.align[Ie]});for(Ze+=this.renderer.tablerow($e),je="",Pe=He.rows.length,Ie=0;Ie<Pe;Ie++){for(Ue=He.rows[Ie],$e="",xe=Ue.length,Be=0;Be<xe;Be++)$e+=this.renderer.tablecell(this.parseInline(Ue[Be].tokens),{header:!1,align:He.align[Be]});je+=this.renderer.tablerow($e)}we+=this.renderer.table(Ze,je);continue}case"blockquote":{je=this.parse(He.tokens),we+=this.renderer.blockquote(je);continue}case"list":{for(Xe=He.ordered,Ge=He.start,Qe=He.loose,Pe=He.items.length,je="",Ie=0;Ie<Pe;Ie++)Je=He.items[Ie],nt=Je.checked,Pt=Je.task,it="",Je.task&&(ot=this.renderer.checkbox(nt),Qe?Je.tokens.length>0&&Je.tokens[0].type==="paragraph"?(Je.tokens[0].text=ot+" "+Je.tokens[0].text,Je.tokens[0].tokens&&Je.tokens[0].tokens.length>0&&Je.tokens[0].tokens[0].type==="text"&&(Je.tokens[0].tokens[0].text=ot+" "+Je.tokens[0].tokens[0].text)):Je.tokens.unshift({type:"text",text:ot}):it+=ot),it+=this.parse(Je.tokens,Qe),je+=this.renderer.listitem(it,Pt,nt);we+=this.renderer.list(je,Xe,Ge);continue}case"html":{we+=this.renderer.html(He.text);continue}case"paragraph":{we+=this.renderer.paragraph(this.parseInline(He.tokens));continue}case"text":{for(je=He.tokens?this.parseInline(He.tokens):He.text;Se+1<Ft&&fe[Se+1].type==="text";)He=fe[++Se],je+=`
`+(He.tokens?this.parseInline(He.tokens):He.text);we+=Ce?this.renderer.paragraph(je):je;continue}default:{var Bt='Token with "'+He.type+'" type was not found.';if(this.options.silent){console.error(Bt);return}else throw new Error(Bt)}}}return we},Ee.parseInline=function(fe,Ce){Ce=Ce||this.renderer;var we="",Se,Ie,Be,Pe=fe.length;for(Se=0;Se<Pe;Se++){if(Ie=fe[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ie.type]&&(Be=this.options.extensions.renderers[Ie.type].call({parser:this},Ie),Be!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ie.type))){we+=Be||"";continue}switch(Ie.type){case"escape":{we+=Ce.text(Ie.text);break}case"html":{we+=Ce.html(Ie.text);break}case"link":{we+=Ce.link(Ie.href,Ie.title,this.parseInline(Ie.tokens,Ce));break}case"image":{we+=Ce.image(Ie.href,Ie.title,Ie.text);break}case"strong":{we+=Ce.strong(this.parseInline(Ie.tokens,Ce));break}case"em":{we+=Ce.em(this.parseInline(Ie.tokens,Ce));break}case"codespan":{we+=Ce.codespan(Ie.text);break}case"br":{we+=Ce.br();break}case"del":{we+=Ce.del(this.parseInline(Ie.tokens,Ce));break}case"text":{we+=Ce.text(Ie.text);break}default:{var xe='Token with "'+Ie.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return we},De}(),Te=U,Ne=Le,Ae=se,Oe=ue,We=X,Ve=q,Ke=O.merge,Ye=O.checkSanitizeDeprecation,be=O.escape,_e=L.exports.getDefaults,Me=L.exports.changeDefaults,ze=L.exports.defaults;function Fe(De,Ee,ye){if(typeof De=="undefined"||De===null)throw new Error("marked(): input parameter is undefined or null");if(typeof De!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(De)+", string expected");if(typeof Ee=="function"&&(ye=Ee,Ee=null),Ee=Ke({},Fe.defaults,Ee||{}),Ye(Ee),ye){var fe=Ee.highlight,Ce;try{Ce=Te.lex(De,Ee)}catch(Be){return ye(Be)}var we=function(Pe){var xe;if(!Pe)try{Ee.walkTokens&&Fe.walkTokens(Ce,Ee.walkTokens),xe=Ne.parse(Ce,Ee)}catch(Ue){Pe=Ue}return Ee.highlight=fe,Pe?ye(Pe):ye(null,xe)};if(!fe||fe.length<3||(delete Ee.highlight,!Ce.length))return we();var Se=0;Fe.walkTokens(Ce,function(Be){Be.type==="code"&&(Se++,setTimeout(function(){fe(Be.text,Be.lang,function(Pe,xe){if(Pe)return we(Pe);xe!=null&&xe!==Be.text&&(Be.text=xe,Be.escaped=!0),Se--,Se===0&&we()})},0))}),Se===0&&we();return}try{var Ie=Te.lex(De,Ee);return Ee.walkTokens&&Fe.walkTokens(Ie,Ee.walkTokens),Ne.parse(Ie,Ee)}catch(Be){if(Be.message+=`
Please report this to https://github.com/markedjs/marked.`,Ee.silent)return"<p>An error occurred:</p><pre>"+be(Be.message+"",!0)+"</pre>";throw Be}}Fe.options=Fe.setOptions=function(De){return Ke(Fe.defaults,De),Me(Fe.defaults),Fe},Fe.getDefaults=_e,Fe.defaults=ze,Fe.use=function(){for(var De=this,Ee=arguments.length,ye=new Array(Ee),fe=0;fe<Ee;fe++)ye[fe]=arguments[fe];var Ce=Ke.apply(void 0,[{}].concat(ye)),we=Fe.defaults.extensions||{renderers:{},childTokens:{}},Se;ye.forEach(function(Ie){if(Ie.extensions&&(Se=!0,Ie.extensions.forEach(function(Pe){if(!Pe.name)throw new Error("extension name required");if(Pe.renderer){var xe=we.renderers?we.renderers[Pe.name]:null;xe?we.renderers[Pe.name]=function(){for(var Ue=arguments.length,$e=new Array(Ue),Ze=0;Ze<Ue;Ze++)$e[Ze]=arguments[Ze];var je=Pe.renderer.apply(this,$e);return je===!1&&(je=xe.apply(this,$e)),je}:we.renderers[Pe.name]=Pe.renderer}if(Pe.tokenizer){if(!Pe.level||Pe.level!=="block"&&Pe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");we[Pe.level]?we[Pe.level].unshift(Pe.tokenizer):we[Pe.level]=[Pe.tokenizer],Pe.start&&(Pe.level==="block"?we.startBlock?we.startBlock.push(Pe.start):we.startBlock=[Pe.start]:Pe.level==="inline"&&(we.startInline?we.startInline.push(Pe.start):we.startInline=[Pe.start]))}Pe.childTokens&&(we.childTokens[Pe.name]=Pe.childTokens)})),Ie.renderer&&function(){var Pe=Fe.defaults.renderer||new Oe,xe=function(Ze){var je=Pe[Ze];Pe[Ze]=function(){for(var He=arguments.length,Xe=new Array(He),Ge=0;Ge<He;Ge++)Xe[Ge]=arguments[Ge];var Qe=Ie.renderer[Ze].apply(Pe,Xe);return Qe===!1&&(Qe=je.apply(Pe,Xe)),Qe}};for(var Ue in Ie.renderer)xe(Ue);Ce.renderer=Pe}(),Ie.tokenizer&&function(){var Pe=Fe.defaults.tokenizer||new Ae,xe=function(Ze){var je=Pe[Ze];Pe[Ze]=function(){for(var He=arguments.length,Xe=new Array(He),Ge=0;Ge<He;Ge++)Xe[Ge]=arguments[Ge];var Qe=Ie.tokenizer[Ze].apply(Pe,Xe);return Qe===!1&&(Qe=je.apply(Pe,Xe)),Qe}};for(var Ue in Ie.tokenizer)xe(Ue);Ce.tokenizer=Pe}(),Ie.walkTokens){var Be=Fe.defaults.walkTokens;Ce.walkTokens=function(Pe){Ie.walkTokens.call(De,Pe),Be&&Be(Pe)}}Se&&(Ce.extensions=we),Fe.setOptions(Ce)})},Fe.walkTokens=function(De,Ee){for(var ye=function(){var Se=Ce.value;switch(Ee(Se),Se.type){case"table":{for(var Ie=I(Se.header),Be;!(Be=Ie()).done;){var Pe=Be.value;Fe.walkTokens(Pe.tokens,Ee)}for(var xe=I(Se.rows),Ue;!(Ue=xe()).done;)for(var $e=Ue.value,Ze=I($e),je;!(je=Ze()).done;){var He=je.value;Fe.walkTokens(He.tokens,Ee)}break}case"list":{Fe.walkTokens(Se.items,Ee);break}default:Fe.defaults.extensions&&Fe.defaults.extensions.childTokens&&Fe.defaults.extensions.childTokens[Se.type]?Fe.defaults.extensions.childTokens[Se.type].forEach(function(Xe){Fe.walkTokens(Se[Xe],Ee)}):Se.tokens&&Fe.walkTokens(Se.tokens,Ee)}},fe=I(De),Ce;!(Ce=fe()).done;)ye()},Fe.parseInline=function(De,Ee){if(typeof De=="undefined"||De===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof De!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(De)+", string expected");Ee=Ke({},Fe.defaults,Ee||{}),Ye(Ee);try{var ye=Te.lexInline(De,Ee);return Ee.walkTokens&&Fe.walkTokens(ye,Ee.walkTokens),Ne.parseInline(ye,Ee)}catch(fe){if(fe.message+=`
Please report this to https://github.com/markedjs/marked.`,Ee.silent)return"<p>An error occurred:</p><pre>"+be(fe.message+"",!0)+"</pre>";throw fe}},Fe.Parser=Ne,Fe.parser=Ne.parse,Fe.Renderer=Oe,Fe.TextRenderer=We,Fe.Lexer=Te,Fe.lexer=Te.lex,Fe.Tokenizer=Ae,Fe.Slugger=Ve,Fe.parse=Fe;var qe=Fe;return qe}),define(te[293],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class _{constructor(I,L=0,S=I.length,p=L-1){this.items=I,this.start=L,this.end=S,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=_}),define(te[294],ne([0,1,293]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class N{constructor(L=[],S=10){this._initialize(L),this._limit=S,this._onChange()}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new _.ArrayNavigator(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const S of L)this._history.add(S)}get _elements(){const L=[];return this._history.forEach(S=>L.push(S)),L}}e.HistoryNavigator=N}),define(te[104],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function _(I,L,S){return Math.min(Math.max(I,L),S)}e.clamp=_;class N{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=N}),define(te[17],ne([0,1]),function($,e){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const N="en";let I=!1,L=!1,S=!1,p=!1,v=!1,i=!1,C=!1,s,a=N,u,h;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let d;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?d=e.globals.vscode.process:typeof process!="undefined"&&(d=process);const r=typeof((_=d==null?void 0:d.versions)===null||_===void 0?void 0:_.electron)=="string"&&d.type==="renderer";if(typeof navigator=="object"&&!r)h=navigator.userAgent,I=h.indexOf("Windows")>=0,L=h.indexOf("Macintosh")>=0,C=(h.indexOf("Macintosh")>=0||h.indexOf("iPad")>=0||h.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=h.indexOf("Linux")>=0,i=!0,s=navigator.language,a=s;else if(typeof d=="object"){I=d.platform==="win32",L=d.platform==="darwin",S=d.platform==="linux",p=S&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,s=N,a=N;const c=d.env.VSCODE_NLS_CONFIG;if(c)try{const f=JSON.parse(c),y=f.availableLanguages["*"];s=f.locale,a=y||N,u=f._translationsConfigFile}catch(f){}v=!0}else console.error("Unable to resolve platform.");let n=0;L?n=1:I?n=3:S&&(n=2),e.isWindows=I,e.isMacintosh=L,e.isLinux=S,e.isNative=v,e.isWeb=i,e.isIOS=C,e.userAgent=h,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let y=[];e.globals.addEventListener("message",g=>{if(g.data&&g.data.vscodeSetImmediateId)for(let m=0,w=y.length;m<w;m++){const D=y[m];if(D.id===g.data.vscodeSetImmediateId){y.splice(m,1),D.callback();return}}});let b=0;return g=>{const m=++b;y.push({id:m,callback:g}),e.globals.postMessage({vscodeSetImmediateId:m},"*")}}if(typeof(d==null?void 0:d.nextTick)=="function")return d.nextTick.bind(d);const f=Promise.resolve();return y=>f.then(y)}(),e.OS=L||C?2:I?1:3;let l=!0,t=!1;function o(){if(!t){t=!0;const c=new Uint8Array(2);c[0]=1,c[1]=2,l=new Uint16Array(c.buffer)[0]===(2<<8)+1}return l}e.isLittleEndian=o}),define(te[295],ne([0,1,17]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let N;if(typeof _.globals.vscode!="undefined"&&typeof _.globals.vscode.process!="undefined"){const I=_.globals.vscode.process;N={get platform(){return I.platform},get arch(){return I.arch},get env(){return I.env},cwd(){return I.cwd()},nextTick(L){return(0,_.setImmediate)(L)}}}else typeof process!="undefined"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(I){return process.nextTick(I)}}:N={get platform(){return _.isWindows?"win32":_.isMacintosh?"darwin":"linux"},get arch(){},nextTick(I){return(0,_.setImmediate)(I)},get env(){return{}},cwd(){return"/"}};e.cwd=N.cwd,e.env=N.env,e.platform=N.platform}),define(te[73],ne([0,1,295]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const N=65,I=97,L=90,S=122,p=46,v=47,i=92,C=58,s=63;class a extends Error{constructor(o,c,f){let y;typeof c=="string"&&c.indexOf("not ")===0?(y="must not be",c=c.replace(/^not /,"")):y="must be";const b=o.indexOf(".")!==-1?"property":"argument";let g=`The "${o}" ${b} ${y} of type ${c}`;g+=`. Received type ${typeof f}`,super(g),this.code="ERR_INVALID_ARG_TYPE"}}function u(t,o){if(typeof t!="string")throw new a(o,"string",t)}function h(t){return t===v||t===i}function d(t){return t===v}function r(t){return t>=N&&t<=L||t>=I&&t<=S}function n(t,o,c,f){let y="",b=0,g=-1,m=0,w=0;for(let D=0;D<=t.length;++D){if(D<t.length)w=t.charCodeAt(D);else{if(f(w))break;w=v}if(f(w)){if(!(g===D-1||m===1))if(m===2){if(y.length<2||b!==2||y.charCodeAt(y.length-1)!==p||y.charCodeAt(y.length-2)!==p){if(y.length>2){const k=y.lastIndexOf(c);k===-1?(y="",b=0):(y=y.slice(0,k),b=y.length-1-y.lastIndexOf(c)),g=D,m=0;continue}else if(y.length!==0){y="",b=0,g=D,m=0;continue}}o&&(y+=y.length>0?`${c}..`:"..",b=2)}else y.length>0?y+=`${c}${t.slice(g+1,D)}`:y=t.slice(g+1,D),b=D-g-1;g=D,m=0}else w===p&&m!==-1?++m:m=-1}return y}function l(t,o){if(o===null||typeof o!="object")throw new a("pathObject","Object",o);const c=o.dir||o.root,f=o.base||`${o.name||""}${o.ext||""}`;return c?c===o.root?`${c}${f}`:`${c}${t}${f}`:f}e.win32={resolve(...t){let o="",c="",f=!1;for(let y=t.length-1;y>=-1;y--){let b;if(y>=0){if(b=t[y],u(b,"path"),b.length===0)continue}else o.length===0?b=_.cwd():(b=_.env[`=${o}`]||_.cwd(),(b===void 0||b.slice(0,2).toLowerCase()!==o.toLowerCase()&&b.charCodeAt(2)===i)&&(b=`${o}\\`));const g=b.length;let m=0,w="",D=!1;const k=b.charCodeAt(0);if(g===1)h(k)&&(m=1,D=!0);else if(h(k))if(D=!0,h(b.charCodeAt(1))){let T=2,R=T;for(;T<g&&!h(b.charCodeAt(T));)T++;if(T<g&&T!==R){const M=b.slice(R,T);for(R=T;T<g&&h(b.charCodeAt(T));)T++;if(T<g&&T!==R){for(R=T;T<g&&!h(b.charCodeAt(T));)T++;(T===g||T!==R)&&(w=`\\\\${M}\\${b.slice(R,T)}`,m=T)}}}else m=1;else r(k)&&b.charCodeAt(1)===C&&(w=b.slice(0,2),m=2,g>2&&h(b.charCodeAt(2))&&(D=!0,m=3));if(w.length>0)if(o.length>0){if(w.toLowerCase()!==o.toLowerCase())continue}else o=w;if(f){if(o.length>0)break}else if(c=`${b.slice(m)}\\${c}`,f=D,D&&o.length>0)break}return c=n(c,!f,"\\",h),f?`${o}\\${c}`:`${o}${c}`||"."},normalize(t){u(t,"path");const o=t.length;if(o===0)return".";let c=0,f,y=!1;const b=t.charCodeAt(0);if(o===1)return d(b)?"\\":t;if(h(b))if(y=!0,h(t.charCodeAt(1))){let m=2,w=m;for(;m<o&&!h(t.charCodeAt(m));)m++;if(m<o&&m!==w){const D=t.slice(w,m);for(w=m;m<o&&h(t.charCodeAt(m));)m++;if(m<o&&m!==w){for(w=m;m<o&&!h(t.charCodeAt(m));)m++;if(m===o)return`\\\\${D}\\${t.slice(w)}\\`;m!==w&&(f=`\\\\${D}\\${t.slice(w,m)}`,c=m)}}}else c=1;else r(b)&&t.charCodeAt(1)===C&&(f=t.slice(0,2),c=2,o>2&&h(t.charCodeAt(2))&&(y=!0,c=3));let g=c<o?n(t.slice(c),!y,"\\",h):"";return g.length===0&&!y&&(g="."),g.length>0&&h(t.charCodeAt(o-1))&&(g+="\\"),f===void 0?y?`\\${g}`:g:y?`${f}\\${g}`:`${f}${g}`},isAbsolute(t){u(t,"path");const o=t.length;if(o===0)return!1;const c=t.charCodeAt(0);return h(c)||o>2&&r(c)&&t.charCodeAt(1)===C&&h(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let o,c;for(let b=0;b<t.length;++b){const g=t[b];u(g,"path"),g.length>0&&(o===void 0?o=c=g:o+=`\\${g}`)}if(o===void 0)return".";let f=!0,y=0;if(typeof c=="string"&&h(c.charCodeAt(0))){++y;const b=c.length;b>1&&h(c.charCodeAt(1))&&(++y,b>2&&(h(c.charCodeAt(2))?++y:f=!1))}if(f){for(;y<o.length&&h(o.charCodeAt(y));)y++;y>=2&&(o=`\\${o.slice(y)}`)}return e.win32.normalize(o)},relative(t,o){if(u(t,"from"),u(o,"to"),t===o)return"";const c=e.win32.resolve(t),f=e.win32.resolve(o);if(c===f||(t=c.toLowerCase(),o=f.toLowerCase(),t===o))return"";let y=0;for(;y<t.length&&t.charCodeAt(y)===i;)y++;let b=t.length;for(;b-1>y&&t.charCodeAt(b-1)===i;)b--;const g=b-y;let m=0;for(;m<o.length&&o.charCodeAt(m)===i;)m++;let w=o.length;for(;w-1>m&&o.charCodeAt(w-1)===i;)w--;const D=w-m,k=g<D?g:D;let T=-1,R=0;for(;R<k;R++){const A=t.charCodeAt(y+R);if(A!==o.charCodeAt(m+R))break;A===i&&(T=R)}if(R!==k){if(T===-1)return f}else{if(D>k){if(o.charCodeAt(m+R)===i)return f.slice(m+R+1);if(R===2)return f.slice(m+R)}g>k&&(t.charCodeAt(y+R)===i?T=R:R===2&&(T=3)),T===-1&&(T=0)}let M="";for(R=y+T+1;R<=b;++R)(R===b||t.charCodeAt(R)===i)&&(M+=M.length===0?"..":"\\..");return m+=T,M.length>0?`${M}${f.slice(m,w)}`:(f.charCodeAt(m)===i&&++m,f.slice(m,w))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const o=e.win32.resolve(t);if(o.length<=2)return t;if(o.charCodeAt(0)===i){if(o.charCodeAt(1)===i){const c=o.charCodeAt(2);if(c!==s&&c!==p)return`\\\\?\\UNC\\${o.slice(2)}`}}else if(r(o.charCodeAt(0))&&o.charCodeAt(1)===C&&o.charCodeAt(2)===i)return`\\\\?\\${o}`;return t},dirname(t){u(t,"path");const o=t.length;if(o===0)return".";let c=-1,f=0;const y=t.charCodeAt(0);if(o===1)return h(y)?t:".";if(h(y)){if(c=f=1,h(t.charCodeAt(1))){let m=2,w=m;for(;m<o&&!h(t.charCodeAt(m));)m++;if(m<o&&m!==w){for(w=m;m<o&&h(t.charCodeAt(m));)m++;if(m<o&&m!==w){for(w=m;m<o&&!h(t.charCodeAt(m));)m++;if(m===o)return t;m!==w&&(c=f=m+1)}}}}else r(y)&&t.charCodeAt(1)===C&&(c=o>2&&h(t.charCodeAt(2))?3:2,f=c);let b=-1,g=!0;for(let m=o-1;m>=f;--m)if(h(t.charCodeAt(m))){if(!g){b=m;break}}else g=!1;if(b===-1){if(c===-1)return".";b=c}return t.slice(0,b)},basename(t,o){o!==void 0&&u(o,"ext"),u(t,"path");let c=0,f=-1,y=!0,b;if(t.length>=2&&r(t.charCodeAt(0))&&t.charCodeAt(1)===C&&(c=2),o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let g=o.length-1,m=-1;for(b=t.length-1;b>=c;--b){const w=t.charCodeAt(b);if(h(w)){if(!y){c=b+1;break}}else m===-1&&(y=!1,m=b+1),g>=0&&(w===o.charCodeAt(g)?--g==-1&&(f=b):(g=-1,f=m))}return c===f?f=m:f===-1&&(f=t.length),t.slice(c,f)}for(b=t.length-1;b>=c;--b)if(h(t.charCodeAt(b))){if(!y){c=b+1;break}}else f===-1&&(y=!1,f=b+1);return f===-1?"":t.slice(c,f)},extname(t){u(t,"path");let o=0,c=-1,f=0,y=-1,b=!0,g=0;t.length>=2&&t.charCodeAt(1)===C&&r(t.charCodeAt(0))&&(o=f=2);for(let m=t.length-1;m>=o;--m){const w=t.charCodeAt(m);if(h(w)){if(!b){f=m+1;break}continue}y===-1&&(b=!1,y=m+1),w===p?c===-1?c=m:g!==1&&(g=1):c!==-1&&(g=-1)}return c===-1||y===-1||g===0||g===1&&c===y-1&&c===f+1?"":t.slice(c,y)},format:l.bind(null,"\\"),parse(t){u(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const c=t.length;let f=0,y=t.charCodeAt(0);if(c===1)return h(y)?(o.root=o.dir=t,o):(o.base=o.name=t,o);if(h(y)){if(f=1,h(t.charCodeAt(1))){let T=2,R=T;for(;T<c&&!h(t.charCodeAt(T));)T++;if(T<c&&T!==R){for(R=T;T<c&&h(t.charCodeAt(T));)T++;if(T<c&&T!==R){for(R=T;T<c&&!h(t.charCodeAt(T));)T++;T===c?f=T:T!==R&&(f=T+1)}}}}else if(r(y)&&t.charCodeAt(1)===C){if(c<=2)return o.root=o.dir=t,o;if(f=2,h(t.charCodeAt(2))){if(c===3)return o.root=o.dir=t,o;f=3}}f>0&&(o.root=t.slice(0,f));let b=-1,g=f,m=-1,w=!0,D=t.length-1,k=0;for(;D>=f;--D){if(y=t.charCodeAt(D),h(y)){if(!w){g=D+1;break}continue}m===-1&&(w=!1,m=D+1),y===p?b===-1?b=D:k!==1&&(k=1):b!==-1&&(k=-1)}return m!==-1&&(b===-1||k===0||k===1&&b===m-1&&b===g+1?o.base=o.name=t.slice(g,m):(o.name=t.slice(g,b),o.base=t.slice(g,m),o.ext=t.slice(b,m))),g>0&&g!==f?o.dir=t.slice(0,g-1):o.dir=o.root,o},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let o="",c=!1;for(let f=t.length-1;f>=-1&&!c;f--){const y=f>=0?t[f]:_.cwd();u(y,"path"),y.length!==0&&(o=`${y}/${o}`,c=y.charCodeAt(0)===v)}return o=n(o,!c,"/",d),c?`/${o}`:o.length>0?o:"."},normalize(t){if(u(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===v,c=t.charCodeAt(t.length-1)===v;return t=n(t,!o,"/",d),t.length===0?o?"/":c?"./":".":(c&&(t+="/"),o?`/${t}`:t)},isAbsolute(t){return u(t,"path"),t.length>0&&t.charCodeAt(0)===v},join(...t){if(t.length===0)return".";let o;for(let c=0;c<t.length;++c){const f=t[c];u(f,"path"),f.length>0&&(o===void 0?o=f:o+=`/${f}`)}return o===void 0?".":e.posix.normalize(o)},relative(t,o){if(u(t,"from"),u(o,"to"),t===o||(t=e.posix.resolve(t),o=e.posix.resolve(o),t===o))return"";const c=1,f=t.length,y=f-c,b=1,g=o.length-b,m=y<g?y:g;let w=-1,D=0;for(;D<m;D++){const T=t.charCodeAt(c+D);if(T!==o.charCodeAt(b+D))break;T===v&&(w=D)}if(D===m)if(g>m){if(o.charCodeAt(b+D)===v)return o.slice(b+D+1);if(D===0)return o.slice(b+D)}else y>m&&(t.charCodeAt(c+D)===v?w=D:D===0&&(w=0));let k="";for(D=c+w+1;D<=f;++D)(D===f||t.charCodeAt(D)===v)&&(k+=k.length===0?"..":"/..");return`${k}${o.slice(b+w)}`},toNamespacedPath(t){return t},dirname(t){if(u(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===v;let c=-1,f=!0;for(let y=t.length-1;y>=1;--y)if(t.charCodeAt(y)===v){if(!f){c=y;break}}else f=!1;return c===-1?o?"/":".":o&&c===1?"//":t.slice(0,c)},basename(t,o){o!==void 0&&u(o,"ext"),u(t,"path");let c=0,f=-1,y=!0,b;if(o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let g=o.length-1,m=-1;for(b=t.length-1;b>=0;--b){const w=t.charCodeAt(b);if(w===v){if(!y){c=b+1;break}}else m===-1&&(y=!1,m=b+1),g>=0&&(w===o.charCodeAt(g)?--g==-1&&(f=b):(g=-1,f=m))}return c===f?f=m:f===-1&&(f=t.length),t.slice(c,f)}for(b=t.length-1;b>=0;--b)if(t.charCodeAt(b)===v){if(!y){c=b+1;break}}else f===-1&&(y=!1,f=b+1);return f===-1?"":t.slice(c,f)},extname(t){u(t,"path");let o=-1,c=0,f=-1,y=!0,b=0;for(let g=t.length-1;g>=0;--g){const m=t.charCodeAt(g);if(m===v){if(!y){c=g+1;break}continue}f===-1&&(y=!1,f=g+1),m===p?o===-1?o=g:b!==1&&(b=1):o!==-1&&(b=-1)}return o===-1||f===-1||b===0||b===1&&o===f-1&&o===c+1?"":t.slice(o,f)},format:l.bind(null,"/"),parse(t){u(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const c=t.charCodeAt(0)===v;let f;c?(o.root="/",f=1):f=0;let y=-1,b=0,g=-1,m=!0,w=t.length-1,D=0;for(;w>=f;--w){const k=t.charCodeAt(w);if(k===v){if(!m){b=w+1;break}continue}g===-1&&(m=!1,g=w+1),k===p?y===-1?y=w:D!==1&&(D=1):y!==-1&&(D=-1)}if(g!==-1){const k=b===0&&c?1:b;y===-1||D===0||D===1&&y===g-1&&y===b+1?o.base=o.name=t.slice(k,g):(o.name=t.slice(k,y),o.base=t.slice(k,g),o.ext=t.slice(y,g))}return b>0?o.dir=t.slice(0,b-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=_.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=_.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=_.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=_.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=_.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=_.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=_.platform==="win32"?e.win32.sep:e.posix.sep}),define(te[128],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var _;(function(N){function I(v,i){if(v.start>=i.end||i.start>=v.end)return{start:0,end:0};const C=Math.max(v.start,i.start),s=Math.min(v.end,i.end);return s-C<=0?{start:0,end:0}:{start:C,end:s}}N.intersect=I;function L(v){return v.end-v.start<=0}N.isEmpty=L;function S(v,i){return!L(I(v,i))}N.intersects=S;function p(v,i){const C=[],s={start:v.start,end:Math.min(i.start,v.end)},a={start:Math.max(i.end,v.start),end:v.end};return L(s)||C.push(s),L(a)||C.push(a),C}N.relativeComplement=p})(_=e.Range||(e.Range={}))}),define(te[296],ne([0,1,128]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function N(v,i){const C=[];for(let s of i){if(v.start>=s.range.end)continue;if(v.end<s.range.start)break;const a=_.Range.intersect(v,s.range);_.Range.isEmpty(a)||C.push({range:a,size:s.size})}return C}e.groupIntersect=N;function I({start:v,end:i},C){return{start:v+C,end:i+C}}e.shift=I;function L(v){const i=[];let C=null;for(let s of v){const a=s.range.start,u=s.range.end,h=s.size;if(C&&h===C.size){C.range.end=u;continue}C={range:{start:a,end:u},size:h},i.push(C)}return i}e.consolidate=L;function S(...v){return L(v.reduce((i,C)=>i.concat(C),[]))}class p{constructor(){this.groups=[],this._size=0}splice(i,C,s=[]){const a=s.length-C,u=N({start:0,end:i},this.groups),h=N({start:i+C,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:I(r.range,a),size:r.size})),d=s.map((r,n)=>({range:{start:i+n,end:i+n+1},size:r.size}));this.groups=S(u,d,h),this._size=this.groups.reduce((r,n)=>r+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let C=0,s=0;for(let a of this.groups){const u=a.range.end-a.range.start,h=s+u*a.size;if(i<h)return C+Math.floor((i-s)/a.size);C+=u,s=h}return C}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let C=0,s=0;for(let a of this.groups){const u=a.range.end-a.range.start,h=s+u;if(i<h)return C+(i-s)*a.size;C+=u*a.size,s=h}return-1}}e.RangeMap=p}),define(te[83],ne([0,1,17]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const N=_.globals.performance&&typeof _.globals.performance.now=="function";class I{constructor(S){this._highResolution=N&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new I(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?_.globals.performance.now():Date.now()}}e.StopWatch=I}),define(te[6],ne([0,1,10,2,72,83]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(d){d.None=()=>N.Disposable.None;function r(A){return(O,P=null,F)=>{let E=!1,x;return x=A(W=>{if(!E)return x?x.dispose():E=!0,O.call(P,W)},null,F),E&&x.dispose(),x}}d.once=r;function n(A,O){return y((P,F=null,E)=>A(x=>P.call(F,O(x)),null,E))}d.map=n;function l(A,O){return y((P,F=null,E)=>A(x=>{O(x),P.call(F,x)},null,E))}d.forEach=l;function t(A,O){return y((P,F=null,E)=>A(x=>O(x)&&P.call(F,x),null,E))}d.filter=t;function o(A){return A}d.signal=o;function c(...A){return(O,P=null,F)=>(0,N.combinedDisposable)(...A.map(E=>E(x=>O.call(P,x),null,F)))}d.any=c;function f(A,O,P){let F=P;return n(A,E=>(F=O(F,E),F))}d.reduce=f;function y(A){let O;const P=new C({onFirstListenerAdd(){O=A(P.fire,P)},onLastListenerRemove(){O.dispose()}});return P.event}function b(A,O,P=100,F=!1,E){let x,W,G,Y=0;const se=new C({leakWarningThreshold:E,onFirstListenerAdd(){x=A(re=>{Y++,W=O(W,re),F&&!G&&(se.fire(W),W=void 0),clearTimeout(G),G=setTimeout(()=>{const J=W;W=void 0,G=void 0,(!F||Y>1)&&se.fire(J),Y=0},P)})},onLastListenerRemove(){x.dispose()}});return se.event}d.debounce=b;function g(A,O=(P,F)=>P===F){let P=!0,F;return t(A,E=>{const x=P||!O(E,F);return P=!1,F=E,x})}d.latch=g;function m(A,O){return[d.filter(A,O),d.filter(A,P=>!O(P))]}d.split=m;function w(A,O=!1,P=[]){let F=P.slice(),E=A(G=>{F?F.push(G):W.fire(G)});const x=()=>{F&&F.forEach(G=>W.fire(G)),F=null},W=new C({onFirstListenerAdd(){E||(E=A(G=>W.fire(G)))},onFirstListenerDidAdd(){F&&(O?setTimeout(x):x())},onLastListenerRemove(){E&&E.dispose(),E=null}});return W.event}d.buffer=w;class D{constructor(O){this.event=O}map(O){return new D(n(this.event,O))}forEach(O){return new D(l(this.event,O))}filter(O){return new D(t(this.event,O))}reduce(O,P){return new D(f(this.event,O,P))}latch(){return new D(g(this.event))}debounce(O,P=100,F=!1,E){return new D(b(this.event,O,P,F,E))}on(O,P,F){return this.event(O,P,F)}once(O,P,F){return r(this.event)(O,P,F)}}function k(A){return new D(A)}d.chain=k;function T(A,O,P=F=>F){const F=(...G)=>W.fire(P(...G)),E=()=>A.on(O,F),x=()=>A.removeListener(O,F),W=new C({onFirstListenerAdd:E,onLastListenerRemove:x});return W.event}d.fromNodeEventEmitter=T;function R(A,O,P=F=>F){const F=(...G)=>W.fire(P(...G)),E=()=>A.addEventListener(O,F),x=()=>A.removeEventListener(O,F),W=new C({onFirstListenerAdd:E,onLastListenerRemove:x});return W.event}d.fromDOMEventEmitter=R;function M(A){return new Promise(O=>r(A)(O))}d.toPromise=M})(S=e.Event||(e.Event={}));class p{constructor(r){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${r}_${p._idPool++}`}start(r){this._stopWatch=new L.StopWatch(!0),this._listenerCount=r}stop(){if(this._stopWatch){const r=this._stopWatch.elapsed();this._elapsedOverall+=r,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${r.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}p._idPool=0;let v=-1;class i{constructor(r,n=Math.random().toString(18).slice(2,5)){this.customThreshold=r,this.name=n,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(r){let n=v;if(typeof this.customThreshold=="number"&&(n=this.customThreshold),n<=0||r<n)return;this._stacks||(this._stacks=new Map);const l=new Error().stack.split(`
`).slice(3).join(`
`),t=this._stacks.get(l)||0;if(this._stacks.set(l,t+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let o,c=0;for(const[f,y]of this._stacks)(!o||c<y)&&(o=f,c=y);console.warn(`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${c}):`),console.warn(o)}return()=>{const o=this._stacks.get(l)||0;this._stacks.set(l,o-1)}}}class C{constructor(r){var n;this._disposed=!1,this._options=r,this._leakageMon=v>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((n=this._options)===null||n===void 0?void 0:n._profName)?new p(this._options._profName):void 0}get event(){return this._event||(this._event=(r,n,l)=>{var t;this._listeners||(this._listeners=new I.LinkedList);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const c=this._listeners.push(n?[r,n]:r);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,r,n);const f=(t=this._leakageMon)===null||t===void 0?void 0:t.check(this._listeners.size),y=(0,N.toDisposable)(()=>{f&&f(),this._disposed||(c(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return l instanceof N.DisposableStore?l.add(y):Array.isArray(l)&&l.push(y),y}),this._event}fire(r){var n,l;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new I.LinkedList);for(let t of this._listeners)this._deliveryQueue.push([t,r]);for((n=this._perfMon)===null||n===void 0||n.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[t,o]=this._deliveryQueue.shift();try{typeof t=="function"?t.call(void 0,o):t[0].call(t[1],o)}catch(c){(0,_.onUnexpectedError)(c)}}(l=this._perfMon)===null||l===void 0||l.stop()}}dispose(){var r,n,l,t,o;this._disposed||(this._disposed=!0,(r=this._listeners)===null||r===void 0||r.clear(),(n=this._deliveryQueue)===null||n===void 0||n.clear(),(t=(l=this._options)===null||l===void 0?void 0:l.onLastListenerRemove)===null||t===void 0||t.call(l),(o=this._leakageMon)===null||o===void 0||o.dispose())}}e.Emitter=C;class s extends C{constructor(r){super(r);this._isPaused=0,this._eventQueue=new I.LinkedList,this._mergeFn=r==null?void 0:r.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const r=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(r))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(r){this._listeners&&(this._isPaused!==0?this._eventQueue.push(r):super.fire(r))}}e.PauseableEmitter=s;class a extends s{constructor(r){var n;super(r);this._delay=(n=r.delay)!==null&&n!==void 0?n:100}fire(r){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(r)}}e.DebounceEmitter=a;class u{constructor(){this.buffers=[]}wrapEvent(r){return(n,l,t)=>r(o=>{const c=this.buffers[this.buffers.length-1];c?c.push(()=>n.call(l,o)):n.call(l,o)},void 0,t)}bufferEvents(r){const n=[];this.buffers.push(n);const l=r();return this.buffers.pop(),n.forEach(t=>t()),l}}e.EventBufferer=u;class h{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=N.Disposable.None,this.emitter=new C({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(r){this.inputEvent=r,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=r(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=h}),define(te[41],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class N{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new _.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let s=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,u=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;return a/u}}N.INSTANCE=new N;function I(){return N.INSTANCE.getZoomLevel()}e.getZoomLevel=I;function L(){return N.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=L;function S(C){return N.INSTANCE.onDidChangeZoomLevel(C)}e.onDidChangeZoomLevel=S;function p(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=p;function v(){return N.INSTANCE.getPixelRatio()}e.getPixelRatio=v;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(te[158],ne([0,1,41,17]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:N.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:N.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>N.isNative||_.isStandalone?0:navigator.keyboard||_.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(te[92],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class N{constructor(S,p,v){const i=C=>this.emitter.fire(C);this.emitter=new _.Emitter({onFirstListenerAdd:()=>S.addEventListener(p,i,v),onLastListenerRemove:()=>S.removeEventListener(p,i,v)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=N;function I(L){return L.preventDefault(),L.stopPropagation(),L}e.stopEvent=I}),define(te[51],ne([0,1,41,43,17]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let L=new Array(230),S=new Array(112);(function(){for(let h=0;h<S.length;h++)S[h]=-1;function u(h,d){L[h]=d,S[d]=h}u(3,7),u(8,1),u(9,2),u(13,3),u(16,4),u(17,5),u(18,6),u(19,7),u(20,8),u(27,9),u(32,10),u(33,11),u(34,12),u(35,13),u(36,14),u(37,15),u(38,16),u(39,17),u(40,18),u(45,19),u(46,20),u(48,21),u(49,22),u(50,23),u(51,24),u(52,25),u(53,26),u(54,27),u(55,28),u(56,29),u(57,30),u(65,31),u(66,32),u(67,33),u(68,34),u(69,35),u(70,36),u(71,37),u(72,38),u(73,39),u(74,40),u(75,41),u(76,42),u(77,43),u(78,44),u(79,45),u(80,46),u(81,47),u(82,48),u(83,49),u(84,50),u(85,51),u(86,52),u(87,53),u(88,54),u(89,55),u(90,56),u(93,58),u(96,93),u(97,94),u(98,95),u(99,96),u(100,97),u(101,98),u(102,99),u(103,100),u(104,101),u(105,102),u(106,103),u(107,104),u(108,105),u(109,106),u(110,107),u(111,108),u(112,59),u(113,60),u(114,61),u(115,62),u(116,63),u(117,64),u(118,65),u(119,66),u(120,67),u(121,68),u(122,69),u(123,70),u(124,71),u(125,72),u(126,73),u(127,74),u(128,75),u(129,76),u(130,77),u(144,78),u(145,79),u(186,80),u(187,81),u(188,82),u(189,83),u(190,84),u(191,85),u(192,86),u(193,110),u(194,111),u(219,87),u(220,88),u(221,89),u(222,90),u(223,91),u(226,92),u(229,109),_.isFirefox?(u(59,80),u(107,81),u(109,83),I.isMacintosh&&u(224,57)):_.isWebKit&&(u(91,57),I.isMacintosh?u(93,57):u(92,57))})();function p(u){if(u.charCode){let h=String.fromCharCode(u.charCode).toUpperCase();return N.KeyCodeUtils.fromString(h)}return L[u.keyCode]||0}const v=I.isMacintosh?256:2048,i=512,C=1024,s=I.isMacintosh?2048:256;class a{constructor(h){this._standardKeyboardEventBrand=!0;let d=h;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.keyCode=p(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(h){return this._asKeybinding===h}_computeKeybinding(){let h=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(h=this.keyCode);let d=0;return this.ctrlKey&&(d|=v),this.altKey&&(d|=i),this.shiftKey&&(d|=C),this.metaKey&&(d|=s),d|=h,d}_computeRuntimeKeybinding(){let h=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(h=this.keyCode),new N.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,h)}}e.StandardKeyboardEvent=a}),define(te[55],ne([0,1,41,200,17]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class L{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=N.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=L;class S{constructor(v,i=0,C=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=C,this.deltaX=i,v){let s=v,a=v;if(typeof s.wheelDeltaY!="undefined")this.deltaY=s.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(v.type==="wheel"){const u=v;u.deltaMode===u.DOM_DELTA_LINE?_.isFirefox&&!I.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof s.wheelDeltaX!="undefined")_.isSafari&&I.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const u=v;u.deltaMode===u.DOM_DELTA_LINE?_.isFirefox&&!I.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(te[23],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const N=Object.freeze(function(p,v){const i=setTimeout(p.bind(v),0);return{dispose(){clearTimeout(i)}}});var I;(function(p){function v(i){return i===p.None||i===p.Cancelled||i instanceof L?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}p.isCancellationToken=v,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:N})})(I=e.CancellationToken||(e.CancellationToken={}));class L{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?N:(this._emitter||(this._emitter=new _.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new L),this._token}cancel(){this._token?this._token instanceof L&&this._token.cancel():this._token=I.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof L&&this._token.dispose():this._token=I.None}}e.CancellationTokenSource=S});var ke=this&&this.__awaiter||function($,e,_,N){function I(L){return L instanceof _?L:new _(function(S){S(L)})}return new(_||(_=Promise))(function(L,S){function p(C){try{i(N.next(C))}catch(s){S(s)}}function v(C){try{i(N.throw(C))}catch(s){S(s)}}function i(C){C.done?L(C.value):I(C.value).then(p,v)}i((N=N.apply($,e||[])).next())})};define(te[14],ne([0,1,23,10,2]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function L(t){return!!t&&typeof t.then=="function"}e.isThenable=L;function S(t){const o=new _.CancellationTokenSource,c=t(o.token),f=new Promise((y,b)=>{const g=o.token.onCancellationRequested(()=>{g.dispose(),o.dispose(),b((0,N.canceled)())});Promise.resolve(c).then(m=>{g.dispose(),o.dispose(),y(m)},m=>{g.dispose(),o.dispose(),b(m)})});return new class{cancel(){o.cancel()}then(y,b){return f.then(y,b)}catch(y){return this.then(void 0,y)}finally(y){return f.finally(y)}}}e.createCancelablePromise=S;function p(t,o,c){return Promise.race([t,new Promise(f=>o.onCancellationRequested(()=>f(c)))])}e.raceCancellation=p;class v{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(o){if(this.activePromise){if(this.queuedPromiseFactory=o,!this.queuedPromise){const c=()=>{this.queuedPromise=null;const f=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,f};this.queuedPromise=new Promise(f=>{this.activePromise.then(c,c).then(f)})}return new Promise((c,f)=>{this.queuedPromise.then(c,f)})}return this.activePromise=o(),new Promise((c,f)=>{this.activePromise.then(y=>{this.activePromise=null,c(y)},y=>{this.activePromise=null,f(y)})})}}e.Throttler=v;class i{constructor(o){this.defaultDelay=o,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(o,c=this.defaultDelay){return this.task=o,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((f,y)=>{this.doResolve=f,this.doReject=y}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const f=this.task;return this.task=null,f()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},c),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,N.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=i;class C{constructor(o){this.delayer=new i(o),this.throttler=new v}trigger(o,c){return this.delayer.trigger(()=>this.throttler.queue(o),c)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=C;function s(t,o){return o?new Promise((c,f)=>{const y=setTimeout(()=>{b.dispose(),c()},t),b=o.onCancellationRequested(()=>{clearTimeout(y),b.dispose(),f((0,N.canceled)())})}):S(c=>s(t,c))}e.timeout=s;function a(t,o=0){const c=setTimeout(t,o);return(0,I.toDisposable)(()=>clearTimeout(c))}e.disposableTimeout=a;function u(t,o=f=>!!f,c=null){let f=0;const y=t.length,b=()=>{if(f>=y)return Promise.resolve(c);const g=t[f++];return Promise.resolve(g()).then(w=>o(w)?Promise.resolve(w):b())};return b()}e.first=u;class h{constructor(o,c){this._token=-1,typeof o=="function"&&typeof c=="number"&&this.setIfNotSet(o,c)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(o,c){this.cancel(),this._token=setTimeout(()=>{this._token=-1,o()},c)}setIfNotSet(o,c){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,o()},c))}}e.TimeoutTimer=h;class d{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(o,c){this.cancel(),this._token=setInterval(()=>{o()},c)}}e.IntervalTimer=d;class r{constructor(o,c){this.timeoutToken=-1,this.runner=o,this.timeout=c,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(o=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,o)}get delay(){return this.timeout}set delay(o){this.timeout=o}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=r,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=o=>{const c=setTimeout(()=>o(t));let f=!1;return{dispose(){f||(f=!0,clearTimeout(c))}}}}else e.runWhenIdle=(t,o)=>{const c=requestIdleCallback(t,typeof o=="number"?{timeout:o}:void 0);let f=!1;return{dispose(){f||(f=!0,cancelIdleCallback(c))}}}}();class n{constructor(o){this._didRun=!1,this._executor=()=>{try{this._value=o()}catch(c){this._error=c}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=n;var l;(function(t){function o(c){return ke(this,void 0,void 0,function*(){let f;const y=yield Promise.all(c.map(b=>b.then(g=>g,g=>{f||(f=g)})));if(typeof f!="undefined")throw f;return y})}t.settled=o})(l=e.Promises||(e.Promises={}))}),define(te[297],ne([0,1,14,2]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class I extends N.Disposable{constructor(S,p,v){super();this._visibility=S,this._visibleClassName=p,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new _.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=I}),define(te[27],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class N{constructor(){this._icons=new Map,this._onDidRegister=new _.Emitter}add(C){const s=this._icons.get(C.id);s?C.description?s.description=C.description:console.error(`Duplicate registration of codicon ${C.id}`):(this._icons.set(C.id,C),this._onDidRegister.fire(C))}get(C){return this._icons.get(C)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const I=new N;e.iconRegistry=I;function L(i,C){return new p(i,C)}e.registerCodicon=L;function S(i){return i?i.replace(/\$\((.*?)\)/g,(C,s)=>` ${s} `).trim():""}e.getCodiconAriaLabel=S;class p{constructor(C,s,a){this.id=C,this.definition=s,this.description=a,I.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=p;var v;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const C=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function s(h){if(h instanceof p)return["codicon","codicon-"+h.id];const d=C.exec(h.id);if(!d)return s(p.error);let[,r,n]=d;const l=["codicon","codicon-"+r];return n&&l.push("codicon-modifier-"+n.substr(1)),l}i.asClassNameArray=s;function a(h){return s(h).join(" ")}i.asClassName=a;function u(h){return"."+s(h).join(".")}i.asCSSSelector=u})(v=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eba4"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.layers=new i("layers",{fontCharacter:"\\ebd2"}),i.layersDot=new i("layers-dot",{fontCharacter:"\\ebd3"}),i.layersActive=new i("layers-active",{fontCharacter:"\\ebd4"}),i.compass=new i("compass",{fontCharacter:"\\ebd5"}),i.compassDot=new i("compass-dot",{fontCharacter:"\\ebd6"}),i.compassActive=new i("compass-active",{fontCharacter:"\\ebd7"}),i.azure=new i("azure",{fontCharacter:"\\ebd8"}),i.issueDraft=new i("issue-draft",{fontCharacter:"\\ebd9"}),i.gitPullRequestClosed=new i("git-pull-request-closed",{fontCharacter:"\\ebda"}),i.gitPullRequestDraft=new i("git-pull-request-draft",{fontCharacter:"\\ebdb"}),i.debugAll=new i("debug-all",{fontCharacter:"\\ebdc"}),i.debugCoverage=new i("debug-coverage",{fontCharacter:"\\ebdd"}),i.runErrors=new i("run-errors",{fontCharacter:"\\ebde"}),i.folderLibrary=new i("folder-library",{fontCharacter:"\\ebdf"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(p=e.Codicon||(e.Codicon={}))}),define(te[204],ne([0,1,27]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=(0,_.registerCodicon)("tree-item-expanded",_.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=(0,_.registerCodicon)("tree-filter-on-type-on",_.Codicon.listFilter),e.treeFilterOnTypeOffIcon=(0,_.registerCodicon)("tree-filter-on-type-off",_.Codicon.listSelection),e.treeFilterClearIcon=(0,_.registerCodicon)("tree-filter-clear",_.Codicon.close),e.treeItemLoadingIcon=(0,_.registerCodicon)("tree-item-loading",_.Codicon.loading)}),define(te[298],ne([0,1,14]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const N=new _.IdleValue(()=>{const p=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:p,collatorIsNumeric:p.resolvedOptions().numeric}});function I(p,v,i=!1){const C=p||"",s=v||"",a=N.value.collator.compare(C,s);return N.value.collatorIsNumeric&&a===0&&C!==s?C<s?-1:1:a}e.compareFileNames=I;function L(p,v,i){const C=p.toLowerCase(),s=v.toLowerCase(),a=S(p,v,i);if(a)return a;const u=C.endsWith(i),h=s.endsWith(i);if(u!==h)return u?-1:1;const d=I(C,s);return d!==0?d:C.localeCompare(s)}e.compareAnything=L;function S(p,v,i){const C=p.toLowerCase(),s=v.toLowerCase(),a=C.startsWith(i),u=s.startsWith(i);if(a!==u)return a?-1:1;if(a&&u){if(C.length<s.length)return-1;if(C.length>s.length)return 1}return 0}e.compareByPrefix=S}),define(te[129],ne([0,1,6,2]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class I{constructor(u,h,d,r,n,l){this._scrollStateBrand=void 0,u=u|0,h=h|0,d=d|0,r=r|0,n=n|0,l=l|0,this.rawScrollLeft=d,this.rawScrollTop=l,u<0&&(u=0),d+u>h&&(d=h-u),d<0&&(d=0),r<0&&(r=0),l+r>n&&(l=n-r),l<0&&(l=0),this.width=u,this.scrollWidth=h,this.scrollLeft=d,this.height=r,this.scrollHeight=n,this.scrollTop=l}equals(u){return this.rawScrollLeft===u.rawScrollLeft&&this.rawScrollTop===u.rawScrollTop&&this.width===u.width&&this.scrollWidth===u.scrollWidth&&this.scrollLeft===u.scrollLeft&&this.height===u.height&&this.scrollHeight===u.scrollHeight&&this.scrollTop===u.scrollTop}withScrollDimensions(u,h){return new I(typeof u.width!="undefined"?u.width:this.width,typeof u.scrollWidth!="undefined"?u.scrollWidth:this.scrollWidth,h?this.rawScrollLeft:this.scrollLeft,typeof u.height!="undefined"?u.height:this.height,typeof u.scrollHeight!="undefined"?u.scrollHeight:this.scrollHeight,h?this.rawScrollTop:this.scrollTop)}withScrollPosition(u){return new I(this.width,this.scrollWidth,typeof u.scrollLeft!="undefined"?u.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof u.scrollTop!="undefined"?u.scrollTop:this.rawScrollTop)}createScrollEvent(u,h){const d=this.width!==u.width,r=this.scrollWidth!==u.scrollWidth,n=this.scrollLeft!==u.scrollLeft,l=this.height!==u.height,t=this.scrollHeight!==u.scrollHeight,o=this.scrollTop!==u.scrollTop;return{inSmoothScrolling:h,oldWidth:u.width,oldScrollWidth:u.scrollWidth,oldScrollLeft:u.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:u.height,oldScrollHeight:u.scrollHeight,oldScrollTop:u.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:r,scrollLeftChanged:n,heightChanged:l,scrollHeightChanged:t,scrollTopChanged:o}}}e.ScrollState=I;class L extends N.Disposable{constructor(u,h){super();this._scrollableBrand=void 0,this._onScroll=this._register(new _.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=u,this._scheduleAtNextAnimationFrame=h,this._state=new I(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(u){this._smoothScrollDuration=u}validateScrollPosition(u){return this._state.withScrollPosition(u)}getScrollDimensions(){return this._state}setScrollDimensions(u,h){const d=this._state.withScrollDimensions(u,h);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(u){const h=this._state.withScrollPosition(u);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(h,!1)}setScrollPositionSmooth(u,h){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(u);if(this._smoothScrolling){u={scrollLeft:typeof u.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:u.scrollLeft,scrollTop:typeof u.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:u.scrollTop};const d=this._state.withScrollPosition(u);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let r;h?r=new i(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const d=this._state.withScrollPosition(u);this._smoothScrolling=i.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const u=this._smoothScrolling.tick(),h=this._state.withScrollPosition(u);if(this._setState(h,!0),!!this._smoothScrolling){if(u.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(u,h){const d=this._state;d.equals(u)||(this._state=u,this._onScroll.fire(this._state.createScrollEvent(d,h)))}}e.Scrollable=L;class S{constructor(u,h,d){this.scrollLeft=u,this.scrollTop=h,this.isDone=d}}e.SmoothScrollingUpdate=S;function p(a,u){const h=u-a;return function(d){return a+h*s(d)}}function v(a,u,h){return function(d){return d<h?a(d/h):u((d-h)/(1-h))}}class i{constructor(u,h,d,r){this.from=u,this.to=h,this.duration=r,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(u,h,d){if(Math.abs(u-h)>2.5*d){let n,l;return u<h?(n=u+.75*d,l=h-.75*d):(n=u-.75*d,l=h+.75*d),v(p(u,n),p(l,h),.33)}return p(u,h)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(u){this.to=u.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(u){const h=(u-this.startTime)/this.duration;if(h<1){const d=this.scrollLeft(h),r=this.scrollTop(h);return new S(d,r,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(u,h,d){return i.start(u,h,d)}static start(u,h,d){d=d+10;const r=Date.now()-10;return new i(u,h,r,d)}}e.SmoothScrollingOperation=i;function C(a){return Math.pow(a,3)}function s(a){return 1-C(1-a)}}),define(te[8],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function _(j){return!j||typeof j!="string"?!0:j.trim().length===0}e.isFalsyOrWhitespace=_;const N=/{(\d+)}/g;function I(j,...ue){return ue.length===0?j:j.replace(N,function(X,q){const oe=parseInt(q,10);return isNaN(oe)||oe<0||oe>=ue.length?X:ue[oe]})}e.format=I;function L(j){return j.replace(/[<>&]/g,function(ue){switch(ue){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ue}})}e.escape=L;function S(j){return j.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function p(j,ue=" "){const X=v(j,ue);return i(X,ue)}e.trim=p;function v(j,ue){if(!j||!ue)return j;const X=ue.length;if(X===0||j.length===0)return j;let q=0;for(;j.indexOf(ue,q)===q;)q=q+X;return j.substring(q)}e.ltrim=v;function i(j,ue){if(!j||!ue)return j;const X=ue.length,q=j.length;if(X===0||q===0)return j;let oe=q,he=-1;for(;he=j.lastIndexOf(ue,oe-1),!(he===-1||he+X!==oe);){if(he===0)return"";oe=he}return j.substring(0,oe)}e.rtrim=i;function C(j){return j.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=C;function s(j){return j.replace(/\*/g,"")}e.stripWildcards=s;function a(j,ue,X={}){if(!j)throw new Error("Cannot create regex from empty string");ue||(j=S(j)),X.wholeWord&&(/\B/.test(j.charAt(0))||(j="\\b"+j),/\B/.test(j.charAt(j.length-1))||(j=j+"\\b"));let q="";return X.global&&(q+="g"),X.matchCase||(q+="i"),X.multiline&&(q+="m"),X.unicode&&(q+="u"),new RegExp(j,q)}e.createRegExp=a;function u(j){return j.source==="^"||j.source==="^$"||j.source==="$"||j.source==="^\\s*$"?!1:!!(j.exec("")&&j.lastIndex===0)}e.regExpLeadsToEndlessLoop=u;function h(j){return(j.global?"g":"")+(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")}e.regExpFlags=h;function d(j){return j.split(/\r\n|\r|\n/)}e.splitLines=d;function r(j){for(let ue=0,X=j.length;ue<X;ue++){const q=j.charCodeAt(ue);if(q!==32&&q!==9)return ue}return-1}e.firstNonWhitespaceIndex=r;function n(j,ue=0,X=j.length){for(let q=ue;q<X;q++){const oe=j.charCodeAt(q);if(oe!==32&&oe!==9)return j.substring(ue,q)}return j.substring(ue,X)}e.getLeadingWhitespace=n;function l(j,ue=j.length-1){for(let X=ue;X>=0;X--){const q=j.charCodeAt(X);if(q!==32&&q!==9)return X}return-1}e.lastNonWhitespaceIndex=l;function t(j,ue){return j<ue?-1:j>ue?1:0}e.compare=t;function o(j,ue,X=0,q=j.length,oe=0,he=ue.length){for(;X<q&&oe<he;X++,oe++){let ve=j.charCodeAt(X),Le=ue.charCodeAt(oe);if(ve<Le)return-1;if(ve>Le)return 1}const ge=q-X,pe=he-oe;return ge<pe?-1:ge>pe?1:0}e.compareSubstring=o;function c(j,ue){return f(j,ue,0,j.length,0,ue.length)}e.compareIgnoreCase=c;function f(j,ue,X=0,q=j.length,oe=0,he=ue.length){for(;X<q&&oe<he;X++,oe++){let ve=j.charCodeAt(X),Le=ue.charCodeAt(oe);if(ve===Le)continue;const Te=ve-Le;if(!(Te===32&&b(Le))&&!(Te===-32&&b(ve)))return y(ve)&&y(Le)?Te:o(j.toLowerCase(),ue.toLowerCase(),X,q,oe,he)}const ge=q-X,pe=he-oe;return ge<pe?-1:ge>pe?1:0}e.compareSubstringIgnoreCase=f;function y(j){return j>=97&&j<=122}e.isLowerAsciiLetter=y;function b(j){return j>=65&&j<=90}e.isUpperAsciiLetter=b;function g(j){return y(j)||b(j)}function m(j,ue){return j.length===ue.length&&w(j,ue)}e.equalsIgnoreCase=m;function w(j,ue,X=j.length){for(let q=0;q<X;q++){const oe=j.charCodeAt(q),he=ue.charCodeAt(q);if(oe!==he){if(g(oe)&&g(he)){const ge=Math.abs(oe-he);if(ge!==0&&ge!==32)return!1}else if(String.fromCharCode(oe).toLowerCase()!==String.fromCharCode(he).toLowerCase())return!1}}return!0}function D(j,ue){const X=ue.length;return ue.length>j.length?!1:w(j,ue,X)}e.startsWithIgnoreCase=D;function k(j,ue){let X,q=Math.min(j.length,ue.length);for(X=0;X<q;X++)if(j.charCodeAt(X)!==ue.charCodeAt(X))return X;return q}e.commonPrefixLength=k;function T(j,ue){let X,q=Math.min(j.length,ue.length);const oe=j.length-1,he=ue.length-1;for(X=0;X<q;X++)if(j.charCodeAt(oe-X)!==ue.charCodeAt(he-X))return X;return q}e.commonSuffixLength=T;function R(j){return 55296<=j&&j<=56319}e.isHighSurrogate=R;function M(j){return 56320<=j&&j<=57343}e.isLowSurrogate=M;function A(j,ue){return(j-55296<<10)+(ue-56320)+65536}e.computeCodePoint=A;function O(j,ue,X){const q=j.charCodeAt(X);if(R(q)&&X+1<ue){const oe=j.charCodeAt(X+1);if(M(oe))return A(q,oe)}return q}e.getNextCodePoint=O;function P(j,ue){const X=j.charCodeAt(ue-1);if(M(X)&&ue>1){const q=j.charCodeAt(ue-2);if(R(q))return A(q,X)}return X}function F(j,ue){const X=ce.getInstance(),q=ue,oe=j.length,he=O(j,oe,ue);ue+=he>=65536?2:1;let ge=X.getGraphemeBreakType(he);for(;ue<oe;){const pe=O(j,oe,ue),ve=X.getGraphemeBreakType(pe);if(ie(ge,ve))break;ue+=pe>=65536?2:1,ge=ve}return ue-q}e.nextCharLength=F;function E(j,ue){const X=ce.getInstance(),q=ue,oe=P(j,ue);ue-=oe>=65536?2:1;let he=X.getGraphemeBreakType(oe);for(;ue>0;){const ge=P(j,ue),pe=X.getGraphemeBreakType(ge);if(ie(pe,he))break;ue-=ge>=65536?2:1,he=pe}return q-ue}e.prevCharLength=E;const x=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function W(j){return x.test(j)}e.containsRTL=W;const G=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function Y(j){return G.test(j)}e.containsEmoji=Y;const se=/^[\t\n\r\x20-\x7E]*$/;function re(j){return se.test(j)}e.isBasicASCII=re,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function J(j){return e.UNUSUAL_LINE_TERMINATORS.test(j)}e.containsUnusualLineTerminators=J;function le(j){for(let ue=0,X=j.length;ue<X;ue++)if(ae(j.charCodeAt(ue)))return!0;return!1}e.containsFullWidthCharacter=le;function ae(j){return j=+j,j>=11904&&j<=55215||j>=63744&&j<=64255||j>=65281&&j<=65374}e.isFullWidthCharacter=ae;function V(j){return j>=127462&&j<=127487||j===8986||j===8987||j===9200||j===9203||j>=9728&&j<=10175||j===11088||j===11093||j>=127744&&j<=128591||j>=128640&&j<=128764||j>=128992&&j<=129003||j>=129280&&j<=129535||j>=129648&&j<=129750}e.isEmojiImprecise=V,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function B(j){return!!(j&&j.length>0&&j.charCodeAt(0)===65279)}e.startsWithUTF8BOM=B;function Z(j,ue=!1){return j?(ue&&(j=j.replace(/\\./g,"")),j.toLowerCase()!==j):!1}e.containsUppercaseCharacter=Z;function H(j){const ue=90-65+1;return j=j%(2*ue),j<ue?String.fromCharCode(97+j):String.fromCharCode(65+j-ue)}e.singleLetterHash=H;function z(j){return ce.getInstance().getGraphemeBreakType(j)}e.getGraphemeBreakType=z;function ie(j,ue){return j===0?ue!==5&&ue!==7:j===2&&ue===3?!1:j===4||j===2||j===3||ue===4||ue===2||ue===3?!0:!(j===8&&(ue===8||ue===9||ue===11||ue===12)||(j===11||j===9)&&(ue===9||ue===10)||(j===12||j===10)&&ue===10||ue===5||ue===13||ue===7||j===1||j===13&&ue===14||j===6&&ue===6)}e.breakBetweenGraphemeBreakType=ie;class ce{constructor(){this._data=K()}static getInstance(){return ce._INSTANCE||(ce._INSTANCE=new ce),ce._INSTANCE}getGraphemeBreakType(ue){if(ue<32)return ue===10?3:ue===13?2:4;if(ue<127)return 0;const X=this._data,q=X.length/3;let oe=1;for(;oe<=q;)if(ue<X[3*oe])oe=2*oe;else if(ue>X[3*oe+1])oe=2*oe+1;else return X[3*oe+2];return 0}}ce._INSTANCE=null;function K(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function Q(j,ue){if(j===0)return 0;const X=U(j,ue);if(X!==void 0)return X;const q=P(ue,j);return j-=ee(q),j}e.getLeftDeleteOffset=Q;function U(j,ue){let X=P(ue,j);for(j-=ee(X);de(X)||X===65039||X===8419;){if(j===0)return;X=P(ue,j),j-=ee(X)}if(!!V(X)){if(j>=0){const q=P(ue,j);q===8205&&(j-=ee(q))}return j}}function ee(j){return j>=65536?2:1}function de(j){return 127995<=j&&j<=127999}}),define(te[159],ne([0,1,73,17,8]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toPosixPath=e.toSlashes=void 0;function L(s){return s.replace(/[\\/]/g,_.posix.sep)}e.toSlashes=L;function S(s){return s.indexOf("/")===-1&&(s=L(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}e.toPosixPath=S;function p(s,a,u,h=_.sep){if(s===a)return!0;if(!s||!a||a.length>s.length)return!1;if(u){if(!(0,I.startsWithIgnoreCase)(s,a))return!1;if(a.length===s.length)return!0;let r=a.length;return a.charAt(a.length-1)===h&&r--,s.charAt(r)===h}return a.charAt(a.length-1)!==h&&(a+=h),s.indexOf(a)===0}e.isEqualOrParent=p;function v(s){return s>=65&&s<=90||s>=97&&s<=122}e.isWindowsDriveLetter=v;function i(s){const a=(0,_.normalize)(s);return N.isWindows?s.length>3?!1:C(a)&&(s.length===2||a.charCodeAt(2)===92):a===_.posix.sep}e.isRootOrDriveLetter=i;function C(s){return N.isWindows?v(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}e.hasDriveLetter=C}),define(te[93],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function N(d){return I(d,0)}e.hash=N;function I(d,r){switch(typeof d){case"object":return d===null?L(349,r):Array.isArray(d)?v(d,r):i(d,r);case"string":return p(d,r);case"boolean":return S(d,r);case"number":return L(d,r);case"undefined":return L(937,r);default:return L(617,r)}}e.doHash=I;function L(d,r){return(r<<5)-r+d|0}function S(d,r){return L(d?433:863,r)}function p(d,r){r=L(149417,r);for(let n=0,l=d.length;n<l;n++)r=L(d.charCodeAt(n),r);return r}e.stringHash=p;function v(d,r){return r=L(104579,r),d.reduce((n,l)=>I(l,n),r)}function i(d,r){return r=L(181387,r),Object.keys(d).sort().reduce((n,l)=>(n=p(l,n),I(d[l],n)),r)}function C(d,r,n=32){const l=n-r,t=~((1<<l)-1);return(d<<r|(t&d)>>>l)>>>0}function s(d,r=0,n=d.byteLength,l=0){for(let t=0;t<n;t++)d[r+t]=l}function a(d,r,n="0"){for(;d.length<r;)d=n+d;return d}function u(d,r=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(n=>n.toString(16).padStart(2,"0")).join(""):a((d>>>0).toString(16),r/4)}e.toHexString=u;class h{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const n=r.length;if(n===0)return;const l=this._buff;let t=this._buffLen,o=this._leftoverHighSurrogate,c,f;for(o!==0?(c=o,f=-1,o=0):(c=r.charCodeAt(0),f=0);;){let y=c;if(_.isHighSurrogate(c))if(f+1<n){const b=r.charCodeAt(f+1);_.isLowSurrogate(b)?(f++,y=_.computeCodePoint(c,b)):y=65533}else{o=c;break}else _.isLowSurrogate(c)&&(y=65533);if(t=this._push(l,t,y),f++,f<n)c=r.charCodeAt(f);else break}this._buffLen=t,this._leftoverHighSurrogate=o}_push(r,n,l){return l<128?r[n++]=l:l<2048?(r[n++]=192|(l&1984)>>>6,r[n++]=128|(l&63)>>>0):l<65536?(r[n++]=224|(l&61440)>>>12,r[n++]=128|(l&4032)>>>6,r[n++]=128|(l&63)>>>0):(r[n++]=240|(l&1835008)>>>18,r[n++]=128|(l&258048)>>>12,r[n++]=128|(l&4032)>>>6,r[n++]=128|(l&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),u(this._h0)+u(this._h1)+u(this._h2)+u(this._h3)+u(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=h._bigBlock32,n=this._buffDV;for(let m=0;m<64;m+=4)r.setUint32(m,n.getUint32(m,!1),!1);for(let m=64;m<320;m+=4)r.setUint32(m,C(r.getUint32(m-12,!1)^r.getUint32(m-32,!1)^r.getUint32(m-56,!1)^r.getUint32(m-64,!1),1),!1);let l=this._h0,t=this._h1,o=this._h2,c=this._h3,f=this._h4,y,b,g;for(let m=0;m<80;m++)m<20?(y=t&o|~t&c,b=1518500249):m<40?(y=t^o^c,b=1859775393):m<60?(y=t&o|t&c|o&c,b=2400959708):(y=t^o^c,b=3395469782),g=C(l,5)+y+f+b+r.getUint32(m*4,!1)&4294967295,f=c,c=o,o=C(t,30),t=l,l=g;this._h0=this._h0+l&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+c&4294967295,this._h4=this._h4+f&4294967295}}e.StringSHA1=h,h._bigBlock32=new DataView(new ArrayBuffer(320))}),define(te[130],ne([0,1,292,93]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class I{constructor(s){this.source=s}getElements(){const s=this.source,a=new Int32Array(s.length);for(let u=0,h=s.length;u<h;u++)a[u]=s.charCodeAt(u);return a}}e.StringDiffSequence=I;function L(C,s,a){return new i(new I(C),new I(s)).ComputeDiff(a).changes}e.stringDiff=L;class S{static Assert(s,a){if(!s)throw new Error(a)}}e.Debug=S;class p{static Copy(s,a,u,h,d){for(let r=0;r<d;r++)u[h+r]=s[a+r]}static Copy2(s,a,u,h,d){for(let r=0;r<d;r++)u[h+r]=s[a+r]}}e.MyArray=p;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new _.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,a){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(s,a){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(s,a,u=null){this.ContinueProcessingPredicate=u,this._originalSequence=s,this._modifiedSequence=a;const[h,d,r]=i._getElements(s),[n,l,t]=i._getElements(a);this._hasStrings=r&&t,this._originalStringElements=h,this._originalElementsOrHash=d,this._modifiedStringElements=n,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const a=s.getElements();if(i._isStringArray(a)){const u=new Int32Array(a.length);for(let h=0,d=a.length;h<d;h++)u[h]=(0,N.stringHash)(a[h],0);return[a,u,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(s,a){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[a]:!0}ElementsAreStrictEqual(s,a){if(!this.ElementsAreEqual(s,a))return!1;const u=i._getStrictElement(this._originalSequence,s),h=i._getStrictElement(this._modifiedSequence,a);return u===h}static _getStrictElement(s,a){return typeof s.getStrictElement=="function"?s.getStrictElement(a):null}OriginalElementsAreEqual(s,a){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(s,a){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[a]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,a,u,h,d){const r=[!1];let n=this.ComputeDiffRecursive(s,a,u,h,r);return d&&(n=this.PrettifyChanges(n)),{quitEarly:r[0],changes:n}}ComputeDiffRecursive(s,a,u,h,d){for(d[0]=!1;s<=a&&u<=h&&this.ElementsAreEqual(s,u);)s++,u++;for(;a>=s&&h>=u&&this.ElementsAreEqual(a,h);)a--,h--;if(s>a||u>h){let c;return u<=h?(S.Assert(s===a+1,"originalStart should only be one more than originalEnd"),c=[new _.DiffChange(s,0,u,h-u+1)]):s<=a?(S.Assert(u===h+1,"modifiedStart should only be one more than modifiedEnd"),c=[new _.DiffChange(s,a-s+1,u,0)]):(S.Assert(s===a+1,"originalStart should only be one more than originalEnd"),S.Assert(u===h+1,"modifiedStart should only be one more than modifiedEnd"),c=[]),c}const r=[0],n=[0],l=this.ComputeRecursionPoint(s,a,u,h,r,n,d),t=r[0],o=n[0];if(l!==null)return l;if(!d[0]){const c=this.ComputeDiffRecursive(s,t,u,o,d);let f=[];return d[0]?f=[new _.DiffChange(t+1,a-(t+1)+1,o+1,h-(o+1)+1)]:f=this.ComputeDiffRecursive(t+1,a,o+1,h,d),this.ConcatenateChanges(c,f)}return[new _.DiffChange(s,a-s+1,u,h-u+1)]}WALKTRACE(s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D){let k=null,T=null,R=new v,M=a,A=u,O=y[0]-m[0]-h,P=-1073741824,F=this.m_forwardHistory.length-1;do{const E=O+s;E===M||E<A&&t[E-1]<t[E+1]?(c=t[E+1],b=c-O-h,c<P&&R.MarkNextChange(),P=c,R.AddModifiedElement(c+1,b),O=E+1-s):(c=t[E-1]+1,b=c-O-h,c<P&&R.MarkNextChange(),P=c-1,R.AddOriginalElement(c,b+1),O=E-1-s),F>=0&&(t=this.m_forwardHistory[F],s=t[0],M=1,A=t.length-1)}while(--F>=-1);if(k=R.getReverseChanges(),D[0]){let E=y[0]+1,x=m[0]+1;if(k!==null&&k.length>0){const W=k[k.length-1];E=Math.max(E,W.getOriginalEnd()),x=Math.max(x,W.getModifiedEnd())}T=[new _.DiffChange(E,f-E+1,x,g-x+1)]}else{R=new v,M=r,A=n,O=y[0]-m[0]-l,P=1073741824,F=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const E=O+d;E===M||E<A&&o[E-1]>=o[E+1]?(c=o[E+1]-1,b=c-O-l,c>P&&R.MarkNextChange(),P=c+1,R.AddOriginalElement(c+1,b+1),O=E+1-d):(c=o[E-1],b=c-O-l,c>P&&R.MarkNextChange(),P=c,R.AddModifiedElement(c+1,b+1),O=E-1-d),F>=0&&(o=this.m_reverseHistory[F],d=o[0],M=1,A=o.length-1)}while(--F>=-1);T=R.getChanges()}return this.ConcatenateChanges(k,T)}ComputeRecursionPoint(s,a,u,h,d,r,n){let l=0,t=0,o=0,c=0,f=0,y=0;s--,u--,d[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const b=a-s+(h-u),g=b+1,m=new Int32Array(g),w=new Int32Array(g),D=h-u,k=a-s,T=s-u,R=a-h,A=(k-D)%2==0;m[D]=s,w[k]=a,n[0]=!1;for(let O=1;O<=b/2+1;O++){let P=0,F=0;o=this.ClipDiagonalBound(D-O,O,D,g),c=this.ClipDiagonalBound(D+O,O,D,g);for(let x=o;x<=c;x+=2){x===o||x<c&&m[x-1]<m[x+1]?l=m[x+1]:l=m[x-1]+1,t=l-(x-D)-T;const W=l;for(;l<a&&t<h&&this.ElementsAreEqual(l+1,t+1);)l++,t++;if(m[x]=l,l+t>P+F&&(P=l,F=t),!A&&Math.abs(x-k)<=O-1&&l>=w[x])return d[0]=l,r[0]=t,W<=w[x]&&1447>0&&O<=1447+1?this.WALKTRACE(D,o,c,T,k,f,y,R,m,w,l,a,d,t,h,r,A,n):null}const E=(P-s+(F-u)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,E))return n[0]=!0,d[0]=P,r[0]=F,E>0&&1447>0&&O<=1447+1?this.WALKTRACE(D,o,c,T,k,f,y,R,m,w,l,a,d,t,h,r,A,n):(s++,u++,[new _.DiffChange(s,a-s+1,u,h-u+1)]);f=this.ClipDiagonalBound(k-O,O,k,g),y=this.ClipDiagonalBound(k+O,O,k,g);for(let x=f;x<=y;x+=2){x===f||x<y&&w[x-1]>=w[x+1]?l=w[x+1]-1:l=w[x-1],t=l-(x-k)-R;const W=l;for(;l>s&&t>u&&this.ElementsAreEqual(l,t);)l--,t--;if(w[x]=l,A&&Math.abs(x-D)<=O&&l<=m[x])return d[0]=l,r[0]=t,W>=m[x]&&1447>0&&O<=1447+1?this.WALKTRACE(D,o,c,T,k,f,y,R,m,w,l,a,d,t,h,r,A,n):null}if(O<=1447){let x=new Int32Array(c-o+2);x[0]=D-o+1,p.Copy2(m,o,x,1,c-o+1),this.m_forwardHistory.push(x),x=new Int32Array(y-f+2),x[0]=k-f+1,p.Copy2(w,f,x,1,y-f+1),this.m_reverseHistory.push(x)}}return this.WALKTRACE(D,o,c,T,k,f,y,R,m,w,l,a,d,t,h,r,A,n)}PrettifyChanges(s){for(let a=0;a<s.length;a++){const u=s[a],h=a<s.length-1?s[a+1].originalStart:this._originalElementsOrHash.length,d=a<s.length-1?s[a+1].modifiedStart:this._modifiedElementsOrHash.length,r=u.originalLength>0,n=u.modifiedLength>0;for(;u.originalStart+u.originalLength<h&&u.modifiedStart+u.modifiedLength<d&&(!r||this.OriginalElementsAreEqual(u.originalStart,u.originalStart+u.originalLength))&&(!n||this.ModifiedElementsAreEqual(u.modifiedStart,u.modifiedStart+u.modifiedLength));){const t=this.ElementsAreStrictEqual(u.originalStart,u.modifiedStart);if(this.ElementsAreStrictEqual(u.originalStart+u.originalLength,u.modifiedStart+u.modifiedLength)&&!t)break;u.originalStart++,u.modifiedStart++}let l=[null];if(a<s.length-1&&this.ChangesOverlap(s[a],s[a+1],l)){s[a]=l[0],s.splice(a+1,1),a--;continue}}for(let a=s.length-1;a>=0;a--){const u=s[a];let h=0,d=0;if(a>0){const c=s[a-1];h=c.originalStart+c.originalLength,d=c.modifiedStart+c.modifiedLength}const r=u.originalLength>0,n=u.modifiedLength>0;let l=0,t=this._boundaryScore(u.originalStart,u.originalLength,u.modifiedStart,u.modifiedLength);for(let c=1;;c++){const f=u.originalStart-c,y=u.modifiedStart-c;if(f<h||y<d||r&&!this.OriginalElementsAreEqual(f,f+u.originalLength)||n&&!this.ModifiedElementsAreEqual(y,y+u.modifiedLength))break;const g=(f===h&&y===d?5:0)+this._boundaryScore(f,u.originalLength,y,u.modifiedLength);g>t&&(t=g,l=c)}u.originalStart-=l,u.modifiedStart-=l;const o=[null];if(a>0&&this.ChangesOverlap(s[a-1],s[a],o)){s[a-1]=o[0],s.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,u=s.length;a<u;a++){const h=s[a-1],d=s[a],r=d.originalStart-h.originalStart-h.originalLength,n=h.originalStart,l=d.originalStart+d.originalLength,t=l-n,o=h.modifiedStart,c=d.modifiedStart+d.modifiedLength,f=c-o;if(r<5&&t<20&&f<20){const y=this._findBetterContiguousSequence(n,t,o,f,r);if(y){const[b,g]=y;(b!==h.originalStart+h.originalLength||g!==h.modifiedStart+h.modifiedLength)&&(h.originalLength=b-h.originalStart,h.modifiedLength=g-h.modifiedStart,d.originalStart=b+r,d.modifiedStart=g+r,d.originalLength=l-d.originalStart,d.modifiedLength=c-d.modifiedStart)}}}return s}_findBetterContiguousSequence(s,a,u,h,d){if(a<d||h<d)return null;const r=s+a-d+1,n=u+h-d+1;let l=0,t=0,o=0;for(let c=s;c<r;c++)for(let f=u;f<n;f++){const y=this._contiguousSequenceScore(c,f,d);y>0&&y>l&&(l=y,t=c,o=f)}return l>0?[t,o]:null}_contiguousSequenceScore(s,a,u){let h=0;for(let d=0;d<u;d++){if(!this.ElementsAreEqual(s+d,a+d))return 0;h+=this._originalStringElements[s+d].length}return h}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,a){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(a>0){const u=s+a;if(this._OriginalIsBoundary(u-1)||this._OriginalIsBoundary(u))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,a){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(a>0){const u=s+a;if(this._ModifiedIsBoundary(u-1)||this._ModifiedIsBoundary(u))return!0}return!1}_boundaryScore(s,a,u,h){const d=this._OriginalRegionIsBoundary(s,a)?1:0,r=this._ModifiedRegionIsBoundary(u,h)?1:0;return d+r}ConcatenateChanges(s,a){let u=[];if(s.length===0||a.length===0)return a.length>0?a:s;if(this.ChangesOverlap(s[s.length-1],a[0],u)){const h=new Array(s.length+a.length-1);return p.Copy(s,0,h,0,s.length-1),h[s.length-1]=u[0],p.Copy(a,1,h,s.length,a.length-1),h}else{const h=new Array(s.length+a.length);return p.Copy(s,0,h,0,s.length),p.Copy(a,0,h,s.length,a.length),h}}ChangesOverlap(s,a,u){if(S.Assert(s.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),S.Assert(s.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=a.originalStart||s.modifiedStart+s.modifiedLength>=a.modifiedStart){const h=s.originalStart;let d=s.originalLength;const r=s.modifiedStart;let n=s.modifiedLength;return s.originalStart+s.originalLength>=a.originalStart&&(d=a.originalStart+a.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=a.modifiedStart&&(n=a.modifiedStart+a.modifiedLength-s.modifiedStart),u[0]=new _.DiffChange(h,d,r,n),!0}else return u[0]=null,!1}ClipDiagonalBound(s,a,u,h){if(s>=0&&s<h)return s;const d=u,r=h-u-1,n=a%2==0;if(s<0){const l=d%2==0;return n===l?0:1}else{const l=r%2==0;return n===l?h-1:h-2}}}e.LcsDiff=i}),define(te[160],ne([0,1,102,19,130,6,54]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function p(s){return typeof s=="object"&&"visibility"in s&&"data"in s}e.isFilterResult=p;function v(s){switch(s){case!0:return 1;case!1:return 0;default:return s}}e.getVisibleState=v;function i(s){return typeof s.collapsible=="boolean"}class C{constructor(a,u,h,d={}){this.user=a,this.list=u,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:h,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(a,u,h=S.Iterable.empty(),d={}){if(a.length===0)throw new _.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,a,u,h,d):this.spliceSimple(a,u,h,d)}spliceSmart(a,u,h,d,r,n){var l;d===void 0&&(d=S.Iterable.empty()),n===void 0&&(n=(l=r.diffDepth)!==null&&l!==void 0?l:0);const{parentNode:t}=this.getParentNodeWithListIndex(u),o=[...d],c=u[u.length-1],f=new I.LcsDiff({getElements:()=>t.children.map(w=>a.getId(w.element).toString())},{getElements:()=>[...t.children.slice(0,c),...o,...t.children.slice(c+h)].map(w=>a.getId(w.element).toString())}).ComputeDiff(!1);if(f.quitEarly)return this.spliceSimple(u,h,o,r);const y=u.slice(0,-1),b=(w,D,k)=>{if(n>0)for(let T=0;T<k;T++)w--,D--,this.spliceSmart(a,[...y,w,0],Number.MAX_SAFE_INTEGER,o[D].children,r,n-1)};let g=Math.min(t.children.length,c+h),m=o.length;for(const w of f.changes.sort((D,k)=>k.originalStart-D.originalStart))b(g,m,g-(w.originalStart+w.originalLength)),g=w.originalStart,m=w.modifiedStart-c,this.spliceSimple([...y,g],w.originalLength,S.Iterable.slice(o,m,m+w.modifiedLength),r);b(g,m,g)}spliceSimple(a,u,h=S.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:r}){const{parentNode:n,listIndex:l,revealed:t,visible:o}=this.getParentNodeWithListIndex(a),c=[],f=S.Iterable.map(h,A=>this.createTreeNode(A,n,n.visible?1:0,t,c,d)),y=a[a.length-1],b=n.children.length>0;let g=0;for(let A=y;A>=0&&A<n.children.length;A--){const O=n.children[A];if(O.visible){g=O.visibleChildIndex;break}}const m=[];let w=0,D=0;for(const A of f)m.push(A),D+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=g+w++);const k=(0,N.splice)(n.children,y,u,m);let T=0;for(const A of k)A.visible&&T++;if(T!==0)for(let A=y+m.length;A<n.children.length;A++){const O=n.children[A];O.visible&&(O.visibleChildIndex-=T)}if(n.visibleChildrenCount+=w-T,t&&o){const A=k.reduce((O,P)=>O+(P.visible?P.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,D-A),this.list.splice(l,A,c)}if(k.length>0&&r){const A=O=>{r(O),O.children.forEach(A)};k.forEach(A)}const R=n.children.length>0;b!==R&&this.setCollapsible(a.slice(0,-1),R),this._onDidSplice.fire({insertedNodes:m,deletedNodes:k});let M=n;for(;M;){if(M.visibility===2){this.refilter();break}M=M.parent}}rerender(a){if(a.length===0)throw new _.TreeError(this.user,"Invalid tree location");const{node:u,listIndex:h,revealed:d}=this.getTreeNodeWithListIndex(a);u.visible&&d&&this.list.splice(h,1,[u])}has(a){return this.hasTreeNode(a)}getListIndex(a){const{listIndex:u,visible:h,revealed:d}=this.getTreeNodeWithListIndex(a);return h&&d?u:-1}getListRenderCount(a){return this.getTreeNode(a).renderNodeCount}isCollapsible(a){return this.getTreeNode(a).collapsible}setCollapsible(a,u){const h=this.getTreeNode(a);typeof u=="undefined"&&(u=!h.collapsible);const d={collapsible:u};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,d))}isCollapsed(a){return this.getTreeNode(a).collapsed}setCollapsed(a,u,h){const d=this.getTreeNode(a);typeof u=="undefined"&&(u=!d.collapsed);const r={collapsed:u,recursive:h||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,r))}_setCollapseState(a,u){const{node:h,listIndex:d,revealed:r}=this.getTreeNodeWithListIndex(a),n=this._setListNodeCollapseState(h,d,r,u);if(h!==this.root&&this.autoExpandSingleChildren&&n&&!i(u)&&h.collapsible&&!h.collapsed&&!u.recursive){let l=-1;for(let t=0;t<h.children.length;t++)if(h.children[t].visible)if(l>-1){l=-1;break}else l=t;l>-1&&this._setCollapseState([...a,l],u)}return n}_setListNodeCollapseState(a,u,h,d){const r=this._setNodeCollapseState(a,d,!1);if(!h||!a.visible||!r)return r;const n=a.renderNodeCount,l=this.updateNodeAfterCollapseChange(a),t=n-(u===-1?0:1);return this.list.splice(u+1,t,l.slice(1)),r}_setNodeCollapseState(a,u,h){let d;if(a===this.root?d=!1:(i(u)?(d=a.collapsible!==u.collapsible,a.collapsible=u.collapsible):a.collapsible?(d=a.collapsed!==u.collapsed,a.collapsed=u.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:a,deep:h})),!i(u)&&u.recursive)for(const r of a.children)d=this._setNodeCollapseState(r,u,!0)||d;return d}expandTo(a){this.eventBufferer.bufferEvents(()=>{let u=this.getTreeNode(a);for(;u.parent;)u=u.parent,a=a.slice(0,a.length-1),u.collapsed&&this._setCollapseState(a,{collapsed:!1,recursive:!1})})}refilter(){const a=this.root.renderNodeCount,u=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,a,u)}createTreeNode(a,u,h,d,r,n){const l={parent:u,element:a.element,children:[],depth:u.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible=="boolean"?a.collapsible:typeof a.collapsed!="undefined",collapsed:typeof a.collapsed=="undefined"?this.collapseByDefault:a.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(l,h);l.visibility=t,d&&r.push(l);const o=a.children||S.Iterable.empty(),c=d&&t!==0&&!l.collapsed,f=S.Iterable.map(o,g=>this.createTreeNode(g,l,t,c,r,n));let y=0,b=1;for(const g of f)l.children.push(g),b+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=y++);return l.collapsible=l.collapsible||l.children.length>0,l.visibleChildrenCount=y,l.visible=t===2?y>0:t===1,l.visible?l.collapsed||(l.renderNodeCount=b):(l.renderNodeCount=0,d&&r.pop()),n&&n(l),l}updateNodeAfterCollapseChange(a){const u=a.renderNodeCount,h=[];return this._updateNodeAfterCollapseChange(a,h),this._updateAncestorsRenderNodeCount(a.parent,h.length-u),h}_updateNodeAfterCollapseChange(a,u){if(a.visible===!1)return 0;if(u.push(a),a.renderNodeCount=1,!a.collapsed)for(const h of a.children)a.renderNodeCount+=this._updateNodeAfterCollapseChange(h,u);return this._onDidChangeRenderNodeCount.fire(a),a.renderNodeCount}updateNodeAfterFilterChange(a){const u=a.renderNodeCount,h=[];return this._updateNodeAfterFilterChange(a,a.visible?1:0,h),this._updateAncestorsRenderNodeCount(a.parent,h.length-u),h}_updateNodeAfterFilterChange(a,u,h,d=!0){let r;if(a!==this.root){if(r=this._filterNode(a,u),r===0)return a.visible=!1,a.renderNodeCount=0,!1;d&&h.push(a)}const n=h.length;a.renderNodeCount=a===this.root?0:1;let l=!1;if(!a.collapsed||r!==0){let t=0;for(const o of a.children)l=this._updateNodeAfterFilterChange(o,r,h,d&&!a.collapsed)||l,o.visible&&(o.visibleChildIndex=t++);a.visibleChildrenCount=t}else a.visibleChildrenCount=0;return a!==this.root&&(a.visible=r===2?l:r===1),a.visible?a.collapsed||(a.renderNodeCount+=h.length-n):(a.renderNodeCount=0,d&&h.pop()),this._onDidChangeRenderNodeCount.fire(a),a.visible}_updateAncestorsRenderNodeCount(a,u){if(u!==0)for(;a;)a.renderNodeCount+=u,this._onDidChangeRenderNodeCount.fire(a),a=a.parent}_filterNode(a,u){const h=this.filter?this.filter.filter(a.element,u):1;return typeof h=="boolean"?(a.filterData=void 0,h?1:0):p(h)?(a.filterData=h.data,v(h.visibility)):(a.filterData=void 0,v(h))}hasTreeNode(a,u=this.root){if(!a||a.length===0)return!0;const[h,...d]=a;return h<0||h>u.children.length?!1:this.hasTreeNode(d,u.children[h])}getTreeNode(a,u=this.root){if(!a||a.length===0)return u;const[h,...d]=a;if(h<0||h>u.children.length)throw new _.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,u.children[h])}getTreeNodeWithListIndex(a){if(a.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:u,listIndex:h,revealed:d,visible:r}=this.getParentNodeWithListIndex(a),n=a[a.length-1];if(n<0||n>u.children.length)throw new _.TreeError(this.user,"Invalid tree location");const l=u.children[n];return{node:l,listIndex:h,revealed:d,visible:r&&l.visible}}getParentNodeWithListIndex(a,u=this.root,h=0,d=!0,r=!0){const[n,...l]=a;if(n<0||n>u.children.length)throw new _.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)h+=u.children[t].renderNodeCount;return d=d&&!u.collapsed,r=r&&u.visible,l.length===0?{parentNode:u,listIndex:h,revealed:d,visible:r}:this.getParentNodeWithListIndex(l,u.children[n],h+1,d,r)}getNode(a=[]){return this.getTreeNode(a)}getNodeLocation(a){const u=[];let h=a;for(;h.parent;)u.push(h.parent.children.indexOf(h)),h=h.parent;return u.reverse()}getParentNodeLocation(a){if(a.length!==0)return a.length===1?[]:(0,N.tail2)(a)[0]}}e.IndexTreeModel=C}),define(te[161],ne([0,1,160,102,54]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class L{constructor(p,v,i={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new _.IndexTreeModel(p,v,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(C,s){return i.sorter.compare(C.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(p,v=I.Iterable.empty(),i={}){const C=this.getElementLocation(p);this._setChildren(C,this.preserveCollapseState(v),i)}_setChildren(p,v=I.Iterable.empty(),i){const C=new Set,s=new Set,a=h=>{var d;if(h.element===null)return;const r=h;if(C.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();s.add(n),this.nodesByIdentity.set(n,r)}(d=i.onDidCreateNode)===null||d===void 0||d.call(i,r)},u=h=>{var d;if(h.element===null)return;const r=h;if(C.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();s.has(n)||this.nodesByIdentity.delete(n)}(d=i.onDidDeleteNode)===null||d===void 0||d.call(i,r)};this.model.splice([...p,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},i),{onDidCreateNode:a,onDidDeleteNode:u}))}preserveCollapseState(p=I.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),I.Iterable.map(p,v=>{let i=this.nodes.get(v.element);if(!i&&this.identityProvider){const a=this.identityProvider.getId(v.element).toString();i=this.nodesByIdentity.get(a)}if(!i)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const C=typeof v.collapsible=="boolean"?v.collapsible:i.collapsible,s=typeof v.collapsed!="undefined"?v.collapsed:i.collapsed;return Object.assign(Object.assign({},v),{collapsible:C,collapsed:s,children:this.preserveCollapseState(v.children)})})}rerender(p){const v=this.getElementLocation(p);this.model.rerender(v)}has(p){return this.nodes.has(p)}getListIndex(p){const v=this.getElementLocation(p);return this.model.getListIndex(v)}getListRenderCount(p){const v=this.getElementLocation(p);return this.model.getListRenderCount(v)}isCollapsible(p){const v=this.getElementLocation(p);return this.model.isCollapsible(v)}setCollapsible(p,v){const i=this.getElementLocation(p);return this.model.setCollapsible(i,v)}isCollapsed(p){const v=this.getElementLocation(p);return this.model.isCollapsed(v)}setCollapsed(p,v,i){const C=this.getElementLocation(p);return this.model.setCollapsed(C,v,i)}expandTo(p){const v=this.getElementLocation(p);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(p);if(!v)throw new N.TreeError(this.user,`Tree element not found: ${p}`);return v}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new N.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(p);if(!v)throw new N.TreeError(this.user,`Tree element not found: ${p}`);const i=this.model.getNodeLocation(v),C=this.model.getParentNodeLocation(i);return this.model.getNode(C).element}getElementLocation(p){if(p===null)return[];const v=this.nodes.get(p);if(!v)throw new N.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=L}),define(te[299],ne([0,1,161,102,6,54]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(l){const t=[l.element],o=l.incompressible||!1;return{element:{elements:t,incompressible:o},children:L.Iterable.map(L.Iterable.from(l.children),S),collapsible:l.collapsible,collapsed:l.collapsed}}function p(l){const t=[l.element],o=l.incompressible||!1;let c,f;for(;[f,c]=L.Iterable.consume(L.Iterable.from(l.children),2),!(f.length!==1||f[0].incompressible);)l=f[0],t.push(l.element);return{element:{elements:t,incompressible:o},children:L.Iterable.map(L.Iterable.concat(f,c),p),collapsible:l.collapsible,collapsed:l.collapsed}}e.compress=p;function v(l,t=0){let o;return t<l.element.elements.length-1?o=[v(l,t+1)]:o=L.Iterable.map(L.Iterable.from(l.children),c=>v(c,0)),t===0&&l.element.incompressible?{element:l.element.elements[t],children:o,incompressible:!0,collapsible:l.collapsible,collapsed:l.collapsed}:{element:l.element.elements[t],children:o,collapsible:l.collapsible,collapsed:l.collapsed}}function i(l){return v(l,0)}e.decompress=i;function C(l,t,o){return l.element===t?Object.assign(Object.assign({},l),{children:o}):Object.assign(Object.assign({},l),{children:L.Iterable.map(L.Iterable.from(l.children),c=>C(c,t,o))})}const s=l=>({getId(t){return t.elements.map(o=>l.getId(o).toString()).join("\0")}});class a{constructor(t,o,c={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new _.ObjectTreeModel(t,o,c),this.enabled=typeof c.compressionEnabled=="undefined"?!0:c.compressionEnabled,this.identityProvider=c.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,o=L.Iterable.empty(),c){const f=c.diffIdentityProvider&&s(c.diffIdentityProvider);if(t===null){const R=L.Iterable.map(o,this.enabled?p:S);this._setChildren(null,R,{diffIdentityProvider:f,diffDepth:Infinity});return}const y=this.nodes.get(t);if(!y)throw new Error("Unknown compressed tree node");const b=this.model.getNode(y),g=this.model.getParentNodeLocation(y),m=this.model.getNode(g),w=i(b),D=C(w,t,o),k=(this.enabled?p:S)(D),T=m.children.map(R=>R===b?k:R);this._setChildren(m.element,T,{diffIdentityProvider:f,diffDepth:b.depth-m.depth})}setCompressionEnabled(t){if(t===this.enabled)return;this.enabled=t;const c=this.model.getNode().children,f=L.Iterable.map(c,i),y=L.Iterable.map(f,t?p:S);this._setChildren(null,y,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(t,o,c){const f=new Set,y=g=>{for(const m of g.element.elements)f.add(m),this.nodes.set(m,g.element)},b=g=>{for(const m of g.element.elements)f.has(m)||this.nodes.delete(m)};this.model.setChildren(t,o,Object.assign(Object.assign({},c),{onDidCreateNode:y,onDidDeleteNode:b}))}has(t){return this.nodes.has(t)}getListIndex(t){const o=this.getCompressedNode(t);return this.model.getListIndex(o)}getListRenderCount(t){const o=this.getCompressedNode(t);return this.model.getListRenderCount(o)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const o=this.getCompressedNode(t);return this.model.getNode(o)}getNodeLocation(t){const o=this.model.getNodeLocation(t);return o===null?null:o.elements[o.elements.length-1]}getParentNodeLocation(t){const o=this.getCompressedNode(t),c=this.model.getParentNodeLocation(o);return c===null?null:c.elements[c.elements.length-1]}isCollapsible(t){const o=this.getCompressedNode(t);return this.model.isCollapsible(o)}setCollapsible(t,o){const c=this.getCompressedNode(t);return this.model.setCollapsible(c,o)}isCollapsed(t){const o=this.getCompressedNode(t);return this.model.isCollapsed(o)}setCollapsed(t,o,c){const f=this.getCompressedNode(t);return this.model.setCollapsed(f,o,c)}expandTo(t){const o=this.getCompressedNode(t);this.model.expandTo(o)}rerender(t){const o=this.getCompressedNode(t);this.model.rerender(o)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const o=this.nodes.get(t);if(!o)throw new N.TreeError(this.user,`Tree element not found: ${t}`);return o}}e.CompressedObjectTreeModel=a;const u=l=>l[l.length-1];e.DefaultElementMapper=u;class h{constructor(t,o){this.unwrapper=t,this.node=o}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new h(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(l,t){return{splice(o,c,f){t.splice(o,c,f.map(y=>l.map(y)))},updateElementHeight(o,c){t.updateElementHeight(o,c)}}}function r(l,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(o){return t.identityProvider.getId(l(o))}},sorter:t.sorter&&{compare(o,c){return t.sorter.compare(o.elements[0],c.elements[0])}},filter:t.filter&&{filter(o,c){return t.filter.filter(l(o),c)}}})}class n{constructor(t,o,c={}){this.rootRef=null,this.elementMapper=c.elementMapper||e.DefaultElementMapper;const f=y=>this.elementMapper(y.elements);this.nodeMapper=new N.WeakMapper(y=>new h(f,y)),this.model=new a(t,d(this.nodeMapper,o),r(f,c))}get onDidSplice(){return I.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:o})=>({insertedNodes:t.map(c=>this.nodeMapper.map(c)),deletedNodes:o.map(c=>this.nodeMapper.map(c))}))}get onDidChangeCollapseState(){return I.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:o})=>({node:this.nodeMapper.map(t),deep:o}))}get onDidChangeRenderNodeCount(){return I.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,o=L.Iterable.empty(),c={}){this.model.setChildren(t,o,c)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,o){return this.model.setCollapsible(t,o)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,o,c){return this.model.setCollapsed(t,o,c)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(te[300],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function N(S,p){if(S&&S[0]!==""){const v=I(S,p,"-"),i=I(S,p,"_");return v&&!i?L(S,p,"-"):!v&&i?L(S,p,"_"):S[0].toUpperCase()===S[0]?p.toUpperCase():S[0].toLowerCase()===S[0]?p.toLowerCase():_.containsUppercaseCharacter(S[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):S[0][0].toUpperCase()!==S[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}e.buildReplaceStringWithCasePreserved=N;function I(S,p,v){return S[0].indexOf(v)!==-1&&p.indexOf(v)!==-1&&S[0].split(v).length===p.split(v).length}function L(S,p,v){const i=p.split(v),C=S[0].split(v);let s="";return i.forEach((a,u)=>{s+=N([C[u]],a)+v}),s.slice(0,-1)}}),define(te[74],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var N;(function(I){I[I.Ignore=0]="Ignore",I[I.Info=1]="Info",I[I.Warning=2]="Warning",I[I.Error=3]="Error"})(N||(N={})),function(I){const L="error",S="warning",p="warn",v="info",i="ignore";function C(a){return a?_.equalsIgnoreCase(L,a)?I.Error:_.equalsIgnoreCase(S,a)||_.equalsIgnoreCase(p,a)?I.Warning:_.equalsIgnoreCase(v,a)?I.Info:I.Ignore:I.Ignore}I.fromValue=C;function s(a){switch(a){case I.Error:return L;case I.Warning:return S;case I.Info:return v;default:return i}}I.toString=s}(N||(N={})),e.default=N}),define(te[20],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function _(t){return Array.isArray(t)}e.isArray=_;function N(t){return typeof t=="string"}e.isString=N;function I(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}e.isObject=I;function L(t){return typeof t=="number"&&!isNaN(t)}e.isNumber=L;function S(t){return t===!0||t===!1}e.isBoolean=S;function p(t){return typeof t=="undefined"}e.isUndefined=p;function v(t){return p(t)||t===null}e.isUndefinedOrNull=v;function i(t,o){if(!t)throw new Error(o?`Unexpected type, expected '${o}'`:"Unexpected type")}e.assertType=i;function C(t){if(v(t))throw new Error("Assertion Failed: argument is undefined or null");return t}e.assertIsDefined=C;function s(t){return typeof t=="function"}e.isFunction=s;function a(t,o){const c=Math.min(t.length,o.length);for(let f=0;f<c;f++)u(t[f],o[f])}e.validateConstraints=a;function u(t,o){if(N(o)){if(typeof t!==o)throw new Error(`argument does not match constraint: typeof ${o}`)}else if(s(o)){try{if(t instanceof o)return}catch(c){}if(!v(t)&&t.constructor===o||o.length===1&&o.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=u;function h(t){let o=[],c=Object.getPrototypeOf(t);for(;Object.prototype!==c;)o=o.concat(Object.getOwnPropertyNames(c)),c=Object.getPrototypeOf(c);return o}e.getAllPropertyNames=h;function d(t){const o=[];for(const c of h(t))typeof t[c]=="function"&&o.push(c);return o}e.getAllMethodNames=d;function r(t,o){const c=y=>function(){const b=Array.prototype.slice.call(arguments,0);return o(y,b)};let f={};for(const y of t)f[y]=c(y);return f}e.createProxyObject=r;function n(t){return t===null?void 0:t}e.withNullAsUndefined=n;function l(t,o="Unreachable"){throw new Error(o)}e.assertNever=l}),define(te[35],ne([0,1,20]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function N(s){if(!s||typeof s!="object"||s instanceof RegExp)return s;const a=Array.isArray(s)?[]:{};return Object.keys(s).forEach(u=>{s[u]&&typeof s[u]=="object"?a[u]=N(s[u]):a[u]=s[u]}),a}e.deepClone=N;function I(s){if(!s||typeof s!="object")return s;const a=[s];for(;a.length>0;){const u=a.shift();Object.freeze(u);for(const h in u)if(L.call(u,h)){const d=u[h];typeof d=="object"&&!Object.isFrozen(d)&&a.push(d)}}return s}e.deepFreeze=I;const L=Object.prototype.hasOwnProperty;function S(s,a){return p(s,a,new Set)}e.cloneAndChange=S;function p(s,a,u){if((0,_.isUndefinedOrNull)(s))return s;const h=a(s);if(typeof h!="undefined")return h;if((0,_.isArray)(s)){const d=[];for(const r of s)d.push(p(r,a,u));return d}if((0,_.isObject)(s)){if(u.has(s))throw new Error("Cannot clone recursive data-structure");u.add(s);const d={};for(let r in s)L.call(s,r)&&(d[r]=p(s[r],a,u));return u.delete(s),d}return s}function v(s,a,u=!0){return(0,_.isObject)(s)?((0,_.isObject)(a)&&Object.keys(a).forEach(h=>{h in s?u&&((0,_.isObject)(s[h])&&(0,_.isObject)(a[h])?v(s[h],a[h],u):s[h]=a[h]):s[h]=a[h]}),s):a}e.mixin=v;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object"||Array.isArray(s)!==Array.isArray(a))return!1;let u,h;if(Array.isArray(s)){if(s.length!==a.length)return!1;for(u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}else{const d=[];for(h in s)d.push(h);d.sort();const r=[];for(h in a)r.push(h);if(r.sort(),!i(d,r))return!1;for(u=0;u<d.length;u++)if(!i(s[d[u]],a[d[u]]))return!1}return!0}e.equals=i;function C(s,a,u){const h=a(s);return typeof h=="undefined"?u:h}e.getOrDefault=C}),define(te[131],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function _(I){return I<0?0:I>255?255:I|0}e.toUint8=_;function N(I){return I<0?0:I>4294967295?4294967295:I|0}e.toUint32=N}),define(te[24],ne([0,1,73,17]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const I=/^\w[\w\d+.-]*$/,L=/^\//,S=/^\/\//;function p(b,g){if(!b.scheme&&g)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${b.authority}", path: "${b.path}", query: "${b.query}", fragment: "${b.fragment}"}`);if(b.scheme&&!I.test(b.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(b.path){if(b.authority){if(!L.test(b.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(b.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(b,g){return!b&&!g?"file":b}function i(b,g){switch(b){case"https":case"http":case"file":g?g[0]!==s&&(g=s+g):g=s;break}return g}const C="",s="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{constructor(g,m,w,D,k,T=!1){typeof g=="object"?(this.scheme=g.scheme||C,this.authority=g.authority||C,this.path=g.path||C,this.query=g.query||C,this.fragment=g.fragment||C):(this.scheme=v(g,T),this.authority=m||C,this.path=i(this.scheme,w||C),this.query=D||C,this.fragment=k||C,p(this,T))}static isUri(g){return g instanceof u?!0:g?typeof g.authority=="string"&&typeof g.fragment=="string"&&typeof g.path=="string"&&typeof g.query=="string"&&typeof g.scheme=="string"&&typeof g.fsPath=="string"&&typeof g.with=="function"&&typeof g.toString=="function":!1}get fsPath(){return t(this,!1)}with(g){if(!g)return this;let{scheme:m,authority:w,path:D,query:k,fragment:T}=g;return m===void 0?m=this.scheme:m===null&&(m=C),w===void 0?w=this.authority:w===null&&(w=C),D===void 0?D=this.path:D===null&&(D=C),k===void 0?k=this.query:k===null&&(k=C),T===void 0?T=this.fragment:T===null&&(T=C),m===this.scheme&&w===this.authority&&D===this.path&&k===this.query&&T===this.fragment?this:new d(m,w,D,k,T)}static parse(g,m=!1){const w=a.exec(g);return w?new d(w[2]||C,y(w[4]||C),y(w[5]||C),y(w[7]||C),y(w[9]||C),m):new d(C,C,C,C,C)}static file(g){let m=C;if(N.isWindows&&(g=g.replace(/\\/g,s)),g[0]===s&&g[1]===s){const w=g.indexOf(s,2);w===-1?(m=g.substring(2),g=s):(m=g.substring(2,w),g=g.substring(w)||s)}return new d("file",m,g,C,C)}static from(g){const m=new d(g.scheme,g.authority,g.path,g.query,g.fragment);return p(m,!0),m}static joinPath(g,...m){if(!g.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return N.isWindows&&g.scheme==="file"?w=u.file(_.win32.join(t(g,!0),...m)).path:w=_.posix.join(g.path,...m),g.with({path:w})}toString(g=!1){return o(this,g)}toJSON(){return this}static revive(g){if(g){if(g instanceof u)return g;{const m=new d(g);return m._formatted=g.external,m._fsPath=g._sep===h?g.fsPath:null,m}}else return g}}e.URI=u;const h=N.isWindows?1:void 0;class d extends u{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(g=!1){return g?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const g={$mid:1};return this._fsPath&&(g.fsPath=this._fsPath,g._sep=h),this._formatted&&(g.external=this._formatted),this.path&&(g.path=this.path),this.scheme&&(g.scheme=this.scheme),this.authority&&(g.authority=this.authority),this.query&&(g.query=this.query),this.fragment&&(g.fragment=this.fragment),g}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(b,g){let m,w=-1;for(let D=0;D<b.length;D++){const k=b.charCodeAt(D);if(k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===45||k===46||k===95||k===126||g&&k===47)w!==-1&&(m+=encodeURIComponent(b.substring(w,D)),w=-1),m!==void 0&&(m+=b.charAt(D));else{m===void 0&&(m=b.substr(0,D));const T=r[k];T!==void 0?(w!==-1&&(m+=encodeURIComponent(b.substring(w,D)),w=-1),m+=T):w===-1&&(w=D)}}return w!==-1&&(m+=encodeURIComponent(b.substring(w))),m!==void 0?m:b}function l(b){let g;for(let m=0;m<b.length;m++){const w=b.charCodeAt(m);w===35||w===63?(g===void 0&&(g=b.substr(0,m)),g+=r[w]):g!==void 0&&(g+=b[m])}return g!==void 0?g:b}function t(b,g){let m;return b.authority&&b.path.length>1&&b.scheme==="file"?m=`//${b.authority}${b.path}`:b.path.charCodeAt(0)===47&&(b.path.charCodeAt(1)>=65&&b.path.charCodeAt(1)<=90||b.path.charCodeAt(1)>=97&&b.path.charCodeAt(1)<=122)&&b.path.charCodeAt(2)===58?g?m=b.path.substr(1):m=b.path[1].toLowerCase()+b.path.substr(2):m=b.path,N.isWindows&&(m=m.replace(/\//g,"\\")),m}e.uriToFsPath=t;function o(b,g){const m=g?l:n;let w="",{scheme:D,authority:k,path:T,query:R,fragment:M}=b;if(D&&(w+=D,w+=":"),(k||D==="file")&&(w+=s,w+=s),k){let A=k.indexOf("@");if(A!==-1){const O=k.substr(0,A);k=k.substr(A+1),A=O.indexOf(":"),A===-1?w+=m(O,!1):(w+=m(O.substr(0,A),!1),w+=":",w+=m(O.substr(A+1),!1)),w+="@"}k=k.toLowerCase(),A=k.indexOf(":"),A===-1?w+=m(k,!1):(w+=m(k.substr(0,A),!1),w+=k.substr(A))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const A=T.charCodeAt(1);A>=65&&A<=90&&(T=`/${String.fromCharCode(A+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const A=T.charCodeAt(0);A>=65&&A<=90&&(T=`${String.fromCharCode(A+32)}:${T.substr(2)}`)}w+=m(T,!0)}return R&&(w+="?",w+=m(R,!1)),M&&(w+="#",w+=g?M:n(M,!1)),w}function c(b){try{return decodeURIComponent(b)}catch(g){return b.length>3?b.substr(0,3)+c(b.substr(3)):b}}const f=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function y(b){return b.match(f)?b.replace(f,g=>c(g)):b}}),define(te[49],ne([0,1,8,24]),function($,e,_,N){"use strict";var I,L;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class S{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const n=r.charCodeAt(0),l=this._value.charCodeAt(this._pos);return n-l}value(){return this._value[this._pos]}}e.StringIterator=S;class p{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?(0,_.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,_.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=p;class v{constructor(r=!0,n=!0){this._splitOnBackslash=r,this._caseSensitive=n}reset(r){return this._value=r.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?(0,_.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,_.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=v;class i{constructor(r){this._ignorePathCasing=r,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new v(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return(0,_.compareIgnoreCase)(r,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,_.compareIgnoreCase)(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return(0,_.compare)(r,this._value.query);if(this._states[this._stateIdx]===5)return(0,_.compare)(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class C{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class s{constructor(r){this._iter=r}static forUris(r=()=>!1){return new s(new i(r))}static forStrings(){return new s(new S)}static forConfigKeys(){return new s(new p)}clear(){this._root=void 0}set(r,n){const l=this._iter.reset(r);let t;for(this._root||(this._root=new C,this._root.segment=l.value()),t=this._root;;){const c=l.cmp(t.segment);if(c>0)t.left||(t.left=new C,t.left.segment=l.value()),t=t.left;else if(c<0)t.right||(t.right=new C,t.right.segment=l.value()),t=t.right;else if(l.hasNext())l.next(),t.mid||(t.mid=new C,t.mid.segment=l.value()),t=t.mid;else break}const o=t.value;return t.value=n,t.key=r,o}get(r){var n;return(n=this._getNode(r))===null||n===void 0?void 0:n.value}_getNode(r){const n=this._iter.reset(r);let l=this._root;for(;l;){const t=n.cmp(l.segment);if(t>0)l=l.left;else if(t<0)l=l.right;else if(n.hasNext())n.next(),l=l.mid;else break}return l}has(r){const n=this._getNode(r);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,n){const l=this._iter.reset(r),t=[];let o=this._root;for(;o;){const c=l.cmp(o.segment);if(c>0)t.push([1,o]),o=o.left;else if(c<0)t.push([-1,o]),o=o.right;else if(l.hasNext())l.next(),t.push([0,o]),o=o.mid;else{for(n?(o.left=void 0,o.mid=void 0,o.right=void 0):o.value=void 0;t.length>0&&o.isEmpty();){let[f,y]=t.pop();switch(f){case 1:y.left=void 0;break;case 0:y.mid=void 0;break;case-1:y.right=void 0;break}o=y}break}}}findSubstr(r){const n=this._iter.reset(r);let l=this._root,t;for(;l;){const o=n.cmp(l.segment);if(o>0)l=l.left;else if(o<0)l=l.right;else if(n.hasNext())n.next(),t=l.value||t,l=l.mid;else break}return l&&l.value||t}findSuperstr(r){const n=this._iter.reset(r);let l=this._root;for(;l;){const t=n.cmp(l.segment);if(t>0)l=l.left;else if(t<0)l=l.right;else if(n.hasNext())n.next(),l=l.mid;else return l.mid?this._entries(l.mid):void 0}}forEach(r){for(const[n,l]of this)r(l,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r){if(!r)return;const n=[r];for(;n.length>0;){const l=n.pop();l&&(l.value&&(yield[l.key,l.value]),l.left&&n.push(l.left),l.mid&&n.push(l.mid),l.right&&n.push(l.right))}}}e.TernarySearchTree=s;class a{constructor(r,n){this[I]="ResourceMap",r instanceof a?(this.map=new Map(r.map),this.toKey=n??a.defaultToKey):(this.map=new Map,this.toKey=r??a.defaultToKey)}set(r,n){return this.map.set(this.toKey(r),n),this}get(r){return this.map.get(this.toKey(r))}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,n){typeof n!="undefined"&&(r=r.bind(n));for(let[l,t]of this.map)r(t,N.URI.parse(l),this)}values(){return this.map.values()}*keys(){for(let r of this.map.keys())yield N.URI.parse(r)}*entries(){for(let r of this.map.entries())yield[N.URI.parse(r[0]),r[1]]}*[(I=Symbol.toStringTag,Symbol.iterator)](){for(let r of this.map)yield[N.URI.parse(r[0]),r[1]]}}e.ResourceMap=a,a.defaultToKey=d=>d.toString();class u{constructor(){this[L]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,n=0){const l=this._map.get(r);if(!!l)return n!==0&&this.touch(l,n),l.value}set(r,n,l=0){let t=this._map.get(r);if(t)t.value=n,l!==0&&this.touch(t,l);else{switch(t={key:r,value:n,next:void 0,previous:void 0},l){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(r,t),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const n=this._map.get(r);if(!!n)return this._map.delete(r),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}forEach(r,n){const l=this._state;let t=this._head;for(;t;){if(n?r.bind(n)(t.value,t.key,this):r(t.value,t.key,this),this._state!==l)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const r=this,n=this._state;let l=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(l){const o={value:l.key,done:!1};return l=l.next,o}else return{value:void 0,done:!0}}};return t}values(){const r=this,n=this._state;let l=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(l){const o={value:l.value,done:!1};return l=l.next,o}else return{value:void 0,done:!0}}};return t}entries(){const r=this,n=this._state;let l=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(l){const o={value:[l.key,l.value],done:!1};return l=l.next,o}else return{value:void 0,done:!0}}};return t}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(r>=this.size)return;if(r===0){this.clear();return}let n=this._head,l=this.size;for(;n&&l>r;)this._map.delete(n.key),n=n.next,l--;this._head=n,this._size=l,n&&(n.previous=void 0),this._state++}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const n=r.next,l=r.previous;if(!n||!l)throw new Error("Invalid list");n.previous=l,l.next=n}r.next=void 0,r.previous=void 0,this._state++}touch(r,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(r===this._head)return;const l=r.next,t=r.previous;r===this._tail?(t.next=void 0,this._tail=t):(l.previous=t,t.next=l),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(n===2){if(r===this._tail)return;const l=r.next,t=r.previous;r===this._head?(l.previous=void 0,this._head=l):(l.previous=t,t.next=l),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((n,l)=>{r.push([l,n])}),r}fromJSON(r){this.clear();for(const[n,l]of r)this.set(n,l)}}e.LinkedMap=u;class h extends u{constructor(r,n=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,n=2){return super.get(r,n)}peek(r){return super.get(r,0)}set(r,n){return super.set(r,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=h}),define(te[67],ne([0,1,49,8]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function I(...U){return function(ee,de){for(let j=0,ue=U.length;j<ue;j++){const X=U[j](ee,de);if(X)return X}return null}}e.or=I,e.matchesPrefix=L.bind(void 0,!0);function L(U,ee,de){if(!de||de.length<ee.length)return null;let j;return U?j=N.startsWithIgnoreCase(de,ee):j=de.indexOf(ee)===0,j?ee.length>0?[{start:0,end:ee.length}]:[]:null}function S(U,ee){const de=ee.toLowerCase().indexOf(U.toLowerCase());return de===-1?null:[{start:de,end:de+U.length}]}e.matchesContiguousSubString=S;function p(U,ee){return v(U.toLowerCase(),ee.toLowerCase(),0,0)}e.matchesSubString=p;function v(U,ee,de,j){if(de===U.length)return[];if(j===ee.length)return null;if(U[de]===ee[j]){let ue=null;return(ue=v(U,ee,de+1,j+1))?n({start:j,end:j+1},ue):null}return v(U,ee,de,j+1)}function i(U){return 97<=U&&U<=122}function C(U){return 65<=U&&U<=90}e.isUpper=C;function s(U){return 48<=U&&U<=57}function a(U){return U===32||U===9||U===10||U===13}const u=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(U=>u.add(U.charCodeAt(0)));function h(U){return a(U)||u.has(U)}function d(U,ee){return U===ee||h(U)&&h(ee)}function r(U){return i(U)||C(U)||s(U)}function n(U,ee){return ee.length===0?ee=[U]:U.end===ee[0].start?ee[0].start=U.start:ee.unshift(U),ee}function l(U,ee){for(let de=ee;de<U.length;de++){const j=U.charCodeAt(de);if(C(j)||s(j)||de>0&&!r(U.charCodeAt(de-1)))return de}return U.length}function t(U,ee,de,j){if(de===U.length)return[];if(j===ee.length)return null;if(U[de]!==ee[j].toLowerCase())return null;{let ue=null,X=j+1;for(ue=t(U,ee,de+1,j+1);!ue&&(X=l(ee,X))<ee.length;)ue=t(U,ee,de+1,X),X++;return ue===null?null:n({start:j,end:j+1},ue)}}function o(U){let ee=0,de=0,j=0,ue=0,X=0;for(let pe=0;pe<U.length;pe++)X=U.charCodeAt(pe),C(X)&&ee++,i(X)&&de++,r(X)&&j++,s(X)&&ue++;const q=ee/U.length,oe=de/U.length,he=j/U.length,ge=ue/U.length;return{upperPercent:q,lowerPercent:oe,alphaPercent:he,numericPercent:ge}}function c(U){const{upperPercent:ee,lowerPercent:de}=U;return de===0&&ee>.6}function f(U){const{upperPercent:ee,lowerPercent:de,alphaPercent:j,numericPercent:ue}=U;return de>.2&&ee<.8&&j>.6&&ue<.2}function y(U){let ee=0,de=0,j=0,ue=0;for(let X=0;X<U.length;X++)j=U.charCodeAt(X),C(j)&&ee++,i(j)&&de++,a(j)&&ue++;return(ee===0||de===0)&&ue===0?U.length<=30:ee<=5}function b(U,ee){if(!ee||(ee=ee.trim(),ee.length===0)||!y(U)||ee.length>60)return null;const de=o(ee);if(!f(de)){if(!c(de))return null;ee=ee.toLowerCase()}let j=null,ue=0;for(U=U.toLowerCase();ue<ee.length&&(j=t(U,ee,0,ue))===null;)ue=l(ee,ue+1);return j}e.matchesCamelCase=b;function g(U,ee,de=!1){if(!ee||ee.length===0)return null;let j=null,ue=0;for(U=U.toLowerCase(),ee=ee.toLowerCase();ue<ee.length&&(j=m(U,ee,0,ue,de))===null;)ue=w(ee,ue+1);return j}e.matchesWords=g;function m(U,ee,de,j,ue){if(de===U.length)return[];if(j===ee.length)return null;if(d(U.charCodeAt(de),ee.charCodeAt(j))){let X=null,q=j+1;if(X=m(U,ee,de+1,j+1,ue),!ue)for(;!X&&(q=w(ee,q))<ee.length;)X=m(U,ee,de+1,q,ue),q++;return X===null?null:n({start:j,end:j+1},X)}else return null}function w(U,ee){for(let de=ee;de<U.length;de++)if(h(U.charCodeAt(de))||de>0&&h(U.charCodeAt(de-1)))return de;return U.length}const D=I(e.matchesPrefix,b,S),k=I(e.matchesPrefix,b,p),T=new _.LRUCache(1e4);function R(U,ee,de=!1){if(typeof U!="string"||typeof ee!="string")return null;let j=T.get(U);j||(j=new RegExp(N.convertSimple2RegExpPattern(U),"i"),T.set(U,j));const ue=j.exec(ee);return ue?[{start:ue.index,end:ue.index+ue[0].length}]:de?k(U,ee):D(U,ee)}e.matchesFuzzy=R;function M(U,ee,de,j,ue,X){const q=Math.min(13,U.length);for(;de<q;de++){const oe=H(U,ee,de,j,ue,X,!1);if(oe)return oe}return[0,X]}e.anyScore=M;function A(U){if(typeof U=="undefined")return[];const ee=[],de=U[1];for(let j=U.length-1;j>1;j--){const ue=U[j]+de,X=ee[ee.length-1];X&&X.end===ue?X.end=ue+1:ee.push({start:ue,end:ue+1})}return ee}e.createMatches=A;const O=128;function P(){const U=[],ee=[];for(let de=0;de<=O;de++)ee[de]=0;for(let de=0;de<=O;de++)U.push(ee.slice(0));return U}function F(U){const ee=[];for(let de=0;de<=U;de++)ee[de]=0;return ee}const E=F(2*O),x=F(2*O),W=P(),G=P(),Y=P(),se=!1;function re(U,ee,de,j,ue){function X(oe,he,ge=" "){for(;oe.length<he;)oe=ge+oe;return oe}let q=` |   |${j.split("").map(oe=>X(oe,3)).join("|")}
`;for(let oe=0;oe<=de;oe++)oe===0?q+=" |":q+=`${ee[oe-1]}|`,q+=U[oe].slice(0,ue+1).map(he=>X(he.toString(),3)).join("|")+`
`;return q}function J(U,ee,de,j){U=U.substr(ee),de=de.substr(j),console.log(re(G,U,U.length,de,de.length)),console.log(re(Y,U,U.length,de,de.length)),console.log(re(W,U,U.length,de,de.length))}function le(U,ee){if(ee<0||ee>=U.length)return!1;const de=U.codePointAt(ee);switch(de){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!N.isEmojiImprecise(de)}}function ae(U,ee){if(ee<0||ee>=U.length)return!1;switch(U.charCodeAt(ee)){case 32:case 9:return!0;default:return!1}}function V(U,ee,de){return ee[U]!==de[U]}function B(U,ee,de,j,ue,X,q=!1){for(;ee<de&&ue<X;)U[ee]===j[ue]&&(q&&(E[ee]=ue),ee+=1),ue+=1;return ee===de}e.isPatternInWord=B;var Z;(function(U){U.Default=[-100,0];function ee(de){return!de||de.length===2&&de[0]===-100&&de[1]===0}U.isDefault=ee})(Z=e.FuzzyScore||(e.FuzzyScore={}));function H(U,ee,de,j,ue,X,q){const oe=U.length>O?O:U.length,he=j.length>O?O:j.length;if(de>=oe||X>=he||oe-de>he-X||!B(ee,de,oe,ue,X,he,!0))return;z(oe,he,de,X,ee,ue);let ge=1,pe=1,ve=de,Le=X;const Te=[!1];for(ge=1,ve=de;ve<oe;ge++,ve++){const Ve=E[ve],Ke=x[ve],Ye=ve+1<oe?x[ve+1]:he;for(pe=Ve-X+1,Le=Ve;Le<Ye;pe++,Le++){let be=Number.MIN_SAFE_INTEGER,_e=!1;Le<=Ke&&(be=ie(U,ee,ve,de,j,ue,Le,he,X,W[ge-1][pe-1]===0,Te));let Me=0;be!==Number.MAX_SAFE_INTEGER&&(_e=!0,Me=be+G[ge-1][pe-1]);const ze=Le>Ve,Fe=ze?G[ge][pe-1]+(W[ge][pe-1]>0?-5:0):0,qe=Le>Ve+1&&W[ge][pe-1]>0,De=qe?G[ge][pe-2]+(W[ge][pe-2]>0?-5:0):0;if(qe&&(!ze||De>=Fe)&&(!_e||De>=Me))G[ge][pe]=De,Y[ge][pe]=3,W[ge][pe]=0;else if(ze&&(!_e||Fe>=Me))G[ge][pe]=Fe,Y[ge][pe]=2,W[ge][pe]=0;else if(_e)G[ge][pe]=Me,Y[ge][pe]=1,W[ge][pe]=W[ge-1][pe-1]+1;else throw new Error("not possible")}}if(se&&J(U,de,j,X),!Te[0]&&!q)return;ge--,pe--;const Ne=[G[ge][pe],X];let Ae=0,Oe=0;for(;ge>=1;){let Ve=pe;do{const Ke=Y[ge][Ve];if(Ke===3)Ve=Ve-2;else if(Ke===2)Ve=Ve-1;else break}while(Ve>=1);Ae>1&&ee[de+ge-1]===ue[X+pe-1]&&!V(Ve+X-1,j,ue)&&Ae+1>W[ge][Ve]&&(Ve=pe),Ve===pe?Ae++:Ae=1,Oe||(Oe=Ve),ge--,pe=Ve-1,Ne.push(pe)}he===oe&&(Ne[0]+=2);const We=Oe-oe;return Ne[0]-=We,Ne}e.fuzzyScore=H;function z(U,ee,de,j,ue,X){let q=U-1,oe=ee-1;for(;q>=de&&oe>=j;)ue[q]===X[oe]&&(x[q]=oe,q--),oe--}function ie(U,ee,de,j,ue,X,q,oe,he,ge,pe){if(ee[de]!==X[q])return Number.MIN_SAFE_INTEGER;let ve=1,Le=!1;return q===de-j?ve=U[de]===ue[q]?7:5:V(q,ue,X)&&(q===0||!V(q-1,ue,X))?(ve=U[de]===ue[q]?7:5,Le=!0):le(X,q)&&(q===0||!le(X,q-1))?ve=5:(le(X,q-1)||ae(X,q-1))&&(ve=5,Le=!0),ve>1&&de===j&&(pe[0]=!0),Le||(Le=V(q,ue,X)||le(X,q-1)||ae(X,q-1)),de===j?q>he&&(ve-=Le?3:5):ge?ve+=Le?2:0:ve+=Le?0:1,q+1===oe&&(ve-=Le?3:5),ve}function ce(U,ee,de,j,ue,X,q){return K(U,ee,de,j,ue,X,!0,q)}e.fuzzyScoreGracefulAggressive=ce;function K(U,ee,de,j,ue,X,q,oe){let he=H(U,ee,de,j,ue,X,oe);if(he&&!q)return he;if(U.length>=3){const ge=Math.min(7,U.length-1);for(let pe=de+1;pe<ge;pe++){const ve=Q(U,pe);if(ve){const Le=H(ve,ve.toLowerCase(),de,j,ue,X,oe);Le&&(Le[0]-=3,(!he||Le[0]>he[0])&&(he=Le))}}}return he}function Q(U,ee){if(ee+1>=U.length)return;const de=U[ee],j=U[ee+1];if(de!==j)return U.slice(0,ee)+j+de+U.slice(ee+2)}}),define(te[301],ne([0,1,67,73,17,8]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function p(n,l,t=0,o=0){const c=l;return c.values&&c.values.length>1?v(n,c.values,t,o):i(n,l,t,o)}e.scoreFuzzy2=p;function v(n,l,t,o){let c=0;const f=[];for(const y of l){const[b,g]=i(n,y,t,o);if(typeof b!="number")return S;c+=b,f.push(...g)}return[c,C(f)]}function i(n,l,t,o){const c=(0,_.fuzzyScore)(l.original,l.originalLowercase,t,n,n.toLowerCase(),o,!0);return c?[c[0],(0,_.createMatches)(c)]:S}function C(n){const l=n.sort((c,f)=>c.start-f.start),t=[];let o;for(const c of l)!o||!s(o,c)?(o=c,t.push(c)):(o.start=Math.min(o.start,c.start),o.end=Math.max(o.end,c.end));return t}function s(n,l){return!(n.end<l.start||l.end<n.start)}function a(n){return n.startsWith('"')&&n.endsWith('"')}const u=" ";function h(n){typeof n!="string"&&(n="");const l=n.toLowerCase(),{pathNormalized:t,normalized:o,normalizedLowercase:c}=d(n),f=t.indexOf(N.sep)>=0,y=a(n);let b;const g=n.split(u);if(g.length>1)for(const m of g){const w=a(m),{pathNormalized:D,normalized:k,normalizedLowercase:T}=d(m);k&&(b||(b=[]),b.push({original:m,originalLowercase:m.toLowerCase(),pathNormalized:D,normalized:k,normalizedLowercase:T,expectContiguousMatch:w}))}return{original:n,originalLowercase:l,pathNormalized:t,normalized:o,normalizedLowercase:c,values:b,containsPathSeparator:f,expectContiguousMatch:y}}e.prepareQuery=h;function d(n){let l;I.isWindows?l=n.replace(/\//g,N.sep):l=n.replace(/\\/g,N.sep);const t=(0,L.stripWildcards)(l).replace(/\s|"/g,"");return{pathNormalized:l,normalized:t,normalizedLowercase:t.toLowerCase()}}function r(n){return Array.isArray(n)?h(n.map(l=>l.original).join(u)):h(n.original)}e.pieceToQuery=r}),define(te[205],ne([0,1,14,159,49,73,8]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const p="**",v="/",i="[/\\\\]",C="[^/\\\\]",s=/\//g;function a(E){switch(E){case 0:return"";case 1:return`${C}*?`;default:return`(?:${i}|${C}+${i}|${i}${C}+)*?`}}function u(E,x){if(!E)return[];const W=[];let G=!1,Y=!1,se="";for(const re of E){switch(re){case x:if(!G&&!Y){W.push(se),se="";continue}break;case"{":G=!0;break;case"}":G=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}se+=re}return se&&W.push(se),W}e.splitGlobAware=u;function h(E){if(!E)return"";let x="";const W=u(E,v);if(W.every(G=>G===p))x=".*";else{let G=!1;W.forEach((Y,se)=>{if(Y===p){G||(x+=a(2),G=!0);return}let re=!1,J="",le=!1,ae="";for(const V of Y){if(V!=="}"&&re){J+=V;continue}if(le&&(V!=="]"||!ae)){let B;V==="-"?B=V:(V==="^"||V==="!")&&!ae?B="^":V===v?B="":B=S.escapeRegExpCharacters(V),ae+=B;continue}switch(V){case"{":re=!0;continue;case"[":le=!0;continue;case"}":x+=`(?:${u(J,",").map(H=>h(H)).join("|")})`,re=!1,J="";break;case"]":x+="["+ae+"]",le=!1,ae="";break;case"?":x+=C;continue;case"*":x+=a(1);continue;default:x+=S.escapeRegExpCharacters(V)}}se<W.length-1&&(W[se+1]!==p||se+2<W.length)&&(x+=i),G=!1})}return x}const d=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,l=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,c=new I.LRUCache(1e4),f=function(){return!1},y=function(){return null};function b(E,x){if(!E)return y;let W;typeof E!="string"?W=E.pattern:W=E,W=W.trim();const G=`${W}_${!!x.trimForExclusions}`;let Y=c.get(G);if(Y)return g(Y,E);let se;if(d.test(W)){const re=W.substr(4);Y=function(J,le){return typeof J=="string"&&J.endsWith(re)?W:null}}else(se=r.exec(m(W,x)))?Y=w(se[1],W):(x.trimForExclusions?l:n).test(W)?Y=D(W,x):(se=t.exec(m(W,x)))?Y=k(se[1].substr(1),W,!0):(se=o.exec(m(W,x)))?Y=k(se[1],W,!1):Y=T(W);return c.set(G,Y),g(Y,E)}function g(E,x){return typeof x=="string"?E:function(W,G){return N.isEqualOrParent(W,x.base)?E(L.relative(x.base,W),G):null}}function m(E,x){return x.trimForExclusions&&E.endsWith("/**")?E.substr(0,E.length-2):E}function w(E,x){const W=`/${E}`,G=`\\${E}`,Y=function(re,J){return typeof re!="string"?null:J?J===E?x:null:re===E||re.endsWith(W)||re.endsWith(G)?x:null},se=[E];return Y.basenames=se,Y.patterns=[x],Y.allBasenames=se,Y}function D(E,x){const W=F(E.slice(1,-1).split(",").map(J=>b(J,x)).filter(J=>J!==y),E),G=W.length;if(!G)return y;if(G===1)return W[0];const Y=function(J,le){for(let ae=0,V=W.length;ae<V;ae++)if(W[ae](J,le))return E;return null},se=W.find(J=>!!J.allBasenames);se&&(Y.allBasenames=se.allBasenames);const re=W.reduce((J,le)=>le.allPaths?J.concat(le.allPaths):J,[]);return re.length&&(Y.allPaths=re),Y}function k(E,x,W){const G=L.sep===L.posix.sep,Y=G?E:E.replace(s,L.sep),se=L.sep+Y,re=L.posix.sep+E,J=W?function(le,ae){return typeof le=="string"&&(le===Y||le.endsWith(se)||!G&&(le===E||le.endsWith(re)))?x:null}:function(le,ae){return typeof le=="string"&&(le===Y||!G&&le===E)?x:null};return J.allPaths=[(W?"*/":"./")+E],J}function T(E){try{const x=new RegExp(`^${h(E)}$`);return function(W){return x.lastIndex=0,typeof W=="string"&&x.test(W)?E:null}}catch(x){return y}}function R(E,x,W){return!E||typeof x!="string"?!1:M(E)(x,void 0,W)}e.match=R;function M(E,x={}){if(!E)return f;if(typeof E=="string"||A(E)){const W=b(E,x);if(W===y)return f;const G=function(Y,se){return!!W(Y,se)};return W.allBasenames&&(G.allBasenames=W.allBasenames),W.allPaths&&(G.allPaths=W.allPaths),G}return O(E,x)}e.parse=M;function A(E){const x=E;return x&&typeof x.base=="string"&&typeof x.pattern=="string"}e.isRelativePattern=A;function O(E,x){const W=F(Object.getOwnPropertyNames(E).map(J=>P(J,E[J],x)).filter(J=>J!==y)),G=W.length;if(!G)return y;if(!W.some(J=>!!J.requiresSiblings)){if(G===1)return W[0];const J=function(V,B){for(let Z=0,H=W.length;Z<H;Z++){const z=W[Z](V,B);if(z)return z}return null},le=W.find(V=>!!V.allBasenames);le&&(J.allBasenames=le.allBasenames);const ae=W.reduce((V,B)=>B.allPaths?V.concat(B.allPaths):V,[]);return ae.length&&(J.allPaths=ae),J}const Y=function(J,le,ae){let V;for(let B=0,Z=W.length;B<Z;B++){const H=W[B];H.requiresSiblings&&ae&&(le||(le=L.basename(J)),V||(V=le.substr(0,le.length-L.extname(J).length)));const z=H(J,le,V,ae);if(z)return z}return null},se=W.find(J=>!!J.allBasenames);se&&(Y.allBasenames=se.allBasenames);const re=W.reduce((J,le)=>le.allPaths?J.concat(le.allPaths):J,[]);return re.length&&(Y.allPaths=re),Y}function P(E,x,W){if(x===!1)return y;const G=b(E,W);if(G===y)return y;if(typeof x=="boolean")return G;if(x){const Y=x.when;if(typeof Y=="string"){const se=(re,J,le,ae)=>{if(!ae||!G(re,J))return null;const V=Y.replace("$(basename)",le),B=ae(V);return(0,_.isThenable)(B)?B.then(Z=>Z?E:null):B?E:null};return se.requiresSiblings=!0,se}}return G}function F(E,x){const W=E.filter(J=>!!J.basenames);if(W.length<2)return E;const G=W.reduce((J,le)=>{const ae=le.basenames;return ae?J.concat(ae):J},[]);let Y;if(x){Y=[];for(let J=0,le=G.length;J<le;J++)Y.push(x)}else Y=W.reduce((J,le)=>{const ae=le.patterns;return ae?J.concat(ae):J},[]);const se=function(J,le){if(typeof J!="string")return null;if(!le){let V;for(V=J.length;V>0;V--){const B=J.charCodeAt(V-1);if(B===47||B===92)break}le=J.substr(V)}const ae=G.indexOf(le);return ae!==-1?Y[ae]:null};se.basenames=G,se.patterns=Y,se.allBasenames=G;const re=E.filter(J=>!J.basenames);return re.push(se),re}}),define(te[105],ne([0,1,27,67,8]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const L=new RegExp(`\\$\\(${_.CSSIcon.iconNameExpression}(?:${_.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${L.source}`,"g");function p(d){return d.replace(S,(r,n)=>n?r:`\\${r}`)}e.escapeIcons=p;const v=new RegExp(`\\\\${L.source}`,"g");function i(d){return d.replace(v,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=i;const C=new RegExp(`(\\s)?(\\\\)?${L.source}(\\s)?`,"g");function s(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(C,(r,n,l,t)=>l?r:n||t||"")}e.stripIcons=s;function a(d){const r=d.indexOf(e.iconStartMarker);return r===-1?{text:d}:u(d,r)}e.parseLabelWithIcons=a;function u(d,r){const n=[];let l="";function t(w){if(w){l+=w;for(const D of w)n.push(f)}}let o=-1,c="",f=0,y,b,g=r;const m=d.length;for(t(d.substr(0,r));g<m;)y=d[g],b=d[g+1],y===e.iconStartMarker[0]&&b===e.iconStartMarker[1]?(o=g,t(c),c=e.iconStartMarker,g++):y===")"&&o!==-1?(f+=g-o+1,o=-1,c=""):o!==-1?/^[a-z0-9\-]$/i.test(y)?c+=y:(t(c),o=-1,c=""):t(y),g++;return t(c),{text:l,iconOffsets:n}}function h(d,r,n=!1){const{text:l,iconOffsets:t}=r;if(!t||t.length===0)return(0,N.matchesFuzzy)(d,l,n);const o=(0,I.ltrim)(l," "),c=l.length-o.length,f=(0,N.matchesFuzzy)(d,o,n);if(f)for(const y of f){const b=t[y.start+c]+c;y.start+=b,y.end+=b}return f}e.matchesFuzzyIconAware=h}),define(te[75],ne([0,1,10,105]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class I{constructor(s="",a=!1){var u,h;if(this.value=s,typeof this.value!="string")throw(0,_.illegalArgument)("value");typeof a=="boolean"?(this.isTrusted=a,this.supportThemeIcons=!1):(this.isTrusted=(u=a.isTrusted)!==null&&u!==void 0?u:void 0,this.supportThemeIcons=(h=a.supportThemeIcons)!==null&&h!==void 0?h:!1)}appendText(s,a=0){return this.value+=p(this.supportThemeIcons?(0,N.escapeIcons)(s):s).replace(/([ \t]+)/g,(u,h)=>"&nbsp;".repeat(h.length)).replace(/^>/gm,"\\>").replace(/\n/g,a===1?`\\
`:`

`),this}appendMarkdown(s){return this.value+=s,this}appendCodeblock(s,a){return this.value+="\n```",this.value+=s,this.value+=`
`,this.value+=a,this.value+="\n```\n",this}}e.MarkdownString=I;function L(C){return S(C)?!C.value:Array.isArray(C)?C.every(L):!0}e.isEmptyMarkdownString=L;function S(C){return C instanceof I?!0:C&&typeof C=="object"?typeof C.value=="string"&&(typeof C.isTrusted=="boolean"||C.isTrusted===void 0)&&(typeof C.supportThemeIcons=="boolean"||C.supportThemeIcons===void 0):!1}e.isMarkdownString=S;function p(C){return C.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function v(C){return C&&C.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=v;function i(C){const s=[],a=C.split("|").map(h=>h.trim());C=a[0];const u=a[1];if(u){const h=/height=(\d+)/.exec(u),d=/width=(\d+)/.exec(u),r=h?h[1]:"",n=d?d[1]:"",l=isFinite(parseInt(n)),t=isFinite(parseInt(r));l&&s.push(`width="${n}"`),t&&s.push(`height="${r}"`)}return{href:C,dimensions:s}}e.parseHrefAndDimensions=i}),define(te[206],ne([0,1,103,24]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function I(S){let p=JSON.parse(S);return p=L(p),p}e.parse=I;function L(S,p=0){if(!S||p>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return N.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof _.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let v=0;v<S.length;++v)S[v]=L(S[v],p+1);else for(const v in S)Object.hasOwnProperty.call(S,v)&&(S[v]=L(S[v],p+1))}return S}e.revive=L}),define(te[47],ne([0,1,17,24]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var I;(function(p){p.inMemory="inmemory",p.vscode="vscode",p.internal="private",p.walkThrough="walkThrough",p.walkThroughSnippet="walkThroughSnippet",p.http="http",p.https="https",p.file="file",p.mailto="mailto",p.untitled="untitled",p.data="data",p.command="command",p.vscodeRemote="vscode-remote",p.vscodeRemoteResource="vscode-remote-resource",p.userData="vscode-userdata",p.vscodeCustomEditor="vscode-custom-editor",p.vscodeNotebook="vscode-notebook",p.vscodeNotebookCell="vscode-notebook-cell",p.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",p.vscodeNotebookCellOutput="vscode-notebook-cell-output",p.vscodeInteractive="vscode-interactive",p.vscodeInteractiveInput="vscode-interactive-input",p.vscodeSettings="vscode-settings",p.vscodeWorkspaceTrust="vscode-workspace-trust",p.vscodeTerminal="vscode-terminal",p.webviewPanel="webview-panel",p.vscodeWebview="vscode-webview",p.extension="extension",p.vscodeFileResource="vscode-file",p.tmp="tmp"})(I=e.Schemas||(e.Schemas={}));class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const i=v.authority;let C=this._hosts[i];C&&C.indexOf(":")!==-1&&(C=`[${C}]`);const s=this._ports[i],a=this._connectionTokens[i];let u=`path=${encodeURIComponent(v.path)}`;return typeof a=="string"&&(u+=`&tkn=${encodeURIComponent(a)}`),N.URI.from({scheme:_.isWeb?this._preferredWebSchema:I.vscodeRemoteResource,authority:`${C}:${s}`,path:"/vscode-remote-resource",query:u})}}e.RemoteAuthorities=new L;class S{asBrowserUri(v,i){const C=this.toUri(v,i);return C.scheme===I.vscodeRemote?e.RemoteAuthorities.rewrite(C):C.scheme===I.file&&(_.isNative||typeof _.globals.importScripts=="function"&&_.globals.origin===`${I.vscodeFileResource}://${S.FALLBACK_AUTHORITY}`)?C.with({scheme:I.vscodeFileResource,authority:C.authority||S.FALLBACK_AUTHORITY,query:null,fragment:null}):C}toUri(v,i){return N.URI.isUri(v)?v:N.URI.parse(i.toUrl(v))}}S.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new S}),define(te[7],ne([0,1,41,158,51,55,14,10,6,2,47,17]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function a(be){for(;be.firstChild;)be.firstChild.remove()}e.clearNode=a;function u(be){var _e;return(_e=be==null?void 0:be.isConnected)!==null&&_e!==void 0?_e:!1}e.isInDOM=u;class h{constructor(_e,Me,ze,Fe){this._node=_e,this._type=Me,this._handler=ze,this._options=Fe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function d(be,_e,Me,ze){return new h(be,_e,Me,ze)}e.addDisposableListener=d;function r(be){return function(_e){return be(new L.StandardMouseEvent(_e))}}function n(be){return function(_e){return be(new I.StandardKeyboardEvent(_e))}}let l=function(_e,Me,ze,Fe){let qe=ze;return Me==="click"||Me==="mousedown"?qe=r(ze):(Me==="keydown"||Me==="keypress"||Me==="keyup")&&(qe=n(ze)),d(_e,Me,qe,Fe)};e.addStandardDisposableListener=l;let t=function(_e,Me,ze){let Fe=r(Me);return o(_e,Fe,ze)};e.addStandardDisposableGenericMouseDownListner=t;function o(be,_e,Me){return d(be,s.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,_e,Me)}e.addDisposableGenericMouseDownListner=o;function c(be,_e,Me){return d(be,s.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,_e,Me)}e.addDisposableGenericMouseUpListner=c;function f(be,_e){return d(be,"mouseout",Me=>{let ze=Me.relatedTarget;for(;ze&&ze!==be;)ze=ze.parentNode;ze!==be&&_e(Me)})}e.addDisposableNonBubblingMouseOutListener=f;function y(be,_e){return d(be,"pointerout",Me=>{let ze=Me.relatedTarget;for(;ze&&ze!==be;)ze=ze.parentNode;ze!==be&&_e(Me)})}e.addDisposableNonBubblingPointerOutListener=y;let b=null;function g(be){if(!b){const _e=Me=>setTimeout(()=>Me(new Date().getTime()),0);b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||_e}return b.call(self,be)}class m{constructor(_e,Me=0){this._runner=_e,this.priority=Me,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_e){(0,p.onUnexpectedError)(_e)}}static sort(_e,Me){return Me.priority-_e.priority}}(function(){let be=[],_e=null,Me=!1,ze=!1,Fe=()=>{for(Me=!1,_e=be,be=[],ze=!0;_e.length>0;)_e.sort(m.sort),_e.shift().execute();ze=!1};e.scheduleAtNextAnimationFrame=(qe,De=0)=>{let Ee=new m(qe,De);return be.push(Ee),Me||(Me=!0,g(Fe)),Ee},e.runAtThisOrScheduleAtNextAnimationFrame=(qe,De)=>{if(ze){let Ee=new m(qe,De);return _e.push(Ee),Ee}else return(0,e.scheduleAtNextAnimationFrame)(qe,De)}})();const w=8,D=function(be,_e){return _e};class k extends i.Disposable{constructor(_e,Me,ze,Fe=D,qe=w){super();let De=null,Ee=0,ye=this._register(new S.TimeoutTimer),fe=()=>{Ee=new Date().getTime(),ze(De),De=null};this._register(d(_e,Me,Ce=>{De=Fe(De,Ce);let we=new Date().getTime()-Ee;we>=qe?(ye.cancel(),fe()):ye.setIfNotSet(fe,qe-we)}))}}function T(be,_e,Me,ze,Fe){return new k(be,_e,Me,ze,Fe)}e.addDisposableThrottledListener=T;function R(be){return document.defaultView.getComputedStyle(be,null)}e.getComputedStyle=R;function M(be){if(be!==document.body)return new O(be.clientWidth,be.clientHeight);if(s.isIOS&&window.visualViewport)return new O(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new O(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new O(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new O(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=M;class A{static convertToPixels(_e,Me){return parseFloat(Me)||0}static getDimension(_e,Me,ze){let Fe=R(_e),qe="0";return Fe&&(Fe.getPropertyValue?qe=Fe.getPropertyValue(Me):qe=Fe.getAttribute(ze)),A.convertToPixels(_e,qe)}static getBorderLeftWidth(_e){return A.getDimension(_e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_e){return A.getDimension(_e,"border-right-width","borderRightWidth")}static getBorderTopWidth(_e){return A.getDimension(_e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_e){return A.getDimension(_e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_e){return A.getDimension(_e,"padding-left","paddingLeft")}static getPaddingRight(_e){return A.getDimension(_e,"padding-right","paddingRight")}static getPaddingTop(_e){return A.getDimension(_e,"padding-top","paddingTop")}static getPaddingBottom(_e){return A.getDimension(_e,"padding-bottom","paddingBottom")}static getMarginLeft(_e){return A.getDimension(_e,"margin-left","marginLeft")}static getMarginTop(_e){return A.getDimension(_e,"margin-top","marginTop")}static getMarginRight(_e){return A.getDimension(_e,"margin-right","marginRight")}static getMarginBottom(_e){return A.getDimension(_e,"margin-bottom","marginBottom")}}class O{constructor(_e,Me){this.width=_e,this.height=Me}with(_e=this.width,Me=this.height){return _e!==this.width||Me!==this.height?new O(_e,Me):this}static is(_e){return typeof _e=="object"&&typeof _e.height=="number"&&typeof _e.width=="number"}static lift(_e){return _e instanceof O?_e:new O(_e.width,_e.height)}static equals(_e,Me){return _e===Me?!0:!_e||!Me?!1:_e.width===Me.width&&_e.height===Me.height}}e.Dimension=O;function P(be){let _e=be.offsetParent,Me=be.offsetTop,ze=be.offsetLeft;for(;(be=be.parentNode)!==null&&be!==document.body&&be!==document.documentElement;){Me-=be.scrollTop;const Fe=le(be)?null:R(be);Fe&&(ze-=Fe.direction!=="rtl"?be.scrollLeft:-be.scrollLeft),be===_e&&(ze+=A.getBorderLeftWidth(be),Me+=A.getBorderTopWidth(be),Me+=be.offsetTop,ze+=be.offsetLeft,_e=be.offsetParent)}return{left:ze,top:Me}}e.getTopLeftOffset=P;function F(be,_e,Me){typeof _e=="number"&&(be.style.width=`${_e}px`),typeof Me=="number"&&(be.style.height=`${Me}px`)}e.size=F;function E(be){let _e=be.getBoundingClientRect();return{left:_e.left+e.StandardWindow.scrollX,top:_e.top+e.StandardWindow.scrollY,width:_e.width,height:_e.height}}e.getDomNodePagePosition=E,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function x(be){let _e=A.getMarginLeft(be)+A.getMarginRight(be);return be.offsetWidth+_e}e.getTotalWidth=x;function W(be){let _e=A.getBorderLeftWidth(be)+A.getBorderRightWidth(be),Me=A.getPaddingLeft(be)+A.getPaddingRight(be);return be.offsetWidth-_e-Me}e.getContentWidth=W;function G(be){let _e=A.getBorderTopWidth(be)+A.getBorderBottomWidth(be),Me=A.getPaddingTop(be)+A.getPaddingBottom(be);return be.offsetHeight-_e-Me}e.getContentHeight=G;function Y(be){let _e=A.getMarginTop(be)+A.getMarginBottom(be);return be.offsetHeight+_e}e.getTotalHeight=Y;function se(be,_e){for(;be;){if(be===_e)return!0;be=be.parentNode}return!1}e.isAncestor=se;function re(be,_e,Me){for(;be&&be.nodeType===be.ELEMENT_NODE;){if(be.classList.contains(_e))return be;if(Me){if(typeof Me=="string"){if(be.classList.contains(Me))return null}else if(be===Me)return null}be=be.parentNode}return null}e.findParentWithClass=re;function J(be,_e,Me){return!!re(be,_e,Me)}e.hasParentWithClass=J;function le(be){return be&&!!be.host&&!!be.mode}e.isShadowRoot=le;function ae(be){return!!V(be)}e.isInShadowDOM=ae;function V(be){for(;be.parentNode;){if(be===document.body)return null;be=be.parentNode}return le(be)?be:null}e.getShadowRoot=V;function B(){let be=document.activeElement;for(;be==null?void 0:be.shadowRoot;)be=be.shadowRoot.activeElement;return be}e.getActiveElement=B;function Z(be=document.getElementsByTagName("head")[0]){let _e=document.createElement("style");return _e.type="text/css",_e.media="screen",be.appendChild(_e),_e}e.createStyleSheet=Z;let H=null;function z(){return H||(H=Z()),H}function ie(be){var _e,Me;return((_e=be==null?void 0:be.sheet)===null||_e===void 0?void 0:_e.rules)?be.sheet.rules:((Me=be==null?void 0:be.sheet)===null||Me===void 0?void 0:Me.cssRules)?be.sheet.cssRules:[]}function ce(be,_e,Me=z()){!Me||!_e||Me.sheet.insertRule(be+"{"+_e+"}",0)}e.createCSSRule=ce;function K(be,_e=z()){if(!_e)return;let Me=ie(_e),ze=[];for(let Fe=0;Fe<Me.length;Fe++)Me[Fe].selectorText.indexOf(be)!==-1&&ze.push(Fe);for(let Fe=ze.length-1;Fe>=0;Fe--)_e.sheet.deleteRule(ze[Fe])}e.removeCSSRulesContainingSelector=K;function Q(be){return typeof HTMLElement=="object"?be instanceof HTMLElement:be&&typeof be=="object"&&be.nodeType===1&&typeof be.nodeName=="string"}e.isHTMLElement=Q,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:_.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:_.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:_.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(be,_e){be.preventDefault?be.preventDefault():be.returnValue=!1,_e&&(be.stopPropagation?be.stopPropagation():be.cancelBubble=!0)}};function U(be){let _e=[];for(let Me=0;be&&be.nodeType===be.ELEMENT_NODE;Me++)_e[Me]=be.scrollTop,be=be.parentNode;return _e}e.saveParentsScrollTop=U;function ee(be,_e){for(let Me=0;be&&be.nodeType===be.ELEMENT_NODE;Me++)be.scrollTop!==_e[Me]&&(be.scrollTop=_e[Me]),be=be.parentNode}e.restoreParentsScrollTop=ee;class de extends i.Disposable{constructor(_e){super();this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event;let Me=se(document.activeElement,_e),ze=!1;const Fe=()=>{ze=!1,Me||(Me=!0,this._onDidFocus.fire())},qe=()=>{Me&&(ze=!0,window.setTimeout(()=>{ze&&(ze=!1,Me=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{se(document.activeElement,_e)!==Me&&(Me?qe():Fe())},this._register(d(_e,e.EventType.FOCUS,Fe,!0)),this._register(d(_e,e.EventType.BLUR,qe,!0))}}function j(be){return new de(be)}e.trackFocus=j;function ue(be,..._e){if(be.append(..._e),_e.length===1&&typeof _e[0]!="string")return _e[0]}e.append=ue;function X(be,_e){return be.insertBefore(_e,be.firstChild),_e}e.prepend=X;function q(be,..._e){be.innerText="",ue(be,..._e)}e.reset=q;const oe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var he;(function(be){be.HTML="http://www.w3.org/1999/xhtml",be.SVG="http://www.w3.org/2000/svg"})(he=e.Namespace||(e.Namespace={}));function ge(be,_e,Me,...ze){let Fe=oe.exec(_e);if(!Fe)throw new Error("Bad use of emmet");Me=Object.assign({},Me||{});let qe=Fe[1]||"div",De;return be!==he.HTML?De=document.createElementNS(be,qe):De=document.createElement(qe),Fe[3]&&(De.id=Fe[3]),Fe[4]&&(De.className=Fe[4].replace(/\./g," ").trim()),Object.keys(Me).forEach(Ee=>{const ye=Me[Ee];typeof ye!="undefined"&&(/^on\w+$/.test(Ee)?De[Ee]=ye:Ee==="selected"?ye&&De.setAttribute(Ee,"true"):De.setAttribute(Ee,ye))}),De.append(...ze),De}function pe(be,_e,...Me){return ge(he.HTML,be,_e,...Me)}e.$=pe,pe.SVG=function(be,_e,...Me){return ge(he.SVG,be,_e,...Me)};function ve(...be){for(let _e of be)_e.style.display="",_e.removeAttribute("aria-hidden")}e.show=ve;function Le(...be){for(let _e of be)_e.style.display="none",_e.setAttribute("aria-hidden","true")}e.hide=Le;function Te(be){return Array.prototype.slice.call(document.getElementsByTagName(be),0)}e.getElementsByTagName=Te;function Ne(be){const _e=window.devicePixelRatio*be;return Math.max(1,Math.floor(_e))/window.devicePixelRatio}e.computeScreenAwareSize=Ne;function Ae(be){window.open(be,"_blank","noopener")}e.windowOpenNoOpener=Ae;function Oe(be){const _e=()=>{be(),Me=(0,e.scheduleAtNextAnimationFrame)(_e)};let Me=(0,e.scheduleAtNextAnimationFrame)(_e);return(0,i.toDisposable)(()=>Me.dispose())}e.animate=Oe,C.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function We(be){return be?`url('${C.FileAccess.asBrowserUri(be).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=We;function Ve(be){return`'${be.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Ve;class Ke extends v.Emitter{constructor(){super();this._subscriptions=new i.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(d(window,"keydown",_e=>{if(_e.defaultPrevented)return;const Me=new I.StandardKeyboardEvent(_e);if(!(Me.keyCode===6&&_e.repeat)){if(_e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(_e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(_e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(_e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Me.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=_e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(d(window,"keyup",_e=>{_e.defaultPrevented||(!_e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!_e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!_e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!_e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=_e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(d(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(d(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(d(document.body,"mousemove",_e=>{_e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(d(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ke.instance||(Ke.instance=new Ke),Ke.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ke;function Ye(be,_e){const Me=window.matchMedia(be);typeof Me.addEventListener=="function"?Me.addEventListener("change",_e):Me.addListener(_e)}e.addMatchMediaChangeListener=Ye}),define(te[162],ne([0,1,7]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function N(s,a={}){const u=L(a);return u.textContent=s,u}e.renderText=N;function I(s,a={}){const u=L(a);return p(u,v(s,!!a.renderCodeSegments),a.actionHandler,a.renderCodeSegments),u}e.renderFormattedText=I;function L(s){const a=s.inline?"span":"div",u=document.createElement(a);return s.className&&(u.className=s.className),u}e.createElement=L;class S{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function p(s,a,u,h){let d;if(a.type===2)d=document.createTextNode(a.content||"");else if(a.type===3)d=document.createElement("b");else if(a.type===4)d=document.createElement("i");else if(a.type===7&&h)d=document.createElement("code");else if(a.type===5&&u){const r=document.createElement("a");r.href="#",u.disposables.add(_.addStandardDisposableListener(r,"click",n=>{u.callback(String(a.index),n)})),d=r}else a.type===8?d=document.createElement("br"):a.type===1&&(d=s);d&&s!==d&&s.appendChild(d),d&&Array.isArray(a.children)&&a.children.forEach(r=>{p(d,r,u,h)})}function v(s,a){const u={type:1,children:[]};let h=0,d=u;const r=[],n=new S(s);for(;!n.eos();){let l=n.next();const t=l==="\\"&&C(n.peek(),a)!==0;if(t&&(l=n.next()),!t&&i(l,a)&&l===n.peek()){n.advance(),d.type===2&&(d=r.pop());const o=C(l,a);if(d.type===o||d.type===5&&o===6)d=r.pop();else{const c={type:o,children:[]};o===5&&(c.index=h,h++),d.children.push(c),r.push(d),d=c}}else if(l===`
`)d.type===2&&(d=r.pop()),d.children.push({type:8});else if(d.type!==2){const o={type:2,content:l};d.children.push(o),r.push(d),d=o}else d.content+=l}return d.type===2&&(d=r.pop()),r.length,u}function i(s,a){return C(s,a)!==0}function C(s,a){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}}),define(te[94],ne([0,1,7,200,55,2,17]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function p(i,C){let s=new I.StandardMouseEvent(C);return s.preventDefault(),{leftButton:s.leftButton,buttons:s.buttons,posx:s.posx,posy:s.posy}}e.standardMouseMoveMerger=p;class v{constructor(){this._hooks=new L.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(C,s){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const a=this._onStopCallback;this._onStopCallback=null,C&&a&&a(s)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(C,s,a,u,h){if(this.isMonitoring())return;this._mouseMoveEventMerger=a,this._mouseMoveCallback=u,this._onStopCallback=h;const d=N.IframeUtils.getSameOriginWindowChain(),r=S.isIOS?"pointermove":"mousemove",n="mouseup",l=d.map(o=>o.window.document),t=_.getShadowRoot(C);t&&l.unshift(t);for(const o of l)this._hooks.add(_.addDisposableThrottledListener(o,r,c=>{if(c.buttons!==s){this.stopMonitoring(!0);return}this._mouseMoveCallback(c)},(c,f)=>this._mouseMoveEventMerger(c,f))),this._hooks.add(_.addDisposableListener(o,n,c=>this.stopMonitoring(!0)));if(N.IframeUtils.hasDifferentOriginAncestor()){let o=d[d.length-1];this._hooks.add(_.addDisposableListener(o.window.document,"mouseout",c=>{new I.StandardMouseEvent(c).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(_.addDisposableListener(o.window.document,"mouseover",c=>{new I.StandardMouseEvent(c).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(_.addDisposableListener(o.window.document.body,"mouseleave",c=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=v});var Re=this&&this.__decorate||function($,e,_,N){var I=arguments.length,L=I<3?e:N===null?N=Object.getOwnPropertyDescriptor(e,_):N,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate($,e,_,N);else for(var p=$.length-1;p>=0;p--)(S=$[p])&&(L=(I<3?S(L):I>3?S(e,_,L):S(e,_))||L);return I>3&&L&&Object.defineProperty(e,_,L),L};define(te[58],ne([0,1,7,19,91,2]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class p extends L.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(_.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(_.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(_.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.targets.push(i),{dispose:()=>{p.INSTANCE.targets=p.INSTANCE.targets.filter(C=>C!==i)}}):L.Disposable.None}static ignoreTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.ignoreTargets.push(i),{dispose:()=>{p.INSTANCE.ignoreTargets=p.INSTANCE.ignoreTargets.filter(C=>C!==i)}}):L.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let C=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,a=i.targetTouches.length;s<a;s++){let u=i.targetTouches.item(s);this.activeTouches[u.identifier]={id:u.identifier,initialTarget:u.target,initialTimeStamp:C,initialPageX:u.pageX,initialPageY:u.pageY,rollingTimestamps:[C],rollingPageX:[u.pageX],rollingPageY:[u.pageY]};let h=this.newGestureEvent(S.Start,u.target);h.pageX=u.pageX,h.pageY=u.pageY,this.dispatchEvent(h)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let C=Date.now(),s=Object.keys(this.activeTouches).length;for(let a=0,u=i.changedTouches.length;a<u;a++){let h=i.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(h.identifier))){console.warn("move of an UNKNOWN touch",h);continue}let d=this.activeTouches[h.identifier],r=Date.now()-d.initialTimeStamp;if(r<p.HOLD_DELAY&&Math.abs(d.initialPageX-N.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-N.tail(d.rollingPageY))<30){let n=this.newGestureEvent(S.Tap,d.initialTarget);n.pageX=N.tail(d.rollingPageX),n.pageY=N.tail(d.rollingPageY),this.dispatchEvent(n)}else if(r>=p.HOLD_DELAY&&Math.abs(d.initialPageX-N.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-N.tail(d.rollingPageY))<30){let n=this.newGestureEvent(S.Contextmenu,d.initialTarget);n.pageX=N.tail(d.rollingPageX),n.pageY=N.tail(d.rollingPageY),this.dispatchEvent(n)}else if(s===1){let n=N.tail(d.rollingPageX),l=N.tail(d.rollingPageY),t=N.tail(d.rollingTimestamps)-d.rollingTimestamps[0],o=n-d.rollingPageX[0],c=l-d.rollingPageY[0];const f=this.targets.filter(y=>d.initialTarget instanceof Node&&y.contains(d.initialTarget));this.inertia(f,C,Math.abs(o)/t,o>0?1:-1,n,Math.abs(c)/t,c>0?1:-1,l)}this.dispatchEvent(this.newGestureEvent(S.End,d.initialTarget)),delete this.activeTouches[h.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,C){let s=document.createEvent("CustomEvent");return s.initEvent(i,!1,!0),s.initialTarget=C,s.tapCount=0,s}dispatchEvent(i){if(i.type===S.Tap){const C=new Date().getTime();let s=0;C-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=C,i.tapCount=s}else(i.type===S.Change||i.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let C=0;C<this.ignoreTargets.length;C++)if(i.initialTarget instanceof Node&&this.ignoreTargets[C].contains(i.initialTarget))return;this.targets.forEach(C=>{i.initialTarget instanceof Node&&C.contains(i.initialTarget)&&(C.dispatchEvent(i),this.dispatched=!0)})}inertia(i,C,s,a,u,h,d,r){this.handle=_.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),l=n-C,t=0,o=0,c=!0;s+=p.SCROLL_FRICTION*l,h+=p.SCROLL_FRICTION*l,s>0&&(c=!1,t=a*s*l),h>0&&(c=!1,o=d*h*l);let f=this.newGestureEvent(S.Change);f.translationX=t,f.translationY=o,i.forEach(y=>y.dispatchEvent(f)),c||this.inertia(i,n,s,a,u+t,h,d,r+o)})}onTouchMove(i){let C=Date.now();for(let s=0,a=i.changedTouches.length;s<a;s++){let u=i.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("end of an UNKNOWN touch",u);continue}let h=this.activeTouches[u.identifier],d=this.newGestureEvent(S.Change,h.initialTarget);d.translationX=u.pageX-N.tail(h.rollingPageX),d.translationY=u.pageY-N.tail(h.rollingPageY),d.pageX=u.pageX,d.pageY=u.pageY,this.dispatchEvent(d),h.rollingPageX.length>3&&(h.rollingPageX.shift(),h.rollingPageY.shift(),h.rollingTimestamps.shift()),h.rollingPageX.push(u.pageX),h.rollingPageY.push(u.pageY),h.rollingTimestamps.push(C)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,Re([I.memoize],p,"isTouchDevice",null),e.Gesture=p}),define(te[106],ne([0,1,7,27]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const I=new RegExp(`(\\\\)?\\$\\((${N.CSSIcon.iconNameExpression}(?:${N.CSSIcon.iconModifierExpression})?)\\)`,"g");function L(p){const v=new Array;let i,C=0,s=0;for(;(i=I.exec(p))!==null;){s=i.index||0,v.push(p.substring(C,s)),C=(i.index||0)+i[0].length;const[,a,u]=i;v.push(a?`$(${u})`:S({id:u}))}return C<p.length&&v.push(p.substring(C)),v}e.renderLabelWithIcons=L;function S(p){const v=_.$("span");return v.classList.add(...N.CSSIcon.asClassNameArray(p)),v}e.renderIcon=S}),define(te[163],ne([0,1,7,106,35]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class L{constructor(p,v){this.supportIcons=v,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",p.appendChild(this.domNode)}get element(){return this.domNode}set(p,v=[],i="",C){p||(p=""),C&&(p=L.escapeNewLines(p,v)),!(this.didEverRender&&this.text===p&&this.title===i&&I.equals(this.highlights,v))&&(this.text=p,this.title=i,this.highlights=v,this.render())}render(){const p=[];let v=0;for(const i of this.highlights){if(i.end===i.start)continue;if(v<i.start){const a=this.text.substring(v,i.start);p.push(_.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(a):[a])),v=i.end}const C=this.text.substring(i.start,i.end),s=_.$("span.highlight",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(C):[C]);i.extraClasses&&s.classList.add(i.extraClasses),p.push(s),v=i.end}if(v<this.text.length){const i=this.text.substring(v);p.push(_.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(i):[i]))}_.reset(this.domNode,...p),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(p,v){let i=0,C=0;return p.replace(/\r\n|\r|\n/g,(s,a)=>{C=s===`\r
`?-1:0,a+=i;for(const u of v)u.end<=a||(u.start>=a&&(u.start+=C),u.end>=a&&(u.end+=C));return i+=C,"\u23CE"})}}e.HighlightedLabel=L}),define(te[302],ne([0,1,7]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function N(L){try{L.parentElement&&L.parentElement.removeChild(L)}catch(S){}}class I{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let p=this.getTemplateCache(S).pop();if(!p){const v=(0,_.$)(".monaco-list-row"),C=this.getRenderer(S).renderTemplate(v);p={domNode:v,templateId:S,templateData:C}}return p}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:p,templateId:v}=S;p&&(p.classList.remove("scrolling"),N(p)),this.getTemplateCache(v).push(S)}getTemplateCache(S){let p=this.cache.get(S);return p||(p=[],this.cache.set(S,p)),p}dispose(){this.cache.forEach((S,p)=>{for(const v of S)this.getRenderer(p).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(S){const p=this.renderers.get(S);if(!p)throw new Error(`No renderer found for ${S}`);return p}}e.RowCache=I}),define(te[52],ne([0,1,7,51,55,58,2]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends S.Disposable{onclick(i,C){this._register(_.addDisposableListener(i,_.EventType.CLICK,s=>C(new I.StandardMouseEvent(s))))}onmousedown(i,C){this._register(_.addDisposableListener(i,_.EventType.MOUSE_DOWN,s=>C(new I.StandardMouseEvent(s))))}onmouseover(i,C){this._register(_.addDisposableListener(i,_.EventType.MOUSE_OVER,s=>C(new I.StandardMouseEvent(s))))}onnonbubblingmouseout(i,C){this._register(_.addDisposableNonBubblingMouseOutListener(i,s=>C(new I.StandardMouseEvent(s))))}onkeydown(i,C){this._register(_.addDisposableListener(i,_.EventType.KEY_DOWN,s=>C(new N.StandardKeyboardEvent(s))))}onkeyup(i,C){this._register(_.addDisposableListener(i,_.EventType.KEY_UP,s=>C(new N.StandardKeyboardEvent(s))))}oninput(i,C){this._register(_.addDisposableListener(i,_.EventType.INPUT,C))}onblur(i,C){this._register(_.addDisposableListener(i,_.EventType.BLUR,C))}onfocus(i,C){this._register(_.addDisposableListener(i,_.EventType.FOCUS,C))}ignoreGesture(i){L.Gesture.ignoreTarget(i)}}e.Widget=p}),define(te[164],ne([0,1,94,52,14]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends N.Widget{constructor(p){super();this._onActivate=p.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=p.bgWidth+"px",this.bgDomNode.style.height=p.bgHeight+"px",typeof p.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof p.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof p.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof p.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=p.className,this.domNode.classList.add(...p.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof p.top!="undefined"&&(this.domNode.style.top=p.top+"px"),typeof p.left!="undefined"&&(this.domNode.style.left=p.left+"px"),typeof p.bottom!="undefined"&&(this.domNode.style.bottom=p.bottom+"px"),typeof p.right!="undefined"&&(this.domNode.style.right=p.right+"px"),this._mouseMoveMonitor=this._register(new _.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,v=>this._arrowMouseDown(v)),this.onmousedown(this.domNode,v=>this._arrowMouseDown(v)),this._mousedownRepeatTimer=this._register(new I.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new I.TimeoutTimer)}_arrowMouseDown(p){const v=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(v,200),this._mouseMoveMonitor.startMonitoring(p.target,p.buttons,_.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),p.preventDefault()}}e.ScrollbarArrow=L}),define(te[207],ne([0,1,7,30,94,164,297,52,17]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class C extends p.Widget{constructor(a){super();this._lazyRender=a.lazyRender,this._host=a.host,this._scrollable=a.scrollable,this._scrollByPage=a.scrollByPage,this._scrollbarState=a.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(a.visibility,"visible scrollbar "+a.extraScrollbarClassName,"invisible scrollbar "+a.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new I.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,u=>this._domNodeMouseDown(u))}_createArrow(a){const u=this._register(new L.ScrollbarArrow(a));this.domNode.domNode.appendChild(u.bgDomNode),this.domNode.domNode.appendChild(u.domNode)}_createSlider(a,u,h,d){this.slider=(0,N.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(a),this.slider.setLeft(u),typeof h=="number"&&this.slider.setWidth(h),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(a){return this._scrollbarState.setVisibleSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(a){return this._scrollbarState.setScrollSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(a){return this._scrollbarState.setScrollPosition(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(a){a.target===this.domNode.domNode&&this._onMouseDown(a)}delegateMouseDown(a){const u=this.domNode.domNode.getClientRects()[0].top,h=u+this._scrollbarState.getSliderPosition(),d=u+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(a);h<=r&&r<=d?a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{})):this._onMouseDown(a)}_onMouseDown(a){let u,h;if(a.target===this.domNode.domNode&&typeof a.browserEvent.offsetX=="number"&&typeof a.browserEvent.offsetY=="number")u=a.browserEvent.offsetX,h=a.browserEvent.offsetY;else{const r=_.getDomNodePagePosition(this.domNode.domNode);u=a.posx-r.left,h=a.posy-r.top}const d=this._mouseDownRelativePosition(u,h);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{}))}_sliderMouseDown(a,u){const h=this._sliderMousePosition(a),d=this._sliderOrthogonalMousePosition(a),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(a.target,a.buttons,I.standardMouseMoveMerger,n=>{const l=this._sliderOrthogonalMousePosition(n),t=Math.abs(l-d);if(v.isWindows&&t>i){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const c=this._sliderMousePosition(n)-h;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),u()}),this._host.onDragStart()}_setDesiredScrollPositionNow(a){const u={};this.writeScrollPosition(u,a),this._scrollable.setScrollPositionNow(u)}updateScrollbarSize(a){this._updateScrollbarSize(a),this._scrollbarState.setScrollbarSize(a),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(te[303],ne([0,1,55,207,164,201,27]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-left",S.Codicon.triangleLeft),v=(0,S.registerCodicon)("scrollbar-button-right",S.Codicon.triangleRight);class i extends N.AbstractScrollbar{constructor(s,a,u){const h=s.getScrollDimensions(),d=s.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:u,scrollbarState:new L.ScrollbarState(a.horizontalHasArrows?a.arrowSize:0,a.horizontal===2?0:a.horizontalScrollbarSize,a.vertical===2?0:a.verticalScrollbarSize,h.width,h.scrollWidth,d.scrollLeft),visibility:a.horizontal,extraScrollbarClassName:"horizontal",scrollable:s,scrollByPage:a.scrollByPage});if(a.horizontalHasArrows){const r=(a.arrowSize-I.ARROW_IMG_SIZE)/2,n=(a.horizontalScrollbarSize-I.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:n,left:r,bottom:void 0,right:void 0,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:v,top:n,left:void 0,bottom:void 0,right:r,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((a.horizontalScrollbarSize-a.horizontalSliderSize)/2),0,void 0,a.horizontalSliderSize)}_updateSlider(s,a){this.slider.setWidth(s),this.slider.setLeft(a)}_renderDomNode(s,a){this.domNode.setWidth(s),this.domNode.setHeight(a),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(s){return this._shouldRender=this._onElementScrollSize(s.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(s.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(s.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(s,a){return s}_sliderMousePosition(s){return s.posx}_sliderOrthogonalMousePosition(s){return s.posy}_updateScrollbarSize(s){this.slider.setHeight(s)}writeScrollPosition(s,a){s.scrollLeft=a}updateOptions(s){this.updateScrollbarSize(s.horizontal===2?0:s.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(s.vertical===2?0:s.verticalScrollbarSize),this._visibilityController.setVisibility(s.horizontal),this._scrollByPage=s.scrollByPage}}e.HorizontalScrollbar=i}),define(te[304],ne([0,1,55,207,164,201,27]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-up",S.Codicon.triangleUp),v=(0,S.registerCodicon)("scrollbar-button-down",S.Codicon.triangleDown);class i extends N.AbstractScrollbar{constructor(s,a,u){const h=s.getScrollDimensions(),d=s.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:u,scrollbarState:new L.ScrollbarState(a.verticalHasArrows?a.arrowSize:0,a.vertical===2?0:a.verticalScrollbarSize,0,h.height,h.scrollHeight,d.scrollTop),visibility:a.vertical,extraScrollbarClassName:"vertical",scrollable:s,scrollByPage:a.scrollByPage});if(a.verticalHasArrows){const r=(a.arrowSize-I.ARROW_IMG_SIZE)/2,n=(a.verticalScrollbarSize-I.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:r,left:n,bottom:void 0,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:v,top:void 0,left:n,bottom:r,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((a.verticalScrollbarSize-a.verticalSliderSize)/2),a.verticalSliderSize,void 0)}_updateSlider(s,a){this.slider.setHeight(s),this.slider.setTop(a)}_renderDomNode(s,a){this.domNode.setWidth(a),this.domNode.setHeight(s),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(s){return this._shouldRender=this._onElementScrollSize(s.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(s.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(s.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(s,a){return a}_sliderMousePosition(s){return s.posy}_sliderOrthogonalMousePosition(s){return s.posx}_updateScrollbarSize(s){this.slider.setWidth(s)}writeScrollPosition(s,a){s.scrollTop=a}updateOptions(s){this.updateScrollbarSize(s.vertical===2?0:s.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(s.vertical),this._scrollByPage=s.scrollByPage}}e.VerticalScrollbar=i}),define(te[44],ne([0,1,159,47,73,8,24]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(C){return(0,S.uriToFsPath)(C,!0)}e.originalFSPath=p;class v{constructor(s){this._ignorePathCasing=s}compare(s,a,u=!1){return s===a?0:(0,L.compare)(this.getComparisonKey(s,u),this.getComparisonKey(a,u))}isEqual(s,a,u=!1){return s===a?!0:!s||!a?!1:this.getComparisonKey(s,u)===this.getComparisonKey(a,u)}getComparisonKey(s,a=!1){return s.with({path:this._ignorePathCasing(s)?s.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(s,...a){return S.URI.joinPath(s,...a)}basenameOrAuthority(s){return(0,e.basename)(s)||s.authority}basename(s){return I.posix.basename(s.path)}dirname(s){if(s.path.length===0)return s;let a;return s.scheme===N.Schemas.file?a=S.URI.file(I.dirname(p(s))).path:(a=I.posix.dirname(s.path),s.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),a="/")),s.with({path:a})}normalizePath(s){if(!s.path.length)return s;let a;return s.scheme===N.Schemas.file?a=S.URI.file(I.normalize(p(s))).path:a=I.posix.normalize(s.path),s.with({path:a})}resolvePath(s,a){if(s.scheme===N.Schemas.file){const u=S.URI.file(I.resolve(p(s),a));return s.with({authority:u.authority,path:u.path})}return a=_.toPosixPath(a),s.with({path:I.posix.resolve(s.path,a)})}}e.ExtUri=v,e.extUri=new v(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(C){C.META_DATA_LABEL="label",C.META_DATA_DESCRIPTION="description",C.META_DATA_SIZE="size",C.META_DATA_MIME="mime";function s(a){const u=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(r=>{const[n,l]=r.split(":");n&&l&&u.set(n,l)});const d=a.path.substring(0,a.path.indexOf(";"));return d&&u.set(C.META_DATA_MIME,d),u}C.parseMetaData=s})(i=e.DataUri||(e.DataUri={}))}),define(te[305],ne([0,1,7,92,162,55,106,10,6,75,105,127,713,714,206,47,35,44,8,24]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const c=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("insane",{createHTML(g,m){return(0,a.insane)(g,m)}});function f(g,m={},w={}){var D;const k=(0,I.createElement)(m),T=function(E){let x;try{x=(0,h.parse)(decodeURIComponent(E))}catch(W){}return x?(x=(0,r.cloneAndChange)(x,W=>{if(g.uris&&g.uris[W])return t.URI.revive(g.uris[W])}),encodeURIComponent(JSON.stringify(x))):E},R=function(E,x){const W=g.uris&&g.uris[E];if(!W)return E;let G=t.URI.revive(W);return x?E.startsWith(d.Schemas.data+":")?E:d.FileAccess.asBrowserUri(G).toString(!0):t.URI.parse(E).toString()===G.toString()?E:(G.query&&(G=G.with({query:T(G.query)})),G.toString())};let M;const A=new Promise(E=>M=E),O=new u.Renderer;if(O.image=(E,x,W)=>{let G=[],Y=[];if(E){({href:E,dimensions:G}=(0,i.parseHrefAndDimensions)(E)),E=R(E,!0);try{const se=t.URI.parse(E);m.baseUrl&&se.scheme===d.Schemas.file&&(E=(0,n.resolvePath)(m.baseUrl,E).toString())}catch(se){}Y.push(`src="${E}"`)}return W&&Y.push(`alt="${W}"`),x&&Y.push(`title="${x}"`),G.length&&(Y=Y.concat(G)),"<img "+Y.join(" ")+">"},O.link=(E,x,W)=>(E===W&&(W=(0,i.removeMarkdownEscapes)(W)),E=R(E,!1),m.baseUrl&&(/^\w[\w\d+.-]*:/.test(E)||(E=(0,n.resolvePath)(m.baseUrl,E).toString())),x=(0,i.removeMarkdownEscapes)(x),E=(0,i.removeMarkdownEscapes)(E),!E||E.match(/^data:|javascript:/i)||E.match(/^command:/i)&&!g.isTrusted||E.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?W:(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${E}" title="${x||E}">${W}</a>`)),O.paragraph=E=>(g.supportThemeIcons&&(E=(0,S.renderLabelWithIcons)(E).map(W=>typeof W=="string"?W:W.outerHTML).join("")),`<p>${E}</p>`),m.codeBlockRenderer&&(O.code=(E,x)=>{const W=m.codeBlockRenderer(x,E),G=s.defaultGenerator.nextId(),Y=Promise.all([W,A]).then(se=>{const re=k.querySelector(`div[data-code="${G}"]`);re&&_.reset(re,se[0])}).catch(se=>{});return m.asyncRenderCallback&&Y.then(m.asyncRenderCallback),`<div class="code" data-code="${G}">${(0,l.escape)(E)}</div>`}),m.actionHandler){const E=m.actionHandler.disposables.add(new N.DomEmitter(k,"click")),x=m.actionHandler.disposables.add(new N.DomEmitter(k,"auxclick"));m.actionHandler.disposables.add(v.Event.any(E.event,x.event)(W=>{const G=new L.StandardMouseEvent(W);if(!G.leftButton&&!G.middleButton)return;let Y=G.target;if(!(Y.tagName!=="A"&&(Y=Y.parentElement,!Y||Y.tagName!=="A")))try{const se=Y.dataset.href;se&&m.actionHandler.callback(se,G)}catch(se){(0,p.onUnexpectedError)(se)}finally{G.preventDefault()}}))}w.sanitizer=E=>(g.isTrusted?E.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?E:"",w.sanitize=!0,w.silent=!0,w.renderer=O;let P=(D=g.value)!==null&&D!==void 0?D:"";P.length>1e5&&(P=`${P.substr(0,1e5)}\u2026`),g.supportThemeIcons&&(P=(0,C.markdownEscapeEscapedIcons)(P));const F=u.parse(P,w);if(k.innerHTML=y(g,F),M(),m.asyncRenderCallback)for(const E of k.getElementsByTagName("img")){const x=_.addDisposableListener(E,"load",()=>{x.dispose(),m.asyncRenderCallback()})}return k}e.renderMarkdown=f;function y(g,m){var w;const D=b(g);return(w=c==null?void 0:c.createHTML(m,D))!==null&&w!==void 0?w:(0,a.insane)(m,D)}function b(g){const m=[d.Schemas.http,d.Schemas.https,d.Schemas.mailto,d.Schemas.data,d.Schemas.file,d.Schemas.vscodeFileResource,d.Schemas.vscodeRemote,d.Schemas.vscodeRemoteResource];return g.isTrusted&&m.push(d.Schemas.command),{allowedSchemes:m,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(w){return w.tag==="span"&&g.isTrusted?w.attrs.style&&Object.keys(w.attrs).length===1?!!w.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):w.attrs.class?!!w.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(te[165],ne([0,1,159,47,17,44,24]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function p(i){if(!i)return;typeof i=="string"&&(i=S.URI.file(i));const C=(0,L.basename)(i)||(i.scheme===N.Schemas.file?i.fsPath:i.path);return I.isWindows&&(0,_.isRootOrDriveLetter)(C)?v(C):C}e.getBaseLabel=p;function v(i){return(0,_.hasDriveLetter)(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=v}),define(te[107],ne([0,1,205,47,73,44,8]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.Mimes=void 0;var p;(function(r){r.text="text/plain",r.binary="application/octet-stream",r.unknown="application/unknown",r.markdown="text/markdown"})(p=e.Mimes||(e.Mimes={}));let v=[],i=[],C=[];function s(r,n=!1){const l=a(r);v.push(l),l.userConfigured?C.push(l):i.push(l),n&&!l.userConfigured&&v.forEach(t=>{t.mime===l.mime||t.userConfigured||(l.extension&&t.extension===l.extension&&console.warn(`Overwriting extension <<${l.extension}>> to now point to mime <<${l.mime}>>`),l.filename&&t.filename===l.filename&&console.warn(`Overwriting filename <<${l.filename}>> to now point to mime <<${l.mime}>>`),l.filepattern&&t.filepattern===l.filepattern&&console.warn(`Overwriting filepattern <<${l.filepattern}>> to now point to mime <<${l.mime}>>`),l.firstline&&t.firstline===l.firstline&&console.warn(`Overwriting firstline <<${l.firstline}>> to now point to mime <<${l.mime}>>`))})}e.registerTextMime=s;function a(r){return{id:r.id,mime:r.mime,filename:r.filename,extension:r.extension,filepattern:r.filepattern,firstline:r.firstline,userConfigured:r.userConfigured,filenameLowercase:r.filename?r.filename.toLowerCase():void 0,extensionLowercase:r.extension?r.extension.toLowerCase():void 0,filepatternLowercase:r.filepattern?(0,_.parse)(r.filepattern.toLowerCase()):void 0,filepatternOnPath:r.filepattern?r.filepattern.indexOf(I.posix.sep)>=0:!1}}function u(r,n){let l;if(r)switch(r.scheme){case N.Schemas.file:l=r.fsPath;break;case N.Schemas.data:l=L.DataUri.parseMetaData(r).get(L.DataUri.META_DATA_LABEL);break;default:l=r.path}if(!l)return[p.unknown];l=l.toLowerCase();const t=(0,I.basename)(l),o=h(l,t,C);if(o)return[o,p.text];const c=h(l,t,i);if(c)return[c,p.text];if(n){const f=d(n);if(f)return[f,p.text]}return[p.unknown]}e.guessMimeTypes=u;function h(r,n,l){var t;let o=null,c=null,f=null;for(let y=l.length-1;y>=0;y--){const b=l[y];if(n===b.filenameLowercase){o=b;break}if(b.filepattern&&(!c||b.filepattern.length>c.filepattern.length)){const g=b.filepatternOnPath?r:n;((t=b.filepatternLowercase)===null||t===void 0?void 0:t.call(b,g))&&(c=b)}b.extension&&(!f||b.extension.length>f.extension.length)&&n.endsWith(b.extensionLowercase)&&(f=b)}return o?o.mime:c?c.mime:f?f.mime:null}function d(r){if((0,S.startsWithUTF8BOM)(r)&&(r=r.substr(1)),r.length>0)for(let n=v.length-1;n>=0;n--){const l=v[n];if(!l.firstline)continue;const t=r.match(l.firstline);if(t&&t.length>0)return l.mime}return null}}),define(te[166],ne([0,1,107]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:_.Mimes.text,TERMINALS:"Terminals"};class N{constructor(L){this.data=L}update(){}getData(){return this.data}}e.DragAndDropData=N,e.StaticDND={CurrentDragAndDropData:void 0}}),define(te[306],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const _=new Uint8Array(16),N=[];for(let S=0;S<256;S++)N.push(S.toString(16).padStart(2,"0"));let I;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?I=crypto.getRandomValues.bind(crypto):I=function(S){for(let p=0;p<S.length;p++)S[p]=Math.floor(Math.random()*256);return S};function L(){I(_),_[6]=_[6]&15|64,_[8]=_[8]&63|128;let S=0,p="";return p+=N[_[S++]],p+=N[_[S++]],p+=N[_[S++]],p+=N[_[S++]],p+="-",p+=N[_[S++]],p+=N[_[S++]],p+="-",p+=N[_[S++]],p+=N[_[S++]],p+="-",p+=N[_[S++]],p+=N[_[S++]],p+="-",p+=N[_[S++]],p+=N[_[S++]],p+=N[_[S++]],p+=N[_[S++]],p+=N[_[S++]],p+=N[_[S++]],p}e.generateUuid=L}),define(te[208],ne([0,1,10,2,17,20]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let p=!1;function v(u){!I.isWeb||(p||(p=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(u.message))}e.logOnceWebWorkerWarning=v;class i{constructor(h){this._workerId=-1,this._handler=h,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(h){this._workerId=h}sendMessage(h,d){let r=String(++this._lastSentReq);return new Promise((n,l)=>{this._pendingReplies[r]={resolve:n,reject:l},this._send({vsWorker:this._workerId,req:r,method:h,args:d})})}handleMessage(h){!h||!h.vsWorker||this._workerId!==-1&&h.vsWorker!==this._workerId||this._handleMessage(h)}_handleMessage(h){if(h.seq){let l=h;if(!this._pendingReplies[l.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[l.seq];if(delete this._pendingReplies[l.seq],l.err){let o=l.err;l.err.$isError&&(o=new Error,o.name=l.err.name,o.message=l.err.message,o.stack=l.err.stack),t.reject(o);return}t.resolve(l.res);return}let d=h,r=d.req;this._handler.handleMessage(d.method,d.args).then(l=>{this._send({vsWorker:this._workerId,seq:r,res:l,err:void 0})},l=>{l.detail instanceof Error&&(l.detail=(0,_.transformErrorForSerialization)(l.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:(0,_.transformErrorForSerialization)(l)})})}_send(h){let d=[];if(h.req){const r=h;for(let n=0;n<r.args.length;n++)r.args[n]instanceof ArrayBuffer&&d.push(r.args[n])}else{const r=h;r.res instanceof ArrayBuffer&&d.push(r.res)}this._handler.sendMessage(h,d)}}class C extends N.Disposable{constructor(h,d,r){super();let n=null;this._worker=this._register(h.create("vs/base/common/worker/simpleWorker",c=>{this._protocol.handleMessage(c)},c=>{n&&n(c)})),this._protocol=new i({sendMessage:(c,f)=>{this._worker.postMessage(c,f)},handleMessage:(c,f)=>{if(typeof r[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(r[c].apply(r,f))}catch(y){return Promise.reject(y)}}}),this._protocol.setWorkerId(this._worker.getId());let l=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?l=self.require.getConfig():typeof self.requirejs!="undefined"&&(l=self.requirejs.s.contexts._.config);const t=L.getAllMethodNames(r);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(l)),d,t]);const o=(c,f)=>this._request(c,f);this._lazyProxy=new Promise((c,f)=>{n=f,this._onModuleLoaded.then(y=>{c(L.createProxyObject(y,o))},y=>{f(y),this._onError("Worker failed to load "+d,y)})})}getProxyObject(){return this._lazyProxy}_request(h,d){return new Promise((r,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(h,d).then(r,n)},n)})}_onError(h,d){console.error(h),console.info(d)}}e.SimpleWorkerClient=C;class s{constructor(h,d){this._requestHandlerFactory=d,this._requestHandler=null,this._protocol=new i({sendMessage:(r,n)=>{h(r,n)},handleMessage:(r,n)=>this._handleMessage(r,n)})}onmessage(h){this._protocol.handleMessage(h)}_handleMessage(h,d){if(h===S)return this.initialize(d[0],d[1],d[2],d[3]);if(!this._requestHandler||typeof this._requestHandler[h]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+h));try{return Promise.resolve(this._requestHandler[h].apply(this._requestHandler,d))}catch(r){return Promise.reject(r)}}initialize(h,d,r,n){this._protocol.setWorkerId(h);const l=(o,c)=>this._protocol.sendMessage(o,c),t=L.createProxyObject(n,l);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(L.getAllMethodNames(this._requestHandler))):(d&&(typeof d.baseUrl!="undefined"&&delete d.baseUrl,typeof d.paths!="undefined"&&typeof d.paths.vs!="undefined"&&delete d.paths.vs,typeof d.trustedTypesPolicy!==void 0&&delete d.trustedTypesPolicy,d.catchError=!0,self.require.config(d)),new Promise((o,c)=>{self.require([r],f=>{if(this._requestHandler=f.create(t),!this._requestHandler){c(new Error("No RequestHandler!"));return}o(L.getAllMethodNames(this._requestHandler))},c)}))}}e.SimpleWorkerServer=s;function a(u){return new s(u,null)}e.create=a}),define(te[209],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var _;(function(I){I[I.Blur=1]="Blur",I[I.Gesture=2]="Gesture",I[I.Other=3]="Other"})(_=e.QuickInputHideReason||(e.QuickInputHideReason={}));var N;(function(I){I[I.NONE=0]="NONE",I[I.FIRST=1]="FIRST",I[I.SECOND=2]="SECOND",I[I.LAST=3]="LAST"})(N=e.ItemActivation||(e.ItemActivation={}))}),define(te[307],ne([0,1,14,6,2,20]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(S||(S={}));class p extends I.Disposable{constructor(C,s=Object.create(null)){super();this.database=C,this.options=s,this._onDidChangeStorage=this._register(new N.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new _.ThrottledDelayer(p.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(C=>this.onDidChangeItemsExternal(C)))}onDidChangeItemsExternal(C){var s,a;(s=C.changed)===null||s===void 0||s.forEach((u,h)=>this.accept(h,u)),(a=C.deleted)===null||a===void 0||a.forEach(u=>this.accept(u,void 0))}accept(C,s){if(this.state===S.Closed)return;let a=!1;(0,L.isUndefinedOrNull)(s)?a=this.cache.delete(C):this.cache.get(C)!==s&&(this.cache.set(C,s),a=!0),a&&this._onDidChangeStorage.fire(C)}get(C,s){const a=this.cache.get(C);return(0,L.isUndefinedOrNull)(a)?s:a}getBoolean(C,s){const a=this.get(C);return(0,L.isUndefinedOrNull)(a)?s:a==="true"}getNumber(C,s){const a=this.get(C);return(0,L.isUndefinedOrNull)(a)?s:parseInt(a,10)}set(C,s){return ke(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if((0,L.isUndefinedOrNull)(s))return this.delete(C);const a=String(s);if(this.cache.get(C)!==a)return this.cache.set(C,a),this.pendingInserts.set(C,a),this.pendingDeletes.delete(C),this._onDidChangeStorage.fire(C),this.flushDelayer.trigger(()=>this.flushPending())})}delete(C){return ke(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(C)))return this.pendingDeletes.has(C)||this.pendingDeletes.add(C),this.pendingInserts.delete(C),this._onDidChangeStorage.fire(C),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return ke(this,void 0,void 0,function*(){if(!this.hasPending)return;const C={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(C).finally(()=>{var s;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(s=this.whenFlushedCallbacks.pop())===null||s===void 0||s()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=p,p.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=N.Event.None,this.items=new Map}updateItems(C){return ke(this,void 0,void 0,function*(){C.insert&&C.insert.forEach((s,a)=>this.items.set(a,s)),C.delete&&C.delete.forEach(s=>this.items.delete(s))})}}e.InMemoryStorageDatabase=v}),define(te[308],ne([0,1,17,208]),function($,e,_,N){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const L=(I=window.trustedTypes)===null||I===void 0?void 0:I.createPolicy("defaultWorkerFactory",{createScriptURL:s=>s});function S(s,a){if(_.globals.MonacoEnvironment){if(typeof _.globals.MonacoEnvironment.getWorker=="function")return _.globals.MonacoEnvironment.getWorker(s,a);if(typeof _.globals.MonacoEnvironment.getWorkerUrl=="function"){const u=_.globals.MonacoEnvironment.getWorkerUrl(s,a);return new Worker(L?L.createScriptURL(u):u,{name:a})}}if(typeof $=="function"){const u=$.toUrl("./"+s),h=p(u,a);return new Worker(L?L.createScriptURL(h):h,{name:a})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function p(s,a){if(/^((http:)|(https:)|(file:))/.test(s)&&s.substring(0,self.origin.length)!==self.origin){const u="vs/base/worker/defaultWorkerFactory.js",h=$.toUrl(u).slice(0,-u.length),d=`/*${a}*/self.MonacoEnvironment={baseUrl: '${h}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${s}') ?? '${s}');/*${a}*/`,r=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(r)}return s+"#"+a}e.getWorkerBootstrapUrl=p;function v(s){return typeof s.then=="function"}class i{constructor(a,u,h,d,r){this.id=u;const n=S("workerMain.js",h);v(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(a,[]),this.worker.then(l=>{l.onmessage=function(t){d(t.data)},l.onmessageerror=r,typeof l.addEventListener=="function"&&l.addEventListener("error",r)})}getId(){return this.id}postMessage(a,u){this.worker&&this.worker.then(h=>h.postMessage(a,u))}dispose(){this.worker&&this.worker.then(a=>a.terminate()),this.worker=null}}class C{constructor(a){this._label=a,this._webWorkerFailedBeforeError=!1}create(a,u,h){let d=++C.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(a,d,this._label||"anonymous"+d,u,r=>{(0,N.logOnceWebWorkerWarning)(r),this._webWorkerFailedBeforeError=r,h(r)})}}e.DefaultWorkerFactory=C,C.LAST_WORKER_ID=0}),define(te[210],ne([11]),{}),define(te[309],ne([11]),{}),define(te[45],ne([0,1,7,17,309]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const I=2e4;let L,S,p,v,i;function C(h){L=document.createElement("div"),L.className="monaco-aria-container";const d=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),L.appendChild(n),n};S=d(),p=d();const r=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),L.appendChild(n),n};v=r(),i=r(),h.appendChild(L)}e.setARIAContainer=C;function s(h){!L||(S.textContent!==h?(_.clearNode(p),u(S,h)):(_.clearNode(S),u(p,h)))}e.alert=s;function a(h){!L||(N.isMacintosh?s(h):v.textContent!==h?(_.clearNode(i),u(v,h)):(_.clearNode(v),u(i,h)))}e.status=a;function u(h,d){_.clearNode(h),d.length>I&&(d=d.substr(0,I)),h.textContent=d,h.style.visibility="hidden",h.style.visibility="visible"}}),define(te[310],ne([11]),{}),define(te[311],ne([0,1,7,51,58,106,29,6,2,35,310]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const C={buttonBackground:S.Color.fromHex("#0E639C"),buttonHoverBackground:S.Color.fromHex("#006BB3"),buttonForeground:S.Color.white};class s extends v.Disposable{constructor(u,h){super();this._onDidClick=this._register(new p.Emitter),this.options=h||Object.create(null),(0,i.mixin)(this.options,C,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),u.appendChild(this._element),this._register(I.Gesture.addTarget(this._element)),[_.EventType.CLICK,I.EventType.Tap].forEach(d=>{this._register((0,_.addDisposableListener)(this._element,d,r=>{if(!this.enabled){_.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register((0,_.addDisposableListener)(this._element,_.EventType.KEY_DOWN,d=>{const r=new N.StandardKeyboardEvent(d);let n=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(d),n=!0):r.equals(9)&&(this._element.blur(),n=!0),n&&_.EventHelper.stop(r,!0)})),this._register((0,_.addDisposableListener)(this._element,_.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,_.addDisposableListener)(this._element,_.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register((0,_.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let u;this.options.secondary?u=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:u=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,u&&(this._element.style.backgroundColor=u)}style(u){this.buttonForeground=u.buttonForeground,this.buttonBackground=u.buttonBackground,this.buttonHoverBackground=u.buttonHoverBackground,this.buttonSecondaryForeground=u.buttonSecondaryForeground,this.buttonSecondaryBackground=u.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=u.buttonSecondaryHoverBackground,this.buttonBorder=u.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let u,h;this.options.secondary?(h=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",u=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(h=this.buttonForeground?this.buttonForeground.toString():"",u=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=h,this._element.style.backgroundColor=u,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(u){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,_.reset)(this._element,...(0,L.renderLabelWithIcons)(u)):this._element.textContent=u,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=u)}set enabled(u){u?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=s}),define(te[312],ne([11]),{}),define(te[167],ne([0,1,52,27,29,6,312]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:I.Color.fromHex("#007ACC00"),inputActiveOptionForeground:I.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:I.Color.fromHex("#0E639C50")};class p extends _.Widget{constructor(i){super();this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),i),this._checked=this._opts.isChecked;const C=["monaco-custom-checkbox"];this._opts.icon&&C.push(...N.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&C.push(...this._opts.actionClassName.split(" ")),this._checked&&C.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...C),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,s=>{if(s.keyCode===10||s.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=p}),define(te[313],ne([11]),{}),define(te[314],ne([11]),{}),define(te[132],ne([0,1,27,313,314]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function N(I){let L=I.definition;for(;L instanceof _.Codicon;)L=L.definition;return`.codicon-${I.id}:before { content: '${L.fontCharacter}'; }`}e.formatRule=N}),define(te[315],ne([11]),{}),define(te[211],ne([0,1,158,7,2,17,128,315]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var p;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(p=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(s,a,u){const h=u.mode===p.ALIGN?u.offset:u.offset+u.size,d=u.mode===p.ALIGN?u.offset+u.size:u.offset;return u.position===0?a<=s-h?h:a<=d?d-a:Math.max(s-a,0):a<=d?d-a:a<=s-h?h:0}e.layout=v;class i extends I.Disposable{constructor(a,u){super();this.container=null,this.delegate=null,this.toDisposeOnClean=I.Disposable.None,this.toDisposeOnSetContainer=I.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=N.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,N.hide(this.view),this.setContainer(a,u),this._register((0,I.toDisposable)(()=>this.setContainer(null,1)))}setContainer(a,u){var h;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(h=this.shadowRootHostElement)===null||h===void 0||h.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),a){if(this.container=a,this.useFixedPosition=u!==1,this.useShadowDOM=u===3,this.useShadowDOM){this.shadowRootHostElement=N.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=C,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(N.$("slot"))}else this.container.appendChild(this.view);const d=new I.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(r=>{d.add(N.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(r=>{d.add(N.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(a){this.isVisible()&&this.hide(),N.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",N.show(this.view),this.toDisposeOnClean=a.render(this.view)||I.Disposable.None,this.delegate=a,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(L.isIOS&&_.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let a=this.delegate.getAnchor(),u;if(N.isHTMLElement(a)){let f=N.getDomNodePagePosition(a);u={top:f.top,left:f.left,width:f.width,height:f.height}}else u={top:a.y,left:a.x,width:a.width||1,height:a.height||2};const h=N.getTotalWidth(this.view),d=N.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,l=this.delegate.anchorAxisAlignment||0;let t,o;if(l===0){const f={offset:u.top-window.pageYOffset,size:u.height,position:r===0?0:1},y={offset:u.left,size:u.width,position:n===0?0:1,mode:p.ALIGN};t=v(window.innerHeight,d,f)+window.pageYOffset,S.Range.intersects({start:t,end:t+d},{start:f.offset,end:f.offset+f.size})&&(y.mode=p.AVOID),o=v(window.innerWidth,h,y)}else{const f={offset:u.left,size:u.width,position:n===0?0:1},y={offset:u.top,size:u.height,position:r===0?0:1,mode:p.ALIGN};o=v(window.innerWidth,h,f),S.Range.intersects({start:o,end:o+h},{start:f.offset,end:f.offset+f.size})&&(y.mode=p.AVOID),t=v(window.innerHeight,d,y)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const c=N.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?N.getDomNodePagePosition(this.view).top:c.top)}px`,this.view.style.left=`${o-(this.useFixedPosition?N.getDomNodePagePosition(this.view).left:c.left)}px`,this.view.style.width="initial"}hide(a){const u=this.delegate;this.delegate=null,(u==null?void 0:u.onHide)&&u.onHide(a),this.toDisposeOnClean.dispose(),N.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(a,u){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(a,document.activeElement):u&&!N.isAncestor(a.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let C=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(te[316],ne([11]),{}),define(te[212],ne([0,1,7,29,35,8,316]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:N.Color.fromHex("#4D4D4D"),badgeForeground:N.Color.fromHex("#FFFFFF")};class p{constructor(i,C){this.count=0,this.options=C||Object.create(null),(0,I.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,_.append)(i,(0,_.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=(0,L.format)(this.countFormat,this.count),this.element.title=(0,L.format)(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",C=this.badgeForeground?this.badgeForeground.toString():"",s=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=C,this.element.style.borderWidth=s?"1px":"",this.element.style.borderStyle=s?"solid":"",this.element.style.borderColor=s}}}e.CountBadge=p}),define(te[213],ne([11]),{}),define(te[214],ne([11]),{}),define(te[317],ne([11]),{}),define(te[318],ne([11]),{}),define(te[319],ne([11]),{}),define(te[320],ne([11]),{}),define(te[215],ne([11]),{}),define(te[321],ne([11]),{}),define(te[133],ne([0,1,321]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(te[322],ne([11]),{}),define(te[323],ne([0,1,7,14,29,2,35,322]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const p="done",v="active",i="infinite",C="discrete",s={progressBarBackground:I.Color.fromHex("#0E70C0")};class a extends L.Disposable{constructor(h,d){super();this.options=d||Object.create(null),(0,S.mixin)(this.options,s,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new N.RunOnceScheduler(()=>(0,_.show)(this.element),0)),this.create(h)}create(h){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),h.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,i,C),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(h){return this.element.classList.add(p),this.element.classList.contains(i)?(this.bit.style.opacity="0",h?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",h?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(C,p),this.element.classList.add(v,i),this}getContainer(){return this.element}style(h){this.progressBarBackground=h.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const h=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=h}}}e.ProgressBar=a}),define(te[324],ne([11]),{}),define(te[108],ne([0,1,7,92,58,14,91,6,2,17,324]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let C=!1;var s;(function(o){o.North="north",o.South="south",o.East="east",o.West="west"})(s=e.OrthogonalEdge||(e.OrthogonalEdge={}));let a=4;const u=new p.Emitter;let h=300;const d=new p.Emitter;class r{constructor(){this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Re([S.memoize],r.prototype,"onPointerMove",null),Re([S.memoize],r.prototype,"onPointerUp",null);class n{constructor(c){this.el=c,this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(this.el,I.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(this.el,I.EventType.End)).event}dispose(){this.disposables.dispose()}}Re([S.memoize],n.prototype,"onPointerMove",null),Re([S.memoize],n.prototype,"onPointerUp",null);class l{constructor(c){this.factory=c}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Re([S.memoize],l.prototype,"onPointerMove",null),Re([S.memoize],l.prototype,"onPointerUp",null);class t extends v.Disposable{constructor(c,f,y){super();this.hoverDelay=h,this.hoverDelayer=this._register(new L.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new p.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new p.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new p.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new p.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new p.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.el=(0,_.append)(c,(0,_.$)(".monaco-sash")),y.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${y.orthogonalEdge}`),i.isMacintosh&&this.el.classList.add("mac");const b=this._register(new N.DomEmitter(this.el,"mousedown")).event;this._register(b(R=>this.onPointerStart(R,new r),this));const g=this._register(new N.DomEmitter(this.el,"dblclick")).event;this._register(g(this.onPointerDoublePress,this));const m=this._register(new N.DomEmitter(this.el,"mouseenter")).event;this._register(m(()=>t.onMouseEnter(this)));const w=this._register(new N.DomEmitter(this.el,"mouseleave")).event;this._register(w(()=>t.onMouseLeave(this))),this._register(I.Gesture.addTarget(this.el));const D=p.Event.map(this._register(new N.DomEmitter(this.el,I.EventType.Start)).event,R=>{var M;return Object.assign(Object.assign({},R),{target:(M=R.initialTarget)!==null&&M!==void 0?M:null})});this._register(D(R=>this.onPointerStart(R,new n(this.el)),this));const k=this._register(new N.DomEmitter(this.el,I.EventType.Tap)).event,T=p.Event.map(p.Event.filter(p.Event.debounce(k,(R,M)=>{var A;return{event:M,count:((A=R==null?void 0:R.count)!==null&&A!==void 0?A:0)+1}},250),({count:R})=>R===2),({event:R})=>{var M;return Object.assign(Object.assign({},R),{target:(M=R.initialTarget)!==null&&M!==void 0?M:null})});this._register(T(this.onPointerDoublePress,this)),typeof y.size=="number"?(this.size=y.size,y.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=a,this._register(u.event(R=>{this.size=R,this.layout()}))),this._register(d.event(R=>this.hoverDelay=R)),this.hidden=!1,this.layoutProvider=f,this.orthogonalStartSash=y.orthogonalStartSash,this.orthogonalEndSash=y.orthogonalEndSash,this.orientation=y.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}get state(){return this._state}set state(c){this._state!==c&&(this.el.classList.toggle("disabled",c===0),this.el.classList.toggle("minimum",c===1),this.el.classList.toggle("maximum",c===2),this._state=c,this._onDidEnablementChange.fire(c))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(c){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),c){const f=y=>{this.orthogonalStartDragHandleDisposables.clear(),y!==0&&(this._orthogonalStartDragHandle=(0,_.append)(this.el,(0,_.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>t.onMouseEnter(c),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>t.onMouseLeave(c),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(c.onDidEnablementChange(f,this)),f(c.state)}this._orthogonalStartSash=c}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(c){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),c){const f=y=>{this.orthogonalEndDragHandleDisposables.clear(),y!==0&&(this._orthogonalEndDragHandle=(0,_.append)(this.el,(0,_.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>t.onMouseEnter(c),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>t.onMouseLeave(c),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(c.onDidEnablementChange(f,this)),f(c.state)}this._orthogonalEndSash=c}onPointerStart(c,f){_.EventHelper.stop(c);let y=!1;if(!c.__orthogonalSashEvent){const O=this.getOrthogonalSash(c);O&&(y=!0,c.__orthogonalSashEvent=!0,O.onPointerStart(c,new l(f)))}if(this.linkedSash&&!c.__linkedSashEvent&&(c.__linkedSashEvent=!0,this.linkedSash.onPointerStart(c,new l(f))),!this.state)return;const b=(0,_.getElementsByTagName)("iframe");for(const O of b)O.style.pointerEvents="none";const g=c.pageX,m=c.pageY,w=c.altKey,D={startX:g,currentX:g,startY:m,currentY:m,altKey:w};this.el.classList.add("active"),this._onDidStart.fire(D);const k=(0,_.createStyleSheet)(this.el),T=()=>{let O="";y?O="all-scroll":this.orientation===1?this.state===1?O="s-resize":this.state===2?O="n-resize":O=i.isMacintosh?"row-resize":"ns-resize":this.state===1?O="e-resize":this.state===2?O="w-resize":O=i.isMacintosh?"col-resize":"ew-resize",k.textContent=`* { cursor: ${O} !important; }`},R=new v.DisposableStore;T(),y||this.onDidEnablementChange(T,null,R);const M=O=>{_.EventHelper.stop(O,!1);const P={startX:g,currentX:O.pageX,startY:m,currentY:O.pageY,altKey:w};this._onDidChange.fire(P)},A=O=>{_.EventHelper.stop(O,!1),this.el.removeChild(k),this.el.classList.remove("active"),this._onDidEnd.fire(),R.dispose();for(const P of b)P.style.pointerEvents="auto"};f.onPointerMove(M,null,R),f.onPointerUp(A,null,R),R.add(f)}onPointerDoublePress(c){const f=this.getOrthogonalSash(c);f&&f._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(c,f=!1){c.el.classList.contains("active")?(c.hoverDelayer.cancel(),c.el.classList.add("hover")):c.hoverDelayer.trigger(()=>c.el.classList.add("hover"),c.hoverDelay).then(void 0,()=>{}),!f&&c.linkedSash&&t.onMouseEnter(c.linkedSash,!0)}static onMouseLeave(c,f=!1){c.hoverDelayer.cancel(),c.el.classList.remove("hover"),!f&&c.linkedSash&&t.onMouseLeave(c.linkedSash,!0)}clearSashHoverState(){t.onMouseLeave(this)}layout(){if(this.orientation===0){const c=this.layoutProvider;this.el.style.left=c.getVerticalSashLeft(this)-this.size/2+"px",c.getVerticalSashTop&&(this.el.style.top=c.getVerticalSashTop(this)+"px"),c.getVerticalSashHeight&&(this.el.style.height=c.getVerticalSashHeight(this)+"px")}else{const c=this.layoutProvider;this.el.style.top=c.getHorizontalSashTop(this)-this.size/2+"px",c.getHorizontalSashLeft&&(this.el.style.left=c.getHorizontalSashLeft(this)+"px"),c.getHorizontalSashWidth&&(this.el.style.width=c.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(c){if(!(!c.target||!(c.target instanceof HTMLElement))&&c.target.classList.contains("orthogonal-drag-handle"))return c.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=t}),define(te[325],ne([11]),{}),define(te[62],ne([0,1,41,7,30,55,303,304,52,14,6,2,17,129,325]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const h=500,d=50,r=!0;class n{constructor(g,m,w){this.timestamp=g,this.deltaX=m,this.deltaY=w,this.score=0}}class l{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let g=1,m=0,w=1,D=this._rear;do{const k=D===this._front?g:Math.pow(2,-w);if(g-=k,m+=this._memory[D].score*k,D===this._front)break;D=(this._capacity+D-1)%this._capacity,w++}while(!0);return m<=.5}accept(g,m,w){const D=new n(g,m,w);D.score=this._computeScore(D),this._front===-1&&this._rear===-1?(this._memory[0]=D,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=D)}_computeScore(g){if(Math.abs(g.deltaX)>0&&Math.abs(g.deltaY)>0)return 1;let m=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(g.deltaX)||!this._isAlmostInt(g.deltaY))&&(m+=.25),Math.min(Math.max(m,0),1)}_isAlmostInt(g){return Math.abs(Math.round(g)-g)<.01}}e.MouseWheelClassifier=l,l.INSTANCE=new l;class t extends v.Widget{constructor(g,m,w){super();this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new C.Emitter),g.style.overflow="hidden",this._options=y(m),this._scrollable=w,this._register(this._scrollable.onScroll(k=>{this._onWillScroll.fire(k),this._onDidScroll(k),this._onScroll.fire(k)}));const D={onMouseWheel:k=>this._onMouseWheel(k),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p.VerticalScrollbar(this._scrollable,this._options,D)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,D)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(g),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,k=>this._onMouseOver(k)),this.onnonbubblingmouseout(this._listenOnDomNode,k=>this._onMouseOut(k)),this._hideTimeout=this._register(new i.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(g){this._verticalScrollbar.delegateMouseDown(g)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(g){this._scrollable.setScrollDimensions(g,!1)}updateClassName(g){this._options.className=g,a.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(g){typeof g.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=g.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof g.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=g.mouseWheelScrollSensitivity),typeof g.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=g.fastScrollSensitivity),typeof g.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=g.scrollPredominantAxis),typeof g.horizontal!="undefined"&&(this._options.horizontal=g.horizontal),typeof g.vertical!="undefined"&&(this._options.vertical=g.vertical),typeof g.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=g.horizontalScrollbarSize),typeof g.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=g.verticalScrollbarSize),typeof g.scrollByPage!="undefined"&&(this._options.scrollByPage=g.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(g){if(this._mouseWheelToDispose.length>0!==g&&(this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),g)){const w=D=>{this._onMouseWheel(new L.StandardWheelEvent(D))};this._mouseWheelToDispose.push(N.addDisposableListener(this._listenOnDomNode,N.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(g){const m=l.INSTANCE;if(r){const k=window.devicePixelRatio/(0,_.getZoomFactor)();a.isWindows||a.isLinux?m.accept(Date.now(),g.deltaX/k,g.deltaY/k):m.accept(Date.now(),g.deltaX,g.deltaY)}let w=!1;if(g.deltaY||g.deltaX){let k=g.deltaY*this._options.mouseWheelScrollSensitivity,T=g.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(k)>=Math.abs(T)?T=0:k=0),this._options.flipAxes&&([k,T]=[T,k]);const R=!a.isMacintosh&&g.browserEvent&&g.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!T&&(T=k,k=0),g.browserEvent&&g.browserEvent.altKey&&(T=T*this._options.fastScrollSensitivity,k=k*this._options.fastScrollSensitivity);const M=this._scrollable.getFutureScrollPosition();let A={};if(k){const O=d*k,P=M.scrollTop-(O<0?Math.floor(O):Math.ceil(O));this._verticalScrollbar.writeScrollPosition(A,P)}if(T){const O=d*T,P=M.scrollLeft-(O<0?Math.floor(O):Math.ceil(O));this._horizontalScrollbar.writeScrollPosition(A,P)}A=this._scrollable.validateScrollPosition(A),(M.scrollLeft!==A.scrollLeft||M.scrollTop!==A.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&m.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(A):this._scrollable.setScrollPositionNow(A),w=!0)}let D=w;!D&&this._options.alwaysConsumeMouseWheel&&(D=!0),!D&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(D=!0),D&&(g.preventDefault(),g.stopPropagation())}_onDidScroll(g){this._shouldRender=this._horizontalScrollbar.onDidScroll(g)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(g)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const g=this._scrollable.getCurrentScrollPosition(),m=g.scrollTop>0,w=g.scrollLeft>0,D=w?" left":"",k=m?" top":"",T=w||m?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${D}`),this._topShadowDomNode.setClassName(`shadow${k}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${k}${D}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(g){this._mouseIsOver=!1,this._hide()}_onMouseOver(g){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),h)}}e.AbstractScrollableElement=t;class o extends t{constructor(g,m){m=m||{},m.mouseWheelSmoothScroll=!1;const w=new u.Scrollable(0,D=>N.scheduleAtNextAnimationFrame(D));super(g,m,w);this._register(w)}setScrollPosition(g){this._scrollable.setScrollPositionNow(g)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.ScrollableElement=o;class c extends t{constructor(g,m,w){super(g,m,w)}setScrollPosition(g){g.reuseAnimation?this._scrollable.setScrollPositionSmooth(g,g.reuseAnimation):this._scrollable.setScrollPositionNow(g)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=c;class f extends o{constructor(g,m){super(g,m);this._element=g,this.onScroll(w=>{w.scrollTopChanged&&(this._element.scrollTop=w.scrollTop),w.scrollLeftChanged&&(this._element.scrollLeft=w.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=f;function y(b){const g={lazyRender:typeof b.lazyRender!="undefined"?b.lazyRender:!1,className:typeof b.className!="undefined"?b.className:"",useShadows:typeof b.useShadows!="undefined"?b.useShadows:!0,handleMouseWheel:typeof b.handleMouseWheel!="undefined"?b.handleMouseWheel:!0,flipAxes:typeof b.flipAxes!="undefined"?b.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof b.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?b.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof b.alwaysConsumeMouseWheel!="undefined"?b.alwaysConsumeMouseWheel:!1,scrollYToX:typeof b.scrollYToX!="undefined"?b.scrollYToX:!1,mouseWheelScrollSensitivity:typeof b.mouseWheelScrollSensitivity!="undefined"?b.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof b.fastScrollSensitivity!="undefined"?b.fastScrollSensitivity:5,scrollPredominantAxis:typeof b.scrollPredominantAxis!="undefined"?b.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof b.mouseWheelSmoothScroll!="undefined"?b.mouseWheelSmoothScroll:!0,arrowSize:typeof b.arrowSize!="undefined"?b.arrowSize:11,listenOnDomNode:typeof b.listenOnDomNode!="undefined"?b.listenOnDomNode:null,horizontal:typeof b.horizontal!="undefined"?b.horizontal:1,horizontalScrollbarSize:typeof b.horizontalScrollbarSize!="undefined"?b.horizontalScrollbarSize:10,horizontalSliderSize:typeof b.horizontalSliderSize!="undefined"?b.horizontalSliderSize:0,horizontalHasArrows:typeof b.horizontalHasArrows!="undefined"?b.horizontalHasArrows:!1,vertical:typeof b.vertical!="undefined"?b.vertical:1,verticalScrollbarSize:typeof b.verticalScrollbarSize!="undefined"?b.verticalScrollbarSize:10,verticalHasArrows:typeof b.verticalHasArrows!="undefined"?b.verticalHasArrows:!1,verticalSliderSize:typeof b.verticalSliderSize!="undefined"?b.verticalSliderSize:0,scrollByPage:typeof b.scrollByPage!="undefined"?b.scrollByPage:!1};return g.horizontalSliderSize=typeof b.horizontalSliderSize!="undefined"?b.horizontalSliderSize:g.horizontalScrollbarSize,g.verticalSliderSize=typeof b.verticalSliderSize!="undefined"?b.verticalSliderSize:g.verticalScrollbarSize,a.isMacintosh&&(g.className+=" mac"),g}}),define(te[326],ne([0,1,7,62,2,317]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=_.$;class S extends I.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new N.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;class p extends I.Disposable{constructor(i,C,s){super();this.actionContainer=_.append(i,L("div.action-container")),this.action=_.append(this.actionContainer,L("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),C.iconClass&&_.append(this.action,L(`span.icon.${C.iconClass}`));const a=_.append(this.action,L("span"));a.textContent=s?`${C.label} (${s})`:C.label,this._register(_.addDisposableListener(this.actionContainer,_.EventType.CLICK,u=>{u.stopPropagation(),u.preventDefault(),C.run(this.actionContainer)})),this.setEnabled(!0)}static render(i,C,s){return new p(i,C,s)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=p}),define(te[168],ne([0,1,41,166,7,92,58,62,19,14,91,6,2,35,128,129,296,302]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const l={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(g){return[g]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(m){this.elements=m}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class o{constructor(m){this.elements=m}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class c{constructor(){this.types=[],this.files=[]}update(m){if(m.types&&this.types.splice(0,this.types.length,...m.types),m.files){this.files.splice(0,this.files.length);for(let w=0;w<m.files.length;w++){const D=m.files.item(w);D&&(D.size||D.type)&&this.files.push(D)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=c;function f(g,m){return Array.isArray(g)&&Array.isArray(m)?(0,v.equals)(g,m):g===m}class y{constructor(m){(m==null?void 0:m.getSetSize)?this.getSetSize=m.getSetSize.bind(m):this.getSetSize=(w,D,k)=>k,(m==null?void 0:m.getPosInSet)?this.getPosInSet=m.getPosInSet.bind(m):this.getPosInSet=(w,D)=>D+1,(m==null?void 0:m.getRole)?this.getRole=m.getRole.bind(m):this.getRole=w=>"listitem",(m==null?void 0:m.isChecked)?this.isChecked=m.isChecked.bind(m):this.isChecked=w=>{}}}class b{constructor(m,w,D,k=l){if(this.virtualDelegate=w,this.domId=`list_id_${++b.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new i.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=a.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=a.Disposable.None,this.onDragLeaveTimeout=a.Disposable.None,this.disposables=new a.DisposableStore,this._onDidChangeContentHeight=new s.Emitter,this._horizontalScrolling=!1,k.horizontalScrolling&&k.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new r.RangeMap;for(const R of D)this.renderers.set(R.templateId,R);this.cache=this.disposables.add(new n.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof k.mouseSupport=="boolean"?k.mouseSupport:!0),this._horizontalScrolling=(0,u.getOrDefault)(k,R=>R.horizontalScrolling,l.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof k.additionalScrollHeight=="undefined"?0:k.additionalScrollHeight,this.accessibilityProvider=new y(k.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,u.getOrDefault)(k,R=>R.transformOptimization,l.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(S.Gesture.addTarget(this.rowsContainer)),this.scrollable=new d.Scrollable((0,u.getOrDefault)(k,R=>R.smoothScrolling,!1)?125:0,R=>(0,I.scheduleAtNextAnimationFrame)(R)),this.scrollableElement=this.disposables.add(new p.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,u.getOrDefault)(k,R=>R.alwaysConsumeMouseWheel,l.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,u.getOrDefault)(k,R=>R.verticalScrollMode,l.verticalScrollMode),useShadows:(0,u.getOrDefault)(k,R=>R.useShadows,l.useShadows),mouseWheelScrollSensitivity:k.mouseWheelScrollSensitivity,fastScrollSensitivity:k.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),m.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,I.addDisposableListener)(this.rowsContainer,S.EventType.Change,R=>this.onTouchChange(R))),this.disposables.add((0,I.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",R=>R.target.scrollTop=0)),this.disposables.add((0,I.addDisposableListener)(this.domNode,"dragover",R=>this.onDragOver(this.toDragEvent(R)))),this.disposables.add((0,I.addDisposableListener)(this.domNode,"drop",R=>this.onDrop(this.toDragEvent(R)))),this.disposables.add((0,I.addDisposableListener)(this.domNode,"dragleave",R=>this.onDragLeave(this.toDragEvent(R)))),this.disposables.add((0,I.addDisposableListener)(this.domNode,"dragend",R=>this.onDragEnd(R))),this.setRowLineHeight=(0,u.getOrDefault)(k,R=>R.setRowLineHeight,l.setRowLineHeight),this.setRowHeight=(0,u.getOrDefault)(k,R=>R.setRowHeight,l.setRowHeight),this.supportDynamicHeights=(0,u.getOrDefault)(k,R=>R.supportDynamicHeights,l.supportDynamicHeights),this.dnd=(0,u.getOrDefault)(k,R=>R.dnd,l.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(m){if(m!==this._horizontalScrolling){if(m&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=m,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,I.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(m){m.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=m.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),m.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(m.smoothScrolling?125:0),m.horizontalScrolling!==void 0&&(this.horizontalScrolling=m.horizontalScrolling),m.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:m.mouseWheelScrollSensitivity}),m.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:m.fastScrollSensitivity})}splice(m,w,D=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(m,w,D)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(m,w,D=[]){const k=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T={start:m,end:m+w},R=h.Range.intersect(k,T),M=new Map;for(let V=R.start;V<R.end;V++){const B=this.items[V];if(B.dragStartDisposable.dispose(),B.row){let Z=M.get(B.templateId);Z||(Z=[],M.set(B.templateId,Z));const H=this.renderers.get(B.templateId);H&&H.disposeElement&&H.disposeElement(B.element,V,B.row.templateData,B.size),Z.push(B.row)}B.row=null}const A={start:m+w,end:this.items.length},O=h.Range.intersect(A,k),P=h.Range.relativeComplement(A,k),F=D.map(V=>({id:String(this.itemId++),element:V,templateId:this.virtualDelegate.getTemplateId(V),size:this.virtualDelegate.getHeight(V),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(V),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:a.Disposable.None}));let E;m===0&&w>=this.items.length?(this.rangeMap=new r.RangeMap,this.rangeMap.splice(0,0,F),E=this.items,this.items=F):(this.rangeMap.splice(m,w,F),E=this.items.splice(m,w,...F));const x=D.length-w,W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),G=(0,r.shift)(O,x),Y=h.Range.intersect(W,G);for(let V=Y.start;V<Y.end;V++)this.updateItemInDOM(this.items[V],V);const se=h.Range.relativeComplement(G,W);for(const V of se)for(let B=V.start;B<V.end;B++)this.removeItemFromDOM(B);const re=P.map(V=>(0,r.shift)(V,x)),le=[{start:m,end:m+D.length},...re].map(V=>h.Range.intersect(W,V)),ae=this.getNextToLastElement(le);for(const V of le)for(let B=V.start;B<V.end;B++){const Z=this.items[B],H=M.get(Z.templateId),z=H==null?void 0:H.pop();this.insertItemInDOM(B,ae,z)}for(const V of M.values())for(const B of V)this.cache.release(B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),E.map(V=>V.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,I.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let m=0;for(const w of this.items)typeof w.width!="undefined"&&(m=Math.max(m,w.width));this.scrollWidth=m,this.scrollableElement.setScrollDimensions({scrollWidth:m===0?0:m+10})}rerender(){if(!!this.supportDynamicHeights){for(const m of this.items)m.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(m){return this.items[m].element}domElement(m){const w=this.items[m].row;return w&&w.domNode}elementHeight(m){return this.items[m].size}elementTop(m){return this.rangeMap.positionAt(m)}indexAt(m){return this.rangeMap.indexAt(m)}indexAfter(m){return this.rangeMap.indexAfter(m)}layout(m,w){let D={height:typeof m=="number"?m:(0,I.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,D.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(D),typeof w!="undefined"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,I.getContentWidth)(this.domNode)})}render(m,w,D,k,T,R=!1){const M=this.getRenderRange(w,D),A=h.Range.relativeComplement(M,m),O=h.Range.relativeComplement(m,M),P=this.getNextToLastElement(A);if(R){const F=h.Range.intersect(m,M);for(let E=F.start;E<F.end;E++)this.updateItemInDOM(this.items[E],E)}for(const F of A)for(let E=F.start;E<F.end;E++)this.insertItemInDOM(E,P);for(const F of O)for(let E=F.start;E<F.end;E++)this.removeItemFromDOM(E);k!==void 0&&(this.rowsContainer.style.left=`-${k}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&T!==void 0&&(this.rowsContainer.style.width=`${Math.max(T,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=D}insertItemInDOM(m,w,D){const k=this.items[m];k.row||(k.row=D??this.cache.alloc(k.templateId));const T=this.accessibilityProvider.getRole(k.element)||"listitem";k.row.domNode.setAttribute("role",T);const R=this.accessibilityProvider.isChecked(k.element);typeof R!="undefined"&&k.row.domNode.setAttribute("aria-checked",String(!!R)),k.row.domNode.parentElement||(w?this.rowsContainer.insertBefore(k.row.domNode,w):this.rowsContainer.appendChild(k.row.domNode)),this.updateItemInDOM(k,m);const M=this.renderers.get(k.templateId);if(!M)throw new Error(`No renderer found for template id ${k.templateId}`);M&&M.renderElement(k.element,m,k.row.templateData,k.size);const A=this.dnd.getDragURI(k.element);k.dragStartDisposable.dispose(),k.row.domNode.draggable=!!A,A&&(k.dragStartDisposable=(0,I.addDisposableListener)(k.row.domNode,"dragstart",O=>this.onDragStart(k.element,A,O))),this.horizontalScrolling&&(this.measureItemWidth(k),this.eventuallyUpdateScrollWidth())}measureItemWidth(m){if(!m.row||!m.row.domNode)return;m.row.domNode.style.width=_.isFirefox?"-moz-fit-content":"fit-content",m.width=(0,I.getContentWidth)(m.row.domNode);const w=window.getComputedStyle(m.row.domNode);w.paddingLeft&&(m.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(m.width+=parseFloat(w.paddingRight)),m.row.domNode.style.width=""}updateItemInDOM(m,w){m.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(m.row.domNode.style.height=`${m.size}px`),this.setRowLineHeight&&(m.row.domNode.style.lineHeight=`${m.size}px`),m.row.domNode.setAttribute("data-index",`${w}`),m.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),m.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(m.element,w,this.length))),m.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(m.element,w))),m.row.domNode.setAttribute("id",this.getElementDomId(w)),m.row.domNode.classList.toggle("drop-target",m.dropTarget)}removeItemFromDOM(m){const w=this.items[m];if(w.dragStartDisposable.dispose(),w.row){const D=this.renderers.get(w.templateId);D&&D.disposeElement&&D.disposeElement(w.element,m,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(m,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:m,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(m){this.setScrollTop(m)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"click")).event,m=>this.toMouseEvent(m))}get onMouseDblClick(){return s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"dblclick")).event,m=>this.toMouseEvent(m))}get onMouseMiddleClick(){return s.Event.filter(s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"auxclick")).event,m=>this.toMouseEvent(m)),m=>m.browserEvent.button===1)}get onMouseDown(){return s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mousedown")).event,m=>this.toMouseEvent(m))}get onContextMenu(){return s.Event.any(s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"contextmenu")).event,m=>this.toMouseEvent(m)),s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,S.EventType.Contextmenu)).event,m=>this.toGestureEvent(m)))}get onTouchStart(){return s.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"touchstart")).event,m=>this.toTouchEvent(m))}get onTap(){return s.Event.map(this.disposables.add(new L.DomEmitter(this.rowsContainer,S.EventType.Tap)).event,m=>this.toGestureEvent(m))}toMouseEvent(m){const w=this.getItemIndexFromEventTarget(m.target||null),D=typeof w=="undefined"?void 0:this.items[w],k=D&&D.element;return{browserEvent:m,index:w,element:k}}toTouchEvent(m){const w=this.getItemIndexFromEventTarget(m.target||null),D=typeof w=="undefined"?void 0:this.items[w],k=D&&D.element;return{browserEvent:m,index:w,element:k}}toGestureEvent(m){const w=this.getItemIndexFromEventTarget(m.initialTarget||null),D=typeof w=="undefined"?void 0:this.items[w],k=D&&D.element;return{browserEvent:m,index:w,element:k}}toDragEvent(m){const w=this.getItemIndexFromEventTarget(m.target||null),D=typeof w=="undefined"?void 0:this.items[w],k=D&&D.element;return{browserEvent:m,index:w,element:k}}onScroll(m){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,m.scrollTop,m.height,m.scrollLeft,m.scrollWidth),this.supportDynamicHeights&&this._rerender(m.scrollTop,m.height,m.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",m),w}}onTouchChange(m){m.preventDefault(),m.stopPropagation(),this.scrollTop-=m.translationY}onDragStart(m,w,D){if(!D.dataTransfer)return;const k=this.dnd.getDragElements(m);if(D.dataTransfer.effectAllowed="copyMove",D.dataTransfer.setData(N.DataTransfers.TEXT,w),D.dataTransfer.setDragImage){let T;this.dnd.getDragLabel&&(T=this.dnd.getDragLabel(k,D)),typeof T=="undefined"&&(T=String(k.length));const R=(0,I.$)(".monaco-drag-image");R.textContent=T,document.body.appendChild(R),D.dataTransfer.setDragImage(R,-10,-10),setTimeout(()=>document.body.removeChild(R),0)}this.currentDragData=new t(k),N.StaticDND.CurrentDragAndDropData=new o(k),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,D)}onDragOver(m){if(m.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.StaticDND.CurrentDragAndDropData&&N.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(m.browserEvent),!m.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.StaticDND.CurrentDragAndDropData)this.currentDragData=N.StaticDND.CurrentDragAndDropData;else{if(!m.browserEvent.dataTransfer.types)return!1;this.currentDragData=new c}const w=this.dnd.onDragOver(this.currentDragData,m.element,m.index,m.browserEvent);if(this.canDrop=typeof w=="boolean"?w:w.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;m.browserEvent.dataTransfer.dropEffect=typeof w!="boolean"&&w.effect===0?"copy":"move";let D;if(typeof w!="boolean"&&w.feedback?D=w.feedback:typeof m.index=="undefined"?D=[-1]:D=[m.index],D=(0,v.distinct)(D).filter(k=>k>=-1&&k<this.length).sort((k,T)=>k-T),D=D[0]===-1?[-1]:D,f(this.currentDragFeedback,D))return!0;if(this.currentDragFeedback=D,this.currentDragFeedbackDisposable.dispose(),D[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const k of D){const T=this.items[k];T.dropTarget=!0,T.row&&T.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{for(const k of D){const T=this.items[k];T.dropTarget=!1,T.row&&T.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(m){var w,D;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,i.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((D=(w=this.dnd).onDragLeave)===null||D===void 0||D.call(w,this.currentDragData,m.element,m.index,m.browserEvent))}onDrop(m){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,!(!w||!m.browserEvent.dataTransfer)&&(m.browserEvent.preventDefault(),w.update(m.browserEvent.dataTransfer),this.dnd.drop(w,m.element,m.index,m.browserEvent))}onDragEnd(m){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(m)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=a.Disposable.None}setupDragAndDropScrollTopAnimation(m){if(!this.dragOverAnimationDisposable){const w=(0,I.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,I.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,i.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=m.pageY}animateDragAndDropScrollTop(m){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-m,D=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>D&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-D))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(m){const w=this.scrollableElement.getDomNode();let D=m;for(;D instanceof HTMLElement&&D!==this.rowsContainer&&w.contains(D);){const k=D.getAttribute("data-index");if(k){const T=Number(k);if(!isNaN(T))return T}D=D.parentElement}}getRenderRange(m,w){return{start:this.rangeMap.indexAt(m),end:this.rangeMap.indexAfter(m+w-1)}}_rerender(m,w,D){const k=this.getRenderRange(m,w);let T,R;m===this.elementTop(k.start)?(T=k.start,R=0):k.end-k.start>1&&(T=k.start+1,R=this.elementTop(T)-m);let M=0;for(;;){const A=this.getRenderRange(m,w);let O=!1;for(let P=A.start;P<A.end;P++){const F=this.probeDynamicHeight(P);F!==0&&this.rangeMap.splice(P,1,[this.items[P]]),M+=F,O=O||F!==0}if(!O){M!==0&&this.eventuallyUpdateScrollDimensions();const P=h.Range.relativeComplement(k,A);for(const E of P)for(let x=E.start;x<E.end;x++)this.items[x].row&&this.removeItemFromDOM(x);const F=h.Range.relativeComplement(A,k);for(const E of F)for(let x=E.start;x<E.end;x++){const W=x+1,G=W<this.items.length?this.items[W].row:null,Y=G?G.domNode:null;this.insertItemInDOM(x,Y)}for(let E=A.start;E<A.end;E++)this.items[E].row&&this.updateItemInDOM(this.items[E],E);if(typeof T=="number"){const E=this.scrollable.getFutureScrollPosition().scrollTop-m,x=this.elementTop(T)-R+E;this.setScrollTop(x,D)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(m){const w=this.items[m];if(!w.hasDynamicHeight||w.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(w.element))return 0;const D=w.size;if(!this.setRowHeight&&w.row){let R=w.row.domNode.offsetHeight;return w.size=R,w.lastDynamicHeightWidth=this.renderWidth,R-D}const k=this.cache.alloc(w.templateId);k.domNode.style.height="",this.rowsContainer.appendChild(k.domNode);const T=this.renderers.get(w.templateId);return T&&(T.renderElement(w.element,m,k.templateData,void 0),T.disposeElement&&T.disposeElement(w.element,m,k.templateData,void 0)),w.size=k.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(w.element,w.size),w.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(k.domNode),this.cache.release(k),w.size-D}getNextToLastElement(m){const w=m[m.length-1];if(!w)return null;const D=this.items[w.end];return!D||!D.row?null:D.row.domNode}getElementDomId(m){return`${this.domId}_${m}`}dispose(){if(this.items){for(const m of this.items)if(m.row){const w=this.renderers.get(m.row.templateId);w&&(w.disposeElement&&w.disposeElement(m.element,-1,m.row.templateData,void 0),w.disposeTemplate(m.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,a.dispose)(this.disposables)}}b.InstanceCount=0,Re([C.memoize],b.prototype,"onMouseClick",null),Re([C.memoize],b.prototype,"onMouseDblClick",null),Re([C.memoize],b.prototype,"onMouseMiddleClick",null),Re([C.memoize],b.prototype,"onMouseDown",null),Re([C.memoize],b.prototype,"onContextMenu",null),Re([C.memoize],b.prototype,"onTouchStart",null),Re([C.memoize],b.prototype,"onTap",null),e.ListView=b}),define(te[109],ne([0,1,7,92,51,58,45,291,19,14,29,91,6,67,2,104,35,17,20,290,168,215]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class c{constructor(B){this.trait=B,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(B){return B}renderElement(B,Z,H){const z=this.renderedElements.findIndex(ie=>ie.templateData===H);if(z>=0){const ie=this.renderedElements[z];this.trait.unrender(H),ie.index=Z}else{const ie={index:Z,templateData:H};this.renderedElements.push(ie)}this.trait.renderIndex(Z,H)}splice(B,Z,H){const z=[];for(const ie of this.renderedElements)ie.index<B?z.push(ie):ie.index>=B+Z&&z.push({index:ie.index+H-Z,templateData:ie.templateData});this.renderedElements=z}renderIndexes(B){for(const{index:Z,templateData:H}of this.renderedElements)B.indexOf(Z)>-1&&this.trait.renderIndex(Z,H)}disposeTemplate(B){const Z=this.renderedElements.findIndex(H=>H.templateData===B);Z<0||this.renderedElements.splice(Z,1)}}class f{constructor(B){this._trait=B,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new a.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new c(this)}splice(B,Z,H){var z;Z=Math.max(0,Math.min(Z,this.length-B));const ie=H.length-Z,ce=B+Z,K=[...this.sortedIndexes.filter(U=>U<B),...H.map((U,ee)=>U?ee+B:-1).filter(U=>U!==-1),...this.sortedIndexes.filter(U=>U>=ce).map(U=>U+ie)],Q=this.length+ie;if(this.sortedIndexes.length>0&&K.length===0&&Q>0){const U=(z=this.sortedIndexes.find(ee=>ee>=B))!==null&&z!==void 0?z:Q-1;K.push(Math.min(U,Q-1))}this.renderer.splice(B,Z,H.length),this._set(K,K),this.length=Q}renderIndex(B,Z){Z.classList.toggle(this._trait,this.contains(B))}unrender(B){B.classList.remove(this._trait)}set(B,Z){return this._set(B,[...B].sort(se),Z)}_set(B,Z,H){const z=this.indexes,ie=this.sortedIndexes;this.indexes=B,this.sortedIndexes=Z;const ce=G(ie,B);return this.renderer.renderIndexes(ce),this._onChange.fire({indexes:B,browserEvent:H}),z}get(){return this.indexes}contains(B){return(0,v.binarySearch)(this.sortedIndexes,B,se)>=0}dispose(){(0,h.dispose)(this._onChange)}}Re([s.memoize],f.prototype,"renderer",null);class y extends f{constructor(B){super("selected");this.setAriaSelected=B}renderIndex(B,Z){super.renderIndex(B,Z),this.setAriaSelected&&(this.contains(B)?Z.setAttribute("aria-selected","true"):Z.setAttribute("aria-selected","false"))}}class b{constructor(B,Z,H){this.trait=B,this.view=Z,this.identityProvider=H}splice(B,Z,H){if(!this.identityProvider)return this.trait.splice(B,Z,H.map(()=>!1));const z=this.trait.get().map(ce=>this.identityProvider.getId(this.view.element(ce)).toString()),ie=H.map(ce=>z.indexOf(this.identityProvider.getId(ce).toString())>-1);this.trait.splice(B,Z,ie)}}function g(V){return V.tagName==="INPUT"||V.tagName==="TEXTAREA"}e.isInputElement=g;function m(V){return V.classList.contains("monaco-editor")?!0:V.classList.contains("monaco-list")||!V.parentElement?!1:m(V.parentElement)}e.isMonacoEditor=m;class w{constructor(B,Z,H){this.list=B,this.view=Z,this.disposables=new h.DisposableStore,this.multipleSelectionDisposables=new h.DisposableStore,this.onKeyDown.filter(z=>z.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===9).on(this.onEscape,this,this.disposables),H.multipleSelectionSupport!==!1&&this.onKeyDown.filter(z=>(n.isMacintosh?z.metaKey:z.ctrlKey)&&z.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return a.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(B=>!g(B.target)).map(B=>new I.StandardKeyboardEvent(B))}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),B.multipleSelectionSupport&&this.onKeyDown.filter(Z=>(n.isMacintosh?Z.metaKey:Z.ctrlKey)&&Z.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(this.list.getFocus(),B.browserEvent)}onUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPrevious(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNext(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPreviousPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNextPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection((0,v.range)(this.list.length),B.browserEvent),this.view.domNode.focus()}onEscape(B){this.list.getSelection().length&&(B.preventDefault(),B.stopPropagation(),this.list.setSelection([],B.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Re([s.memoize],w.prototype,"onKeyDown",null);var D;(function(V){V[V.Idle=0]="Idle",V[V.Typing=1]="Typing"})(D||(D={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(V){return V.ctrlKey||V.metaKey||V.altKey?!1:V.keyCode>=31&&V.keyCode<=56||V.keyCode>=21&&V.keyCode<=30||V.keyCode>=93&&V.keyCode<=102||V.keyCode>=80&&V.keyCode<=90}};class k{constructor(B,Z,H,z){this.list=B,this.view=Z,this.keyboardNavigationLabelProvider=H,this.delegate=z,this.enabled=!1,this.state=D.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new h.DisposableStore,this.disposables=new h.DisposableStore,this.updateOptions(B.options)}updateOptions(B){(typeof B.enableKeyboardNavigation=="undefined"?!0:!!B.enableKeyboardNavigation)?this.enable():this.disable(),typeof B.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=B.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const B=a.Event.chain(this.enabledDisposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(z=>!g(z.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(z=>new I.StandardKeyboardEvent(z)).filter(z=>this.delegate.mightProducePrintableCharacter(z)).forEach(z=>{z.stopPropagation(),z.preventDefault()}).map(z=>z.browserEvent.key).event,Z=a.Event.debounce(B,()=>null,800);a.Event.reduce(a.Event.any(B,Z),(z,ie)=>ie===null?null:(z||"")+ie)(this.onInput,this,this.enabledDisposables),Z(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var B;const Z=this.list.getFocus();if(Z.length>0&&Z[0]===this.previouslyFocused){const H=(B=this.list.options.accessibilityProvider)===null||B===void 0?void 0:B.getAriaLabel(this.list.element(Z[0]));H&&(0,S.alert)(H)}this.previouslyFocused=-1}onInput(B){if(!B){this.state=D.Idle,this.triggered=!1;return}const Z=this.list.getFocus(),H=Z.length>0?Z[0]:0,z=this.state===D.Idle?1:0;this.state=D.Typing;for(let ie=0;ie<this.list.length;ie++){const ce=(H+ie+z)%this.list.length,K=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ce)),Q=K&&K.toString();if(typeof Q=="undefined"||(0,u.matchesPrefix)(B,Q)){this.previouslyFocused=H,this.list.setFocus([ce]),this.list.reveal(ce);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class T{constructor(B,Z){this.list=B,this.view=Z,this.disposables=new h.DisposableStore,a.Event.chain(this.disposables.add(new N.DomEmitter(Z.domNode,"keydown")).event).filter(z=>!g(z.target)).map(z=>new I.StandardKeyboardEvent(z)).filter(z=>z.keyCode===2&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey&&!z.altKey).on(this.onTab,this,this.disposables)}onTab(B){if(B.target!==this.view.domNode)return;const Z=this.list.getFocus();if(Z.length===0)return;const H=this.view.domElement(Z[0]);if(!H)return;const z=H.querySelector("[tabIndex]");if(!z||!(z instanceof HTMLElement)||z.tabIndex===-1)return;const ie=window.getComputedStyle(z);ie.visibility==="hidden"||ie.display==="none"||(B.preventDefault(),B.stopPropagation(),z.focus())}dispose(){this.disposables.dispose()}}function R(V){return n.isMacintosh?V.browserEvent.metaKey:V.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=R;function M(V){return V.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=M;function A(V){return V instanceof MouseEvent&&V.button===2}const O={isSelectionSingleChangeEvent:R,isSelectionRangeChangeEvent:M};class P{constructor(B){this.list=B,this.disposables=new h.DisposableStore,this._onPointer=new a.Emitter,this.onPointer=this._onPointer.event,B.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||O),this.mouseSupport=typeof B.options.mouseSupport=="undefined"||!!B.options.mouseSupport,this.mouseSupport&&(B.onMouseDown(this.onMouseDown,this,this.disposables),B.onContextMenu(this.onContextMenu,this,this.disposables),B.onMouseDblClick(this.onDoubleClick,this,this.disposables),B.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(L.Gesture.addTarget(B.getHTMLElement()))),a.Event.any(B.onMouseClick,B.onMouseMiddleClick,B.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,B.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||O))}isSelectionSingleChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(B):!1}isSelectionRangeChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(B):!1}isSelectionChangeEvent(B){return this.isSelectionSingleChangeEvent(B)||this.isSelectionRangeChangeEvent(B)}onMouseDown(B){m(B.browserEvent.target)||document.activeElement!==B.browserEvent.target&&this.list.domFocus()}onContextMenu(B){if(m(B.browserEvent.target))return;const Z=typeof B.index=="undefined"?[]:[B.index];this.list.setFocus(Z,B.browserEvent)}onViewPointer(B){if(!this.mouseSupport||g(B.browserEvent.target)||m(B.browserEvent.target))return;const Z=B.index;if(typeof Z=="undefined"){this.list.setFocus([],B.browserEvent),this.list.setSelection([],B.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(B))return this.changeSelection(B);if(this.isSelectionChangeEvent(B))return this.changeSelection(B);this.list.setFocus([Z],B.browserEvent),this.list.setAnchor(Z),A(B.browserEvent)||this.list.setSelection([Z],B.browserEvent),this._onPointer.fire(B)}onDoubleClick(B){if(g(B.browserEvent.target)||m(B.browserEvent.target)||this.isSelectionChangeEvent(B))return;const Z=this.list.getFocus();this.list.setSelection(Z,B.browserEvent)}changeSelection(B){const Z=B.index;let H=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(B)){if(typeof H=="undefined"){const ee=this.list.getFocus()[0];H=ee??Z,this.list.setAnchor(H)}const z=Math.min(H,Z),ie=Math.max(H,Z),ce=(0,v.range)(z,ie+1),K=this.list.getSelection(),Q=W(G(K,[H]),H);if(Q.length===0)return;const U=G(ce,Y(K,Q));this.list.setSelection(U,B.browserEvent),this.list.setFocus([Z],B.browserEvent)}else if(this.isSelectionSingleChangeEvent(B)){const z=this.list.getSelection(),ie=z.filter(ce=>ce!==Z);this.list.setFocus([Z]),this.list.setAnchor(Z),z.length===ie.length?this.list.setSelection([...ie,Z],B.browserEvent):this.list.setSelection(ie,B.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=P;class F{constructor(B,Z){this.styleElement=B,this.selectorSuffix=Z}style(B){const Z=this.selectorSuffix&&`.${this.selectorSuffix}`,H=[];B.listBackground&&(B.listBackground.isOpaque()?H.push(`.monaco-list${Z} .monaco-list-rows { background: ${B.listBackground}; }`):n.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),B.listFocusBackground&&(H.push(`.monaco-list${Z}:focus .monaco-list-row.focused { background-color: ${B.listFocusBackground}; }`),H.push(`.monaco-list${Z}:focus .monaco-list-row.focused:hover { background-color: ${B.listFocusBackground}; }`)),B.listFocusForeground&&H.push(`.monaco-list${Z}:focus .monaco-list-row.focused { color: ${B.listFocusForeground}; }`),B.listActiveSelectionBackground&&(H.push(`.monaco-list${Z}:focus .monaco-list-row.selected { background-color: ${B.listActiveSelectionBackground}; }`),H.push(`.monaco-list${Z}:focus .monaco-list-row.selected:hover { background-color: ${B.listActiveSelectionBackground}; }`)),B.listActiveSelectionForeground&&H.push(`.monaco-list${Z}:focus .monaco-list-row.selected { color: ${B.listActiveSelectionForeground}; }`),B.listActiveSelectionIconForeground&&H.push(`.monaco-list${Z}:focus .monaco-list-row.selected .codicon { color: ${B.listActiveSelectionIconForeground}; }`),B.listFocusAndSelectionBackground&&H.push(`
				.monaco-drag-image,
				.monaco-list${Z}:focus .monaco-list-row.selected.focused { background-color: ${B.listFocusAndSelectionBackground}; }
			`),B.listFocusAndSelectionForeground&&H.push(`
				.monaco-drag-image,
				.monaco-list${Z}:focus .monaco-list-row.selected.focused { color: ${B.listFocusAndSelectionForeground}; }
			`),B.listInactiveFocusForeground&&(H.push(`.monaco-list${Z} .monaco-list-row.focused { color:  ${B.listInactiveFocusForeground}; }`),H.push(`.monaco-list${Z} .monaco-list-row.focused:hover { color:  ${B.listInactiveFocusForeground}; }`)),B.listInactiveSelectionIconForeground&&H.push(`.monaco-list${Z} .monaco-list-row.focused .codicon { color:  ${B.listInactiveSelectionIconForeground}; }`),B.listInactiveFocusBackground&&(H.push(`.monaco-list${Z} .monaco-list-row.focused { background-color:  ${B.listInactiveFocusBackground}; }`),H.push(`.monaco-list${Z} .monaco-list-row.focused:hover { background-color:  ${B.listInactiveFocusBackground}; }`)),B.listInactiveSelectionBackground&&(H.push(`.monaco-list${Z} .monaco-list-row.selected { background-color:  ${B.listInactiveSelectionBackground}; }`),H.push(`.monaco-list${Z} .monaco-list-row.selected:hover { background-color:  ${B.listInactiveSelectionBackground}; }`)),B.listInactiveSelectionForeground&&H.push(`.monaco-list${Z} .monaco-list-row.selected { color: ${B.listInactiveSelectionForeground}; }`),B.listHoverBackground&&H.push(`.monaco-list${Z}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${B.listHoverBackground}; }`),B.listHoverForeground&&H.push(`.monaco-list${Z} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${B.listHoverForeground}; }`),B.listSelectionOutline&&H.push(`.monaco-list${Z} .monaco-list-row.selected { outline: 1px dotted ${B.listSelectionOutline}; outline-offset: -1px; }`),B.listFocusOutline&&H.push(`
				.monaco-drag-image,
				.monaco-list${Z}:focus .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }
			`),B.listInactiveFocusOutline&&H.push(`.monaco-list${Z} .monaco-list-row.focused { outline: 1px dotted ${B.listInactiveFocusOutline}; outline-offset: -1px; }`),B.listHoverOutline&&H.push(`.monaco-list${Z} .monaco-list-row:hover { outline: 1px dashed ${B.listHoverOutline}; outline-offset: -1px; }`),B.listDropBackground&&H.push(`
				.monaco-list${Z}.drop-target,
				.monaco-list${Z} .monaco-list-rows.drop-target,
				.monaco-list${Z} .monaco-list-row.drop-target { background-color: ${B.listDropBackground} !important; color: inherit !important; }
			`),B.listFilterWidgetBackground&&H.push(`.monaco-list-type-filter { background-color: ${B.listFilterWidgetBackground} }`),B.listFilterWidgetOutline&&H.push(`.monaco-list-type-filter { border: 1px solid ${B.listFilterWidgetOutline}; }`),B.listFilterWidgetNoMatchesOutline&&H.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${B.listFilterWidgetNoMatchesOutline}; }`),B.listMatchesShadow&&H.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${B.listMatchesShadow}; }`),B.tableColumnsBorder&&H.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${B.tableColumnsBorder};
			}`),this.styleElement.textContent=H.join(`
`)}}e.DefaultStyleController=F;const E={listFocusBackground:C.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:C.Color.fromHex("#0E639C"),listActiveSelectionForeground:C.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:C.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:C.Color.fromHex("#094771"),listFocusAndSelectionForeground:C.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:C.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:C.Color.fromHex("#FFFFFF"),listHoverBackground:C.Color.fromHex("#2A2D2E"),listDropBackground:C.Color.fromHex("#383B3D"),treeIndentGuidesStroke:C.Color.fromHex("#a9a9a9"),tableColumnsBorder:C.Color.fromHex("#cccccc").transparent(.2)},x={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function W(V,B){const Z=V.indexOf(B);if(Z===-1)return[];const H=[];let z=Z-1;for(;z>=0&&V[z]===B-(Z-z);)H.push(V[z--]);for(H.reverse(),z=Z;z<V.length&&V[z]===B+(z-Z);)H.push(V[z++]);return H}function G(V,B){const Z=[];let H=0,z=0;for(;H<V.length||z<B.length;)if(H>=V.length)Z.push(B[z++]);else if(z>=B.length)Z.push(V[H++]);else if(V[H]===B[z]){Z.push(V[H]),H++,z++;continue}else V[H]<B[z]?Z.push(V[H++]):Z.push(B[z++]);return Z}function Y(V,B){const Z=[];let H=0,z=0;for(;H<V.length||z<B.length;)if(H>=V.length)Z.push(B[z++]);else if(z>=B.length)Z.push(V[H++]);else if(V[H]===B[z]){H++,z++;continue}else V[H]<B[z]?Z.push(V[H++]):z++;return Z}const se=(V,B)=>V-B;class re{constructor(B,Z){this._templateId=B,this.renderers=Z}get templateId(){return this._templateId}renderTemplate(B){return this.renderers.map(Z=>Z.renderTemplate(B))}renderElement(B,Z,H,z){let ie=0;for(const ce of this.renderers)ce.renderElement(B,Z,H[ie++],z)}disposeElement(B,Z,H,z){let ie=0;for(const ce of this.renderers)ce.disposeElement&&ce.disposeElement(B,Z,H[ie],z),ie+=1}disposeTemplate(B){let Z=0;for(const H of this.renderers)H.disposeTemplate(B[Z++])}}class J{constructor(B){this.accessibilityProvider=B,this.templateId="a18n"}renderTemplate(B){return B}renderElement(B,Z,H){const z=this.accessibilityProvider.getAriaLabel(B);z?H.setAttribute("aria-label",z):H.removeAttribute("aria-label");const ie=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(B);typeof ie=="number"?H.setAttribute("aria-level",`${ie}`):H.removeAttribute("aria-level")}disposeTemplate(B){}}class le{constructor(B,Z){this.list=B,this.dnd=Z}getDragElements(B){const Z=this.list.getSelectedElements();return Z.indexOf(B)>-1?Z:[B]}getDragURI(B){return this.dnd.getDragURI(B)}getDragLabel(B,Z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B,Z)}onDragStart(B,Z){this.dnd.onDragStart&&this.dnd.onDragStart(B,Z)}onDragOver(B,Z,H,z){return this.dnd.onDragOver(B,Z,H,z)}onDragLeave(B,Z,H,z){var ie,ce;(ce=(ie=this.dnd).onDragLeave)===null||ce===void 0||ce.call(ie,B,Z,H,z)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}drop(B,Z,H,z){this.dnd.drop(B,Z,H,z)}}class ae{constructor(B,Z,H,z,ie=x){var ce;this.user=B,this._options=ie,this.focus=new f("focused"),this.anchor=new f("anchor"),this.eventBufferer=new a.EventBufferer,this._ariaLabel="",this.disposables=new h.DisposableStore,this._onDidDispose=new a.Emitter,this.onDidDispose=this._onDidDispose.event;const K=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ce=this._options.accessibilityProvider)===null||ce===void 0?void 0:ce.getWidgetRole():"list";this.selection=new y(K!=="listbox"),(0,r.mixin)(ie,E,!1);const Q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ie.accessibilityProvider,this.accessibilityProvider&&(Q.push(new J(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),z=z.map(ee=>new re(ee.templateId,[...Q,ee]));const U=Object.assign(Object.assign({},ie),{dnd:ie.dnd&&new le(this,ie.dnd)});if(this.view=new o.ListView(Z,H,z,U),this.view.domNode.setAttribute("role",K),ie.styleController)this.styleController=ie.styleController(this.view.domId);else{const ee=(0,_.createStyleSheet)(this.view.domNode);this.styleController=new F(ee,this.view.domId)}if(this.spliceable=new p.CombinedSpliceable([new b(this.focus,this.view,ie.identityProvider),new b(this.selection,this.view,ie.identityProvider),new b(this.anchor,this.view,ie.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new T(this,this.view)),(typeof ie.keyboardSupport!="boolean"||ie.keyboardSupport)&&(this.keyboardController=new w(this,this.view,ie),this.disposables.add(this.keyboardController)),ie.keyboardNavigationLabelProvider){const ee=ie.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new k(this,this.view,ie.keyboardNavigationLabelProvider,ee),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ie),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return a.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),B=>this.toListEvent(B))}get onDidChangeSelection(){return a.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),B=>this.toListEvent(B))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let B=!1;const Z=a.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).map(ie=>new I.StandardKeyboardEvent(ie)).filter(ie=>B=ie.keyCode===58||ie.shiftKey&&ie.keyCode===68).map(N.stopEvent).filter(()=>!1).event,H=a.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>B=!1).map(ie=>new I.StandardKeyboardEvent(ie)).filter(ie=>ie.keyCode===58||ie.shiftKey&&ie.keyCode===68).map(N.stopEvent).map(({browserEvent:ie})=>{const ce=this.getFocus(),K=ce.length?ce[0]:void 0,Q=typeof K!="undefined"?this.view.element(K):void 0,U=typeof K!="undefined"?this.view.domElement(K):this.view.domNode;return{index:K,element:Q,anchor:U,browserEvent:ie}}).event,z=a.Event.chain(this.view.onContextMenu).filter(ie=>!B).map(({element:ie,index:ce,browserEvent:K})=>({element:ie,index:ce,anchor:{x:K.pageX+1,y:K.pageY},browserEvent:K})).event;return a.Event.any(Z,H,z)}get onKeyDown(){return this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return a.Event.signal(this.disposables.add(new N.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(B){return new P(this)}updateOptions(B={}){var Z;this._options=Object.assign(Object.assign({},this._options),B),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(B),(Z=this.keyboardController)===null||Z===void 0||Z.updateOptions(B),this.view.updateOptions(B)}get options(){return this._options}splice(B,Z,H=[]){if(B<0||B>this.view.length)throw new t.ListError(this.user,`Invalid start index: ${B}`);if(Z<0)throw new t.ListError(this.user,`Invalid delete count: ${Z}`);Z===0&&H.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(B,Z,H))}rerender(){this.view.rerender()}element(B){return this.view.element(B)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(B){this.view.setScrollTop(B)}get ariaLabel(){return this._ariaLabel}set ariaLabel(B){this._ariaLabel=B,this.view.domNode.setAttribute("aria-label",B)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(B,Z){this.view.layout(B,Z)}setSelection(B,Z){for(const H of B)if(H<0||H>=this.length)throw new t.ListError(this.user,`Invalid index ${H}`);this.selection.set(B,Z)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(B=>this.view.element(B))}setAnchor(B){if(typeof B=="undefined"){this.anchor.set([]);return}if(B<0||B>=this.length)throw new t.ListError(this.user,`Invalid index ${B}`);this.anchor.set([B])}getAnchor(){return(0,v.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const B=this.getAnchor();return typeof B=="undefined"?void 0:this.element(B)}setFocus(B,Z){for(const H of B)if(H<0||H>=this.length)throw new t.ListError(this.user,`Invalid index ${H}`);this.focus.set(B,Z)}focusNext(B=1,Z=!1,H,z){if(this.length===0)return;const ie=this.focus.get(),ce=this.findNextIndex(ie.length>0?ie[0]+B:0,Z,z);ce>-1&&this.setFocus([ce],H)}focusPrevious(B=1,Z=!1,H,z){if(this.length===0)return;const ie=this.focus.get(),ce=this.findPreviousIndex(ie.length>0?ie[0]-B:0,Z,z);ce>-1&&this.setFocus([ce],H)}focusNextPage(B,Z){return ke(this,void 0,void 0,function*(){let H=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);H=H===0?0:H-1;const z=this.view.element(H),ie=this.getFocusedElements()[0];if(ie!==z){const ce=this.findPreviousIndex(H,!1,Z);ce>-1&&ie!==this.view.element(ce)?this.setFocus([ce],B):this.setFocus([H],B)}else{const ce=this.view.getScrollTop();this.view.setScrollTop(ce+this.view.renderHeight-this.view.elementHeight(H)),this.view.getScrollTop()!==ce&&(this.setFocus([]),yield(0,i.timeout)(0),yield this.focusNextPage(B,Z))}})}focusPreviousPage(B,Z){return ke(this,void 0,void 0,function*(){let H;const z=this.view.getScrollTop();z===0?H=this.view.indexAt(z):H=this.view.indexAfter(z-1);const ie=this.view.element(H),ce=this.getFocusedElements()[0];if(ce!==ie){const K=this.findNextIndex(H,!1,Z);K>-1&&ce!==this.view.element(K)?this.setFocus([K],B):this.setFocus([H],B)}else{const K=z;this.view.setScrollTop(z-this.view.renderHeight),this.view.getScrollTop()!==K&&(this.setFocus([]),yield(0,i.timeout)(0),yield this.focusPreviousPage(B,Z))}})}focusLast(B,Z){if(this.length===0)return;const H=this.findPreviousIndex(this.length-1,!1,Z);H>-1&&this.setFocus([H],B)}focusFirst(B,Z){this.focusNth(0,B,Z)}focusNth(B,Z,H){if(this.length===0)return;const z=this.findNextIndex(B,!1,H);z>-1&&this.setFocus([z],Z)}findNextIndex(B,Z=!1,H){for(let z=0;z<this.length;z++){if(B>=this.length&&!Z)return-1;if(B=B%this.length,!H||H(this.element(B)))return B;B++}return-1}findPreviousIndex(B,Z=!1,H){for(let z=0;z<this.length;z++){if(B<0&&!Z)return-1;if(B=(this.length+B%this.length)%this.length,!H||H(this.element(B)))return B;B--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(B=>this.view.element(B))}reveal(B,Z){if(B<0||B>=this.length)throw new t.ListError(this.user,`Invalid index ${B}`);const H=this.view.getScrollTop(),z=this.view.elementTop(B),ie=this.view.elementHeight(B);if((0,l.isNumber)(Z)){const ce=ie-this.view.renderHeight;this.view.setScrollTop(ce*(0,d.clamp)(Z,0,1)+z)}else{const ce=z+ie,K=H+this.view.renderHeight;z<H&&ce>=K||(z<H||ce>=K&&ie>=this.view.renderHeight?this.view.setScrollTop(z):ce>=K&&this.view.setScrollTop(ce-this.view.renderHeight))}}getRelativeTop(B){if(B<0||B>=this.length)throw new t.ListError(this.user,`Invalid index ${B}`);const Z=this.view.getScrollTop(),H=this.view.elementTop(B),z=this.view.elementHeight(B);if(H<Z||H+z>Z+this.view.renderHeight)return null;const ie=z-this.view.renderHeight;return Math.abs((Z-H)/ie)}getHTMLElement(){return this.view.domNode}style(B){this.styleController.style(B)}toListEvent({indexes:B,browserEvent:Z}){return{indexes:B,elements:B.map(H=>this.view.element(H)),browserEvent:Z}}_onFocusChange(){const B=this.focus.get();this.view.domNode.classList.toggle("element-focused",B.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var B;const Z=this.focus.get();if(Z.length>0){let H;((B=this.accessibilityProvider)===null||B===void 0?void 0:B.getActiveDescendantId)&&(H=this.accessibilityProvider.getActiveDescendantId(this.view.element(Z[0]))),this.view.domNode.setAttribute("aria-activedescendant",H||this.view.getElementDomId(Z[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const B=this.selection.get();this.view.domNode.classList.toggle("selection-none",B.length===0),this.view.domNode.classList.toggle("selection-single",B.length===1),this.view.domNode.classList.toggle("selection-multiple",B.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Re([s.memoize],ae.prototype,"onDidChangeFocus",null),Re([s.memoize],ae.prototype,"onDidChangeSelection",null),Re([s.memoize],ae.prototype,"onContextMenu",null),Re([s.memoize],ae.prototype,"onKeyDown",null),Re([s.memoize],ae.prototype,"onDidFocus",null),e.List=ae}),define(te[327],ne([0,1,19,23,6,2,109,215]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{constructor(a,u){this.renderer=a,this.modelProvider=u}get templateId(){return this.renderer.templateId}renderTemplate(a){return{data:this.renderer.renderTemplate(a),disposable:L.Disposable.None}}renderElement(a,u,h,d){if(h.disposable&&h.disposable.dispose(),!h.data)return;const r=this.modelProvider();if(r.isResolved(a))return this.renderer.renderElement(r.get(a),a,h.data,d);const n=new N.CancellationTokenSource,l=r.resolve(a,n.token);h.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(a,h.data),l.then(t=>this.renderer.renderElement(t,a,h.data,d))}disposeTemplate(a){a.disposable&&(a.disposable.dispose(),a.disposable=void 0),a.data&&(this.renderer.disposeTemplate(a.data),a.data=void 0)}}class v{constructor(a,u){this.modelProvider=a,this.accessibilityProvider=u}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(a){const u=this.modelProvider();return u.isResolved(a)?this.accessibilityProvider.getAriaLabel(u.get(a)):null}}function i(s,a){return Object.assign(Object.assign({},a),{accessibilityProvider:a.accessibilityProvider&&new v(s,a.accessibilityProvider)})}class C{constructor(a,u,h,d,r={}){const n=()=>this.model,l=d.map(t=>new p(t,n));this.list=new S.List(a,u,h,l,i(n,r))}updateOptions(a){this.list.updateOptions(a)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return I.Event.map(this.list.onMouseDblClick,({element:a,index:u,browserEvent:h})=>({element:a===void 0?void 0:this._model.get(a),index:u,browserEvent:h}))}get onPointer(){return I.Event.map(this.list.onPointer,({element:a,index:u,browserEvent:h})=>({element:a===void 0?void 0:this._model.get(a),index:u,browserEvent:h}))}get onDidChangeSelection(){return I.Event.map(this.list.onDidChangeSelection,({elements:a,indexes:u,browserEvent:h})=>({elements:a.map(d=>this._model.get(d)),indexes:u,browserEvent:h}))}get model(){return this._model}set model(a){this._model=a,this.list.splice(0,this.list.length,(0,_.range)(a.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(a=>this.model.get(a))}style(a){this.list.style(a)}dispose(){this.list.dispose()}}e.PagedList=C}),define(te[328],ne([11]),{}),define(te[216],ne([0,1,7,108,62,19,29,6,2,104,129,20,328]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const a={separatorBorder:S.Color.transparent};class u{constructor(o,c,f,y){this.container=o,this.view=c,this.disposable=y,this._cachedVisibleSize=void 0,typeof f=="number"?(this._size=f,this._cachedVisibleSize=void 0,o.classList.add("visible")):(this._size=0,this._cachedVisibleSize=f.cachedVisibleSize)}set size(o){this._size=o}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(o,c){o!==this.visible&&(o?(this.size=(0,i.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof c=="number"?c:this.size,this.size=0),this.container.classList.toggle("visible",o),this.view.setVisible&&this.view.setVisible(o))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(o){this.container.style.pointerEvents=o?"":"none"}layout(o,c){this.layoutContainer(o),this.view.layout(this.size,o,c)}dispose(){return this.disposable.dispose(),this.view}}class h extends u{layoutContainer(o){this.container.style.top=`${o}px`,this.container.style.height=`${this.size}px`}}class d extends u{layoutContainer(o){this.container.style.left=`${o}px`,this.container.style.width=`${this.size}px`}}var r;(function(t){t[t.Idle=0]="Idle",t[t.Busy=1]="Busy"})(r||(r={}));var n;(function(t){t.Distribute={type:"distribute"};function o(f){return{type:"split",index:f}}t.Split=o;function c(f){return{type:"invisible",cachedVisibleSize:f}}t.Invisible=c})(n=e.Sizing||(e.Sizing={}));class l extends v.Disposable{constructor(o,c={}){var f,y;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=r.Idle,this._onDidSashChange=this._register(new p.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new p.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=s.isUndefined(c.orientation)?0:c.orientation,this.inverseAltBehavior=!!c.inverseAltBehavior,this.proportionalLayout=s.isUndefined(c.proportionalLayout)?!0:!!c.proportionalLayout,this.getSashOrthogonalSize=c.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),o.appendChild(this.el),this.sashContainer=(0,_.append)(this.el,(0,_.$)(".sash-container")),this.viewContainer=(0,_.$)(".split-view-container"),this.scrollable=new C.Scrollable(125,_.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new I.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(f=c.scrollbarVisibility)!==null&&f!==void 0?f:1:2,horizontal:this.orientation===1?(y=c.scrollbarVisibility)!==null&&y!==void 0?y:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(b=>{this.viewContainer.scrollTop=b.scrollTop,this.viewContainer.scrollLeft=b.scrollLeft})),(0,_.append)(this.el,this.scrollableElement.getDomNode()),this.style(c.styles||a),c.descriptor&&(this.size=c.descriptor.size,c.descriptor.views.forEach((b,g)=>{const m=s.isUndefined(b.visible)||b.visible?b.size:{type:"invisible",cachedVisibleSize:b.size},w=b.view;this.doAddView(w,m,g,!0)}),this.contentSize=this.viewItems.reduce((b,g)=>b+g.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(o){for(const c of this.sashItems)c.sash.orthogonalStartSash=o;this._orthogonalStartSash=o}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(o){for(const c of this.sashItems)c.sash.orthogonalEndSash=o;this._orthogonalEndSash=o}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(o){this._startSnappingEnabled!==o&&(this._startSnappingEnabled=o,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(o){this._endSnappingEnabled!==o&&(this._endSnappingEnabled=o,this.updateSashEnablement())}style(o){o.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",o.separatorBorder.toString()))}addView(o,c,f=this.viewItems.length,y){this.doAddView(o,c,f,y)}layout(o,c){const f=Math.max(this.size,this.contentSize);if(this.size=o,this.layoutContext=c,this.proportions)for(let y=0;y<this.viewItems.length;y++){const b=this.viewItems[y];b.size=(0,i.clamp)(Math.round(this.proportions[y]*o),b.minimumSize,b.maximumSize)}else{const y=(0,L.range)(this.viewItems.length),b=y.filter(m=>this.viewItems[m].priority===1),g=y.filter(m=>this.viewItems[m].priority===2);this.resize(this.viewItems.length-1,o-f,void 0,b,g)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(o=>o.size/this.contentSize))}onSashStart({sash:o,start:c,alt:f}){for(const m of this.viewItems)m.enabled=!1;const y=this.sashItems.findIndex(m=>m.sash===o),b=(0,v.combinedDisposable)((0,_.addDisposableListener)(document.body,"keydown",m=>g(this.sashDragState.current,m.altKey)),(0,_.addDisposableListener)(document.body,"keyup",()=>g(this.sashDragState.current,!1))),g=(m,w)=>{const D=this.viewItems.map(A=>A.size);let k=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(w=!w),w)if(y===this.sashItems.length-1){const O=this.viewItems[y];k=(O.minimumSize-O.size)/2,T=(O.maximumSize-O.size)/2}else{const O=this.viewItems[y+1];k=(O.size-O.maximumSize)/2,T=(O.size-O.minimumSize)/2}let R,M;if(!w){const A=(0,L.range)(y,-1),O=(0,L.range)(y+1,this.viewItems.length),P=A.reduce((re,J)=>re+(this.viewItems[J].minimumSize-D[J]),0),F=A.reduce((re,J)=>re+(this.viewItems[J].viewMaximumSize-D[J]),0),E=O.length===0?Number.POSITIVE_INFINITY:O.reduce((re,J)=>re+(D[J]-this.viewItems[J].minimumSize),0),x=O.length===0?Number.NEGATIVE_INFINITY:O.reduce((re,J)=>re+(D[J]-this.viewItems[J].viewMaximumSize),0),W=Math.max(P,x),G=Math.min(E,F),Y=this.findFirstSnapIndex(A),se=this.findFirstSnapIndex(O);if(typeof Y=="number"){const re=this.viewItems[Y],J=Math.floor(re.viewMinimumSize/2);R={index:Y,limitDelta:re.visible?W-J:W+J,size:re.size}}if(typeof se=="number"){const re=this.viewItems[se],J=Math.floor(re.viewMinimumSize/2);M={index:se,limitDelta:re.visible?G+J:G-J,size:re.size}}}this.sashDragState={start:m,current:m,index:y,sizes:D,minDelta:k,maxDelta:T,alt:w,snapBefore:R,snapAfter:M,disposable:b}};g(c,f)}onSashChange({current:o}){const{index:c,start:f,sizes:y,alt:b,minDelta:g,maxDelta:m,snapBefore:w,snapAfter:D}=this.sashDragState;this.sashDragState.current=o;const k=o-f,T=this.resize(c,k,y,void 0,void 0,g,m,w,D);if(b){const R=c===this.sashItems.length-1,M=this.viewItems.map(x=>x.size),A=R?c:c+1,O=this.viewItems[A],P=O.size-O.maximumSize,F=O.size-O.minimumSize,E=R?c-1:c+1;this.resize(E,-T,M,void 0,void 0,P,F)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(o){this._onDidSashChange.fire(o),this.sashDragState.disposable.dispose(),this.saveProportions();for(const c of this.viewItems)c.enabled=!0}onViewChange(o,c){const f=this.viewItems.indexOf(o);f<0||f>=this.viewItems.length||(c=typeof c=="number"?c:o.size,c=(0,i.clamp)(c,o.minimumSize,o.maximumSize),this.inverseAltBehavior&&f>0?(this.resize(f-1,Math.floor((o.size-c)/2)),this.distributeEmptySpace(),this.layoutViews()):(o.size=c,this.relayout([f],void 0)))}resizeView(o,c){if(this.state!==r.Idle)throw new Error("Cant modify splitview");if(this.state=r.Busy,o<0||o>=this.viewItems.length)return;const f=(0,L.range)(this.viewItems.length).filter(m=>m!==o),y=[...f.filter(m=>this.viewItems[m].priority===1),o],b=f.filter(m=>this.viewItems[m].priority===2),g=this.viewItems[o];c=Math.round(c),c=(0,i.clamp)(c,g.minimumSize,Math.min(g.maximumSize,this.size)),g.size=c,this.relayout(y,b),this.state=r.Idle}distributeViewSizes(){const o=[];let c=0;for(const m of this.viewItems)m.maximumSize-m.minimumSize>0&&(o.push(m),c+=m.size);const f=Math.floor(c/o.length);for(const m of o)m.size=(0,i.clamp)(f,m.minimumSize,m.maximumSize);const y=(0,L.range)(this.viewItems.length),b=y.filter(m=>this.viewItems[m].priority===1),g=y.filter(m=>this.viewItems[m].priority===2);this.relayout(b,g)}getViewSize(o){return o<0||o>=this.viewItems.length?-1:this.viewItems[o].size}doAddView(o,c,f=this.viewItems.length,y){if(this.state!==r.Idle)throw new Error("Cant modify splitview");this.state=r.Busy;const b=(0,_.$)(".split-view-view");f===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(f));const g=o.onDidChange(R=>this.onViewChange(k,R)),m=(0,v.toDisposable)(()=>this.viewContainer.removeChild(b)),w=(0,v.combinedDisposable)(g,m);let D;typeof c=="number"?D=c:c.type==="split"?D=this.getViewSize(c.index)/2:c.type==="invisible"?D={cachedVisibleSize:c.cachedVisibleSize}:D=o.minimumSize;const k=this.orientation===0?new h(b,o,D,w):new d(b,o,D,w);if(this.viewItems.splice(f,0,k),this.viewItems.length>1){let R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const M=this.orientation===0?new N.Sash(this.sashContainer,{getHorizontalSashTop:re=>this.getSashPosition(re),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:1})):new N.Sash(this.sashContainer,{getVerticalSashLeft:re=>this.getSashPosition(re),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:0})),A=this.orientation===0?re=>({sash:M,start:re.startY,current:re.currentY,alt:re.altKey}):re=>({sash:M,start:re.startX,current:re.currentX,alt:re.altKey}),P=p.Event.map(M.onDidStart,A)(this.onSashStart,this),E=p.Event.map(M.onDidChange,A)(this.onSashChange,this),W=p.Event.map(M.onDidEnd,()=>this.sashItems.findIndex(re=>re.sash===M))(this.onSashEnd,this),G=M.onDidReset(()=>{const re=this.sashItems.findIndex(B=>B.sash===M),J=(0,L.range)(re,-1),le=(0,L.range)(re+1,this.viewItems.length),ae=this.findFirstSnapIndex(J),V=this.findFirstSnapIndex(le);typeof ae=="number"&&!this.viewItems[ae].visible||typeof V=="number"&&!this.viewItems[V].visible||this._onDidSashReset.fire(re)}),Y=(0,v.combinedDisposable)(P,E,W,G,M),se={sash:M,disposable:Y};this.sashItems.splice(f-1,0,se)}b.appendChild(o.element);let T;typeof c!="number"&&c.type==="split"&&(T=[c.index]),y||this.relayout([f],T),this.state=r.Idle,!y&&typeof c!="number"&&c.type==="distribute"&&this.distributeViewSizes()}relayout(o,c){const f=this.viewItems.reduce((y,b)=>y+b.size,0);this.resize(this.viewItems.length-1,this.size-f,void 0,o,c),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(o,c,f=this.viewItems.map(k=>k.size),y,b,g=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,w,D){if(o<0||o>=this.viewItems.length)return 0;const k=(0,L.range)(o,-1),T=(0,L.range)(o+1,this.viewItems.length);if(b)for(const se of b)(0,L.pushToStart)(k,se),(0,L.pushToStart)(T,se);if(y)for(const se of y)(0,L.pushToEnd)(k,se),(0,L.pushToEnd)(T,se);const R=k.map(se=>this.viewItems[se]),M=k.map(se=>f[se]),A=T.map(se=>this.viewItems[se]),O=T.map(se=>f[se]),P=k.reduce((se,re)=>se+(this.viewItems[re].minimumSize-f[re]),0),F=k.reduce((se,re)=>se+(this.viewItems[re].maximumSize-f[re]),0),E=T.length===0?Number.POSITIVE_INFINITY:T.reduce((se,re)=>se+(f[re]-this.viewItems[re].minimumSize),0),x=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((se,re)=>se+(f[re]-this.viewItems[re].maximumSize),0),W=Math.max(P,x,g),G=Math.min(E,F,m);let Y=!1;if(w){const se=this.viewItems[w.index],re=c>=w.limitDelta;Y=re!==se.visible,se.setVisible(re,w.size)}if(!Y&&D){const se=this.viewItems[D.index],re=c<D.limitDelta;Y=re!==se.visible,se.setVisible(re,D.size)}if(Y)return this.resize(o,c,f,y,b,g,m);c=(0,i.clamp)(c,W,G);for(let se=0,re=c;se<R.length;se++){const J=R[se],le=(0,i.clamp)(M[se]+re,J.minimumSize,J.maximumSize);re-=le-M[se],J.size=le}for(let se=0,re=c;se<A.length;se++){const J=A[se],le=(0,i.clamp)(O[se]-re,J.minimumSize,J.maximumSize);re+=le-O[se],J.size=le}return c}distributeEmptySpace(o){const c=this.viewItems.reduce((m,w)=>m+w.size,0);let f=this.size-c;const y=(0,L.range)(this.viewItems.length-1,-1),b=y.filter(m=>this.viewItems[m].priority===1),g=y.filter(m=>this.viewItems[m].priority===2);for(const m of g)(0,L.pushToStart)(y,m);for(const m of b)(0,L.pushToEnd)(y,m);typeof o=="number"&&(0,L.pushToEnd)(y,o);for(let m=0;f!==0&&m<y.length;m++){const w=this.viewItems[y[m]],D=(0,i.clamp)(w.size+f,w.minimumSize,w.maximumSize);f-=D-w.size,w.size=D}}layoutViews(){this.contentSize=this.viewItems.reduce((c,f)=>c+f.size,0);let o=0;for(const c of this.viewItems)c.layout(o,this.layoutContext),o+=c.size;this.sashItems.forEach(c=>c.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let o=!1;const c=this.viewItems.map(w=>o=w.size-w.minimumSize>0||o);o=!1;const f=this.viewItems.map(w=>o=w.maximumSize-w.size>0||o),y=[...this.viewItems].reverse();o=!1;const b=y.map(w=>o=w.size-w.minimumSize>0||o).reverse();o=!1;const g=y.map(w=>o=w.maximumSize-w.size>0||o).reverse();let m=0;for(let w=0;w<this.sashItems.length;w++){const{sash:D}=this.sashItems[w];m+=this.viewItems[w].size;const T=!(c[w]&&g[w+1]),R=!(f[w]&&b[w+1]);if(T&&R){const M=(0,L.range)(w,-1),A=(0,L.range)(w+1,this.viewItems.length),O=this.findFirstSnapIndex(M),P=this.findFirstSnapIndex(A),F=typeof O=="number"&&!this.viewItems[O].visible,E=typeof P=="number"&&!this.viewItems[P].visible;F&&b[w]&&(m>0||this.startSnappingEnabled)?D.state=1:E&&c[w]&&(m<this.contentSize||this.endSnappingEnabled)?D.state=2:D.state=0}else T&&!R?D.state=1:!T&&R?D.state=2:D.state=3}}getSashPosition(o){let c=0;for(let f=0;f<this.sashItems.length;f++)if(c+=this.viewItems[f].size,this.sashItems[f].sash===o)return c;return 0}findFirstSnapIndex(o){for(const c of o){const f=this.viewItems[c];if(!!f.visible&&f.snap)return c}for(const c of o){const f=this.viewItems[c];if(f.visible&&f.maximumSize-f.minimumSize>0)return;if(!f.visible&&f.snap)return c}}dispose(){super.dispose(),this.viewItems.forEach(o=>o.dispose()),this.viewItems=[],this.sashItems.forEach(o=>o.disposable.dispose()),this.sashItems=[]}}e.SplitView=l}),define(te[329],ne([11]),{}),define(te[330],ne([0,1,7,109,216,6,329]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(s,a,u){this.columns=s,this.getColumnSize=u,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const h=new Map(a.map(d=>[d.templateId,d]));this.renderers=[];for(const d of s){const r=h.get(d.templateId);if(!r)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(r)}}renderTemplate(s){const a=(0,_.append)(s,(0,_.$)(".monaco-table-tr")),u=[],h=[];for(let r=0;r<this.columns.length;r++){const n=this.renderers[r],l=(0,_.append)(a,(0,_.$)(".monaco-table-td",{"data-col-index":r}));l.style.width=`${this.getColumnSize(r)}px`,u.push(l),h.push(n.renderTemplate(l))}const d={container:s,cellContainers:u,cellTemplateData:h};return this.renderedTemplates.add(d),d}renderElement(s,a,u,h){for(let d=0;d<this.columns.length;d++){const n=this.columns[d].project(s);this.renderers[d].renderElement(n,a,u.cellTemplateData[d],h)}}disposeElement(s,a,u,h){for(let d=0;d<this.columns.length;d++){const r=this.renderers[d];if(r.disposeElement){const l=this.columns[d].project(s);r.disposeElement(l,a,u.cellTemplateData[d],h)}}}disposeTemplate(s){for(let a=0;a<this.columns.length;a++)this.renderers[a].disposeTemplate(s.cellTemplateData[a]);(0,_.clearNode)(s.container),this.renderedTemplates.delete(s)}layoutColumn(s,a){for(const{cellContainers:u}of this.renderedTemplates)u[s].style.width=`${a}px`}}S.TemplateId="row";function p(C){return{getHeight(s){return C.getHeight(s)},getTemplateId(){return S.TemplateId}}}class v{constructor(s,a){this.column=s,this.index=a,this._onDidLayout=new L.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,_.$)(".monaco-table-th",{"data-col-index":a,title:s.tooltip},s.label)}get minimumSize(){var s;return(s=this.column.minimumWidth)!==null&&s!==void 0?s:120}get maximumSize(){var s;return(s=this.column.maximumWidth)!==null&&s!==void 0?s:Number.POSITIVE_INFINITY}get onDidChange(){var s;return(s=this.column.onDidChangeWidthConstraints)!==null&&s!==void 0?s:L.Event.None}layout(s){this._onDidLayout.fire([this.index,s])}}class i{constructor(s,a,u,h,d,r){this.virtualDelegate=u,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,_.append)(a,(0,_.$)(`.monaco-table.${this.domId}`));const n=h.map((o,c)=>new v(o,c)),l={size:n.reduce((o,c)=>o+c.column.weight,0),views:n.map(o=>({size:o.column.weight,view:o}))};this.splitview=new I.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l}),this.splitview.el.style.height=`${u.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${u.headerRowHeight}px`;const t=new S(h,d,o=>this.splitview.getViewSize(o));this.list=new N.List(s,this.domNode,p(u),[t],r),this.columnLayoutDisposable=L.Event.any(...n.map(o=>o.onDidLayout))(([o,c])=>t.layoutColumn(o,c)),this.styleElement=(0,_.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(s){this.list.updateOptions(s)}splice(s,a,u=[]){this.list.splice(s,a,u)}getHTMLElement(){return this.domNode}style(s){const a=[];a.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=a.join(`
`),this.list.style(s)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(te[331],ne([11]),{}),define(te[134],ne([11]),{}),define(te[217],ne([0,1,7,127,134]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const I={},L=new N.IdGenerator("quick-input-button-icon-");function S(p){if(!p)return;let v;const i=p.dark.toString();return I[i]?v=I[i]:(v=L.nextId(),_.createCSSRule(`.${v}`,`background-image: ${_.asCSSUrl(p.light||p.dark)}`),_.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${_.asCSSUrl(p.dark)}`),I[i]=v),v}e.getIconClass=S}),define(te[332],ne([11]),{}),define(te[333],ne([11]),{}),define(te[334],ne([11]),{}),define(te[335],ne([11]),{}),define(te[336],ne([11]),{}),define(te[337],ne([11]),{}),define(te[338],ne([11]),{}),define(te[339],ne([11]),{}),define(te[340],ne([11]),{}),define(te[341],ne([11]),{}),define(te[342],ne([11]),{}),define(te[343],ne([11]),{}),define(te[344],ne([11]),{}),define(te[345],ne([11]),{}),define(te[346],ne([11]),{}),define(te[347],ne([11]),{}),define(te[348],ne([11]),{}),define(te[349],ne([11]),{}),define(te[350],ne([11]),{}),define(te[351],ne([11]),{}),define(te[352],ne([11]),{}),define(te[353],ne([11]),{}),define(te[354],ne([11]),{}),define(te[355],ne([11]),{}),define(te[356],ne([11]),{}),define(te[357],ne([11]),{}),define(te[358],ne([11]),{}),define(te[359],ne([11]),{}),define(te[360],ne([11]),{}),define(te[361],ne([11]),{}),define(te[362],ne([11]),{}),define(te[363],ne([11]),{}),define(te[364],ne([11]),{}),define(te[365],ne([11]),{}),define(te[366],ne([11]),{}),define(te[367],ne([11]),{}),define(te[368],ne([11]),{}),define(te[369],ne([11]),{}),define(te[370],ne([11]),{}),define(te[371],ne([11]),{}),define(te[372],ne([11]),{}),define(te[373],ne([11]),{}),define(te[374],ne([11]),{}),define(te[375],ne([11]),{}),define(te[376],ne([11]),{}),define(te[377],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class _{constructor(S,p){this.chr=S,this.type=p,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=_;class N{constructor(S,p){this._bareFontInfo=S,this._requests=p,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const p=document.createElement("div");p.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),p.style.fontWeight=this._bareFontInfo.fontWeight,p.style.fontSize=this._bareFontInfo.fontSize+"px",p.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,p.style.lineHeight=this._bareFontInfo.lineHeight+"px",p.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(p);const v=document.createElement("div");v.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),v.style.fontWeight="bold",v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(v);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",S.appendChild(i);const C=[];for(const s of this._requests){let a;s.type===0&&(a=p),s.type===2&&(a=v),s.type===1&&(a=i),a.appendChild(document.createElement("br"));const u=document.createElement("span");N._render(u,s),a.appendChild(u),C.push(u)}this._container=S,this._testElements=C}static _render(S,p){if(p.chr===" "){let v="\xA0";for(let i=0;i<8;i++)v+=v;S.innerText=v}else{let v=p.chr;for(let i=0;i<8;i++)v+=v;S.textContent=v}}_readFromDomElements(){for(let S=0,p=this._requests.length;S<p;S++){const v=this._requests[S],i=this._testElements[S];v.fulfill(i.offsetWidth/256)}}}function I(L,S){new N(L,S).read()}e.readCharWidths=I}),define(te[218],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends _.Disposable{constructor(L,S,p){super();this.referenceDomElement=L,this.changeCallback=p,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,S){let p=0,v=0;S?(p=S.width,v=S.height):this.referenceDomElement&&(p=this.referenceDomElement.clientWidth,v=this.referenceDomElement.clientHeight),p=Math.max(5,p),v=Math.max(5,v),(this.width!==p||this.height!==v)&&(this.width=p,this.height=v,L&&this.changeCallback())}}e.ElementSizeObserver=N}),define(te[169],ne([0,1,7,94,55,2]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(d,r){this.x=d,this.y=r,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new p(this.x-_.StandardWindow.scrollX,this.y-_.StandardWindow.scrollY)}}e.PageCoordinates=S;class p{constructor(d,r){this.clientX=d,this.clientY=r,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new S(this.clientX+_.StandardWindow.scrollX,this.clientY+_.StandardWindow.scrollY)}}e.ClientCoordinates=p;class v{constructor(d,r,n,l){this.x=d,this.y=r,this.width=n,this.height=l,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=v;function i(h){const d=_.getDomNodePagePosition(h);return new v(d.left,d.top,d.width,d.height)}e.createEditorPagePosition=i;class C extends I.StandardMouseEvent{constructor(d,r){super(d);this._editorMouseEventBrand=void 0,this.pos=new S(this.posx,this.posy),this.editorPos=i(r)}}e.EditorMouseEvent=C;class s{constructor(d){this._editorViewDomNode=d}_create(d){return new C(d,this._editorViewDomNode)}onContextMenu(d,r){return _.addDisposableListener(d,"contextmenu",n=>{r(this._create(n))})}onMouseUp(d,r){return _.addDisposableListener(d,"mouseup",n=>{r(this._create(n))})}onMouseDown(d,r){return _.addDisposableListener(d,"mousedown",n=>{r(this._create(n))})}onMouseLeave(d,r){return _.addDisposableNonBubblingMouseOutListener(d,n=>{r(this._create(n))})}onMouseMoveThrottled(d,r,n,l){const t=(o,c)=>n(o,this._create(c));return _.addDisposableThrottledListener(d,"mousemove",r,t,l)}}e.EditorMouseEventFactory=s;class a{constructor(d){this._editorViewDomNode=d}_create(d){return new C(d,this._editorViewDomNode)}onPointerUp(d,r){return _.addDisposableListener(d,"pointerup",n=>{r(this._create(n))})}onPointerDown(d,r){return _.addDisposableListener(d,"pointerdown",n=>{r(this._create(n))})}onPointerLeave(d,r){return _.addDisposableNonBubblingPointerOutListener(d,n=>{r(this._create(n))})}onPointerMoveThrottled(d,r,n,l){const t=(o,c)=>n(o,this._create(c));return _.addDisposableThrottledListener(d,"pointermove",r,t,l)}}e.EditorPointerEventFactory=a;class u extends L.Disposable{constructor(d){super();this._editorViewDomNode=d,this._globalMouseMoveMonitor=this._register(new N.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(d,r,n,l,t){this._keydownListener=_.addStandardDisposableListener(document,"keydown",c=>{c.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,c.browserEvent)},!0);const o=(c,f)=>n(c,new C(f,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(d,r,o,l,c=>{this._keydownListener.dispose(),t(c)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=u}),define(te[378],ne([0,1,6,2]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class I extends N.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new _.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new _.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new _.Emitter),this._onDiffEditorRemove=this._register(new _.Emitter),this._onDecorationTypeRegistered=this._register(new _.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const p=this.listCodeEditors();for(const v of p){if(v.hasTextFocus())return v;v.hasWidgetFocus()&&(S=v)}return S}setModelProperty(S,p,v){const i=S.toString();let C;this._modelProperties.has(i)?C=this._modelProperties.get(i):(C=new Map,this._modelProperties.set(i,C)),C.set(p,v)}getModelProperty(S,p){const v=S.toString();if(this._modelProperties.has(v))return this._modelProperties.get(v).get(p)}}e.AbstractCodeEditorService=I}),define(te[219],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const N=[];for(let I=32;I<=126;I++)N.push(I);return N.push(65533),N})();const _=(N,I)=>(N-=32,N<0||N>96?I<=2?(N+96)%96:96-1:N);e.getCharIndex=_}),define(te[379],ne([0,1,219,131]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class I{constructor(S,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=I.soften(S,12/15),this.charDataLight=I.soften(S,50/60)}static soften(S,p){let v=new Uint8ClampedArray(S.length);for(let i=0,C=S.length;i<C;i++)v[i]=(0,N.toUint8)(S[i]*p);return v}renderChar(S,p,v,i,C,s,a,u,h){const d=1*this.scale,r=2*this.scale,n=h?1:r;if(p+d>S.width||v+n>S.height){console.warn("bad render request outside image data");return}const l=u?this.charDataLight:this.charDataNormal,t=(0,_.getCharIndex)(i,a),o=S.width*4,c=s.r,f=s.g,y=s.b,b=C.r-c,g=C.g-f,m=C.b-y,w=S.data;let D=t*d*r,k=v*o+p*4;for(let T=0;T<n;T++){let R=k;for(let M=0;M<d;M++){const A=l[D++]/255;w[R++]=c+b*A,w[R++]=f+g*A,w[R++]=y+m*A,R++}k+=o}}blockRenderChar(S,p,v,i,C,s,a){const u=1*this.scale,h=2*this.scale,d=a?1:h;if(p+u>S.width||v+d>S.height){console.warn("bad render request outside image data");return}const r=S.width*4,n=.5,l=C.r,t=C.g,o=C.b,c=i.r-l,f=i.g-t,y=i.b-o,b=l+c*n,g=t+f*n,m=o+y*n,w=S.data;let D=v*r+p*4;for(let k=0;k<d;k++){let T=D;for(let R=0;R<u;R++)w[T++]=b,w[T++]=g,w[T++]=m,T++;D+=r}}}e.MinimapCharRenderer=I}),define(te[380],ne([0,1,82]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const N={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},I=L=>{const S=new Uint8ClampedArray(L.length/2);for(let p=0;p<L.length;p+=2)S[p>>1]=N[L[p]]<<4|N[L[p+1]]&15;return S};e.prebakedMiniMaps={1:(0,_.once)(()=>I("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,_.once)(()=>I("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(te[381],ne([0,1,379,219,380,131]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(v,i){if(this.lastCreated&&v===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let C;return I.prebakedMiniMaps[v]?C=new _.MinimapCharRenderer(I.prebakedMiniMaps[v](),v):C=S.createFromSampleData(S.createSampleData(i).data,v),this.lastFontFamily=i,this.lastCreated=C,C}static createSampleData(v){const i=document.createElement("canvas"),C=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold ${16}px ${v}`,C.textBaseline="middle";let s=0;for(const a of N.allCharCodes)C.fillText(String.fromCharCode(a),s,16/2),s+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(v,i){const C=16*10*4*96;if(v.length!==C)throw new Error("Unexpected source in MinimapCharRenderer");let s=S._downsample(v,i);return new _.MinimapCharRenderer(s,i)}static _downsampleChar(v,i,C,s,a){const u=1*a,h=2*a;let d=s,r=0;for(let n=0;n<h;n++){const l=n/h*16,t=(n+1)/h*16;for(let o=0;o<u;o++){const c=o/u*10,f=(o+1)/u*10;let y=0,b=0;for(let m=l;m<t;m++){const w=i+Math.floor(m)*3840,D=1-(m-Math.floor(m));for(let k=c;k<f;k++){const T=1-(k-Math.floor(k)),R=w+Math.floor(k)*4,M=T*D;b+=M,y+=v[R]*v[R+3]/255*M}}const g=y/b;r=Math.max(r,g),C[d++]=(0,L.toUint8)(g)}}return r}static _downsample(v,i){const C=2*i*1*i,s=C*96,a=new Uint8ClampedArray(s);let u=0,h=0,d=0;for(let r=0;r<96;r++)d=Math.max(d,this._downsampleChar(v,h,a,u,i)),u+=C,h+=10*4;if(d>0){const r=255/d;for(let n=0;n<s;n++)a[n]*=r}return a}}e.MinimapCharRendererFactory=S}),define(te[135],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new _.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(N){N=Math.min(Math.max(-5,N),20),this._zoomLevel!==N&&(this._zoomLevel=N,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(te[170],ne([0,1,17,135]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const I=_.isMacintosh?1.5:1.35,L=8;class S{constructor(i){this._bareFontInfoBrand=void 0,this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,C,s,a){const u=i.get(41),h=i.get(45),d=i.get(44),r=i.get(43),n=i.get(58),l=i.get(55);return S._create(u,h,d,r,n,l,C,s,a)}static _create(i,C,s,a,u,h,d,r,n){u===0?u=I*s:u<L&&(u=u*s),u=Math.round(u),u<L&&(u=L);const l=1+(n?0:N.EditorZoom.getZoomLevel()*.1);return s*=l,u*=l,new S({zoomLevel:d,pixelRatio:r,fontFamily:i,fontWeight:C,fontSize:s,fontFeatureSettings:a,lineHeight:u,letterSpacing:h})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class p extends S{constructor(i,C){super(i);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=C,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=p}),define(te[95],ne([0,1,131]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class N{constructor(S){let p=(0,_.toUint8)(S);this._defaultValue=p,this._asciiMap=N._createAsciiMap(p),this._map=new Map}static _createAsciiMap(S){let p=new Uint8Array(256);for(let v=0;v<256;v++)p[v]=S;return p}set(S,p){let v=(0,_.toUint8)(p);S>=0&&S<256?this._asciiMap[S]=v:this._map.set(S,v)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=N;class I{constructor(){this._actual=new N(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=I}),define(te[110],ne([0,1,95]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class N extends _.CharacterClassifier{constructor(S){super(0);for(let p=0,v=S.length;p<v;p++)this.set(S.charCodeAt(p),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=N;function I(L){let S={};return p=>(S.hasOwnProperty(p)||(S[p]=L(p)),S[p])}e.getMapForWordSeparators=I(L=>new N(L))}),define(te[13],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class _{constructor(I,L){this.lineNumber=I,this.column=L}with(I=this.lineNumber,L=this.column){return I===this.lineNumber&&L===this.column?this:new _(I,L)}delta(I=0,L=0){return this.with(this.lineNumber+I,this.column+L)}equals(I){return _.equals(this,I)}static equals(I,L){return!I&&!L?!0:!!I&&!!L&&I.lineNumber===L.lineNumber&&I.column===L.column}isBefore(I){return _.isBefore(this,I)}static isBefore(I,L){return I.lineNumber<L.lineNumber?!0:L.lineNumber<I.lineNumber?!1:I.column<L.column}isBeforeOrEqual(I){return _.isBeforeOrEqual(this,I)}static isBeforeOrEqual(I,L){return I.lineNumber<L.lineNumber?!0:L.lineNumber<I.lineNumber?!1:I.column<=L.column}static compare(I,L){let S=I.lineNumber|0,p=L.lineNumber|0;if(S===p){let v=I.column|0,i=L.column|0;return v-i}return S-p}clone(){return new _(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(I){return new _(I.lineNumber,I.column)}static isIPosition(I){return I&&typeof I.lineNumber=="number"&&typeof I.column=="number"}}e.Position=_}),define(te[3],ne([0,1,13]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class N{constructor(L,S,p,v){L>p||L===p&&S>v?(this.startLineNumber=p,this.startColumn=v,this.endLineNumber=L,this.endColumn=S):(this.startLineNumber=L,this.startColumn=S,this.endLineNumber=p,this.endColumn=v)}isEmpty(){return N.isEmpty(this)}static isEmpty(L){return L.startLineNumber===L.endLineNumber&&L.startColumn===L.endColumn}containsPosition(L){return N.containsPosition(this,L)}static containsPosition(L,S){return!(S.lineNumber<L.startLineNumber||S.lineNumber>L.endLineNumber||S.lineNumber===L.startLineNumber&&S.column<L.startColumn||S.lineNumber===L.endLineNumber&&S.column>L.endColumn)}containsRange(L){return N.containsRange(this,L)}static containsRange(L,S){return!(S.startLineNumber<L.startLineNumber||S.endLineNumber<L.startLineNumber||S.startLineNumber>L.endLineNumber||S.endLineNumber>L.endLineNumber||S.startLineNumber===L.startLineNumber&&S.startColumn<L.startColumn||S.endLineNumber===L.endLineNumber&&S.endColumn>L.endColumn)}strictContainsRange(L){return N.strictContainsRange(this,L)}static strictContainsRange(L,S){return!(S.startLineNumber<L.startLineNumber||S.endLineNumber<L.startLineNumber||S.startLineNumber>L.endLineNumber||S.endLineNumber>L.endLineNumber||S.startLineNumber===L.startLineNumber&&S.startColumn<=L.startColumn||S.endLineNumber===L.endLineNumber&&S.endColumn>=L.endColumn)}plusRange(L){return N.plusRange(this,L)}static plusRange(L,S){let p,v,i,C;return S.startLineNumber<L.startLineNumber?(p=S.startLineNumber,v=S.startColumn):S.startLineNumber===L.startLineNumber?(p=S.startLineNumber,v=Math.min(S.startColumn,L.startColumn)):(p=L.startLineNumber,v=L.startColumn),S.endLineNumber>L.endLineNumber?(i=S.endLineNumber,C=S.endColumn):S.endLineNumber===L.endLineNumber?(i=S.endLineNumber,C=Math.max(S.endColumn,L.endColumn)):(i=L.endLineNumber,C=L.endColumn),new N(p,v,i,C)}intersectRanges(L){return N.intersectRanges(this,L)}static intersectRanges(L,S){let p=L.startLineNumber,v=L.startColumn,i=L.endLineNumber,C=L.endColumn,s=S.startLineNumber,a=S.startColumn,u=S.endLineNumber,h=S.endColumn;return p<s?(p=s,v=a):p===s&&(v=Math.max(v,a)),i>u?(i=u,C=h):i===u&&(C=Math.min(C,h)),p>i||p===i&&v>C?null:new N(p,v,i,C)}equalsRange(L){return N.equalsRange(this,L)}static equalsRange(L,S){return!!L&&!!S&&L.startLineNumber===S.startLineNumber&&L.startColumn===S.startColumn&&L.endLineNumber===S.endLineNumber&&L.endColumn===S.endColumn}getEndPosition(){return N.getEndPosition(this)}static getEndPosition(L){return new _.Position(L.endLineNumber,L.endColumn)}getStartPosition(){return N.getStartPosition(this)}static getStartPosition(L){return new _.Position(L.startLineNumber,L.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(L,S){return new N(this.startLineNumber,this.startColumn,L,S)}setStartPosition(L,S){return new N(L,S,this.endLineNumber,this.endColumn)}collapseToStart(){return N.collapseToStart(this)}static collapseToStart(L){return new N(L.startLineNumber,L.startColumn,L.startLineNumber,L.startColumn)}static fromPositions(L,S=L){return new N(L.lineNumber,L.column,S.lineNumber,S.column)}static lift(L){return L?new N(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):null}static isIRange(L){return L&&typeof L.startLineNumber=="number"&&typeof L.startColumn=="number"&&typeof L.endLineNumber=="number"&&typeof L.endColumn=="number"}static areIntersectingOrTouching(L,S){return!(L.endLineNumber<S.startLineNumber||L.endLineNumber===S.startLineNumber&&L.endColumn<S.startColumn||S.endLineNumber<L.startLineNumber||S.endLineNumber===L.startLineNumber&&S.endColumn<L.startColumn)}static areIntersecting(L,S){return!(L.endLineNumber<S.startLineNumber||L.endLineNumber===S.startLineNumber&&L.endColumn<=S.startColumn||S.endLineNumber<L.startLineNumber||S.endLineNumber===L.startLineNumber&&S.endColumn<=L.startColumn)}static compareRangesUsingStarts(L,S){if(L&&S){const i=L.startLineNumber|0,C=S.startLineNumber|0;if(i===C){const s=L.startColumn|0,a=S.startColumn|0;if(s===a){const u=L.endLineNumber|0,h=S.endLineNumber|0;if(u===h){const d=L.endColumn|0,r=S.endColumn|0;return d-r}return u-h}return s-a}return i-C}return(L?1:0)-(S?1:0)}static compareRangesUsingEnds(L,S){return L.endLineNumber===S.endLineNumber?L.endColumn===S.endColumn?L.startLineNumber===S.startLineNumber?L.startColumn-S.startColumn:L.startLineNumber-S.startLineNumber:L.endColumn-S.endColumn:L.endLineNumber-S.endLineNumber}static spansMultipleLines(L){return L.endLineNumber>L.startLineNumber}}e.Range=N}),define(te[220],ne([0,1,8,13,3]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class L{constructor(v,i,C,s,a){this.value=v,this.selectionStart=i,this.selectionEnd=C,this.selectionStartPosition=s,this.selectionEndPosition=a}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(v){return new L(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new L(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,i,C){e._debugComposition&&console.log("writeToTextArea "+v+": "+this.toString()),i.setValue(v,this.value),C&&i.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const s=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,s,-1)}if(v>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,s,1)}const i=this.value.substring(this.selectionStart,v);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const C=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,-1)}_finishDeduceEditorPosition(v,i,C){let s=0,a=-1;for(;(a=i.indexOf(`
`,a+1))!==-1;)s++;return[v,C*i.length,s]}static selectedText(v){return new L(v,0,v.length,null,null)}static deduceInput(v,i,C){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+v.toString()),console.log("CURRENT STATE: "+i.toString()));let s=v.value,a=v.selectionStart,u=v.selectionEnd,h=i.value,d=i.selectionStart,r=i.selectionEnd;const n=s.substring(u),l=h.substring(r),t=_.commonSuffixLength(n,l);h=h.substring(0,h.length-t),s=s.substring(0,s.length-t);const o=s.substring(0,a),c=h.substring(0,d),f=_.commonPrefixLength(o,c);if(h=h.substring(f),s=s.substring(f),d-=f,a-=f,r-=f,u-=f,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+s+">, selectionStart: "+a+", selectionEnd: "+u),console.log("AFTER DIFFING CURRENT STATE: <"+h+">, selectionStart: "+d+", selectionEnd: "+r)),C&&d===r&&s.length>0){let b=null;if(d===h.length?h.startsWith(s)&&(b=h.substring(s.length)):h.endsWith(s)&&(b=h.substring(0,h.length-s.length)),b!==null&&b.length>0&&(/\uFE0F/.test(b)||_.containsEmoji(b)))return{text:b,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(d===r){if(s===h&&a===0&&u===s.length&&d===h.length&&h.indexOf(`
`)===-1&&_.containsFullWidthCharacter(h))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const b=o.length-f;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(o.length-f)+" chars"),{text:h,replacePrevCharCnt:b,replaceNextCharCnt:0,positionDelta:0}}const y=u-a;return{text:h,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,i){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+v.toString()),console.log("CURRENT STATE: "+i.toString())),v.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-v.selectionEnd};const C=Math.min(_.commonPrefixLength(v.value,i.value),v.selectionEnd),s=Math.min(_.commonSuffixLength(v.value,i.value),v.value.length-v.selectionEnd),a=v.value.substring(C,v.value.length-s),u=i.value.substring(C,i.value.length-s),h=v.selectionStart-C,d=v.selectionEnd-C,r=i.selectionStart-C,n=i.selectionEnd-C;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+a+">, selectionStart: "+h+", selectionEnd: "+d),console.log("AFTER DIFFING CURRENT STATE: <"+u+">, selectionStart: "+r+", selectionEnd: "+n)),{text:u,replacePrevCharCnt:d,replaceNextCharCnt:a.length-d,positionDelta:n-u.length}}}e.TextAreaState=L,L.EMPTY=new L("",0,0,null,null);class S{static _getPageOfLine(v,i){return Math.floor((v-1)/i)}static _getRangeForPage(v,i){const C=v*i,s=C+1,a=C+i;return new I.Range(s,1,a+1,1)}static fromEditorSelection(v,i,C,s,a){const u=S._getPageOfLine(C.startLineNumber,s),h=S._getRangeForPage(u,s),d=S._getPageOfLine(C.endLineNumber,s),r=S._getRangeForPage(d,s),n=h.intersectRanges(new I.Range(1,1,C.startLineNumber,C.startColumn));let l=i.getValueInRange(n,1);const t=i.getLineCount(),o=i.getLineMaxColumn(t),c=r.intersectRanges(new I.Range(C.endLineNumber,C.endColumn,t,o));let f=i.getValueInRange(c,1),y;if(u===d||u+1===d)y=i.getValueInRange(C,1);else{const b=h.intersectRanges(C),g=r.intersectRanges(C);y=i.getValueInRange(b,1)+String.fromCharCode(8230)+i.getValueInRange(g,1)}if(a){const b=500;l.length>b&&(l=l.substring(l.length-b,l.length)),f.length>b&&(f=f.substring(0,b)),y.length>2*b&&(y=y.substring(0,b)+String.fromCharCode(8230)+y.substring(y.length-b,y.length))}return new L(l+y+f,l.length,l.length+y.length,new N.Position(C.startLineNumber,C.startColumn),new N.Position(C.endLineNumber,C.endColumn))}}e.PagedScreenReaderStrategy=S}),define(te[221],ne([0,1,202,6,2,35,3]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const p={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends I.Disposable{constructor(C,s={}){super();this._onDidUpdate=this._register(new N.Emitter),this._editor=C,this._options=L.mixin(s,p,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(a=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(a=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(C){this.ranges=[],C&&C.forEach(s=>{!this._options.ignoreCharChanges&&s.charChanges?s.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new S.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber,1)})}),this.ranges.sort((s,a)=>s.range.getStartPosition().isBeforeOrEqual(a.range.getStartPosition())?-1:a.range.getStartPosition().isBeforeOrEqual(s.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(C){let s=!1,a=this._editor.getPosition();if(!a){this.nextIdx=0;return}for(let u=0,h=this.ranges.length;u<h&&!s;u++){let d=this.ranges[u].range;a.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=u+(C?0:-1),s=!0)}s||(this.nextIdx=C?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(C,s){if(_.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(C):C?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let u=a.range.getStartPosition();this._editor.setPosition(u),this._editor.revealPositionInCenter(u,s)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(C=0){this._move(!0,C)}previous(C=0){this._move(!1,C)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(te[59],ne([0,1,3]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class N{static insert(L,S){return{range:new _.Range(L.lineNumber,L.column,L.lineNumber,L.column),text:S,forceMoveMarkers:!0}}static delete(L){return{range:L,text:null}}static replace(L,S){return{range:L,text:S}}static replaceMove(L,S){return{range:L,text:S,forceMoveMarkers:!0}}}e.EditOperation=N}),define(te[382],ne([0,1,8,59,3]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class L{constructor(v,i){this._selection=v,this._cursors=i,this._selectionId=null}getEditOperations(v,i){let C=S(v,this._cursors);for(let s=0,a=C.length;s<a;s++){let u=C[s];i.addEditOperation(u.range,u.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(v,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=L;function S(p,v){v.sort((u,h)=>u.lineNumber===h.lineNumber?u.column-h.column:u.lineNumber-h.lineNumber);for(let u=v.length-2;u>=0;u--)v[u].lineNumber===v[u+1].lineNumber&&v.splice(u,1);let i=[],C=0,s=0,a=v.length;for(let u=1,h=p.getLineCount();u<=h;u++){let d=p.getLineContent(u),r=d.length+1,n=0;if(s<a&&v[s].lineNumber===u&&(n=v[s].column,s++,n===r)||d.length===0)continue;let l=_.lastNonWhitespaceIndex(d),t=0;if(l===-1)t=1;else if(l!==d.length-1)t=l+2;else continue;t=Math.max(n,t),i[C++]=N.EditOperation.delete(new I.Range(u,t,u,r))}return i}e.trimTrailingWhitespace=S}),define(te[222],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class _{constructor(I,L,S,p){this._rgba8Brand=void 0,this.r=_._clamp(I),this.g=_._clamp(L),this.b=_._clamp(S),this.a=_._clamp(p)}equals(I){return this.r===I.r&&this.g===I.g&&this.b===I.b&&this.a===I.a}static _clamp(I){return I<0?0:I>255?255:I|0}}e.RGBA8=_,_.Empty=new _(0,0,0,0)}),define(te[21],ne([0,1,13,3]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class I extends N.Range{constructor(S,p,v,i){super(S,p,v,i);this.selectionStartLineNumber=S,this.selectionStartColumn=p,this.positionLineNumber=v,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return I.selectionsEqual(this,S)}static selectionsEqual(S,p){return S.selectionStartLineNumber===p.selectionStartLineNumber&&S.selectionStartColumn===p.selectionStartColumn&&S.positionLineNumber===p.positionLineNumber&&S.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,p){return this.getDirection()===0?new I(this.startLineNumber,this.startColumn,S,p):new I(S,p,this.startLineNumber,this.startColumn)}getPosition(){return new _.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,p){return this.getDirection()===0?new I(S,p,this.endLineNumber,this.endColumn):new I(this.endLineNumber,this.endColumn,S,p)}static fromPositions(S,p=S){return new I(S.lineNumber,S.column,p.lineNumber,p.column)}static liftSelection(S){return new I(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,p){if(S&&!p||!S&&p)return!1;if(!S&&!p)return!0;if(S.length!==p.length)return!1;for(let v=0,i=S.length;v<i;v++)if(!this.selectionsEqual(S[v],p[v]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,p,v,i,C){return C===0?new I(S,p,v,i):new I(v,i,S,p)}}e.Selection=I}),define(te[171],ne([0,1,41,7,14,6,2,107,17,8,220,13,21]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var u;(function(l){l.Tap="-monaco-textarea-synthetic-tap"})(u=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class h{constructor(){this._lastState=null}set(t,o){this._lastState={lastCopiedValue:t,data:o}}get(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=h,h.INSTANCE=new h;class d extends S.Disposable{constructor(t,o){super();this.textArea=o,this._onFocus=this._register(new L.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=t,this._textArea=this._register(new n(o)),this._asyncTriggerCut=this._register(new I.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new I.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=C.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let c=null;this._register(N.addStandardDisposableListener(o.domNode,"keydown",g=>{(g.keyCode===109||this._isDoingComposition&&g.keyCode===1)&&g.stopPropagation(),g.equals(9)&&g.preventDefault(),c=g,this._onKeyDown.fire(g)})),this._register(N.addStandardDisposableListener(o.domNode,"keyup",g=>{this._onKeyUp.fire(g)})),this._register(N.addDisposableListener(o.domNode,"compositionstart",g=>{if(C._debugComposition&&console.log("[compositionstart]",g),!this._isDoingComposition){if(this._isDoingComposition=!0,v.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===g.data&&(c&&c.equals(109)&&(c.code==="ArrowRight"||c.code==="ArrowLeft")||_.isFirefox)){C._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",g),this._textAreaState=new C.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new s.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(_.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",C.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const f=g=>{const m=this._textAreaState,w=C.TextAreaState.readFromTextArea(this._textArea);return[w,C.TextAreaState.deduceInput(m,w,g)]},y=()=>{const g=this._textAreaState,m=C.TextAreaState.readFromTextArea(this._textArea);return[m,C.TextAreaState.deduceAndroidCompositionInput(g,m)]},b=g=>{const m=this._textAreaState,w=C.TextAreaState.selectedText(g),D={text:w.value,replacePrevCharCnt:m.selectionEnd-m.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[w,D]};this._register(N.addDisposableListener(o.domNode,"compositionupdate",g=>{if(C._debugComposition&&console.log("[compositionupdate]",g),_.isAndroid){const[D,k]=y();this._textAreaState=D,this._onType.fire(k),this._onCompositionUpdate.fire(g);return}const[m,w]=b(g.data||"");this._textAreaState=m,this._onType.fire(w),this._onCompositionUpdate.fire(g)})),this._register(N.addDisposableListener(o.domNode,"compositionend",g=>{if(C._debugComposition&&console.log("[compositionend]",g),!this._isDoingComposition)return;if(this._isDoingComposition=!1,_.isAndroid){const[D,k]=y();this._textAreaState=D,this._onType.fire(k),this._onCompositionEnd.fire();return}const[m,w]=b(g.data||"");this._textAreaState=m,this._onType.fire(w),(_.isChrome||_.isFirefox)&&(this._textAreaState=C.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(N.addDisposableListener(o.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[g,m]=f(v.isMacintosh);m.replacePrevCharCnt===0&&m.text.length===1&&i.isHighSurrogate(m.text.charCodeAt(0))||(this._textAreaState=g,this._nextCommand===0?(m.text!==""||m.replacePrevCharCnt!==0)&&this._onType.fire(m):((m.text!==""||m.replacePrevCharCnt!==0)&&this._firePaste(m.text,null),this._nextCommand=0))})),this._register(N.addDisposableListener(o.domNode,"cut",g=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(g),this._asyncTriggerCut.schedule()})),this._register(N.addDisposableListener(o.domNode,"copy",g=>{this._ensureClipboardGetsEditorSelection(g)})),this._register(N.addDisposableListener(o.domNode,"paste",g=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),r.canUseTextData(g)){const[m,w]=r.getTextData(g);m!==""&&this._firePaste(m,w)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",C.TextAreaState.EMPTY),this._nextCommand=1})),this._register(N.addDisposableListener(o.domNode,"focus",()=>{const g=this._hasFocus;this._setHasFocus(!0),_.isSafari&&!g&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(N.addDisposableListener(o.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(N.addDisposableListener(o.domNode,u.Tap,()=>{_.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let t=0;return N.addDisposableListener(document,"selectionchange",o=>{if(!this._hasFocus||this._isDoingComposition||!_.isChrome)return;const c=Date.now(),f=c-t;if(t=c,f<5)return;const y=c-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),y<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const b=this._textArea.getValue();if(this._textAreaState.value!==b)return;const g=this._textArea.getSelectionStart(),m=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===m)return;const w=this._textAreaState.deduceEditorPosition(g),D=this._host.deduceModelPosition(w[0],w[1],w[2]),k=this._textAreaState.deduceEditorPosition(m),T=this._host.deduceModelPosition(k[0],k[1],k[2]),R=new a.Selection(D.lineNumber,D.column,T.lineNumber,T.column);this._onSelectionChangeRequest.fire(R)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const t=N.getShadowRoot(this.textArea.domNode);t?this._setHasFocus(t.activeElement===this.textArea.domNode):N.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(t,o){this._hasFocus||(o=o.collapseSelection()),o.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=o}writeScreenReaderContent(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(t){const o=this._host.getDataToCopy(r.canUseTextData(t)),c={version:1,isFromEmptySelection:o.isFromEmptySelection,multicursorText:o.multicursorText,mode:o.mode};if(h.INSTANCE.set(_.isFirefox?o.text.replace(/\r\n/g,`
`):o.text,c),!r.canUseTextData(t)){this._setAndWriteTextAreaState("copy or cut",C.TextAreaState.selectedText(o.text));return}r.setTextData(t,o.text,o.html,c)}_firePaste(t,o){o||(o=h.INSTANCE.get(t)),this._onPaste.fire({text:t,metadata:o})}}e.TextAreaInput=d;class r{static canUseTextData(t){return!!(t.clipboardData||window.clipboardData)}static getTextData(t){if(t.clipboardData){t.preventDefault();const o=t.clipboardData.getData(p.Mimes.text);let c=null;const f=t.clipboardData.getData("vscode-editor-data");if(typeof f=="string")try{c=JSON.parse(f),c.version!==1&&(c=null)}catch(y){}return[o,c]}if(window.clipboardData)return t.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(t,o,c,f){if(t.clipboardData){t.clipboardData.setData(p.Mimes.text,o),typeof c=="string"&&t.clipboardData.setData("text/html",c),t.clipboardData.setData("vscode-editor-data",JSON.stringify(f)),t.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",o),t.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class n extends S.Disposable{constructor(t){super();this._actual=t,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(t){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(t,o){const c=this._actual.domNode;c.value!==o&&(this.setIgnoreSelectionChangeTime("setValue"),c.value=o)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(t,o,c){const f=this._actual.domNode;let y=null;const b=N.getShadowRoot(f);b?y=b.activeElement:y=document.activeElement;const g=y===f,m=f.selectionStart,w=f.selectionEnd;if(g&&m===o&&w===c){_.isFirefox&&window.parent!==window&&f.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),f.setSelectionRange(o,c),_.isFirefox&&window.parent!==window&&f.focus();return}try{const D=N.saveParentsScrollTop(f);this.setIgnoreSelectionChangeTime("setSelectionRange"),f.focus(),f.setSelectionRange(o,c),N.restoreParentsScrollTop(f,D)}catch(D){}}}}),define(te[96],ne([0,1,21]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class N{constructor(i,C,s=!1){this._range=i,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){let a=C.getInverseEditOperations()[0].range;return new _.Selection(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommand=N;class I{constructor(i,C){this._range=i,this._text=C}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){const a=C.getInverseEditOperations()[0].range;return new _.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommandThatSelectsText=I;class L{constructor(i,C,s=!1){this._range=i,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){let a=C.getInverseEditOperations()[0].range;return new _.Selection(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn)}}e.ReplaceCommandWithoutChangingPosition=L;class S{constructor(i,C,s,a,u=!1){this._range=i,this._text=C,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=u}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){let a=C.getInverseEditOperations()[0].range;return new _.Selection(a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset,a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class p{constructor(i,C,s,a=!1){this._range=i,this._text=C,this._initialSelection=s,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(i,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(te[383],ne([0,1,3,21]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class I{constructor(S,p,v){this._range=S,this._charBeforeSelection=p,this._charAfterSelection=v}getEditOperations(S,p){p.addTrackedEditOperation(new _.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),p.addTrackedEditOperation(new _.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,p){let v=p.getInverseEditOperations(),i=v[0].range,C=v[1].range;return new N.Selection(i.endLineNumber,i.endColumn,C.endLineNumber,C.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=I}),define(te[84],ne([0,1,8,17,103]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let L;function S(){return L||(L=new TextDecoder("UTF-16LE")),L}let p;function v(){return p||(p=new TextDecoder("UTF-16BE")),p}let i;function C(){return i||(i=N.isLittleEndian()?S():v()),i}e.getPlatformTextDecoder=C,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new u(d),e.decodeUTF16LE=s):(e.createStringBuilder=d=>new h,e.decodeUTF16LE=a);function s(d,r,n){const l=new Uint16Array(d.buffer,r,n);return n>0&&(l[0]===65279||l[0]===65534)?a(d,r,n):S().decode(l)}function a(d,r,n){let l=[],t=0;for(let o=0;o<n;o++){const c=I.readUInt16LE(d,r);r+=2,l[t++]=String.fromCharCode(c)}return l.join("")}class u{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}write1(r){const n=this._capacity-this._bufferLength;n<=1&&(n===0||_.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCII(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIIString(r){const n=r.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let l=0;l<n;l++)this._buffer[this._bufferLength++]=r.charCodeAt(l)}}class h{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCII(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCIIString(r){this._pieces[this._piecesLen++]=r}}}),define(te[172],ne([0,1,30,84]),function($,e,_,N){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class L{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,C){this._lines=C,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const C=i-this._rendLineNumberStart;if(C<0||C>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[C]}onLinesDeleted(i,C){if(this.getCount()===0)return null;const s=this.getStartLineNumber(),a=this.getEndLineNumber();if(C<s){const r=C-i+1;return this._rendLineNumberStart-=r,null}if(i>a)return null;let u=0,h=0;for(let r=s;r<=a;r++){const n=r-this._rendLineNumberStart;i<=r&&r<=C&&(h===0?(u=n,h=1):h++)}if(i<s){let r=0;C<s?r=C-i+1:r=s-i,this._rendLineNumberStart-=r}return this._lines.splice(u,h)}onLinesChanged(i,C){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),a=this.getEndLineNumber();let u=!1;for(let h=i;h<=C;h++)h>=s&&h<=a&&(this._lines[h-this._rendLineNumberStart].onContentChanged(),u=!0);return u}onLinesInserted(i,C){if(this.getCount()===0)return null;const s=C-i+1,a=this.getStartLineNumber(),u=this.getEndLineNumber();if(i<=a)return this._rendLineNumberStart+=s,null;if(i>u)return null;if(s+i>u)return this._lines.splice(i-this._rendLineNumberStart,u-i+1);const h=[];for(let t=0;t<s;t++)h[t]=this._createLine();const d=i-this._rendLineNumberStart,r=this._lines.slice(0,d),n=this._lines.slice(d,this._lines.length-s),l=this._lines.slice(this._lines.length-s,this._lines.length);return this._lines=r.concat(h).concat(n),l}onTokensChanged(i){if(this.getCount()===0)return!1;const C=this.getStartLineNumber(),s=this.getEndLineNumber();let a=!1;for(let u=0,h=i.length;u<h;u++){const d=i[u];if(d.toLineNumber<C||d.fromLineNumber>s)continue;const r=Math.max(C,d.fromLineNumber),n=Math.min(s,d.toLineNumber);for(let l=r;l<=n;l++){const t=l-this._rendLineNumberStart;this._lines[t].onTokensChanged(),a=!0}}return a}}e.RenderedLinesCollection=L;class S{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new L(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,_.createFastDomNode)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(130)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const C=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(C)for(let s=0,a=C.length;s<a;s++){const u=C[s].getDomNode();u&&this.domNode.domNode.removeChild(u)}return!0}onLinesInserted(i){const C=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(C)for(let s=0,a=C.length;s<a;s++){const u=C[s].getDomNode();u&&this.domNode.domNode.removeChild(u)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const C=this._linesCollection._get(),s=new p(this.domNode.domNode,this._host,i),a={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines,linesLength:C.lines.length},u=s.render(a,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(u.rendLineNumberStart,u.lines)}}e.VisibleLinesCollection=S;class p{constructor(i,C,s){this.domNode=i,this.host=C,this.viewportData=s}render(i,C,s,a){const u={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(u.rendLineNumberStart+u.linesLength-1<C||s<u.rendLineNumberStart){u.rendLineNumberStart=C,u.linesLength=s-C+1,u.lines=[];for(let h=C;h<=s;h++)u.lines[h-C]=this.host.createVisibleLine();return this._finishRendering(u,!0,a),u}if(this._renderUntouchedLines(u,Math.max(C-u.rendLineNumberStart,0),Math.min(s-u.rendLineNumberStart,u.linesLength-1),a,C),u.rendLineNumberStart>C){const h=C,d=Math.min(s,u.rendLineNumberStart-1);h<=d&&(this._insertLinesBefore(u,h,d,a,C),u.linesLength+=d-h+1)}else if(u.rendLineNumberStart<C){const h=Math.min(u.linesLength,C-u.rendLineNumberStart);h>0&&(this._removeLinesBefore(u,h),u.linesLength-=h)}if(u.rendLineNumberStart=C,u.rendLineNumberStart+u.linesLength-1<s){const h=u.rendLineNumberStart+u.linesLength,d=s;h<=d&&(this._insertLinesAfter(u,h,d,a,C),u.linesLength+=d-h+1)}else if(u.rendLineNumberStart+u.linesLength-1>s){const h=Math.max(0,s-u.rendLineNumberStart+1),r=u.linesLength-1-h+1;r>0&&(this._removeLinesAfter(u,r),u.linesLength-=r)}return this._finishRendering(u,!1,a),u}_renderUntouchedLines(i,C,s,a,u){const h=i.rendLineNumberStart,d=i.lines;for(let r=C;r<=s;r++){const n=h+r;d[r].layoutLine(n,a[n-u])}}_insertLinesBefore(i,C,s,a,u){const h=[];let d=0;for(let r=C;r<=s;r++)h[d++]=this.host.createVisibleLine();i.lines=h.concat(i.lines)}_removeLinesBefore(i,C){for(let s=0;s<C;s++){const a=i.lines[s].getDomNode();a&&this.domNode.removeChild(a)}i.lines.splice(0,C)}_insertLinesAfter(i,C,s,a,u){const h=[];let d=0;for(let r=C;r<=s;r++)h[d++]=this.host.createVisibleLine();i.lines=i.lines.concat(h)}_removeLinesAfter(i,C){const s=i.linesLength-C;for(let a=0;a<C;a++){const u=i.lines[s+a].getDomNode();u&&this.domNode.removeChild(u)}i.lines.splice(s,C)}_finishRenderingNewLines(i,C,s,a){p._ttPolicy&&(s=p._ttPolicy.createHTML(s));const u=this.domNode.lastChild;C||!u?this.domNode.innerHTML=s:u.insertAdjacentHTML("afterend",s);let h=this.domNode.lastChild;for(let d=i.linesLength-1;d>=0;d--){const r=i.lines[d];a[d]&&(r.setDomNode(h),h=h.previousSibling)}}_finishRenderingInvalidLines(i,C,s){const a=document.createElement("div");p._ttPolicy&&(C=p._ttPolicy.createHTML(C)),a.innerHTML=C;for(let u=0;u<i.linesLength;u++){const h=i.lines[u];if(s[u]){const d=a.firstChild,r=h.getDomNode();r.parentNode.replaceChild(d,r),h.setDomNode(d)}}}_finishRendering(i,C,s){const a=p._sb,u=i.linesLength,h=i.lines,d=i.rendLineNumberStart,r=[];{a.reset();let n=!1;for(let l=0;l<u;l++){const t=h[l];r[l]=!1,!(t.getDomNode()||!t.renderLine(l+d,s[l],this.viewportData,a))&&(r[l]=!0,n=!0)}n&&this._finishRenderingNewLines(i,C,a.build(),r)}{a.reset();let n=!1;const l=[];for(let t=0;t<u;t++){const o=h[t];l[t]=!1,!(r[t]||!o.renderLine(t+d,s[t],this.viewportData,a))&&(l[t]=!0,n=!0)}n&&this._finishRenderingInvalidLines(i,a.build(),l)}}}p._ttPolicy=(I=window.trustedTypes)===null||I===void 0?void 0:I.createPolicy("editorViewLayer",{createHTML:v=>v}),p._sb=(0,N.createStringBuilder)(1e5)}),define(te[136],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class _{constructor(S,p,v){this._tokenBrand=void 0,this.offset=S|0,this.type=p,this.language=v}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=_;class N{constructor(S,p){this._tokenizationResultBrand=void 0,this.tokens=S,this.endState=p}}e.TokenizationResult=N;class I{constructor(S,p){this._tokenizationResult2Brand=void 0,this.tokens=S,this.endState=p}}e.TokenizationResult2=I}),define(te[384],ne([0,1,130,8]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const I=3;function L(d,r,n,l){return new _.LcsDiff(d,r,n).ComputeDiff(l)}class S{constructor(r){const n=[],l=[];for(let t=0,o=r.length;t<o;t++)n[t]=a(r[t],1),l[t]=u(r[t],1);this.lines=r,this._startColumns=n,this._endColumns=l}getElements(){const r=[];for(let n=0,l=this.lines.length;n<l;n++)r[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return r}getStrictElement(r){return this.lines[r]}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,n,l){const t=[],o=[],c=[];let f=0;for(let y=n;y<=l;y++){const b=this.lines[y],g=r?this._startColumns[y]:1,m=r?this._endColumns[y]:b.length+1;for(let w=g;w<m;w++)t[f]=b.charCodeAt(w-1),o[f]=y+1,c[f]=w,f++}return new p(t,o,c)}}class p{constructor(r,n,l){this._charCodes=r,this._lineNumbers=n,this._columns=l}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class v{constructor(r,n,l,t,o,c,f,y){this.originalStartLineNumber=r,this.originalStartColumn=n,this.originalEndLineNumber=l,this.originalEndColumn=t,this.modifiedStartLineNumber=o,this.modifiedStartColumn=c,this.modifiedEndLineNumber=f,this.modifiedEndColumn=y}static createFromDiffChange(r,n,l){let t,o,c,f,y,b,g,m;return r.originalLength===0?(t=0,o=0,c=0,f=0):(t=n.getStartLineNumber(r.originalStart),o=n.getStartColumn(r.originalStart),c=n.getEndLineNumber(r.originalStart+r.originalLength-1),f=n.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(y=0,b=0,g=0,m=0):(y=l.getStartLineNumber(r.modifiedStart),b=l.getStartColumn(r.modifiedStart),g=l.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),m=l.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new v(t,o,c,f,y,b,g,m)}}function i(d){if(d.length<=1)return d;const r=[d[0]];let n=r[0];for(let l=1,t=d.length;l<t;l++){const o=d[l],c=o.originalStart-(n.originalStart+n.originalLength),f=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(c,f)<I?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(r.push(o),n=o)}return r}class C{constructor(r,n,l,t,o){this.originalStartLineNumber=r,this.originalEndLineNumber=n,this.modifiedStartLineNumber=l,this.modifiedEndLineNumber=t,this.charChanges=o}static createFromDiffResult(r,n,l,t,o,c,f){let y,b,g,m,w;if(n.originalLength===0?(y=l.getStartLineNumber(n.originalStart)-1,b=0):(y=l.getStartLineNumber(n.originalStart),b=l.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(g=t.getStartLineNumber(n.modifiedStart)-1,m=0):(g=t.getStartLineNumber(n.modifiedStart),m=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),c&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&o()){const D=l.createCharSequence(r,n.originalStart,n.originalStart+n.originalLength-1),k=t.createCharSequence(r,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let T=L(D,k,o,!0).changes;f&&(T=i(T)),w=[];for(let R=0,M=T.length;R<M;R++)w.push(v.createFromDiffChange(T[R],D,k))}return new C(y,b,g,m,w)}}class s{constructor(r,n,l){this.shouldComputeCharChanges=l.shouldComputeCharChanges,this.shouldPostProcessCharChanges=l.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=l.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=l.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=n,this.original=new S(r),this.modified=new S(n),this.continueLineDiff=h(l.maxComputationTime),this.continueCharDiff=h(l.maxComputationTime===0?0:Math.min(l.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=L(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=r.changes,l=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const f=[];for(let y=0,b=n.length;y<b;y++)f.push(C.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[y],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:l,changes:f}}const t=[];let o=0,c=0;for(let f=-1,y=n.length;f<y;f++){const b=f+1<y?n[f+1]:null,g=b?b.originalStart:this.originalLines.length,m=b?b.modifiedStart:this.modifiedLines.length;for(;o<g&&c<m;){const w=this.originalLines[o],D=this.modifiedLines[c];if(w!==D){{let k=a(w,1),T=a(D,1);for(;k>1&&T>1;){const R=w.charCodeAt(k-2),M=D.charCodeAt(T-2);if(R!==M)break;k--,T--}(k>1||T>1)&&this._pushTrimWhitespaceCharChange(t,o+1,1,k,c+1,1,T)}{let k=u(w,1),T=u(D,1);const R=w.length+1,M=D.length+1;for(;k<R&&T<M;){const A=w.charCodeAt(k-1),O=w.charCodeAt(T-1);if(A!==O)break;k++,T++}(k<R||T<M)&&this._pushTrimWhitespaceCharChange(t,o+1,k,R,c+1,T,M)}}o++,c++}b&&(t.push(C.createFromDiffResult(this.shouldIgnoreTrimWhitespace,b,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=b.originalLength,c+=b.modifiedLength)}return{quitEarly:l,changes:t}}_pushTrimWhitespaceCharChange(r,n,l,t,o,c,f){if(this._mergeTrimWhitespaceCharChange(r,n,l,t,o,c,f))return;let y;this.shouldComputeCharChanges&&(y=[new v(n,l,n,t,o,c,o,f)]),r.push(new C(n,n,o,o,y))}_mergeTrimWhitespaceCharChange(r,n,l,t,o,c,f){const y=r.length;if(y===0)return!1;const b=r[y-1];return b.originalEndLineNumber===0||b.modifiedEndLineNumber===0?!1:b.originalEndLineNumber+1===n&&b.modifiedEndLineNumber+1===o?(b.originalEndLineNumber=n,b.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&b.charChanges&&b.charChanges.push(new v(n,l,n,t,o,c,o,f)),!0):!1}}e.DiffComputer=s;function a(d,r){const n=N.firstNonWhitespaceIndex(d);return n===-1?r:n+1}function u(d,r){const n=N.lastNonWhitespaceIndex(d);return n===-1?r:n+2}function h(d){if(d===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<d}}),define(te[223],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class _{constructor(I,L,S,p,v,i){this.id=I,this.label=L,this.alias=S,this._precondition=p,this._run=v,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=_}),define(te[111],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function _(N){return N&&typeof N.id=="string"}e.isThemeColor=_,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(te[112],ne([0,1,111]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function N(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===_.EditorType.ICodeEditor:!1}e.isCodeEditor=N;function I(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===_.EditorType.IDiffEditor:!1}e.isDiffEditor=I;function L(S){return N(S)?S:I(S)?S.getModifiedEditor():null}e.getCodeEditor=L}),define(te[53],ne([0,1,35]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var N;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(N=e.OverviewRulerLane||(e.OverviewRulerLane={}));var I;(function(i){i[i.Inline=1]="Inline",i[i.Gutter=2]="Gutter"})(I=e.MinimapPosition||(e.MinimapPosition={}));class L{constructor(C){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,C.tabSize|0),this.indentSize=C.tabSize|0,this.insertSpaces=Boolean(C.insertSpaces),this.defaultEOL=C.defaultEOL|0,this.trimAutoWhitespace=Boolean(C.trimAutoWhitespace),this.bracketPairColorizationOptions=C.bracketPairColorizationOptions}equals(C){return this.tabSize===C.tabSize&&this.indentSize===C.indentSize&&this.insertSpaces===C.insertSpaces&&this.defaultEOL===C.defaultEOL&&this.trimAutoWhitespace===C.trimAutoWhitespace&&(0,_.equals)(this.bracketPairColorizationOptions,C.bracketPairColorizationOptions)}createChangeEvent(C){return{tabSize:this.tabSize!==C.tabSize,indentSize:this.indentSize!==C.indentSize,insertSpaces:this.insertSpaces!==C.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==C.trimAutoWhitespace}}}e.TextModelResolvedOptions=L;class S{constructor(C,s){this._findMatchBrand=void 0,this.range=C,this.matches=s}}e.FindMatch=S;class p{constructor(C,s,a,u,h,d){this.identifier=C,this.range=s,this.text=a,this.forceMoveMarkers=u,this.isAutoWhitespaceEdit=h,this._isTracked=d}}e.ValidAnnotatedEditOperation=p;class v{constructor(C,s,a){this.reverseEdits=C,this.changes=s,this.trimAutoWhitespaceLineNumbers=a}}e.ApplyEditsResult=v}),define(te[85],ne([0,1,8,3]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthHash=e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class I{constructor(f,y){this.lineCount=f,this.columnCount=y}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=I;function L(c,f,y,b){return c!==y?v(y-c,b):v(0,b-f)}e.lengthDiff=L,e.lengthZero=0;function S(c){return c===0}e.lengthIsZero=S;const p=Math.pow(2,26);function v(c,f){return c*p+f}e.toLength=v;function i(c){const f=c,y=Math.floor(f/p),b=f-y*p;return new I(y,b)}e.lengthToObj=i;function C(c){return Math.floor(c/p)}e.lengthGetLineCount=C;function s(c){return c}e.lengthGetColumnCountIfZeroLineCount=s;function a(c,f){return f<p?c+f:c-c%p+f}e.lengthAdd=a;function u(c,f){const y=c,b=f;if(b-y<=0)return e.lengthZero;const m=Math.floor(y/p),w=Math.floor(b/p),D=b-w*p;if(m===w){const k=y-m*p;return v(0,D-k)}else return v(w-m,D)}e.lengthDiffNonNegative=u;function h(c,f){return c<f}e.lengthLessThan=h;function d(c,f){return c<=f}e.lengthLessThanEqual=d;function r(c,f){return c>=f}e.lengthGreaterThanEqual=r;function n(c){return v(c.lineNumber-1,c.column-1)}e.positionToLength=n;function l(c,f){const y=c,b=Math.floor(y/p),g=y-b*p,m=f,w=Math.floor(m/p),D=m-w*p;return new N.Range(b+1,g+1,w+1,D+1)}e.lengthsToRange=l;function t(c){const f=(0,_.splitLines)(c);return v(f.length-1,f[f.length-1].length)}e.lengthOfString=t;function o(c){return c}e.lengthHash=o}),define(te[224],ne([0,1,85]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class N{constructor(p,v,i){this.startOffset=p,this.endOffset=v,this.newLength=i}}e.TextEditInfo=N;class I{constructor(p,v){this.documentLength=v,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=p.map(i=>L.from(i))}getOffsetBeforeChange(p){return this.adjustNextEdit(p),this.translateCurToOld(p)}getDistanceToNextChange(p){this.adjustNextEdit(p);const v=this.edits[this.nextEditIdx],i=v?this.translateOldToCur(v.offsetObj):this.documentLength;return(0,_.lengthDiffNonNegative)(p,i)}translateOldToCur(p){return p.lineCount===this.deltaLineIdxInOld?(0,_.toLength)(p.lineCount+this.deltaOldToNewLineCount,p.columnCount+this.deltaOldToNewColumnCount):(0,_.toLength)(p.lineCount+this.deltaOldToNewLineCount,p.columnCount)}translateCurToOld(p){const v=(0,_.lengthToObj)(p);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,_.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,_.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(p){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],i=this.translateOldToCur(v.endOffsetAfterObj);if((0,_.lengthLessThanEqual)(i,p)){this.nextEditIdx++;const C=(0,_.lengthToObj)(i),s=(0,_.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),a=C.lineCount-s.lineCount;this.deltaOldToNewLineCount+=a;const u=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,h=C.columnCount-s.columnCount;this.deltaOldToNewColumnCount=u+h,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=I;class L{constructor(p,v,i){this.endOffsetBeforeObj=(0,_.lengthToObj)(v),this.endOffsetAfterObj=(0,_.lengthToObj)((0,_.lengthAdd)(p,i)),this.offsetObj=(0,_.lengthToObj)(p)}static from(p){return new L(p.startOffset,p.endOffset,p.newLength)}}}),define(te[385],ne([0,1,85]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class N{constructor(S){this.lastOffset=_.lengthZero,this.nextNodes=[S],this.offsets=[_.lengthZero],this.idxs=[]}readLongestNodeAt(S,p){if((0,_.lengthLessThan)(S,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=S;;){const v=I(this.nextNodes);if(!v)return;const i=I(this.offsets);if((0,_.lengthLessThan)(S,i))return;if((0,_.lengthLessThan)(i,S))(0,_.lengthAdd)(i,v.length)<=S?this.nextNodeAfterCurrent():v.children.length>0?(this.nextNodes.push(v.children[0]),this.offsets.push(i),this.idxs.push(0)):this.nextNodeAfterCurrent();else{if(p(v))return this.nextNodeAfterCurrent(),v;if(v.children.length===0){this.nextNodeAfterCurrent();return}else this.nextNodes.push(v.children[0]),this.offsets.push(i),this.idxs.push(0)}}}nextNodeAfterCurrent(){for(;;){const S=I(this.offsets),p=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const v=I(this.nextNodes);this.idxs[this.idxs.length-1]++;const i=this.idxs[this.idxs.length-1];if(i<v.children.length){this.nextNodes.push(v.children[i]),this.offsets.push((0,_.lengthAdd)(S,p.length));break}else this.idxs.pop()}}}e.NodeReader=N;function I(L){return L.length>0?L[L.length-1]:void 0}}),define(te[173],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.SmallImmutableSet=void 0;const _=new Array;class N{constructor(S,p){this.items=S,this.additionalItems=p}static create(S,p){if(S<=128&&p.length===0){let v=N.cache[S];return v||(v=new N(S,p),N.cache[S]=v),v}return new N(S,p)}static getEmpty(){return this.empty}add(S,p){const v=p.getKey(S);let i=v>>5;if(i===0){const s=1<<v|this.items;return s===this.items?this:N.create(s,this.additionalItems)}i--;const C=this.additionalItems.slice(0);for(;C.length<i;)C.push(0);return C[i]|=1<<(v&31),N.create(this.items,C)}has(S,p){const v=p.getKey(S);let i=v>>5;return i===0?(this.items&1<<v)!=0:(i--,((this.additionalItems[i]||0)&1<<(v&31))!=0)}merge(S){const p=this.items|S.items;if(this.additionalItems===_&&S.additionalItems===_)return p===this.items?this:p===S.items?S:N.create(p,_);const v=new Array;for(let i=0;i<Math.max(this.additionalItems.length,S.additionalItems.length);i++){const C=this.additionalItems[i]||0,s=S.additionalItems[i]||0;v.push(C|s)}return N.create(p,v)}intersects(S){if((this.items&S.items)!=0)return!0;for(let p=0;p<Math.min(this.additionalItems.length,S.additionalItems.length);p++)if((this.additionalItems[p]&S.additionalItems[p])!=0)return!0;return!1}}e.SmallImmutableSet=N,N.cache=new Array(129),N.empty=N.create(0,_);class I{constructor(){this.items=new Map}getKey(S){let p=this.items.get(S);return p===void 0&&(p=this.items.size,this.items.set(S,p)),p}}e.DenseKeyProvider=I}),define(te[137],ne([0,1,19,173,85]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class L{constructor(d){this._length=d}get length(){return this._length}}class S extends L{constructor(d,r,n,l){super(d);this.category=r,this.children=n,this.unopenedBrackets=l}static create(d,r,n,l){const t=p(r,n,l),o=new Array(1);return o[0]=r,n&&o.push(n),l&&o.push(l),new S(t,d,o,n?n.unopenedBrackets:N.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}canBeReused(d,r){return!(this.closingBracket===null||d.intersects(this.unopenedBrackets))}get closingBracket(){return this.children.length<=1?null:this.children[1].kind===1?this.children[1]||null:this.children[2]||null}clone(){return new S(this.length,this.category,i(this.children),this.unopenedBrackets)}}e.PairAstNode=S;function p(h,d,r){let n=h.length;return d&&(n=(0,I.lengthAdd)(n,d.length)),r&&(n=(0,I.lengthAdd)(n,r.length)),n}class v extends L{constructor(d,r,n,l){super(d);this.listHeight=r,this._items=n,this._unopenedBrackets=l}static create(d){if(d.length===0)return new v(I.lengthZero,0,d,N.SmallImmutableSet.getEmpty());{let r=d[0].length,n=d[0].unopenedBrackets;for(let l=1;l<d.length;l++)r=(0,I.lengthAdd)(r,d[l].length),n=n.merge(d[l].unopenedBrackets);return new v(r,d[0].listHeight+1,d,n)}}get kind(){return 4}get children(){return this._items}get unopenedBrackets(){return this._unopenedBrackets}canBeReused(d,r){if(this._items.length===0)return!0;if(d.intersects(this.unopenedBrackets))return!1;let n=this;for(;n.children.length>0&&n.kind===4;)n=(0,_.tail)(n.children);return n.canBeReused(d,r)}clone(){return new v(this.length,this.listHeight,i(this._items),this.unopenedBrackets)}handleChildrenChanged(){const d=this._items;if(d.length===0)return;let r=d[0].length,n=d[0].unopenedBrackets;for(let l=1;l<d.length;l++)r=(0,I.lengthAdd)(r,d[l].length),n=n.merge(d[l].unopenedBrackets);this._length=r,this._unopenedBrackets=n}append(d){const r=this._append(d);return r?v.create([this,r]):this}_append(d){if(d.listHeight===this.listHeight)return d;const r=this._items[this._items.length-1],n=r.kind===4?r._append(d):d;if(!n){this.handleChildrenChanged();return}if(this._items.length>=3){const l=this._items.pop();return this.handleChildrenChanged(),v.create([l,n])}else{this._items.push(n),this.handleChildrenChanged();return}}prepend(d){const r=this._prepend(d);return r?v.create([r,this]):this}_prepend(d){if(d.listHeight===this.listHeight)return d;if(this.kind!==4)throw new Error("unexpected");const r=this._items[0],n=r.kind===4?r._prepend(d):d;if(!n){this.handleChildrenChanged();return}if(this._items.length>=3){const l=this._items.shift();return this.handleChildrenChanged(),v.create([n,l])}else{this._items.unshift(n),this.handleChildrenChanged();return}}}e.ListAstNode=v;function i(h){const d=new Array(h.length);for(let r=0;r<h.length;r++)d[r]=h[r].clone();return d}const C=[];class s extends L{get kind(){return 0}get listHeight(){return 0}get children(){return C}get unopenedBrackets(){return N.SmallImmutableSet.getEmpty()}canBeReused(d,r){return!r}clone(){return this}}e.TextAstNode=s;class a extends L{constructor(d){super(d)}static create(d){const r=(0,I.lengthHash)(d),n=a.cacheByLength.get(r);if(n)return n;const l=new a(d);return a.cacheByLength.set(r,l),l}get kind(){return 1}get listHeight(){return 0}get children(){return C}get unopenedBrackets(){return N.SmallImmutableSet.getEmpty()}canBeReused(d,r){return!1}clone(){return this}}e.BracketAstNode=a,a.cacheByLength=new Map;class u extends L{constructor(d,r,n){super(r);this.unopenedBrackets=N.SmallImmutableSet.getEmpty().add(d,n)}get kind(){return 3}get listHeight(){return 0}get children(){return C}canBeReused(d,r){return!d.intersects(this.unopenedBrackets)}clone(){return this}}e.InvalidBracketAstNode=u}),define(te[386],ne([0,1,137]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23Trees=void 0;function N(i){return i.length===0?null:i.length===1?i[0]:I(i)?L(i):p(i)}e.concat23Trees=N;function I(i){const C=i[0].listHeight;for(const s of i)if(s.listHeight!==C)return!1;return!0}function L(i){let C=i.length;for(;C>1;){const s=C>>1,a=new Array(s);for(let u=0;u<s;u++){const h=u<<1;a[u]=_.ListAstNode.create(i.slice(h,h+3===C?C:h+2))}C=s,i=a}return i[0]}function S(i,C){return Math.abs(i.listHeight-C.listHeight)}function p(i){let C=i[0],s=i[1];for(let u=2;u<i.length;u++){const h=i[u];S(C,s)<=S(s,h)?(C=v(C,s),s=h):s=v(s,h)}return v(C,s)}function v(i,C){return i.listHeight===C.listHeight?_.ListAstNode.create([i,C]):i.listHeight>C.listHeight?i.append(C):C.prepend(i)}}),define(te[387],ne([0,1,137,224,173,85,386,385]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function v(C,s,a,u){return new i(C,s,a,u).parseDocument()}e.parseDocument=v;class i{constructor(s,a,u,h){this.tokenizer=s,this.denseKeyProvider=h,this._itemsConstructed=0,this._itemsFromCache=0,this.oldNodeReader=u?new p.NodeReader(u):void 0,this.positionMapper=new N.BeforeEditPositionMapper(a,s.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let s=this.parseList(I.SmallImmutableSet.getEmpty());return s||(s=_.ListAstNode.create([])),s}parseList(s){const a=new Array;for(;;){const h=this.tokenizer.peek();if(!h||h.kind===2&&s.has(h.category,this.denseKeyProvider))break;const d=this.parseChild(s);d.kind===4&&d.children.length===0||a.push(d)}return(0,S.concat23Trees)(a)}parseChild(s){if(this.oldNodeReader){const u=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,L.lengthIsZero)(u)){const h=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),d=>{if(!(0,L.lengthLessThanEqual)(d.length,u))return!1;const r=(0,L.lengthGetLineCount)(d.length)===(0,L.lengthGetLineCount)(u);return d.canBeReused(s,r)});if(h)return this._itemsFromCache++,this.tokenizer.skip(h.length),h}}this._itemsConstructed++;const a=this.tokenizer.read();switch(a.kind){case 2:return new _.InvalidBracketAstNode(a.category,a.length,this.denseKeyProvider);case 0:return a.astNode;case 1:const u=s.add(a.category,this.denseKeyProvider),h=this.parseList(u),d=this.tokenizer.peek();return d&&d.kind===2&&d.category===a.category?(this.tokenizer.read(),_.PairAstNode.create(a.category,a.astNode,h,d.astNode)):_.PairAstNode.create(a.category,a.astNode,h,null);default:throw new Error("unexpected")}}}}),define(te[388],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class _{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function N(L,S,p,v,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let C;for(C=0;C<S&&C<v;C++){let n=L.charCodeAt(C),l=p.charCodeAt(C);if(n!==l)break}let s=0,a=0;for(let n=C;n<S;n++)L.charCodeAt(n)===32?s++:a++;let u=0,h=0;for(let n=C;n<v;n++)p.charCodeAt(n)===32?u++:h++;if(s>0&&a>0||u>0&&h>0)return;let d=Math.abs(a-h),r=Math.abs(s-u);if(d===0){i.spacesDiff=r,r>0&&0<=u-1&&u-1<L.length&&u<p.length&&p.charCodeAt(u)!==32&&L.charCodeAt(u-1)===32&&L.charCodeAt(L.length-1)===44&&(i.looksLikeAlignment=!0);return}if(r%d==0){i.spacesDiff=r/d;return}}function I(L,S,p){const v=Math.min(L.getLineCount(),1e4);let i=0,C=0,s="",a=0;const u=[2,4,6,8,3,5,7],h=8;let d=[0,0,0,0,0,0,0,0,0],r=new _;for(let t=1;t<=v;t++){let o=L.getLineLength(t),c=L.getLineContent(t);const f=o<=65536;let y=!1,b=0,g=0,m=0;for(let D=0,k=o;D<k;D++){let T=f?c.charCodeAt(D):L.getLineCharCode(t,D);if(T===9)m++;else if(T===32)g++;else{y=!0,b=D;break}}if(!y||(m>0?i++:g>1&&C++,N(s,a,c,b,r),r.looksLikeAlignment&&!(p&&S===r.spacesDiff)))continue;let w=r.spacesDiff;w<=h&&d[w]++,s=c,a=b}let n=p;i!==C&&(n=i<C);let l=S;if(n){let t=n?0:.1*v;u.forEach(o=>{let c=d[o];c>t&&(t=c,l=o)}),l===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(l=2)}return{insertSpaces:n,tabSize:l}}e.guessIndentation=I}),define(te[389],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function _(O){return(O.metadata&1)>>>0}e.getNodeColor=_;function N(O,P){O.metadata=O.metadata&254|P<<0}function I(O){return(O.metadata&2)>>>1==1}function L(O,P){O.metadata=O.metadata&253|(P?1:0)<<1}function S(O){return(O.metadata&4)>>>2==1}function p(O,P){O.metadata=O.metadata&251|(P?1:0)<<2}function v(O){return(O.metadata&24)>>>3}function i(O,P){O.metadata=O.metadata&231|P<<3}function C(O){return(O.metadata&32)>>>5==1}function s(O,P){O.metadata=O.metadata&223|(P?1:0)<<5}class a{constructor(P,F,E){this.metadata=0,this.parent=this,this.left=this,this.right=this,N(this,1),this.start=F,this.end=E,this.delta=0,this.maxEnd=E,this.id=P,this.ownerId=0,this.options=null,p(this,!1),i(this,1),s(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=E,this.range=null,L(this,!1)}reset(P,F,E,x){this.start=F,this.end=E,this.maxEnd=E,this.cachedVersionId=P,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=E,this.range=x}setOptions(P){this.options=P;let F=this.options.className;p(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),i(this,this.options.stickiness),s(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(P,F,E){this.cachedVersionId!==E&&(this.range=null),this.cachedVersionId=E,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=a,e.SENTINEL=new a(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,N(e.SENTINEL,0);class u{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(P,F,E,x,W){return this.root===e.SENTINEL?[]:f(this,P,F,E,x,W)}search(P,F,E){return this.root===e.SENTINEL?[]:c(this,P,F,E)}collectNodesFromOwner(P){return t(this,P)}collectNodesPostOrder(){return o(this)}insert(P){y(this,P),this._normalizeDeltaIfNecessary()}delete(P){g(this,P),this._normalizeDeltaIfNecessary()}resolveNode(P,F){const E=P;let x=0;for(;P!==this.root;)P===P.parent.right&&(x+=P.parent.delta),P=P.parent;const W=E.start+x,G=E.end+x;E.setCachedOffsets(W,G,F)}acceptReplace(P,F,E,x){const W=n(this,P,P+F);for(let G=0,Y=W.length;G<Y;G++){const se=W[G];g(this,se)}this._normalizeDeltaIfNecessary(),l(this,P,P+F,E),this._normalizeDeltaIfNecessary();for(let G=0,Y=W.length;G<Y;G++){const se=W[G];se.start=se.cachedAbsoluteStart,se.end=se.cachedAbsoluteEnd,r(se,P,P+F,E,x),se.maxEnd=se.end,y(this,se)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,h(this))}}e.IntervalTree=u;function h(O){let P=O.root,F=0;for(;P!==e.SENTINEL;){if(P.left!==e.SENTINEL&&!I(P.left)){P=P.left;continue}if(P.right!==e.SENTINEL&&!I(P.right)){F+=P.delta,P=P.right;continue}P.start=F+P.start,P.end=F+P.end,P.delta=0,R(P),L(P,!0),L(P.left,!1),L(P.right,!1),P===P.parent.right&&(F-=P.parent.delta),P=P.parent}L(O.root,!1)}function d(O,P,F,E){return O<F?!0:O>F||E===1?!1:E===2?!0:P}function r(O,P,F,E,x){const W=v(O),G=W===0||W===2,Y=W===1||W===2,se=F-P,re=E,J=Math.min(se,re),le=O.start;let ae=!1;const V=O.end;let B=!1;P<=le&&V<=F&&C(O)&&(O.start=P,ae=!0,O.end=P,B=!0);{const H=x?1:se>0?2:0;!ae&&d(le,G,P,H)&&(ae=!0),!B&&d(V,Y,P,H)&&(B=!0)}if(J>0&&!x){const H=se>re?2:0;!ae&&d(le,G,P+J,H)&&(ae=!0),!B&&d(V,Y,P+J,H)&&(B=!0)}{const H=x?1:0;!ae&&d(le,G,F,H)&&(O.start=P+re,ae=!0),!B&&d(V,Y,F,H)&&(O.end=P+re,B=!0)}const Z=re-se;ae||(O.start=Math.max(0,le+Z)),B||(O.end=Math.max(0,V+Z)),O.start>O.end&&(O.end=O.start)}e.nodeAcceptEdit=r;function n(O,P,F){let E=O.root,x=0,W=0,G=0,Y=0,se=[],re=0;for(;E!==e.SENTINEL;){if(I(E)){L(E.left,!1),L(E.right,!1),E===E.parent.right&&(x-=E.parent.delta),E=E.parent;continue}if(!I(E.left)){if(W=x+E.maxEnd,W<P){L(E,!0);continue}if(E.left!==e.SENTINEL){E=E.left;continue}}if(G=x+E.start,G>F){L(E,!0);continue}if(Y=x+E.end,Y>=P&&(E.setCachedOffsets(G,Y,0),se[re++]=E),L(E,!0),E.right!==e.SENTINEL&&!I(E.right)){x+=E.delta,E=E.right;continue}}return L(O.root,!1),se}function l(O,P,F,E){let x=O.root,W=0,G=0,Y=0;const se=E-(F-P);for(;x!==e.SENTINEL;){if(I(x)){L(x.left,!1),L(x.right,!1),x===x.parent.right&&(W-=x.parent.delta),R(x),x=x.parent;continue}if(!I(x.left)){if(G=W+x.maxEnd,G<P){L(x,!0);continue}if(x.left!==e.SENTINEL){x=x.left;continue}}if(Y=W+x.start,Y>F){x.start+=se,x.end+=se,x.delta+=se,(x.delta<-1073741824||x.delta>1073741824)&&(O.requestNormalizeDelta=!0),L(x,!0);continue}if(L(x,!0),x.right!==e.SENTINEL&&!I(x.right)){W+=x.delta,x=x.right;continue}}L(O.root,!1)}function t(O,P){let F=O.root,E=[],x=0;for(;F!==e.SENTINEL;){if(I(F)){L(F.left,!1),L(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!I(F.left)){F=F.left;continue}if(F.ownerId===P&&(E[x++]=F),L(F,!0),F.right!==e.SENTINEL&&!I(F.right)){F=F.right;continue}}return L(O.root,!1),E}function o(O){let P=O.root,F=[],E=0;for(;P!==e.SENTINEL;){if(I(P)){L(P.left,!1),L(P.right,!1),P=P.parent;continue}if(P.left!==e.SENTINEL&&!I(P.left)){P=P.left;continue}if(P.right!==e.SENTINEL&&!I(P.right)){P=P.right;continue}F[E++]=P,L(P,!0)}return L(O.root,!1),F}function c(O,P,F,E){let x=O.root,W=0,G=0,Y=0,se=[],re=0;for(;x!==e.SENTINEL;){if(I(x)){L(x.left,!1),L(x.right,!1),x===x.parent.right&&(W-=x.parent.delta),x=x.parent;continue}if(x.left!==e.SENTINEL&&!I(x.left)){x=x.left;continue}G=W+x.start,Y=W+x.end,x.setCachedOffsets(G,Y,E);let J=!0;if(P&&x.ownerId&&x.ownerId!==P&&(J=!1),F&&S(x)&&(J=!1),J&&(se[re++]=x),L(x,!0),x.right!==e.SENTINEL&&!I(x.right)){W+=x.delta,x=x.right;continue}}return L(O.root,!1),se}function f(O,P,F,E,x,W){let G=O.root,Y=0,se=0,re=0,J=0,le=[],ae=0;for(;G!==e.SENTINEL;){if(I(G)){L(G.left,!1),L(G.right,!1),G===G.parent.right&&(Y-=G.parent.delta),G=G.parent;continue}if(!I(G.left)){if(se=Y+G.maxEnd,se<P){L(G,!0);continue}if(G.left!==e.SENTINEL){G=G.left;continue}}if(re=Y+G.start,re>F){L(G,!0);continue}if(J=Y+G.end,J>=P){G.setCachedOffsets(re,J,W);let V=!0;E&&G.ownerId&&G.ownerId!==E&&(V=!1),x&&S(G)&&(V=!1),V&&(le[ae++]=G)}if(L(G,!0),G.right!==e.SENTINEL&&!I(G.right)){Y+=G.delta,G=G.right;continue}}return L(O.root,!1),le}function y(O,P){if(O.root===e.SENTINEL)return P.parent=e.SENTINEL,P.left=e.SENTINEL,P.right=e.SENTINEL,N(P,0),O.root=P,O.root;b(O,P),M(P.parent);let F=P;for(;F!==O.root&&_(F.parent)===1;)if(F.parent===F.parent.parent.left){const E=F.parent.parent.right;_(E)===1?(N(F.parent,0),N(E,0),N(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,D(O,F)),N(F.parent,0),N(F.parent.parent,1),k(O,F.parent.parent))}else{const E=F.parent.parent.left;_(E)===1?(N(F.parent,0),N(E,0),N(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,k(O,F)),N(F.parent,0),N(F.parent.parent,1),D(O,F.parent.parent))}return N(O.root,0),P}function b(O,P){let F=0,E=O.root;const x=P.start,W=P.end;for(;;)if(A(x,W,E.start+F,E.end+F)<0)if(E.left===e.SENTINEL){P.start-=F,P.end-=F,P.maxEnd-=F,E.left=P;break}else E=E.left;else if(E.right===e.SENTINEL){P.start-=F+E.delta,P.end-=F+E.delta,P.maxEnd-=F+E.delta,E.right=P;break}else F+=E.delta,E=E.right;P.parent=E,P.left=e.SENTINEL,P.right=e.SENTINEL,N(P,1)}function g(O,P){let F,E;if(P.left===e.SENTINEL?(F=P.right,E=P,F.delta+=P.delta,(F.delta<-1073741824||F.delta>1073741824)&&(O.requestNormalizeDelta=!0),F.start+=P.delta,F.end+=P.delta):P.right===e.SENTINEL?(F=P.left,E=P):(E=m(P.right),F=E.right,F.start+=E.delta,F.end+=E.delta,F.delta+=E.delta,(F.delta<-1073741824||F.delta>1073741824)&&(O.requestNormalizeDelta=!0),E.start+=P.delta,E.end+=P.delta,E.delta=P.delta,(E.delta<-1073741824||E.delta>1073741824)&&(O.requestNormalizeDelta=!0)),E===O.root){O.root=F,N(F,0),P.detach(),w(),R(F),O.root.parent=e.SENTINEL;return}let x=_(E)===1;if(E===E.parent.left?E.parent.left=F:E.parent.right=F,E===P?F.parent=E.parent:(E.parent===P?F.parent=E:F.parent=E.parent,E.left=P.left,E.right=P.right,E.parent=P.parent,N(E,_(P)),P===O.root?O.root=E:P===P.parent.left?P.parent.left=E:P.parent.right=E,E.left!==e.SENTINEL&&(E.left.parent=E),E.right!==e.SENTINEL&&(E.right.parent=E)),P.detach(),x){M(F.parent),E!==P&&(M(E),M(E.parent)),w();return}M(F),M(F.parent),E!==P&&(M(E),M(E.parent));let W;for(;F!==O.root&&_(F)===0;)F===F.parent.left?(W=F.parent.right,_(W)===1&&(N(W,0),N(F.parent,1),D(O,F.parent),W=F.parent.right),_(W.left)===0&&_(W.right)===0?(N(W,1),F=F.parent):(_(W.right)===0&&(N(W.left,0),N(W,1),k(O,W),W=F.parent.right),N(W,_(F.parent)),N(F.parent,0),N(W.right,0),D(O,F.parent),F=O.root)):(W=F.parent.left,_(W)===1&&(N(W,0),N(F.parent,1),k(O,F.parent),W=F.parent.left),_(W.left)===0&&_(W.right)===0?(N(W,1),F=F.parent):(_(W.left)===0&&(N(W.right,0),N(W,1),D(O,W),W=F.parent.left),N(W,_(F.parent)),N(F.parent,0),N(W.left,0),k(O,F.parent),F=O.root));N(F,0),w()}function m(O){for(;O.left!==e.SENTINEL;)O=O.left;return O}function w(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function D(O,P){const F=P.right;F.delta+=P.delta,(F.delta<-1073741824||F.delta>1073741824)&&(O.requestNormalizeDelta=!0),F.start+=P.delta,F.end+=P.delta,P.right=F.left,F.left!==e.SENTINEL&&(F.left.parent=P),F.parent=P.parent,P.parent===e.SENTINEL?O.root=F:P===P.parent.left?P.parent.left=F:P.parent.right=F,F.left=P,P.parent=F,R(P),R(F)}function k(O,P){const F=P.left;P.delta-=F.delta,(P.delta<-1073741824||P.delta>1073741824)&&(O.requestNormalizeDelta=!0),P.start-=F.delta,P.end-=F.delta,P.left=F.right,F.right!==e.SENTINEL&&(F.right.parent=P),F.parent=P.parent,P.parent===e.SENTINEL?O.root=F:P===P.parent.right?P.parent.right=F:P.parent.left=F,F.right=P,P.parent=F,R(P),R(F)}function T(O){let P=O.end;if(O.left!==e.SENTINEL){const F=O.left.maxEnd;F>P&&(P=F)}if(O.right!==e.SENTINEL){const F=O.right.maxEnd+O.delta;F>P&&(P=F)}return P}function R(O){O.maxEnd=T(O)}e.recomputeMaxEnd=R;function M(O){for(;O!==e.SENTINEL;){const P=T(O);if(O.maxEnd===P)return;O.maxEnd=P,O=O.parent}}function A(O,P,F,E){return O===F?P-E:O-F}e.intervalCompare=A}),define(te[390],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class _{constructor(d,r){this.piece=d,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return N(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return I(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=_,e.SENTINEL=new _(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function N(h){for(;h.left!==e.SENTINEL;)h=h.left;return h}e.leftest=N;function I(h){for(;h.right!==e.SENTINEL;)h=h.right;return h}e.righttest=I;function L(h){return h===e.SENTINEL?0:h.size_left+h.piece.length+L(h.right)}e.calculateSize=L;function S(h){return h===e.SENTINEL?0:h.lf_left+h.piece.lineFeedCnt+S(h.right)}e.calculateLF=S;function p(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=p;function v(h,d){let r=d.right;r.size_left+=d.size_left+(d.piece?d.piece.length:0),r.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=d),r.parent=d.parent,d.parent===e.SENTINEL?h.root=r:d.parent.left===d?d.parent.left=r:d.parent.right=r,r.left=d,d.parent=r}e.leftRotate=v;function i(h,d){let r=d.left;d.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=d),r.parent=d.parent,d.size_left-=r.size_left+(r.piece?r.piece.length:0),d.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),d.parent===e.SENTINEL?h.root=r:d===d.parent.right?d.parent.right=r:d.parent.left=r,r.right=d,d.parent=r}e.rightRotate=i;function C(h,d){let r,n;if(d.left===e.SENTINEL?(n=d,r=n.right):d.right===e.SENTINEL?(n=d,r=n.left):(n=N(d.right),r=n.right),n===h.root){h.root=r,r.color=0,d.detach(),p(),h.root.parent=e.SENTINEL;return}let l=n.color===1;if(n===n.parent.left?n.parent.left=r:n.parent.right=r,n===d?(r.parent=n.parent,u(h,r)):(n.parent===d?r.parent=n:r.parent=n.parent,u(h,r),n.left=d.left,n.right=d.right,n.parent=d.parent,n.color=d.color,d===h.root?h.root=n:d===d.parent.left?d.parent.left=n:d.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=d.size_left,n.lf_left=d.lf_left,u(h,n)),d.detach(),r.parent.left===r){let o=L(r),c=S(r);if(o!==r.parent.size_left||c!==r.parent.lf_left){let f=o-r.parent.size_left,y=c-r.parent.lf_left;r.parent.size_left=o,r.parent.lf_left=c,a(h,r.parent,f,y)}}if(u(h,r.parent),l){p();return}let t;for(;r!==h.root&&r.color===0;)r===r.parent.left?(t=r.parent.right,t.color===1&&(t.color=0,r.parent.color=1,v(h,r.parent),t=r.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(h,t),t=r.parent.right),t.color=r.parent.color,r.parent.color=0,t.right.color=0,v(h,r.parent),r=h.root)):(t=r.parent.left,t.color===1&&(t.color=0,r.parent.color=1,i(h,r.parent),t=r.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.left.color===0&&(t.right.color=0,t.color=1,v(h,t),t=r.parent.left),t.color=r.parent.color,r.parent.color=0,t.left.color=0,i(h,r.parent),r=h.root));r.color=0,p()}e.rbDelete=C;function s(h,d){for(u(h,d);d!==h.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const r=d.parent.parent.right;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,v(h,d)),d.parent.color=0,d.parent.parent.color=1,i(h,d.parent.parent))}else{const r=d.parent.parent.left;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,i(h,d)),d.parent.color=0,d.parent.parent.color=1,v(h,d.parent.parent))}h.root.color=0}e.fixInsert=s;function a(h,d,r,n){for(;d!==h.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}e.updateTreeMetadata=a;function u(h,d){let r=0,n=0;if(d!==h.root){if(r===0){for(;d!==h.root&&d===d.parent.right;)d=d.parent;if(d===h.root)return;d=d.parent,r=L(d.left)-d.size_left,n=S(d.left)-d.lf_left,d.size_left+=r,d.lf_left+=n}for(;d!==h.root&&(r!==0||n!==0);)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}}e.recomputeTreeMetadata=u}),define(te[225],ne([0,1,103,84]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function I(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class L{constructor(i,C,s,a){this.oldPosition=i,this.oldText=C,this.newPosition=s,this.newText=a}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${I(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${I(this.oldText)}")`:`(replace@${this.oldPosition} "${I(this.oldText)}" with "${I(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,C,s){const a=C.length;_.writeUInt32BE(i,a,s),s+=4;for(let u=0;u<a;u++)_.writeUInt16LE(i,C.charCodeAt(u),s),s+=2;return s}static _readString(i,C){const s=_.readUInt32BE(i,C);return C+=4,(0,N.decodeUTF16LE)(i,C,s)}writeSize(){return 4+4+L._writeStringSize(this.oldText)+L._writeStringSize(this.newText)}write(i,C){return _.writeUInt32BE(i,this.oldPosition,C),C+=4,_.writeUInt32BE(i,this.newPosition,C),C+=4,C=L._writeString(i,this.oldText,C),C=L._writeString(i,this.newText,C),C}static read(i,C,s){const a=_.readUInt32BE(i,C);C+=4;const u=_.readUInt32BE(i,C);C+=4;const h=L._readString(i,C);C+=L._writeStringSize(h);const d=L._readString(i,C);return C+=L._writeStringSize(d),s.push(new L(a,h,u,d)),C}}e.TextChange=L;function S(v,i){return v===null||v.length===0?i:new p(v,i).compress()}e.compressConsecutiveTextChanges=S;class p{constructor(i,C){this._prevEdits=i,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,C=0,s=this._getPrev(i),a=this._getCurr(C);for(;i<this._prevLen||C<this._currLen;){if(s===null){this._acceptCurr(a),a=this._getCurr(++C);continue}if(a===null){this._acceptPrev(s),s=this._getPrev(++i);continue}if(a.oldEnd<=s.newPosition){this._acceptCurr(a),a=this._getCurr(++C);continue}if(s.newEnd<=a.oldPosition){this._acceptPrev(s),s=this._getPrev(++i);continue}if(a.oldPosition<s.newPosition){const[n,l]=p._splitCurr(a,s.newPosition-a.oldPosition);this._acceptCurr(n),a=l;continue}if(s.newPosition<a.oldPosition){const[n,l]=p._splitPrev(s,a.oldPosition-s.newPosition);this._acceptPrev(n),s=l;continue}let d,r;if(a.oldEnd===s.newEnd)d=s,r=a,s=this._getPrev(++i),a=this._getCurr(++C);else if(a.oldEnd<s.newEnd){const[n,l]=p._splitPrev(s,a.oldLength);d=n,r=a,s=l,a=this._getCurr(++C)}else{const[n,l]=p._splitCurr(a,s.newLength);d=s,r=n,s=this._getPrev(++i),a=l}this._result[this._resultLen++]=new L(d.oldPosition,d.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const u=p._merge(this._result);return p._removeNoOps(u)}_acceptCurr(i){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,C){return new L(C.oldPosition-i,C.oldText,C.newPosition,C.newText)}static _rebasePrev(i,C){return new L(C.oldPosition,C.oldText,C.newPosition+i,C.newText)}static _splitPrev(i,C){const s=i.newText.substr(0,C),a=i.newText.substr(C);return[new L(i.oldPosition,i.oldText,i.newPosition,s),new L(i.oldEnd,"",i.newPosition+C,a)]}static _splitCurr(i,C){const s=i.oldText.substr(0,C),a=i.oldText.substr(C);return[new L(i.oldPosition,s,i.newPosition,i.newText),new L(i.oldPosition+C,a,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let C=[],s=0,a=i[0];for(let u=1;u<i.length;u++){const h=i[u];a.oldEnd===h.oldPosition?a=new L(a.oldPosition,a.oldText+h.oldText,a.newPosition,a.newText+h.newText):(C[s++]=a,a=h)}return C[s++]=a,C}static _removeNoOps(i){if(i.length===0)return i;let C=[],s=0;for(let a=0;a<i.length;a++){const u=i[a];u.oldText!==u.newText&&(C[s++]=u)}return C}}}),define(te[97],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class _{constructor(){this.changeType=1}}e.ModelRawFlush=_;class N{constructor(a,u,h,d,r){this.ownerId=a,this.lineNumber=u,this.column=h,this.options=d,this.order=r}static applyInjectedText(a,u){if(!u||u.length===0)return a;let h="",d=0;for(const r of u)h+=a.substring(d,r.column-1),d=r.column-1,h+=r.options.content;return h+=a.substring(d),h}static fromDecorations(a){const u=[];for(const h of a)h.options.before&&h.options.before.content.length>0&&u.push(new N(h.ownerId,h.range.startLineNumber,h.range.startColumn,h.options.before,0)),h.options.after&&h.options.after.content.length>0&&u.push(new N(h.ownerId,h.range.endLineNumber,h.range.endColumn,h.options.after,1));return u.sort((h,d)=>h.lineNumber===d.lineNumber?h.column===d.column?h.order-d.order:h.column-d.column:h.lineNumber-d.lineNumber),u}}e.LineInjectedText=N;class I{constructor(a,u,h){this.changeType=2,this.lineNumber=a,this.detail=u,this.injectedText=h}}e.ModelRawLineChanged=I;class L{constructor(a,u){this.changeType=3,this.fromLineNumber=a,this.toLineNumber=u}}e.ModelRawLinesDeleted=L;class S{constructor(a,u,h,d){this.changeType=4,this.injectedTexts=d,this.fromLineNumber=a,this.toLineNumber=u,this.detail=h}}e.ModelRawLinesInserted=S;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class v{constructor(a,u,h,d){this.changes=a,this.versionId=u,this.isUndoing=h,this.isRedoing=d,this.resultingSelection=null}containsEvent(a){for(let u=0,h=this.changes.length;u<h;u++)if(this.changes[u].changeType===a)return!0;return!1}static merge(a,u){const h=[].concat(a.changes).concat(u.changes),d=u.versionId,r=a.isUndoing||u.isUndoing,n=a.isRedoing||u.isRedoing;return new v(h,d,r,n)}}e.ModelRawContentChangedEvent=v;class i{constructor(a){this.changes=a}}e.ModelInjectedTextChangedEvent=i;class C{constructor(a,u){this.rawContentChangedEvent=a,this.contentChangedEvent=u}merge(a){const u=v.merge(this.rawContentChangedEvent,a.rawContentChangedEvent),h=C._mergeChangeEvents(this.contentChangedEvent,a.contentChangedEvent);return new C(u,h)}static _mergeChangeEvents(a,u){const h=[].concat(a.changes).concat(u.changes),d=u.eol,r=u.versionId,n=a.isUndoing||u.isUndoing,l=a.isRedoing||u.isRedoing,t=a.isFlush||u.isFlush;return{changes:h,eol:d,versionId:r,isUndoing:n,isRedoing:l,isFlush:t}}}e.InternalModelContentChangeEvent=C}),define(te[174],ne([0,1,8,110,13,3,53]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const p=999;class v{constructor(t,o,c,f){this.searchString=t,this.isRegex=o,this.matchCase=c,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let o=null;try{o=_.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(f){return null}if(!o)return null;let c=!this.isRegex&&!t;return c&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(c=this.matchCase),new C(o,this.wordSeparators?(0,N.getMapForWordSeparators)(this.wordSeparators):null,c?this.searchString:null)}}e.SearchParams=v;function i(l){if(!l||l.length===0)return!1;for(let t=0,o=l.length;t<o;t++)if(l.charCodeAt(t)===92){if(t++,t>=o)break;const f=l.charCodeAt(t);if(f===110||f===114||f===87||f===119)return!0}return!1}e.isMultilineRegexSource=i;class C{constructor(t,o,c){this.regex=t,this.wordSeparators=o,this.simpleSearch=c}}e.SearchData=C;function s(l,t,o){if(!o)return new S.FindMatch(l,null);let c=[];for(let f=0,y=t.length;f<y;f++)c[f]=t[f];return new S.FindMatch(l,c)}e.createFindMatch=s;class a{constructor(t){let o=[],c=0;for(let f=0,y=t.length;f<y;f++)t.charCodeAt(f)===10&&(o[c++]=f);this._lineFeedsOffsets=o}findLineFeedCountBeforeOffset(t){const o=this._lineFeedsOffsets;let c=0,f=o.length-1;if(f===-1||t<=o[0])return 0;for(;c<f;){const y=c+((f-c)/2>>0);o[y]>=t?f=y-1:o[y+1]>=t?(c=y,f=y):c=y+1}return c+1}}class u{static findMatches(t,o,c,f,y){const b=o.parseSearchRequest();return b?b.regex.multiline?this._doFindMatchesMultiline(t,c,new n(b.wordSeparators,b.regex),f,y):this._doFindMatchesLineByLine(t,c,b,f,y):[]}static _getMultilineMatchRange(t,o,c,f,y,b){let g,m=0;f?(m=f.findLineFeedCountBeforeOffset(y),g=o+y+m):g=o+y;let w;if(f){let R=f.findLineFeedCountBeforeOffset(y+b.length)-m;w=g+b.length+R}else w=g+b.length;const D=t.getPositionAt(g),k=t.getPositionAt(w);return new L.Range(D.lineNumber,D.column,k.lineNumber,k.column)}static _doFindMatchesMultiline(t,o,c,f,y){const b=t.getOffsetAt(o.getStartPosition()),g=t.getValueInRange(o,1),m=t.getEOL()===`\r
`?new a(g):null,w=[];let D=0,k;for(c.reset(0);k=c.next(g);)if(w[D++]=s(this._getMultilineMatchRange(t,b,g,m,k.index,k[0]),k,f),D>=y)return w;return w}static _doFindMatchesLineByLine(t,o,c,f,y){const b=[];let g=0;if(o.startLineNumber===o.endLineNumber){const w=t.getLineContent(o.startLineNumber).substring(o.startColumn-1,o.endColumn-1);return g=this._findMatchesInLine(c,w,o.startLineNumber,o.startColumn-1,g,b,f,y),b}const m=t.getLineContent(o.startLineNumber).substring(o.startColumn-1);g=this._findMatchesInLine(c,m,o.startLineNumber,o.startColumn-1,g,b,f,y);for(let w=o.startLineNumber+1;w<o.endLineNumber&&g<y;w++)g=this._findMatchesInLine(c,t.getLineContent(w),w,0,g,b,f,y);if(g<y){const w=t.getLineContent(o.endLineNumber).substring(0,o.endColumn-1);g=this._findMatchesInLine(c,w,o.endLineNumber,0,g,b,f,y)}return b}static _findMatchesInLine(t,o,c,f,y,b,g,m){const w=t.wordSeparators;if(!g&&t.simpleSearch){const T=t.simpleSearch,R=T.length,M=o.length;let A=-R;for(;(A=o.indexOf(T,A+R))!==-1;)if((!w||r(w,o,M,A,R))&&(b[y++]=new S.FindMatch(new L.Range(c,A+1+f,c,A+1+R+f),null),y>=m))return y;return y}const D=new n(t.wordSeparators,t.regex);let k;D.reset(0);do if(k=D.next(o),k&&(b[y++]=s(new L.Range(c,k.index+1+f,c,k.index+1+k[0].length+f),k,g),y>=m))return y;while(k);return y}static findNextMatch(t,o,c,f){const y=o.parseSearchRequest();if(!y)return null;const b=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(t,c,b,f):this._doFindNextMatchLineByLine(t,c,b,f)}static _doFindNextMatchMultiline(t,o,c,f){const y=new I.Position(o.lineNumber,1),b=t.getOffsetAt(y),g=t.getLineCount(),m=t.getValueInRange(new L.Range(y.lineNumber,y.column,g,t.getLineMaxColumn(g)),1),w=t.getEOL()===`\r
`?new a(m):null;c.reset(o.column-1);let D=c.next(m);return D?s(this._getMultilineMatchRange(t,b,m,w,D.index,D[0]),D,f):o.lineNumber!==1||o.column!==1?this._doFindNextMatchMultiline(t,new I.Position(1,1),c,f):null}static _doFindNextMatchLineByLine(t,o,c,f){const y=t.getLineCount(),b=o.lineNumber,g=t.getLineContent(b),m=this._findFirstMatchInLine(c,g,b,o.column,f);if(m)return m;for(let w=1;w<=y;w++){const D=(b+w-1)%y,k=t.getLineContent(D+1),T=this._findFirstMatchInLine(c,k,D+1,1,f);if(T)return T}return null}static _findFirstMatchInLine(t,o,c,f,y){t.reset(f-1);const b=t.next(o);return b?s(new L.Range(c,b.index+1,c,b.index+1+b[0].length),b,y):null}static findPreviousMatch(t,o,c,f){const y=o.parseSearchRequest();if(!y)return null;const b=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(t,c,b,f):this._doFindPreviousMatchLineByLine(t,c,b,f)}static _doFindPreviousMatchMultiline(t,o,c,f){const y=this._doFindMatchesMultiline(t,new L.Range(1,1,o.lineNumber,o.column),c,f,10*p);if(y.length>0)return y[y.length-1];const b=t.getLineCount();return o.lineNumber!==b||o.column!==t.getLineMaxColumn(b)?this._doFindPreviousMatchMultiline(t,new I.Position(b,t.getLineMaxColumn(b)),c,f):null}static _doFindPreviousMatchLineByLine(t,o,c,f){const y=t.getLineCount(),b=o.lineNumber,g=t.getLineContent(b).substring(0,o.column-1),m=this._findLastMatchInLine(c,g,b,f);if(m)return m;for(let w=1;w<=y;w++){const D=(y+b-w-1)%y,k=t.getLineContent(D+1),T=this._findLastMatchInLine(c,k,D+1,f);if(T)return T}return null}static _findLastMatchInLine(t,o,c,f){let y=null,b;for(t.reset(0);b=t.next(o);)y=s(new L.Range(c,b.index+1,c,b.index+1+b[0].length),b,f);return y}}e.TextModelSearch=u;function h(l,t,o,c,f){if(c===0)return!0;const y=t.charCodeAt(c-1);if(l.get(y)!==0||y===13||y===10)return!0;if(f>0){const b=t.charCodeAt(c);if(l.get(b)!==0)return!0}return!1}function d(l,t,o,c,f){if(c+f===o)return!0;const y=t.charCodeAt(c+f);if(l.get(y)!==0||y===13||y===10)return!0;if(f>0){const b=t.charCodeAt(c+f-1);if(l.get(b)!==0)return!0}return!1}function r(l,t,o,c,f){return h(l,t,o,c,f)&&d(l,t,o,c,f)}e.isValidMatch=r;class n{constructor(t,o){this._wordSeparators=t,this._searchRegex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const o=t.length;let c;do{if(this._prevMatchStartIndex+this._prevMatchLength===o||(c=this._searchRegex.exec(t),!c))return null;const f=c.index,y=c[0].length;if(f===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){_.getNextCodePoint(t,o,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=y,!this._wordSeparators||r(this._wordSeparators,t,o,f,y))return c}while(c);return null}}e.Searcher=n}),define(te[226],ne([0,1,13,3,53,390,174]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function p(r){let n;return r[r.length-1]<65536?n=new Uint16Array(r.length):n=new Uint32Array(r.length),n.set(r,0),n}e.createUintArray=p;class v{constructor(n,l,t,o,c){this.lineStarts=n,this.cr=l,this.lf=t,this.crlf=o,this.isBasicASCII=c}}e.LineStarts=v;function i(r,n=!0){let l=[0],t=1;for(let o=0,c=r.length;o<c;o++){const f=r.charCodeAt(o);f===13?o+1<c&&r.charCodeAt(o+1)===10?(l[t++]=o+2,o++):l[t++]=o+1:f===10&&(l[t++]=o+1)}return n?p(l):l}e.createLineStartsFast=i;function C(r,n){r.length=0,r[0]=0;let l=1,t=0,o=0,c=0,f=!0;for(let b=0,g=n.length;b<g;b++){const m=n.charCodeAt(b);m===13?b+1<g&&n.charCodeAt(b+1)===10?(c++,r[l++]=b+2,b++):(t++,r[l++]=b+1):m===10?(o++,r[l++]=b+1):f&&m!==9&&(m<32||m>126)&&(f=!1)}const y=new v(p(r),t,o,c,f);return r.length=0,y}e.createLineStarts=C;class s{constructor(n,l,t,o,c){this.bufferIndex=n,this.start=l,this.end=t,this.lineFeedCnt=o,this.length=c}}e.Piece=s;class a{constructor(n,l){this.buffer=n,this.lineStarts=l}}e.StringBuffer=a;class u{constructor(n,l){this._pieces=[],this._tree=n,this._BOM=l,this._index=0,n.root!==L.SENTINEL&&n.iterate(n.root,t=>(t!==L.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class h{constructor(n){this._limit=n,this._cache=[]}get(n){for(let l=this._cache.length-1;l>=0;l--){let t=this._cache[l];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let l=this._cache.length-1;l>=0;l--){let t=this._cache[l];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let l=!1,t=this._cache;for(let o=0;o<t.length;o++){let c=t[o];if(c.node.parent===null||c.nodeStartOffset>=n){t[o]=null,l=!0;continue}}if(l){let o=[];for(const c of t)c!==null&&o.push(c);this._cache=o}}}class d{constructor(n,l,t){this.create(n,l,t)}create(n,l,t){this._buffers=[new a("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=L.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=l,this._EOLLength=l.length,this._EOLNormalized=t;let o=null;for(let c=0,f=n.length;c<f;c++)if(n[c].buffer.length>0){n[c].lineStarts||(n[c].lineStarts=i(n[c].buffer));let y=new s(c+1,{line:0,column:0},{line:n[c].lineStarts.length-1,column:n[c].buffer.length-n[c].lineStarts[n[c].lineStarts.length-1]},n[c].lineStarts.length-1,n[c].buffer.length);this._buffers.push(n[c]),o=this.rbInsertRight(o,y)}this._searchCache=new h(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let l=e.AverageBufferSize,t=l-Math.floor(l/3),o=t*2,c="",f=0,y=[];if(this.iterate(this.root,b=>{let g=this.getNodeContent(b),m=g.length;if(f<=t||f+m<o)return c+=g,f+=m,!0;let w=c.replace(/\r\n|\r|\n/g,n);return y.push(new a(w,i(w))),c=g,f=m,!0}),f>0){let b=c.replace(/\r\n|\r|\n/g,n);y.push(new a(b,i(b)))}this.create(y,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new u(this,n)}getOffsetAt(n,l){let t=0,o=this.root;for(;o!==L.SENTINEL;)if(o.left!==L.SENTINEL&&o.lf_left+1>=n)o=o.left;else{if(o.lf_left+o.piece.lineFeedCnt+1>=n)return t+=o.size_left,t+=this.getAccumulatedValue(o,n-o.lf_left-2)+l-1;n-=o.lf_left+o.piece.lineFeedCnt,t+=o.size_left+o.piece.length,o=o.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let l=this.root,t=0,o=n;for(;l!==L.SENTINEL;)if(l.size_left!==0&&l.size_left>=n)l=l.left;else if(l.size_left+l.piece.length>=n){let c=this.getIndexOf(l,n-l.size_left);if(t+=l.lf_left+c.index,c.index===0){let f=this.getOffsetAt(t+1,1),y=o-f;return new _.Position(t+1,y+1)}return new _.Position(t+1,c.remainder+1)}else if(n-=l.size_left+l.piece.length,t+=l.lf_left+l.piece.lineFeedCnt,l.right===L.SENTINEL){let c=this.getOffsetAt(t+1,1),f=o-n-c;return new _.Position(t+1,f+1)}else l=l.right;return new _.Position(1,1)}getValueInRange(n,l){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),o=this.nodeAt2(n.endLineNumber,n.endColumn),c=this.getValueInRange2(t,o);return l?l!==this._EOL||!this._EOLNormalized?c.replace(/\r\n|\r|\n/g,l):l===this.getEOL()&&this._EOLNormalized?c:c.replace(/\r\n|\r|\n/g,l):c}getValueInRange2(n,l){if(n.node===l.node){let y=n.node,b=this._buffers[y.piece.bufferIndex].buffer,g=this.offsetInBuffer(y.piece.bufferIndex,y.piece.start);return b.substring(g+n.remainder,g+l.remainder)}let t=n.node,o=this._buffers[t.piece.bufferIndex].buffer,c=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),f=o.substring(c+n.remainder,c+t.piece.length);for(t=t.next();t!==L.SENTINEL;){let y=this._buffers[t.piece.bufferIndex].buffer,b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===l.node){f+=y.substring(b,b+l.remainder);break}else f+=y.substr(b,t.piece.length);t=t.next()}return f}getLinesContent(){let n=[],l=0,t="",o=!1;return this.iterate(this.root,c=>{if(c===L.SENTINEL)return!0;const f=c.piece;let y=f.length;if(y===0)return!0;const b=this._buffers[f.bufferIndex].buffer,g=this._buffers[f.bufferIndex].lineStarts,m=f.start.line,w=f.end.line;let D=g[m]+f.start.column;if(o&&(b.charCodeAt(D)===10&&(D++,y--),n[l++]=t,t="",o=!1,y===0))return!0;if(m===w)return!this._EOLNormalized&&b.charCodeAt(D+y-1)===13?(o=!0,t+=b.substr(D,y-1)):t+=b.substr(D,y),!0;t+=this._EOLNormalized?b.substring(D,Math.max(D,g[m+1]-this._EOLLength)):b.substring(D,g[m+1]).replace(/(\r\n|\r|\n)$/,""),n[l++]=t;for(let k=m+1;k<w;k++)t=this._EOLNormalized?b.substring(g[k],g[k+1]-this._EOLLength):b.substring(g[k],g[k+1]).replace(/(\r\n|\r|\n)$/,""),n[l++]=t;return!this._EOLNormalized&&b.charCodeAt(g[w]+f.end.column-1)===13?(o=!0,f.end.column===0?l--:t=b.substr(g[w],f.end.column-1)):t=b.substr(g[w],f.end.column),!0}),o&&(n[l++]=t,t=""),n[l++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let l=n.node.next();if(!l)return 0;let t=this._buffers[l.piece.bufferIndex],o=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return t.buffer.charCodeAt(o)}else{let l=this._buffers[n.node.piece.bufferIndex],o=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return l.buffer.charCodeAt(o)}}getLineCharCode(n,l){let t=this.nodeAt2(n,l+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let l=this.getOffsetAt(n,1);return this.getLength()-l}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,l,t,o,c,f,y,b,g,m,w){let D=this._buffers[n.piece.bufferIndex],k=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),T=this.offsetInBuffer(n.piece.bufferIndex,c),R=this.offsetInBuffer(n.piece.bufferIndex,f),M,A={line:0,column:0},O,P;l._wordSeparators?(O=D.buffer.substring(T,R),P=F=>F+T,l.reset(0)):(O=D.buffer,P=F=>F,l.reset(T));do if(M=l.next(O),M){if(P(M.index)>=R)return m;this.positionInBuffer(n,P(M.index)-k,A);let F=this.getLineFeedCnt(n.piece.bufferIndex,c,A),E=A.line===c.line?A.column-c.column+o:A.column+1,x=E+M[0].length;if(w[m++]=(0,S.createFindMatch)(new N.Range(t+F,E,t+F,x),M,b),P(M.index)+M[0].length>=R||m>=g)return m}while(M);return m}findMatchesLineByLine(n,l,t,o){const c=[];let f=0;const y=new S.Searcher(l.wordSeparators,l.regex);let b=this.nodeAt2(n.startLineNumber,n.startColumn);if(b===null)return[];let g=this.nodeAt2(n.endLineNumber,n.endColumn);if(g===null)return[];let m=this.positionInBuffer(b.node,b.remainder),w=this.positionInBuffer(g.node,g.remainder);if(b.node===g.node)return this.findMatchesInNode(b.node,y,n.startLineNumber,n.startColumn,m,w,l,t,o,f,c),c;let D=n.startLineNumber,k=b.node;for(;k!==g.node;){let R=this.getLineFeedCnt(k.piece.bufferIndex,m,k.piece.end);if(R>=1){let A=this._buffers[k.piece.bufferIndex].lineStarts,O=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start),P=A[m.line+R],F=D===n.startLineNumber?n.startColumn:1;if(f=this.findMatchesInNode(k,y,D,F,m,this.positionInBuffer(k,P-O),l,t,o,f,c),f>=o)return c;D+=R}let M=D===n.startLineNumber?n.startColumn-1:0;if(D===n.endLineNumber){const A=this.getLineContent(D).substring(M,n.endColumn-1);return f=this._findMatchesInLine(l,y,A,n.endLineNumber,M,f,c,t,o),c}if(f=this._findMatchesInLine(l,y,this.getLineContent(D).substr(M),D,M,f,c,t,o),f>=o)return c;D++,b=this.nodeAt2(D,1),k=b.node,m=this.positionInBuffer(b.node,b.remainder)}if(D===n.endLineNumber){let R=D===n.startLineNumber?n.startColumn-1:0;const M=this.getLineContent(D).substring(R,n.endColumn-1);return f=this._findMatchesInLine(l,y,M,n.endLineNumber,R,f,c,t,o),c}let T=D===n.startLineNumber?n.startColumn:1;return f=this.findMatchesInNode(g.node,y,D,T,m,w,l,t,o,f,c),c}_findMatchesInLine(n,l,t,o,c,f,y,b,g){const m=n.wordSeparators;if(!b&&n.simpleSearch){const D=n.simpleSearch,k=D.length,T=t.length;let R=-k;for(;(R=t.indexOf(D,R+k))!==-1;)if((!m||(0,S.isValidMatch)(m,t,T,R,k))&&(y[f++]=new I.FindMatch(new N.Range(o,R+1+c,o,R+1+k+c),null),f>=g))return f;return f}let w;l.reset(0);do if(w=l.next(t),w&&(y[f++]=(0,S.createFindMatch)(new N.Range(o,w.index+1+c,o,w.index+1+w[0].length+c),w,b),f>=g))return f;while(w);return f}insert(n,l,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==L.SENTINEL){let{node:o,remainder:c,nodeStartOffset:f}=this.nodeAt(n),y=o.piece,b=y.bufferIndex,g=this.positionInBuffer(o,c);if(o.piece.bufferIndex===0&&y.end.line===this._lastChangeBufferPos.line&&y.end.column===this._lastChangeBufferPos.column&&f+y.length===n&&l.length<e.AverageBufferSize){this.appendToNode(o,l),this.computeBufferMetadata();return}if(f===n)this.insertContentToNodeLeft(l,o),this._searchCache.validate(n);else if(f+o.piece.length>n){let m=[],w=new s(y.bufferIndex,g,y.end,this.getLineFeedCnt(y.bufferIndex,g,y.end),this.offsetInBuffer(b,y.end)-this.offsetInBuffer(b,g));if(this.shouldCheckCRLF()&&this.endWithCR(l)&&this.nodeCharCodeAt(o,c)===10){let R={line:w.start.line+1,column:0};w=new s(w.bufferIndex,R,w.end,this.getLineFeedCnt(w.bufferIndex,R,w.end),w.length-1),l+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(l))if(this.nodeCharCodeAt(o,c-1)===13){let R=this.positionInBuffer(o,c-1);this.deleteNodeTail(o,R),l="\r"+l,o.piece.length===0&&m.push(o)}else this.deleteNodeTail(o,g);else this.deleteNodeTail(o,g);let D=this.createNewPieces(l);w.length>0&&this.rbInsertRight(o,w);let k=o;for(let T=0;T<D.length;T++)k=this.rbInsertRight(k,D[T]);this.deleteNodes(m)}else this.insertContentToNodeRight(l,o)}else{let o=this.createNewPieces(l),c=this.rbInsertLeft(null,o[0]);for(let f=1;f<o.length;f++)c=this.rbInsertRight(c,o[f])}this.computeBufferMetadata()}delete(n,l){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",l<=0||this.root===L.SENTINEL)return;let t=this.nodeAt(n),o=this.nodeAt(n+l),c=t.node,f=o.node;if(c===f){let D=this.positionInBuffer(c,t.remainder),k=this.positionInBuffer(c,o.remainder);if(t.nodeStartOffset===n){if(l===c.piece.length){let T=c.next();(0,L.rbDelete)(this,c),this.validateCRLFWithPrevNode(T),this.computeBufferMetadata();return}this.deleteNodeHead(c,k),this._searchCache.validate(n),this.validateCRLFWithPrevNode(c),this.computeBufferMetadata();return}if(t.nodeStartOffset+c.piece.length===n+l){this.deleteNodeTail(c,D),this.validateCRLFWithNextNode(c),this.computeBufferMetadata();return}this.shrinkNode(c,D,k),this.computeBufferMetadata();return}let y=[],b=this.positionInBuffer(c,t.remainder);this.deleteNodeTail(c,b),this._searchCache.validate(n),c.piece.length===0&&y.push(c);let g=this.positionInBuffer(f,o.remainder);this.deleteNodeHead(f,g),f.piece.length===0&&y.push(f);let m=c.next();for(let D=m;D!==L.SENTINEL&&D!==f;D=D.next())y.push(D);let w=c.piece.length===0?c.prev():c;this.deleteNodes(y),this.validateCRLFWithNextNode(w),this.computeBufferMetadata()}insertContentToNodeLeft(n,l){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(l)){let f=l.piece,y={line:f.start.line+1,column:0},b=new s(f.bufferIndex,y,f.end,this.getLineFeedCnt(f.bufferIndex,y,f.end),f.length-1);l.piece=b,n+=`
`,(0,L.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&t.push(l)}let o=this.createNewPieces(n),c=this.rbInsertLeft(l,o[o.length-1]);for(let f=o.length-2;f>=0;f--)c=this.rbInsertLeft(c,o[f]);this.validateCRLFWithPrevNode(c),this.deleteNodes(t)}insertContentToNodeRight(n,l){this.adjustCarriageReturnFromNext(n,l)&&(n+=`
`);let t=this.createNewPieces(n),o=this.rbInsertRight(l,t[0]),c=o;for(let f=1;f<t.length;f++)c=this.rbInsertRight(c,t[f]);this.validateCRLFWithPrevNode(o)}positionInBuffer(n,l,t){let o=n.piece,c=n.piece.bufferIndex,f=this._buffers[c].lineStarts,b=f[o.start.line]+o.start.column+l,g=o.start.line,m=o.end.line,w=0,D=0,k=0;for(;g<=m&&(w=g+(m-g)/2|0,k=f[w],w!==m);)if(D=f[w+1],b<k)m=w-1;else if(b>=D)g=w+1;else break;return t?(t.line=w,t.column=b-k,null):{line:w,column:b-k}}getLineFeedCnt(n,l,t){if(t.column===0)return t.line-l.line;let o=this._buffers[n].lineStarts;if(t.line===o.length-1)return t.line-l.line;let c=o[t.line+1],f=o[t.line]+t.column;if(c>f+1)return t.line-l.line;let y=f-1;return this._buffers[n].buffer.charCodeAt(y)===13?t.line-l.line+1:t.line-l.line}offsetInBuffer(n,l){return this._buffers[n].lineStarts[l.line]+l.column}deleteNodes(n){for(let l=0;l<n.length;l++)(0,L.rbDelete)(this,n[l])}createNewPieces(n){if(n.length>e.AverageBufferSize){let m=[];for(;n.length>e.AverageBufferSize;){const D=n.charCodeAt(e.AverageBufferSize-1);let k;D===13||D>=55296&&D<=56319?(k=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(k=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let T=i(k);m.push(new s(this._buffers.length,{line:0,column:0},{line:T.length-1,column:k.length-T[T.length-1]},T.length-1,k.length)),this._buffers.push(new a(k,T))}let w=i(n);return m.push(new s(this._buffers.length,{line:0,column:0},{line:w.length-1,column:n.length-w[w.length-1]},w.length-1,n.length)),this._buffers.push(new a(n,w)),m}let l=this._buffers[0].buffer.length;const t=i(n,!1);let o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===l&&l!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(let m=0;m<t.length;m++)t[m]+=l+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,l+=1}else{if(l!==0)for(let m=0;m<t.length;m++)t[m]+=l;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const c=this._buffers[0].buffer.length;let f=this._buffers[0].lineStarts.length-1,y=c-this._buffers[0].lineStarts[f],b={line:f,column:y},g=new s(0,o,b,this.getLineFeedCnt(0,o,b),c-l);return this._lastChangeBufferPos=b,[g]}getLineRawContent(n,l=0){let t=this.root,o="",c=this._searchCache.get2(n);if(c){t=c.node;let f=this.getAccumulatedValue(t,n-c.nodeStartLineNumber-1),y=this._buffers[t.piece.bufferIndex].buffer,b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(c.nodeStartLineNumber+t.piece.lineFeedCnt===n)o=y.substring(b+f,b+t.piece.length);else{let g=this.getAccumulatedValue(t,n-c.nodeStartLineNumber);return y.substring(b+f,b+g-l)}}else{let f=0;const y=n;for(;t!==L.SENTINEL;)if(t.left!==L.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let b=this.getAccumulatedValue(t,n-t.lf_left-2),g=this.getAccumulatedValue(t,n-t.lf_left-1),m=this._buffers[t.piece.bufferIndex].buffer,w=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return f+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:f,nodeStartLineNumber:y-(n-1-t.lf_left)}),m.substring(w+b,w+g-l)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let b=this.getAccumulatedValue(t,n-t.lf_left-2),g=this._buffers[t.piece.bufferIndex].buffer,m=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o=g.substring(m+b,m+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,f+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==L.SENTINEL;){let f=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let y=this.getAccumulatedValue(t,0),b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return o+=f.substring(b,b+y-l),o}else{let y=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o+=f.substr(y,t.piece.length)}t=t.next()}return o}computeBufferMetadata(){let n=this.root,l=1,t=0;for(;n!==L.SENTINEL;)l+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=l,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,l){let t=n.piece,o=this.positionInBuffer(n,l),c=o.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===l){let f=this.getLineFeedCnt(n.piece.bufferIndex,t.start,o);if(f!==c)return{index:f,remainder:0}}return{index:c,remainder:o.column}}getAccumulatedValue(n,l){if(l<0)return 0;let t=n.piece,o=this._buffers[t.bufferIndex].lineStarts,c=t.start.line+l+1;return c>t.end.line?o[t.end.line]+t.end.column-o[t.start.line]-t.start.column:o[c]-o[t.start.line]-t.start.column}deleteNodeTail(n,l){const t=n.piece,o=t.lineFeedCnt,c=this.offsetInBuffer(t.bufferIndex,t.end),f=l,y=this.offsetInBuffer(t.bufferIndex,f),b=this.getLineFeedCnt(t.bufferIndex,t.start,f),g=b-o,m=y-c,w=t.length+m;n.piece=new s(t.bufferIndex,t.start,f,b,w),(0,L.updateTreeMetadata)(this,n,m,g)}deleteNodeHead(n,l){const t=n.piece,o=t.lineFeedCnt,c=this.offsetInBuffer(t.bufferIndex,t.start),f=l,y=this.getLineFeedCnt(t.bufferIndex,f,t.end),b=this.offsetInBuffer(t.bufferIndex,f),g=y-o,m=c-b,w=t.length+m;n.piece=new s(t.bufferIndex,f,t.end,y,w),(0,L.updateTreeMetadata)(this,n,m,g)}shrinkNode(n,l,t){const o=n.piece,c=o.start,f=o.end,y=o.length,b=o.lineFeedCnt,g=l,m=this.getLineFeedCnt(o.bufferIndex,o.start,g),w=this.offsetInBuffer(o.bufferIndex,l)-this.offsetInBuffer(o.bufferIndex,c);n.piece=new s(o.bufferIndex,o.start,g,m,w),(0,L.updateTreeMetadata)(this,n,w-y,m-b);let D=new s(o.bufferIndex,t,f,this.getLineFeedCnt(o.bufferIndex,t,f),this.offsetInBuffer(o.bufferIndex,f)-this.offsetInBuffer(o.bufferIndex,t)),k=this.rbInsertRight(n,D);this.validateCRLFWithPrevNode(k)}appendToNode(n,l){this.adjustCarriageReturnFromNext(l,n)&&(l+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(l)&&this.endWithCR(n),o=this._buffers[0].buffer.length;this._buffers[0].buffer+=l;const c=i(l,!1);for(let k=0;k<c.length;k++)c[k]+=o;if(t){let k=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:o-k}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(c.slice(1));const f=this._buffers[0].lineStarts.length-1,y=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],b={line:f,column:y},g=n.piece.length+l.length,m=n.piece.lineFeedCnt,w=this.getLineFeedCnt(0,n.piece.start,b),D=w-m;n.piece=new s(n.piece.bufferIndex,n.piece.start,b,w,g),this._lastChangeBufferPos=b,(0,L.updateTreeMetadata)(this,n,l.length,D)}nodeAt(n){let l=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let o=0;for(;l!==L.SENTINEL;)if(l.size_left>n)l=l.left;else if(l.size_left+l.piece.length>=n){o+=l.size_left;let c={node:l,remainder:n-l.size_left,nodeStartOffset:o};return this._searchCache.set(c),c}else n-=l.size_left+l.piece.length,o+=l.size_left+l.piece.length,l=l.right;return null}nodeAt2(n,l){let t=this.root,o=0;for(;t!==L.SENTINEL;)if(t.left!==L.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let c=this.getAccumulatedValue(t,n-t.lf_left-2),f=this.getAccumulatedValue(t,n-t.lf_left-1);return o+=t.size_left,{node:t,remainder:Math.min(c+l-1,f),nodeStartOffset:o}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let c=this.getAccumulatedValue(t,n-t.lf_left-2);if(c+l-1<=t.piece.length)return{node:t,remainder:c+l-1,nodeStartOffset:o};l-=t.piece.length-c;break}else n-=t.lf_left+t.piece.lineFeedCnt,o+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==L.SENTINEL;){if(t.piece.lineFeedCnt>0){let c=this.getAccumulatedValue(t,0),f=this.offsetOfNode(t);return{node:t,remainder:Math.min(l-1,c),nodeStartOffset:f}}else if(t.piece.length>=l-1){let c=this.offsetOfNode(t);return{node:t,remainder:l-1,nodeStartOffset:c}}else l-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,l){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+l;return t.buffer.charCodeAt(o)}offsetOfNode(n){if(!n)return 0;let l=n.size_left;for(;n!==this.root;)n.parent.right===n&&(l+=n.parent.size_left+n.parent.piece.length),n=n.parent;return l}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===L.SENTINEL||n.piece.lineFeedCnt===0)return!1;let l=n.piece,t=this._buffers[l.bufferIndex].lineStarts,o=l.start.line,c=t[o]+l.start.column;return o===t.length-1||t[o+1]>c+1?!1:this._buffers[l.bufferIndex].buffer.charCodeAt(c)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===L.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let l=n.prev();this.endWithCR(l)&&this.fixCRLF(l,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let l=n.next();this.startWithLF(l)&&this.fixCRLF(n,l)}}fixCRLF(n,l){let t=[],o=this._buffers[n.piece.bufferIndex].lineStarts,c;n.piece.end.column===0?c={line:n.piece.end.line-1,column:o[n.piece.end.line]-o[n.piece.end.line-1]-1}:c={line:n.piece.end.line,column:n.piece.end.column-1};const f=n.piece.length-1,y=n.piece.lineFeedCnt-1;n.piece=new s(n.piece.bufferIndex,n.piece.start,c,y,f),(0,L.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&t.push(n);let b={line:l.piece.start.line+1,column:0};const g=l.piece.length-1,m=this.getLineFeedCnt(l.piece.bufferIndex,b,l.piece.end);l.piece=new s(l.piece.bufferIndex,b,l.piece.end,m,g),(0,L.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&t.push(l);let w=this.createNewPieces(`\r
`);this.rbInsertRight(n,w[0]);for(let D=0;D<t.length;D++)(0,L.rbDelete)(this,t[D])}adjustCarriageReturnFromNext(n,l){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=l.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)(0,L.rbDelete)(this,t);else{const o=t.piece,c={line:o.start.line+1,column:0},f=o.length-1,y=this.getLineFeedCnt(o.bufferIndex,c,o.end);t.piece=new s(o.bufferIndex,c,o.end,y,f),(0,L.updateTreeMetadata)(this,t,-1,-1)}return!0}}return!1}iterate(n,l){if(n===L.SENTINEL)return l(L.SENTINEL);let t=this.iterate(n.left,l);return t&&l(n)&&this.iterate(n.right,l)}getNodeContent(n){if(n===L.SENTINEL)return"";let l=this._buffers[n.piece.bufferIndex],t,o=n.piece,c=this.offsetInBuffer(o.bufferIndex,o.start),f=this.offsetInBuffer(o.bufferIndex,o.end);return t=l.buffer.substring(c,f),t}getPieceContent(n){let l=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return l.buffer.substring(t,o)}rbInsertRight(n,l){let t=new L.TreeNode(l,1);if(t.left=L.SENTINEL,t.right=L.SENTINEL,t.parent=L.SENTINEL,t.size_left=0,t.lf_left=0,this.root===L.SENTINEL)this.root=t,t.color=0;else if(n.right===L.SENTINEL)n.right=t,t.parent=n;else{let c=(0,L.leftest)(n.right);c.left=t,t.parent=c}return(0,L.fixInsert)(this,t),t}rbInsertLeft(n,l){let t=new L.TreeNode(l,1);if(t.left=L.SENTINEL,t.right=L.SENTINEL,t.parent=L.SENTINEL,t.size_left=0,t.lf_left=0,this.root===L.SENTINEL)this.root=t,t.color=0;else if(n.left===L.SENTINEL)n.left=t,t.parent=n;else{let o=(0,L.righttest)(n.left);o.right=t,t.parent=o}return(0,L.fixInsert)(this,t),t}}e.PieceTreeBase=d}),define(te[138],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function _(p=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)p.indexOf(i)>=0||(v+="\\"+i);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=_();function N(p){let v=e.DEFAULT_WORD_REGEXP;if(p&&p instanceof RegExp)if(p.global)v=p;else{let i="g";p.ignoreCase&&(i+="i"),p.multiline&&(i+="m"),p.unicode&&(i+="u"),v=new RegExp(p.source,i)}return v.lastIndex=0,v}e.ensureValidWordDefinition=N;const I={maxLen:1e3,windowSize:15,timeBudget:150};function L(p,v,i,C,s=I){if(i.length>s.maxLen){let r=p-s.maxLen/2;return r<0?r=0:C+=r,i=i.substring(r,p+s.maxLen/2),L(p,v,i,C,s)}const a=Date.now(),u=p-1-C;let h=-1,d=null;for(let r=1;!(Date.now()-a>=s.timeBudget);r++){const n=u-s.windowSize*r;v.lastIndex=Math.max(0,n);const l=S(v,i,u,h);if(!l&&d||(d=l,n<=0))break;h=n}if(d){let r={word:d[0],startColumn:C+1+d.index,endColumn:C+1+d.index+d[0].length};return v.lastIndex=0,r}return null}e.getWordAtText=L;function S(p,v,i,C){let s;for(;s=p.exec(v);){const a=s.index||0;if(a<=i&&p.lastIndex>=i)return s;if(C>0&&a>C)return null}return null}}),define(te[391],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class _{constructor(I){this._languageIdentifier=I}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=_}),define(te[113],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var _;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(_=e.IndentAction||(e.IndentAction={}));class N{constructor(p){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=p.open,this.close=p.close,this._standardTokenMask=0,Array.isArray(p.notIn))for(let v=0,i=p.notIn.length;v<i;v++)switch(p.notIn[v]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(p){return(this._standardTokenMask&p)==0}}e.StandardAutoClosingPairConditional=N;class I{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of p)L(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),L(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),L(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),L(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&L(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=I;function L(S,p,v){S.has(p)?S.get(p).push(v):S.set(p,[v])}}),define(te[392],ne([0,1,205,73]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function I(L,S,p,v){if(Array.isArray(L)){let i=0;for(const C of L){const s=I(C,S,p,v);if(s===10)return s;s>i&&(i=s)}return i}else{if(typeof L=="string")return v?L==="*"?5:L===p?10:0:0;if(L){const{language:i,pattern:C,scheme:s,hasAccessToAllModels:a}=L;if(!v&&!a)return 0;let u=0;if(s)if(s===S.scheme)u=10;else if(s==="*")u=5;else return 0;if(i)if(i===p)u=10;else if(i==="*")u=Math.max(u,5);else return 0;if(C){let h;if(typeof C=="string"?h=C:h=Object.assign(Object.assign({},C),{base:(0,N.normalize)(C.base)}),h===S.fsPath||(0,_.match)(h,S.fsPath))u=10;else return 0}return u}else return 0}}e.score=I}),define(te[393],ne([0,1,95]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class N{constructor(a,u,h){const d=new Uint8Array(a*u);for(let r=0,n=a*u;r<n;r++)d[r]=h;this._data=d,this.rows=a,this.cols=u}get(a,u){return this._data[a*this.cols+u]}set(a,u,h){this._data[a*this.cols+u]=h}}e.Uint8Matrix=N;class I{constructor(a){let u=0,h=0;for(let r=0,n=a.length;r<n;r++){let[l,t,o]=a[r];t>u&&(u=t),l>h&&(h=l),o>h&&(h=o)}u++,h++;let d=new N(h,u,0);for(let r=0,n=a.length;r<n;r++){let[l,t,o]=a[r];d.set(l,t,o)}this._states=d,this._maxCharCode=u}nextState(a,u){return u<0||u>=this._maxCharCode?0:this._states.get(a,u)}}e.StateMachine=I;let L=null;function S(){return L===null&&(L=new I([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),L}let p=null;function v(){if(p===null){p=new _.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let u=0;u<s.length;u++)p.set(s.charCodeAt(u),1);const a=".,;";for(let u=0;u<a.length;u++)p.set(a.charCodeAt(u),2)}return p}class i{static _createLink(a,u,h,d,r){let n=r-1;do{const l=u.charCodeAt(n);if(a.get(l)!==2)break;n--}while(n>d);if(d>0){const l=u.charCodeAt(d-1),t=u.charCodeAt(n);(l===40&&t===41||l===91&&t===93||l===123&&t===125)&&n--}return{range:{startLineNumber:h,startColumn:d+1,endLineNumber:h,endColumn:n+2},url:u.substring(d,n+1)}}static computeLinks(a,u=S()){const h=v();let d=[];for(let r=1,n=a.getLineCount();r<=n;r++){const l=a.getLineContent(r),t=l.length;let o=0,c=0,f=0,y=1,b=!1,g=!1,m=!1,w=!1;for(;o<t;){let D=!1;const k=l.charCodeAt(o);if(y===13){let T;switch(k){case 40:b=!0,T=0;break;case 41:T=b?0:1;break;case 91:m=!0,g=!0,T=0;break;case 93:m=!1,T=g?0:1;break;case 123:w=!0,T=0;break;case 125:T=w?0:1;break;case 39:T=f===34||f===96?0:1;break;case 34:T=f===39||f===96?0:1;break;case 96:T=f===39||f===34?0:1;break;case 42:T=f===42?1:0;break;case 124:T=f===124?1:0;break;case 32:T=m?0:1;break;default:T=h.get(k)}T===1&&(d.push(i._createLink(h,l,r,c,o)),D=!0)}else if(y===12){let T;k===91?(g=!0,T=0):T=h.get(k),T===1?D=!0:y=13}else y=u.nextState(y,k),y===0&&(D=!0);D&&(y=1,b=!1,g=!1,w=!1,c=o+1,f=k),o++}y===13&&d.push(i._createLink(h,l,r,c,t))}return d}}e.LinkComputer=i;function C(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:i.computeLinks(s)}e.computeLinks=C}),define(te[175],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function _(L,S){let p=L.getCount(),v=L.findTokenIndexAtOffset(S),i=L.getLanguageId(v),C=v;for(;C+1<p&&L.getLanguageId(C+1)===i;)C++;let s=v;for(;s>0&&L.getLanguageId(s-1)===i;)s--;return new N(L,i,s,C+1,L.getStartOffset(s),L.getEndOffset(C))}e.createScopedLineTokens=_;class N{constructor(S,p,v,i,C,s){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=p,this._firstTokenIndex=v,this._lastTokenIndex=i,this.firstCharOffset=C,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=N;function I(L){return(L&7)!=0}e.ignoreBracketsInToken=I}),define(te[394],ne([0,1,113]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class N{constructor(L){if(L.autoClosingPairs?this._autoClosingPairs=L.autoClosingPairs.map(S=>new _.StandardAutoClosingPairConditional(S)):L.brackets?this._autoClosingPairs=L.brackets.map(S=>new _.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],L.colorizedBracketPairs?this._colorizedBracketPairs=L.colorizedBracketPairs.map(S=>[S[0],S[1]]):L.brackets?this._colorizedBracketPairs=L.brackets.map(S=>[S[0],S[1]]):this._colorizedBracketPairs=[],L.__electricCharacterSupport&&L.__electricCharacterSupport.docComment){const S=L.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new _.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=L.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(L,S,p){if(S.getTokenCount()===0)return!0;const v=S.findTokenIndexAtOffset(p-2),i=S.getStandardTokenType(v);return L.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}e.CharacterPairSupport=N,N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(te[395],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function _(I){return I.global&&(I.lastIndex=0),!0}class N{constructor(L){this._indentationRules=L}shouldIncrease(L){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&_(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(L))}shouldDecrease(L){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&_(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(L))}shouldIndentNextLine(L){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&_(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(L))}shouldIgnore(L){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&_(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(L))}getIndentMetadata(L){let S=0;return this.shouldIncrease(L)&&(S+=1),this.shouldDecrease(L)&&(S+=2),this.shouldIndentNextLine(L)&&(S+=4),this.shouldIgnore(L)&&(S+=8),S}}e.IndentRulesSupport=N}),define(te[396],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class _{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(I,L,S,p,v){if(I&&L){let i=this.doNavigateValueSet(L,v);if(i)return{range:I,value:i}}if(S&&p){let i=this.doNavigateValueSet(p,v);if(i)return{range:S,value:i}}return null}doNavigateValueSet(I,L){let S=this.numberReplace(I,L);return S!==null?S:this.textReplace(I,L)}numberReplace(I,L){let S=Math.pow(10,I.length-(I.lastIndexOf(".")+1)),p=Number(I),v=parseFloat(I);return!isNaN(p)&&!isNaN(v)&&p===v?p===0&&!L?null:(p=Math.floor(p*S),p+=L?S:-S,String(p/S)):null}textReplace(I,L){return this.valueSetsReplace(this._defaultValueSet,I,L)}valueSetsReplace(I,L,S){let p=null;for(let v=0,i=I.length;p===null&&v<i;v++)p=this.valueSetReplace(I[v],L,S);return p}valueSetReplace(I,L,S){let p=I.indexOf(L);return p>=0?(p+=S?1:-1,p<0?p=I.length-1:p%=I.length,I[p]):null}}e.BasicInplaceReplace=_,_.INSTANCE=new _}),define(te[397],ne([0,1,10,8,113]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class L{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(v=>{const i=L._createOpenBracketRegExp(v[0]),C=L._createCloseBracketRegExp(v[1]);i&&C&&this._brackets.push({open:v[0],openRegExp:i,close:v[1],closeRegExp:C})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,v,i,C){if(p>=3)for(let s=0,a=this._regExpRules.length;s<a;s++){let u=this._regExpRules[s];if([{reg:u.beforeText,text:i},{reg:u.afterText,text:C},{reg:u.previousLineText,text:v}].every(d=>d.reg?(d.reg.lastIndex=0,d.reg.test(d.text)):!0))return u.action}if(p>=2&&i.length>0&&C.length>0)for(let s=0,a=this._brackets.length;s<a;s++){let u=this._brackets[s];if(u.openRegExp.test(i)&&u.closeRegExp.test(C))return{indentAction:I.IndentAction.IndentOutdent}}if(p>=2&&i.length>0){for(let s=0,a=this._brackets.length;s<a;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:I.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let v=N.escapeRegExpCharacters(p);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",L._safeRegExp(v)}static _createCloseBracketRegExp(p){let v=N.escapeRegExpCharacters(p);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,L._safeRegExp(v)}static _safeRegExp(p){try{return new RegExp(p)}catch(v){return(0,_.onUnexpectedError)(v),null}}}e.OnEnterSupport=L}),define(te[176],ne([0,1,8,84,3]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class L{constructor(o,c,f,y,b,g){this._richEditBracketBrand=void 0,this.languageIdentifier=o,this.index=c,this.open=f,this.close=y,this.forwardRegex=b,this.reversedRegex=g,this._openSet=L._toSet(this.open),this._closeSet=L._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const c=new Set;for(const f of o)c.add(f);return c}}e.RichEditBracket=L;function S(t){const o=t.length;t=t.map(g=>[g[0].toLowerCase(),g[1].toLowerCase()]);const c=[];for(let g=0;g<o;g++)c[g]=g;const f=(g,m)=>{const[w,D]=g,[k,T]=m;return w===k||w===T||D===k||D===T},y=(g,m)=>{const w=Math.min(g,m),D=Math.max(g,m);for(let k=0;k<o;k++)c[k]===D&&(c[k]=w)};for(let g=0;g<o;g++){const m=t[g];for(let w=g+1;w<o;w++){const D=t[w];f(m,D)&&y(c[g],c[w])}}const b=[];for(let g=0;g<o;g++){let m=[],w=[];for(let D=0;D<o;D++)if(c[D]===g){const[k,T]=t[D];m.push(k),w.push(T)}m.length>0&&b.push({open:m,close:w})}return b}class p{constructor(o,c){this._richEditBracketsBrand=void 0;const f=S(c);this.brackets=f.map((y,b)=>new L(o,b,y.open,y.close,s(y.open,y.close,f,b),a(y.open,y.close,f,b))),this.forwardRegex=u(this.brackets),this.reversedRegex=h(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const y of this.brackets){for(const b of y.open)this.textIsBracket[b]=y,this.textIsOpenBracket[b]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,b.length);for(const b of y.close)this.textIsBracket[b]=y,this.textIsOpenBracket[b]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,b.length)}}}e.RichEditBrackets=p;function v(t,o,c,f){for(let y=0,b=o.length;y<b;y++){if(y===c)continue;const g=o[y];for(const m of g.open)m.indexOf(t)>=0&&f.push(m);for(const m of g.close)m.indexOf(t)>=0&&f.push(m)}}function i(t,o){return t.length-o.length}function C(t){if(t.length<=1)return t;const o=[],c=new Set;for(const f of t)c.has(f)||(o.push(f),c.add(f));return o}function s(t,o,c,f){let y=[];y=y.concat(t),y=y.concat(o);for(let b=0,g=y.length;b<g;b++)v(y[b],c,f,y);return y=C(y),y.sort(i),y.reverse(),r(y)}function a(t,o,c,f){let y=[];y=y.concat(t),y=y.concat(o);for(let b=0,g=y.length;b<g;b++)v(y[b],c,f,y);return y=C(y),y.sort(i),y.reverse(),r(y.map(n))}function u(t){let o=[];for(const c of t){for(const f of c.open)o.push(f);for(const f of c.close)o.push(f)}return o=C(o),r(o)}function h(t){let o=[];for(const c of t){for(const f of c.open)o.push(f);for(const f of c.close)o.push(f)}return o=C(o),r(o.map(n))}function d(t){const o=/^[\w ]+$/.test(t);return t=_.escapeRegExpCharacters(t),o?`\\b${t}\\b`:t}function r(t){let o=`(${t.map(d).join(")|(")})`;return _.createRegExp(o,!0)}const n=function(){function t(f){if(N.hasTextDecoder){const y=new Uint16Array(f.length);let b=0;for(let g=f.length-1;g>=0;g--)y[b++]=f.charCodeAt(g);return N.getPlatformTextDecoder().decode(y)}else{let y=[],b=0;for(let g=f.length-1;g>=0;g--)y[b++]=f.charAt(g);return y.join("")}}let o=null,c=null;return function(y){return o!==y&&(o=y,c=t(o)),c}}();class l{static _findPrevBracketInText(o,c,f,y){let b=f.match(o);if(!b)return null;let g=f.length-(b.index||0),m=b[0].length,w=y+g;return new I.Range(c,w-m+1,c,w+1)}static findPrevBracketInRange(o,c,f,y,b){const m=n(f).substring(f.length-b,f.length-y);return this._findPrevBracketInText(o,c,m,y)}static findNextBracketInText(o,c,f,y){let b=f.match(o);if(!b)return null;let g=b.index||0,m=b[0].length;if(m===0)return null;let w=y+g;return new I.Range(c,w+1,c,w+1+m)}static findNextBracketInRange(o,c,f,y,b){const g=f.substring(y,b);return this.findNextBracketInText(o,c,g,y)}}e.BracketsUtils=l}),define(te[398],ne([0,1,175,176]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const p of this._richEditBrackets.brackets)for(const v of p.close){const i=v.charAt(v.length-1);S.push(i)}return S=S.filter((p,v,i)=>i.indexOf(p)===v),S}onElectricCharacter(S,p,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=p.findTokenIndexAtOffset(v-1);if((0,_.ignoreBracketsInToken)(p.getStandardTokenType(i)))return null;const C=this._richEditBrackets.reversedRegex,s=p.getLineContent().substring(0,v-1)+S,a=N.BracketsUtils.findPrevBracketInRange(C,1,s,0,s.length);if(!a)return null;const u=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[u])return null;const d=p.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:u}:null}}e.BracketElectricCharacterSupport=I}),define(te[36],ne([0,1,6,2,8,138,113,175,394,398,395,397,176]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class u{constructor(t,o){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=o,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new s.OnEnterSupport(this._conf):null,this.comments=u._handleComments(this._conf),this.characterPair=new v.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||L.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new C.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new a.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,o,c,f){return this._onEnterSupport?this._onEnterSupport.onEnter(t,o,c,f):null}static _handleComments(t){let o=t.comments;if(!o)return null;let c={};if(o.lineComment&&(c.lineCommentToken=o.lineComment),o.blockComment){let[f,y]=o.blockComment;c.blockCommentStartToken=f,c.blockCommentEndToken=y}return c}}e.RichEditSupport=u;class h{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=h;class d{constructor(t,o,c){this.configuration=t,this.priority=o,this.order=c}static cmp(t,o){return t.priority===o.priority?t.order-o.order:t.priority-o.priority}}class r{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,o){const c=new d(t,o,++this._order);return this._entries.push(c),this._resolved=null,(0,N.toDisposable)(()=>{for(let f=0;f<this._entries.length;f++)if(this._entries[f]===c){this._entries.splice(f,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new u(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(d.cmp);const t={};for(const o of this._entries){const c=o.configuration;t.comments=c.comments||t.comments,t.brackets=c.brackets||t.brackets,t.wordPattern=c.wordPattern||t.wordPattern,t.indentationRules=c.indentationRules||t.indentationRules,t.onEnterRules=c.onEnterRules||t.onEnterRules,t.autoClosingPairs=c.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=c.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=c.autoCloseBefore||t.autoCloseBefore,t.folding=c.folding||t.folding,t.colorizedBracketPairs=c.colorizedBracketPairs||t.colorizedBracketPairs,t.__electricCharacterSupport=c.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries2=new Map,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event}register(t,o,c=0){let f=this._entries2.get(t.id);f||(f=new r(t),this._entries2.set(t.id,f));const y=f.register(o,c);return this._onDidChange.fire(new h(t)),(0,N.toDisposable)(()=>{y.dispose(),this._onDidChange.fire(new h(t))})}_getRichEditSupport(t){const o=this._entries2.get(t);return o?o.getRichEditSupport():null}getIndentationRules(t){const o=this._getRichEditSupport(t);return o&&o.indentationRules||null}_getElectricCharacterSupport(t){let o=this._getRichEditSupport(t);return o&&o.electricCharacter||null}getElectricCharacters(t){let o=this._getElectricCharacterSupport(t);return o?o.getElectricCharacters():[]}onElectricCharacter(t,o,c){let f=(0,p.createScopedLineTokens)(o,c-1),y=this._getElectricCharacterSupport(f.languageId);return y?y.onElectricCharacter(t,f,c-f.firstCharOffset):null}getComments(t){let o=this._getRichEditSupport(t);return o&&o.comments||null}_getCharacterPairSupport(t){let o=this._getRichEditSupport(t);return o&&o.characterPair||null}getAutoClosingPairs(t){const o=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(o?o.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let o=this._getCharacterPairSupport(t);return o?o.getAutoCloseBeforeSet():v.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let o=this._getCharacterPairSupport(t);return o?o.getSurroundingPairs():[]}shouldAutoClosePair(t,o,c){const f=(0,p.createScopedLineTokens)(o,c-1);return v.CharacterPairSupport.shouldAutoClosePair(t,f,c-f.firstCharOffset)}getWordDefinition(t){let o=this._getRichEditSupport(t);return o?(0,L.ensureValidWordDefinition)(o.wordDefinition||null):(0,L.ensureValidWordDefinition)(null)}getFoldingRules(t){let o=this._getRichEditSupport(t);return o?o.foldingRules:{}}getIndentRulesSupport(t){let o=this._getRichEditSupport(t);return o&&o.indentRulesSupport||null}getPrecedingValidLine(t,o,c){let f=t.getLanguageIdAtPosition(o,0);if(o>1){let y,b=-1;for(y=o-1;y>=1;y--){if(t.getLanguageIdAtPosition(y,0)!==f)return b;let g=t.getLineContent(y);if(c.shouldIgnore(g)||/^\s+$/.test(g)||g===""){b=y;continue}return y}}return-1}getInheritIndentForLine(t,o,c,f=!0){if(t<4)return null;const y=this.getIndentRulesSupport(o.getLanguageIdentifier().id);if(!y)return null;if(c<=1)return{indentation:"",action:null};const b=this.getPrecedingValidLine(o,c,y);if(b<0)return null;if(b<1)return{indentation:"",action:null};const g=o.getLineContent(b);if(y.shouldIncrease(g)||y.shouldIndentNextLine(g))return{indentation:I.getLeadingWhitespace(g),action:S.IndentAction.Indent,line:b};if(y.shouldDecrease(g))return{indentation:I.getLeadingWhitespace(g),action:null,line:b};{if(b===1)return{indentation:I.getLeadingWhitespace(o.getLineContent(b)),action:null,line:b};const m=b-1,w=y.getIndentMetadata(o.getLineContent(m));if(!(w&(1|2))&&w&4){let D=0;for(let k=m-1;k>0;k--)if(!y.shouldIndentNextLine(o.getLineContent(k))){D=k;break}return{indentation:I.getLeadingWhitespace(o.getLineContent(D+1)),action:null,line:D+1}}if(f)return{indentation:I.getLeadingWhitespace(o.getLineContent(b)),action:null,line:b};for(let D=b;D>0;D--){const k=o.getLineContent(D);if(y.shouldIncrease(k))return{indentation:I.getLeadingWhitespace(k),action:S.IndentAction.Indent,line:D};if(y.shouldIndentNextLine(k)){let T=0;for(let R=D-1;R>0;R--)if(!y.shouldIndentNextLine(o.getLineContent(D))){T=R;break}return{indentation:I.getLeadingWhitespace(o.getLineContent(T+1)),action:null,line:T+1}}else if(y.shouldDecrease(k))return{indentation:I.getLeadingWhitespace(k),action:null,line:D}}return{indentation:I.getLeadingWhitespace(o.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,o,c,f,y){if(t<4)return null;const b=this._getRichEditSupport(c);if(!b)return null;const g=this.getIndentRulesSupport(c);if(!g)return null;const m=this.getInheritIndentForLine(t,o,f),w=o.getLineContent(f);if(m){const D=m.line;if(D!==void 0){const k=b.onEnter(t,"",o.getLineContent(D),"");if(k){let T=I.getLeadingWhitespace(o.getLineContent(D));return k.removeText&&(T=T.substring(0,T.length-k.removeText)),k.indentAction===S.IndentAction.Indent||k.indentAction===S.IndentAction.IndentOutdent?T=y.shiftIndent(T):k.indentAction===S.IndentAction.Outdent&&(T=y.unshiftIndent(T)),g.shouldDecrease(w)&&(T=y.unshiftIndent(T)),k.appendText&&(T+=k.appendText),I.getLeadingWhitespace(T)}}return g.shouldDecrease(w)?m.action===S.IndentAction.Indent?m.indentation:y.unshiftIndent(m.indentation):m.action===S.IndentAction.Indent?y.shiftIndent(m.indentation):m.indentation}return null}getIndentForEnter(t,o,c,f){if(t<4)return null;o.forceTokenization(c.startLineNumber);const y=o.getLineTokens(c.startLineNumber),b=(0,p.createScopedLineTokens)(y,c.startColumn-1),g=b.getLineContent();let m=!1,w;b.firstCharOffset>0&&y.getLanguageId(0)!==b.languageId?(m=!0,w=g.substr(0,c.startColumn-1-b.firstCharOffset)):w=y.getLineContent().substring(0,c.startColumn-1);let D;c.isEmpty()?D=g.substr(c.startColumn-1-b.firstCharOffset):D=this.getScopedLineTokens(o,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-b.firstCharOffset);const k=this.getIndentRulesSupport(b.languageId);if(!k)return null;const T=w,R=I.getLeadingWhitespace(w),M={getLineTokens:F=>o.getLineTokens(F),getLanguageIdentifier:()=>o.getLanguageIdentifier(),getLanguageIdAtPosition:(F,E)=>o.getLanguageIdAtPosition(F,E),getLineContent:F=>F===c.startLineNumber?T:o.getLineContent(F)},A=I.getLeadingWhitespace(y.getLineContent()),O=this.getInheritIndentForLine(t,M,c.startLineNumber+1);if(!O){const F=m?A:R;return{beforeEnter:F,afterEnter:F}}let P=m?A:O.indentation;return O.action===S.IndentAction.Indent&&(P=f.shiftIndent(P)),k.shouldDecrease(D)&&(P=f.unshiftIndent(P)),{beforeEnter:m?A:R,afterEnter:P}}getIndentActionForType(t,o,c,f,y){if(t<4)return null;const b=this.getScopedLineTokens(o,c.startLineNumber,c.startColumn);if(b.firstCharOffset)return null;const g=this.getIndentRulesSupport(b.languageId);if(!g)return null;const m=b.getLineContent(),w=m.substr(0,c.startColumn-1-b.firstCharOffset);let D;if(c.isEmpty()?D=m.substr(c.startColumn-1-b.firstCharOffset):D=this.getScopedLineTokens(o,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-b.firstCharOffset),!g.shouldDecrease(w+D)&&g.shouldDecrease(w+f+D)){const k=this.getInheritIndentForLine(t,o,c.startLineNumber,!1);if(!k)return null;let T=k.indentation;return k.action!==S.IndentAction.Indent&&(T=y.unshiftIndent(T)),T}return null}getIndentMetadata(t,o){const c=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!c||o<1||o>t.getLineCount()?null:c.getIndentMetadata(t.getLineContent(o))}getEnterAction(t,o,c){const f=this.getScopedLineTokens(o,c.startLineNumber,c.startColumn),y=this._getRichEditSupport(f.languageId);if(!y)return null;const b=f.getLineContent(),g=b.substr(0,c.startColumn-1-f.firstCharOffset);let m;c.isEmpty()?m=b.substr(c.startColumn-1-f.firstCharOffset):m=this.getScopedLineTokens(o,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-f.firstCharOffset);let w="";if(c.startLineNumber>1&&f.firstCharOffset===0){const A=this.getScopedLineTokens(o,c.startLineNumber-1);A.languageId===f.languageId&&(w=A.getLineContent())}const D=y.onEnter(t,w,g,m);if(!D)return null;const k=D.indentAction;let T=D.appendText;const R=D.removeText||0;T?k===S.IndentAction.Indent&&(T="	"+T):k===S.IndentAction.Indent||k===S.IndentAction.IndentOutdent?T="	":T="";let M=this.getIndentationAtPosition(o,c.startLineNumber,c.startColumn);return R&&(M=M.substring(0,M.length-R)),{indentAction:k,appendText:T,removeText:R,indentation:M}}getIndentationAtPosition(t,o,c){const f=t.getLineContent(o);let y=I.getLeadingWhitespace(f);return y.length>c-1&&(y=y.substring(0,c-1)),y}getScopedLineTokens(t,o,c){t.forceTokenization(o);const f=t.getLineTokens(o),y=typeof c=="undefined"?t.getLineMaxColumn(o)-1:c-1;return(0,p.createScopedLineTokens)(f,y)}getBracketsSupport(t){const o=this._getRichEditSupport(t);return o&&o.brackets||null}getColorizedBracketPairs(t){var o;return((o=this._getRichEditSupport(t))===null||o===void 0?void 0:o.characterPair.getColorizedBrackets())||[]}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(te[399],ne([0,1,29]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class N{constructor(r,n,l,t,o){this._parsedThemeRuleBrand=void 0,this.token=r,this.index=n,this.fontStyle=l,this.foreground=t,this.background=o}}e.ParsedTokenThemeRule=N;function I(d){if(!d||!Array.isArray(d))return[];let r=[],n=0;for(let l=0,t=d.length;l<t;l++){let o=d[l],c=-1;if(typeof o.fontStyle=="string"){c=0;let b=o.fontStyle.split(" ");for(let g=0,m=b.length;g<m;g++)switch(b[g]){case"italic":c=c|1;break;case"bold":c=c|2;break;case"underline":c=c|4;break}}let f=null;typeof o.foreground=="string"&&(f=o.foreground);let y=null;typeof o.background=="string"&&(y=o.background),r[n++]=new N(o.token||"",l,c,f,y)}return r}e.parseTokenTheme=I;function L(d,r){d.sort((g,m)=>{let w=s(g.token,m.token);return w!==0?w:g.index-m.index});let n=0,l="000000",t="ffffff";for(;d.length>=1&&d[0].token==="";){let g=d.shift();g.fontStyle!==-1&&(n=g.fontStyle),g.foreground!==null&&(l=g.foreground),g.background!==null&&(t=g.background)}let o=new p;for(let g of r)o.getId(g);let c=o.getId(l),f=o.getId(t),y=new a(n,c,f),b=new u(y);for(let g=0,m=d.length;g<m;g++){let w=d[g];b.insert(w.token,w.fontStyle,o.getId(w.foreground),o.getId(w.background))}return new v(o,b)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const n=r.match(S);if(!n)throw new Error("Illegal value for token color: "+r);r=n[1].toUpperCase();let l=this._color2id.get(r);return l||(l=++this._lastColorId,this._color2id.set(r,l),this._id2color[l]=_.Color.fromHex("#"+r),l)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class v{constructor(r,n){this._colorMap=r,this._root=n,this._cache=new Map}static createFromRawTokenTheme(r,n){return this.createFromParsedTokenTheme(I(r),n)}static createFromParsedTokenTheme(r,n){return L(r,n)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,n){let l=this._cache.get(n);if(typeof l=="undefined"){let t=this._match(n),o=C(n);l=(t.metadata|o<<8)>>>0,this._cache.set(n,l)}return(l|r<<0)>>>0}}e.TokenTheme=v;const i=/\b(comment|string|regex|regexp)\b/;function C(d){let r=d.match(i);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=C;function s(d,r){return d<r?-1:d>r?1:0}e.strcmp=s;class a{constructor(r,n,l){this._themeTrieElementRuleBrand=void 0,this._fontStyle=r,this._foreground=n,this._background=l,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new a(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,n,l){r!==-1&&(this._fontStyle=r),n!==0&&(this._foreground=n),l!==0&&(this._background=l),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=a;class u{constructor(r){this._themeTrieElementBrand=void 0,this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;let n=r.indexOf("."),l,t;n===-1?(l=r,t=""):(l=r.substring(0,n),t=r.substring(n+1));let o=this._children.get(l);return typeof o!="undefined"?o.match(t):this._mainRule}insert(r,n,l,t){if(r===""){this._mainRule.acceptOverwrite(n,l,t);return}let o=r.indexOf("."),c,f;o===-1?(c=r,f=""):(c=r.substring(0,o),f=r.substring(o+1));let y=this._children.get(c);typeof y=="undefined"&&(y=new u(this._mainRule.clone()),this._children.set(c,y)),y.insert(f,n,l,t)}}e.ThemeTrieElement=u;function h(d){let r=[];for(let n=1,l=d.length;n<l;n++){let t=d[n];r[n]=`.mtk${n} { color: ${t}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=h}),define(te[400],ne([0,1,6,2]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class I{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,p){return this._map.set(S,p),this.fire([S]),(0,N.toDisposable)(()=>{this._map.get(S)===p&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,p){let v=null,i=!1;return this._promises.set(S,p.then(C=>{this._promises.delete(S),!(i||!C)&&(v=this.register(S,C))})),(0,N.toDisposable)(()=>{i=!0,v&&v.dispose()})}getPromise(S){const p=this.get(S);if(p)return Promise.resolve(p);const v=this._promises.get(S);return v?v.then(i=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=I}),define(te[401],ne([0,1,103,17]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function I(v){for(let i=0,C=v.length;i<C;i+=4){const s=v[i+0],a=v[i+1],u=v[i+2],h=v[i+3];v[i+0]=h,v[i+1]=u,v[i+2]=a,v[i+3]=s}}function L(v){const i=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return N.isLittleEndian()||I(i),_.VSBuffer.wrap(i)}function S(v){const i=new Uint32Array(p(v));let C=0;if(i[C++]=v.id,v.type==="full")i[C++]=1,i[C++]=v.data.length,i.set(v.data,C),C+=v.data.length;else{i[C++]=2,i[C++]=v.deltas.length;for(const s of v.deltas)i[C++]=s.start,i[C++]=s.deleteCount,s.data?(i[C++]=s.data.length,i.set(s.data,C),C+=s.data.length):i[C++]=0}return L(i)}e.encodeSemanticTokensDto=S;function p(v){let i=0;if(i+=1+1,v.type==="full")i+=1+v.data.length;else{i+=1,i+=(1+1+1)*v.deltas.length;for(const C of v.deltas)C.data&&(i+=C.data.length)}return i}}),define(te[177],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var _;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(_=e.AccessibilitySupport||(e.AccessibilitySupport={}));var N;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(N=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var I;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(I=e.CompletionItemKind||(e.CompletionItemKind={}));var L;(function(E){E[E.Deprecated=1]="Deprecated"})(L=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var p;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(p=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var v;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(v=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var C;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(C=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var s;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(s=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var a;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.bracketPairColorization=12]="bracketPairColorization",E[E.codeLens=13]="codeLens",E[E.codeLensFontFamily=14]="codeLensFontFamily",E[E.codeLensFontSize=15]="codeLensFontSize",E[E.colorDecorators=16]="colorDecorators",E[E.columnSelection=17]="columnSelection",E[E.comments=18]="comments",E[E.contextmenu=19]="contextmenu",E[E.copyWithSyntaxHighlighting=20]="copyWithSyntaxHighlighting",E[E.cursorBlinking=21]="cursorBlinking",E[E.cursorSmoothCaretAnimation=22]="cursorSmoothCaretAnimation",E[E.cursorStyle=23]="cursorStyle",E[E.cursorSurroundingLines=24]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=25]="cursorSurroundingLinesStyle",E[E.cursorWidth=26]="cursorWidth",E[E.disableLayerHinting=27]="disableLayerHinting",E[E.disableMonospaceOptimizations=28]="disableMonospaceOptimizations",E[E.domReadOnly=29]="domReadOnly",E[E.dragAndDrop=30]="dragAndDrop",E[E.emptySelectionClipboard=31]="emptySelectionClipboard",E[E.extraEditorClassName=32]="extraEditorClassName",E[E.fastScrollSensitivity=33]="fastScrollSensitivity",E[E.find=34]="find",E[E.fixedOverflowWidgets=35]="fixedOverflowWidgets",E[E.folding=36]="folding",E[E.foldingStrategy=37]="foldingStrategy",E[E.foldingHighlight=38]="foldingHighlight",E[E.foldingImportsByDefault=39]="foldingImportsByDefault",E[E.unfoldOnClickAfterEndOfLine=40]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=41]="fontFamily",E[E.fontInfo=42]="fontInfo",E[E.fontLigatures=43]="fontLigatures",E[E.fontSize=44]="fontSize",E[E.fontWeight=45]="fontWeight",E[E.formatOnPaste=46]="formatOnPaste",E[E.formatOnType=47]="formatOnType",E[E.glyphMargin=48]="glyphMargin",E[E.gotoLocation=49]="gotoLocation",E[E.hideCursorInOverviewRuler=50]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=51]="highlightActiveIndentGuide",E[E.hover=52]="hover",E[E.inDiffEditor=53]="inDiffEditor",E[E.inlineSuggest=54]="inlineSuggest",E[E.letterSpacing=55]="letterSpacing",E[E.lightbulb=56]="lightbulb",E[E.lineDecorationsWidth=57]="lineDecorationsWidth",E[E.lineHeight=58]="lineHeight",E[E.lineNumbers=59]="lineNumbers",E[E.lineNumbersMinChars=60]="lineNumbersMinChars",E[E.linkedEditing=61]="linkedEditing",E[E.links=62]="links",E[E.matchBrackets=63]="matchBrackets",E[E.minimap=64]="minimap",E[E.mouseStyle=65]="mouseStyle",E[E.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=67]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",E[E.multiCursorModifier=69]="multiCursorModifier",E[E.multiCursorPaste=70]="multiCursorPaste",E[E.occurrencesHighlight=71]="occurrencesHighlight",E[E.overviewRulerBorder=72]="overviewRulerBorder",E[E.overviewRulerLanes=73]="overviewRulerLanes",E[E.padding=74]="padding",E[E.parameterHints=75]="parameterHints",E[E.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",E[E.quickSuggestions=78]="quickSuggestions",E[E.quickSuggestionsDelay=79]="quickSuggestionsDelay",E[E.readOnly=80]="readOnly",E[E.renameOnType=81]="renameOnType",E[E.renderControlCharacters=82]="renderControlCharacters",E[E.renderIndentGuides=83]="renderIndentGuides",E[E.renderFinalNewline=84]="renderFinalNewline",E[E.renderLineHighlight=85]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=87]="renderValidationDecorations",E[E.renderWhitespace=88]="renderWhitespace",E[E.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",E[E.roundedSelection=90]="roundedSelection",E[E.rulers=91]="rulers",E[E.scrollbar=92]="scrollbar",E[E.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=94]="scrollBeyondLastLine",E[E.scrollPredominantAxis=95]="scrollPredominantAxis",E[E.selectionClipboard=96]="selectionClipboard",E[E.selectionHighlight=97]="selectionHighlight",E[E.selectOnLineNumbers=98]="selectOnLineNumbers",E[E.showFoldingControls=99]="showFoldingControls",E[E.showUnused=100]="showUnused",E[E.snippetSuggestions=101]="snippetSuggestions",E[E.smartSelect=102]="smartSelect",E[E.smoothScrolling=103]="smoothScrolling",E[E.stickyTabStops=104]="stickyTabStops",E[E.stopRenderingLineAfter=105]="stopRenderingLineAfter",E[E.suggest=106]="suggest",E[E.suggestFontSize=107]="suggestFontSize",E[E.suggestLineHeight=108]="suggestLineHeight",E[E.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",E[E.suggestSelection=110]="suggestSelection",E[E.tabCompletion=111]="tabCompletion",E[E.tabIndex=112]="tabIndex",E[E.unusualLineTerminators=113]="unusualLineTerminators",E[E.useShadowDOM=114]="useShadowDOM",E[E.useTabStops=115]="useTabStops",E[E.wordSeparators=116]="wordSeparators",E[E.wordWrap=117]="wordWrap",E[E.wordWrapBreakAfterCharacters=118]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=119]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=120]="wordWrapColumn",E[E.wordWrapOverride1=121]="wordWrapOverride1",E[E.wordWrapOverride2=122]="wordWrapOverride2",E[E.wrappingIndent=123]="wrappingIndent",E[E.wrappingStrategy=124]="wrappingStrategy",E[E.showDeprecated=125]="showDeprecated",E[E.inlayHints=126]="inlayHints",E[E.editorClassName=127]="editorClassName",E[E.pixelRatio=128]="pixelRatio",E[E.tabFocusMode=129]="tabFocusMode",E[E.layoutInfo=130]="layoutInfo",E[E.wrappingInfo=131]="wrappingInfo"})(a=e.EditorOption||(e.EditorOption={}));var u;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(u=e.EndOfLinePreference||(e.EndOfLinePreference={}));var h;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(h=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var r;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(r=e.InlayHintKind||(e.InlayHintKind={}));var n;(function(E){E[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit"})(n=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var l;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(l=e.KeyCode||(e.KeyCode={}));var t;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(t=e.MarkerSeverity||(e.MarkerSeverity={}));var o;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(o=e.MarkerTag||(e.MarkerTag={}));var c;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(c=e.MinimapPosition||(e.MinimapPosition={}));var f;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(f=e.MouseTargetType||(e.MouseTargetType={}));var y;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(y=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var b;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(b=e.OverviewRulerLane||(e.OverviewRulerLane={}));var g;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(g=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var m;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(m=e.RenderMinimap||(e.RenderMinimap={}));var w;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(w=e.ScrollType||(e.ScrollType={}));var D;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(D=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var k;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(k=e.SelectionDirection||(e.SelectionDirection={}));var T;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(T=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var R;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(R=e.SymbolKind||(e.SymbolKind={}));var M;(function(E){E[E.Deprecated=1]="Deprecated"})(M=e.SymbolTag||(e.SymbolTag={}));var A;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(A=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var P;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(P=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(te[227],ne([0,1,23,6,43,24,13,3,21,136,177]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(h,d){return(0,I.KeyChord)(h,d)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function a(){return{editor:void 0,languages:void 0,CancellationTokenSource:_.CancellationTokenSource,Emitter:N.Emitter,KeyCode:C.KeyCode,KeyMod:s,Position:S.Position,Range:p.Range,Selection:v.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:L.URI,Token:i.Token}}e.createMonacoBaseAPI=a}),define(te[228],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class _{constructor(S,p,v){this._colorZoneBrand=void 0,this.from=S|0,this.to=p|0,this.colorId=v|0}static compare(S,p){return S.colorId===p.colorId?S.from===p.from?S.to-p.to:S.from-p.from:S.colorId-p.colorId}}e.ColorZone=_;class N{constructor(S,p,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=p,this.color=v,this._colorZone=null}static compare(S,p){return S.color===p.color?S.startLineNumber===p.startLineNumber?S.endLineNumber-p.endLineNumber:S.startLineNumber-p.startLineNumber:S.color<p.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=N;class I{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(N.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,p=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),C=v/i,s=Math.floor(4*this._pixelRatio/2);let a=[];for(let u=0,h=this._zones.length;u<h;u++){const d=this._zones[u];if(!S){const y=d.getColorZones();if(y){a.push(y);continue}}const r=Math.floor(C*this._getVerticalOffsetForLine(d.startLineNumber)),n=Math.floor(C*(this._getVerticalOffsetForLine(d.endLineNumber)+p));let l=Math.floor((r+n)/2),t=n-l;t<s&&(t=s),l-t<0&&(l=t),l+t>v&&(l=v-t);const o=d.color;let c=this._color2Id[o];c||(c=++this._lastAssignedId,this._color2Id[o]=c,this._id2Color[c]=o);const f=new _(l-t,l+t,c);d.setColorZone(f),a.push(f)}return this._colorZonesInvalid=!1,a.sort(_.compare),a}}e.OverviewZoneManager=I}),define(te[114],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class _{constructor(C,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=C,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const a=this._viewLayout.getCurrentViewport();this.scrollTop=a.top,this.scrollLeft=a.left,this.viewportWidth=a.width,this.viewportHeight=a.height}getScrolledTopFromAbsoluteTop(C){return C-this.scrollTop}getVerticalOffsetForLineNumber(C){return this._viewLayout.getVerticalOffsetForLineNumber(C)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=_;class N extends _{constructor(C,s,a){super(C,s);this._renderingContextBrand=void 0,this._viewLines=a}linesVisibleRangesForRange(C,s){return this._viewLines.linesVisibleRangesForRange(C,s)}visibleRangeForPosition(C){return this._viewLines.visibleRangeForPosition(C)}}e.RenderingContext=N;class I{constructor(C,s,a){this.outsideRenderedLine=C,this.lineNumber=s,this.ranges=a}}e.LineVisibleRanges=I;class L{constructor(C,s){this._horizontalRangeBrand=void 0,this.left=Math.round(C),this.width=Math.round(s)}static from(C){const s=new Array(C.length);for(let a=0,u=C.length;a<u;a++){const h=C[a];s[a]=new L(h.left,h.width)}return s}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=L;class S{constructor(C,s){this._floatHorizontalRangeBrand=void 0,this.left=C,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(C,s){return C.left-s.left}}e.FloatHorizontalRange=S;class p{constructor(C,s){this.outsideRenderedLine=C,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=p;class v{constructor(C,s){this.outsideRenderedLine=C,this.ranges=s}}e.VisibleRanges=v}),define(te[402],ne([0,1,114]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class N{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(L,S){L.selectNodeContents(S)}static _readClientRects(L,S,p,v,i){const C=this._createRange();try{return C.setStart(L,S),C.setEnd(p,v),C.getClientRects()}catch(s){return null}finally{this._detachRange(C,i)}}static _mergeAdjacentRanges(L){if(L.length===1)return L;L.sort(_.FloatHorizontalRange.compare);let S=[],p=0,v=L[0];for(let i=1,C=L.length;i<C;i++){const s=L[i];v.left+v.width+.9>=s.left?v.width=Math.max(v.width,s.left+s.width-v.left):(S[p++]=v,v=s)}return S[p++]=v,S}static _createHorizontalRangesFromClientRects(L,S){if(!L||L.length===0)return null;const p=[];for(let v=0,i=L.length;v<i;v++){const C=L[v];p[v]=new _.FloatHorizontalRange(Math.max(0,C.left-S),C.width)}return this._mergeAdjacentRanges(p)}static readHorizontalRanges(L,S,p,v,i,C,s){const a=0,u=L.children.length-1;if(a>u)return null;if(S=Math.min(u,Math.max(a,S)),v=Math.min(u,Math.max(a,v)),S===v&&p===i&&p===0&&!L.children[S].firstChild){const n=L.children[S].getClientRects();return this._createHorizontalRangesFromClientRects(n,C)}S!==v&&v>0&&i===0&&(v--,i=1073741824);let h=L.children[S].firstChild,d=L.children[v].firstChild;if((!h||!d)&&(!h&&p===0&&S>0&&(h=L.children[S-1].firstChild,p=1073741824),!d&&i===0&&v>0&&(d=L.children[v-1].firstChild,i=1073741824)),!h||!d)return null;p=Math.min(h.textContent.length,Math.max(0,p)),i=Math.min(d.textContent.length,Math.max(0,i));const r=this._readClientRects(h,p,d,i,s);return this._createHorizontalRangesFromClientRects(r,C)}}e.RangeUtil=N}),define(te[403],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class _{constructor(L){this._theme=L}get type(){return this._theme.type}update(L){this._theme=L}getColor(L){return this._theme.getColor(L)}}e.EditorTheme=_;class N{constructor(L,S,p){this.configuration=L,this.theme=new _(S),this.model=p,this.viewLayout=p.viewLayout}addEventHandler(L){this.model.addViewEventHandler(L)}removeEventHandler(L){this.model.removeViewEventHandler(L)}}e.ViewContext=N}),define(te[178],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class _{constructor(){this.type=0}}e.ViewCompositionStartEvent=_;class N{constructor(){this.type=1}}e.ViewCompositionEndEvent=N;class I{constructor(c){this.type=2,this._source=c}hasChanged(c){return this._source.hasChanged(c)}}e.ViewConfigurationChangedEvent=I;class L{constructor(c,f){this.type=3,this.selections=c,this.modelSelections=f}}e.ViewCursorStateChangedEvent=L;class S{constructor(c){this.type=4,c?(this.affectsMinimap=c.affectsMinimap,this.affectsOverviewRuler=c.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class v{constructor(c){this.type=6,this.isFocused=c}}e.ViewFocusChangedEvent=v;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class s{constructor(c,f){this.type=9,this.fromLineNumber=c,this.toLineNumber=f}}e.ViewLinesChangedEvent=s;class a{constructor(c,f){this.type=10,this.fromLineNumber=c,this.toLineNumber=f}}e.ViewLinesDeletedEvent=a;class u{constructor(c,f){this.type=11,this.fromLineNumber=c,this.toLineNumber=f}}e.ViewLinesInsertedEvent=u;class h{constructor(c,f,y,b,g,m){this.type=12,this.source=c,this.range=f,this.selections=y,this.verticalType=b,this.revealHorizontal=g,this.scrollType=m}}e.ViewRevealRangeRequestEvent=h;class d{constructor(c){this.type=13,this.scrollWidth=c.scrollWidth,this.scrollLeft=c.scrollLeft,this.scrollHeight=c.scrollHeight,this.scrollTop=c.scrollTop,this.scrollWidthChanged=c.scrollWidthChanged,this.scrollLeftChanged=c.scrollLeftChanged,this.scrollHeightChanged=c.scrollHeightChanged,this.scrollTopChanged=c.scrollTopChanged}}e.ViewScrollChangedEvent=d;class r{constructor(){this.type=14}}e.ViewThemeChangedEvent=r;class n{constructor(c){this.type=15,this.ranges=c}}e.ViewTokensChangedEvent=n;class l{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=l;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(te[139],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class N{constructor(v,i,C,s){this.startColumn=v,this.endColumn=i,this.className=C,this.type=s,this._lineDecorationBrand=void 0}static _equals(v,i){return v.startColumn===i.startColumn&&v.endColumn===i.endColumn&&v.className===i.className&&v.type===i.type}static equalsArr(v,i){const C=v.length,s=i.length;if(C!==s)return!1;for(let a=0;a<C;a++)if(!N._equals(v[a],i[a]))return!1;return!0}static extractWrapped(v,i,C){if(v.length===0)return v;const s=i+1,a=C+1,u=C-i,h=[];let d=0;for(const r of v)r.endColumn<=s||r.startColumn>=a||(h[d++]=new N(Math.max(1,r.startColumn-s+1),Math.min(u+1,r.endColumn-s+1),r.className,r.type));return h}static filter(v,i,C,s){if(v.length===0)return[];let a=[],u=0;for(let h=0,d=v.length;h<d;h++){const r=v[h],n=r.range;if(n.endLineNumber<i||n.startLineNumber>i||n.isEmpty()&&(r.type===0||r.type===3))continue;const l=n.startLineNumber===i?n.startColumn:C,t=n.endLineNumber===i?n.endColumn:s;a[u++]=new N(l,t,r.inlineClassName,r.type)}return a}static _typeCompare(v,i){const C=[2,0,1,3];return C[v]-C[i]}static compare(v,i){if(v.startColumn!==i.startColumn)return v.startColumn-i.startColumn;if(v.endColumn!==i.endColumn)return v.endColumn-i.endColumn;const C=N._typeCompare(v.type,i.type);return C!==0?C:v.className!==i.className?v.className<i.className?-1:1:0}}e.LineDecoration=N;class I{constructor(v,i,C,s){this.startOffset=v,this.endOffset=i,this.className=C,this.metadata=s}}e.DecorationSegment=I;class L{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let i=0;for(let C=0,s=v.length;C<s;C++)i|=v[C];return i}consumeLowerThan(v,i,C){for(;this.count>0&&this.stopOffsets[0]<v;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;C.push(new I(i,this.stopOffsets[s],this.classNames.join(" "),L._metadata(this.metadata))),i=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&i<v&&(C.push(new I(i,v-1,this.classNames.join(" "),L._metadata(this.metadata))),i=v),i}insert(v,i,C){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(i),this.metadata.push(C);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=v){this.stopOffsets.splice(s,0,v),this.classNames.splice(s,0,i),this.metadata.splice(s,0,C);break}this.count++}}class S{static normalize(v,i){if(i.length===0)return[];let C=[];const s=new L;let a=0;for(let u=0,h=i.length;u<h;u++){const d=i[u];let r=d.startColumn,n=d.endColumn;const l=d.className,t=d.type===1?2:d.type===2?4:0;if(r>1){const f=v.charCodeAt(r-2);_.isHighSurrogate(f)&&r--}if(n>1){const f=v.charCodeAt(n-2);_.isHighSurrogate(f)&&n--}const o=r-1,c=n-2;a=s.consumeLowerThan(o,a,C),s.count===0&&(a=o),s.insert(c,l,t)}return s.consumeLowerThan(1073741824,a,C),C}}e.LineDecorationsNormalizer=S}),define(te[404],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class N{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const v=this._inserts,i=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(v,i,C)}}class I{constructor(p,v,i,C,s){this.id=p,this.afterLineNumber=v,this.ordinal=i,this.height=C,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=I;class L{constructor(p,v,i,C){this._instanceId=_.singleLetterHash(++L.INSTANCE_COUNT),this._pendingChanges=new N,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=v,this._paddingTop=i,this._paddingBottom=C}static findInsertionIndex(p,v,i){let C=0,s=p.length;for(;C<s;){const a=C+s>>>1;v===p[a].afterLineNumber?i<p[a].ordinal?s=a:C=a+1:v<p[a].afterLineNumber?s=a:C=a+1}return C}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,v){this._paddingTop=p,this._paddingBottom=v}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let v=!1;try{p({insertWhitespace:(C,s,a,u)=>{v=!0,C=C|0,s=s|0,a=a|0,u=u|0;const h=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new I(h,C,s,a,u)),h},changeOneWhitespace:(C,s,a)=>{v=!0,s=s|0,a=a|0,this._pendingChanges.change({id:C,newAfterLineNumber:s,newHeight:a})},removeWhitespace:C=>{v=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(p,v,i){if((p.length>0||i.length>0)&&(this._minWidth=-1),p.length+v.length+i.length<=1){for(const h of p)this._insertWhitespace(h);for(const h of v)this._changeOneWhitespace(h.id,h.newAfterLineNumber,h.newHeight);for(const h of i){const d=this._findWhitespaceIndex(h.id);d!==-1&&this._removeWhitespace(d)}return}const C=new Set;for(const h of i)C.add(h.id);const s=new Map;for(const h of v)s.set(h.id,h);const a=h=>{let d=[];for(const r of h)if(!C.has(r.id)){if(s.has(r.id)){const n=s.get(r.id);r.afterLineNumber=n.newAfterLineNumber,r.height=n.newHeight}d.push(r)}return d},u=a(this._arr).concat(a(p));u.sort((h,d)=>h.afterLineNumber===d.afterLineNumber?h.ordinal-d.ordinal:h.afterLineNumber-d.afterLineNumber),this._arr=u,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const v=L.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(v,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(p){const v=this._arr;for(let i=0,C=v.length;i<C;i++)if(v[i].id===p)return i;return-1}_changeOneWhitespace(p,v,i){const C=this._findWhitespaceIndex(p);if(C!==-1&&(this._arr[C].height!==i&&(this._arr[C].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==v)){const s=this._arr[C];this._removeWhitespace(C),s.afterLineNumber=v,this._insertWhitespace(s)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,v){this._checkPendingChanges(),p=p|0,v=v|0,this._lineCount-=v-p+1;for(let i=0,C=this._arr.length;i<C;i++){const s=this._arr[i].afterLineNumber;p<=s&&s<=v?this._arr[i].afterLineNumber=p-1:s>v&&(this._arr[i].afterLineNumber-=v-p+1)}}onLinesInserted(p,v){this._checkPendingChanges(),p=p|0,v=v|0,this._lineCount+=v-p+1;for(let i=0,C=this._arr.length;i<C;i++){const s=this._arr[i].afterLineNumber;p<=s&&(this._arr[i].afterLineNumber+=v-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let i=v;i<=p;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return p+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const v=this._findLastWhitespaceBeforeLineNumber(p);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const v=this._arr;let i=0,C=v.length-1;for(;i<=C;){const a=(C-i|0)/2|0,u=i+a|0;if(v[u].afterLineNumber<p){if(u+1>=v.length||v[u+1].afterLineNumber>=p)return u;i=u+1|0}else C=u-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const i=this._findLastWhitespaceBeforeLineNumber(p)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p){this._checkPendingChanges(),p=p|0;let v;p>1?v=this._lineHeight*(p-1):v=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p);return v+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let v=0,i=this._arr.length;v<i;v++)p=Math.max(p,this._arr[v].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const v=this.getLinesTotalHeight();return p>v}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return p>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const v=this._lineCount|0,i=this._lineHeight;let C=1,s=v;for(;C<s;){const a=(C+s)/2|0,u=this.getVerticalOffsetForLineNumber(a)|0;if(p>=u+i)C=a+1;else{if(p>=u)return a;s=a}}return C>v?v:C}getLinesViewportData(p,v){this._checkPendingChanges(),p=p|0,v=v|0;const i=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(p)|0,s=this.getVerticalOffsetForLineNumber(C)|0;let a=this._lineCount|0,u=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const h=this.getWhitespacesCount()|0;let d,r;u===-1?(u=h,r=a+1,d=0):(r=this.getAfterLineNumberForWhitespaceIndex(u)|0,d=this.getHeightForWhitespaceIndex(u)|0);let n=s,l=n;const t=5e5;let o=0;s>=t&&(o=Math.floor(s/t)*t,o=Math.floor(o/i)*i,l-=o);const c=[],f=p+(v-p)/2;let y=-1;for(let w=C;w<=a;w++){if(y===-1){const D=n,k=n+i;(D<=f&&f<k||D>f)&&(y=w)}for(n+=i,c[w-C]=l,l+=i;r===w;)l+=d,n+=d,u++,u>=h?r=a+1:(r=this.getAfterLineNumberForWhitespaceIndex(u)|0,d=this.getHeightForWhitespaceIndex(u)|0);if(n>=v){a=w;break}}y===-1&&(y=a);const b=this.getVerticalOffsetForLineNumber(a)|0;let g=C,m=a;return g<m&&s<p&&g++,g<m&&b+i>v&&m--,{bigNumbersDelta:o,startLineNumber:C,endLineNumber:a,relativeVerticalOffset:c,centeredLineNumber:y,completelyVisibleStartLineNumber:g,completelyVisibleEndLineNumber:m}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const v=this.getAfterLineNumberForWhitespaceIndex(p);let i;v>=1?i=this._lineHeight*v:i=0;let C;return p>0?C=this.getWhitespacesAccumulatedHeight(p-1):C=0,i+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let v=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(p>=C+s)return-1;for(;v<i;){const a=Math.floor((v+i)/2),u=this.getVerticalOffsetForWhitespaceIndex(a),h=this.getHeightForWhitespaceIndex(a);if(p>=u+h)v=a+1;else{if(p>=u)return a;i=a}}return v}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(v<0||v>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(v);if(i>p)return null;const C=this.getHeightForWhitespaceIndex(v),s=this.getIdForWhitespaceIndex(v),a=this.getAfterLineNumberForWhitespaceIndex(v);return{id:s,afterLineNumber:a,verticalOffset:i,height:C}}getWhitespaceViewportData(p,v){this._checkPendingChanges(),p=p|0,v=v|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),C=this.getWhitespacesCount()-1;if(i<0)return[];let s=[];for(let a=i;a<=C;a++){const u=this.getVerticalOffsetForWhitespaceIndex(a),h=this.getHeightForWhitespaceIndex(a);if(u>=v)break;s.push({id:this.getIdForWhitespaceIndex(a),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(a),verticalOffset:u,height:h})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=L,L.INSTANCE_COUNT=0}),define(te[115],ne([0,1,8,84,139]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class L{constructor(f,y,b){this._linePartBrand=void 0,this.endIndex=f,this.type=y,this.metadata=b}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class S{constructor(f,y){this.startOffset=f,this.endOffset=y}equals(f){return this.startOffset===f.startOffset&&this.endOffset===f.endOffset}}e.LineRange=S;class p{constructor(f,y,b,g,m,w,D,k,T,R,M,A,O,P,F,E,x,W,G){this.useMonospaceOptimizations=f,this.canUseHalfwidthRightwardsArrow=y,this.lineContent=b,this.continuesWithWrappedLine=g,this.isBasicASCII=m,this.containsRTL=w,this.fauxIndentLength=D,this.lineTokens=k,this.lineDecorations=T.sort(I.LineDecoration.compare),this.tabSize=R,this.startVisibleColumn=M,this.spaceWidth=A,this.stopRenderingLineAfter=F,this.renderWhitespace=E==="all"?4:E==="boundary"?1:E==="selection"?2:E==="trailing"?3:0,this.renderControlCharacters=x,this.fontLigatures=W,this.selectionsOnLine=G&&G.sort((re,J)=>re.startOffset<J.startOffset?-1:1);const Y=Math.abs(P-A),se=Math.abs(O-A);Y<se?(this.renderSpaceWidth=P,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=O,this.renderSpaceCharCode=183)}sameSelection(f){if(this.selectionsOnLine===null)return f===null;if(f===null||f.length!==this.selectionsOnLine.length)return!1;for(let y=0;y<this.selectionsOnLine.length;y++)if(!this.selectionsOnLine[y].equals(f[y]))return!1;return!0}equals(f){return this.useMonospaceOptimizations===f.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===f.canUseHalfwidthRightwardsArrow&&this.lineContent===f.lineContent&&this.continuesWithWrappedLine===f.continuesWithWrappedLine&&this.isBasicASCII===f.isBasicASCII&&this.containsRTL===f.containsRTL&&this.fauxIndentLength===f.fauxIndentLength&&this.tabSize===f.tabSize&&this.startVisibleColumn===f.startVisibleColumn&&this.spaceWidth===f.spaceWidth&&this.renderSpaceWidth===f.renderSpaceWidth&&this.renderSpaceCharCode===f.renderSpaceCharCode&&this.stopRenderingLineAfter===f.stopRenderingLineAfter&&this.renderWhitespace===f.renderWhitespace&&this.renderControlCharacters===f.renderControlCharacters&&this.fontLigatures===f.fontLigatures&&I.LineDecoration.equalsArr(this.lineDecorations,f.lineDecorations)&&this.lineTokens.equals(f.lineTokens)&&this.sameSelection(f.selectionsOnLine)}}e.RenderLineInput=p;class v{constructor(f,y){this.partIndex=f,this.charIndex=y}}e.DomPosition=v;class i{constructor(f,y){this.length=f,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(f){return(f&4294901760)>>>16}static getCharIndex(f){return(f&65535)>>>0}setColumnInfo(f,y,b,g){const m=(y<<16|b<<0)>>>0;this._data[f-1]=m,this._absoluteOffsets[f-1]=g+b}getAbsoluteOffset(f){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[f-1]}charOffsetToPartData(f){return this.length===0?0:f<0?this._data[0]:f>=this.length?this._data[this.length-1]:this._data[f]}getDomPosition(f){const y=this.charOffsetToPartData(f-1),b=i.getPartIndex(y),g=i.getCharIndex(y);return new v(b,g)}getColumn(f,y){return this.partDataToCharOffset(f.partIndex,y,f.charIndex)+1}partDataToCharOffset(f,y,b){if(this.length===0)return 0;let g=(f<<16|b<<0)>>>0,m=0,w=this.length-1;for(;m+1<w;){let F=m+w>>>1,E=this._data[F];if(E===g)return F;E>g?w=F:m=F}if(m===w)return m;let D=this._data[m],k=this._data[w];if(D===g)return m;if(k===g)return w;let T=i.getPartIndex(D),R=i.getCharIndex(D),M=i.getPartIndex(k),A;T!==M?A=y:A=i.getCharIndex(k);let O=b-R,P=A-b;return O<=P?m:w}}e.CharacterMapping=i;class C{constructor(f,y,b){this._renderLineOutputBrand=void 0,this.characterMapping=f,this.containsRTL=y,this.containsForeignElements=b}}e.RenderLineOutput=C;function s(c,f){if(c.lineContent.length===0){if(c.lineDecorations.length>0){f.appendASCIIString("<span>");let y=0,b=0,g=0;for(const w of c.lineDecorations)(w.type===1||w.type===2)&&(f.appendASCIIString('<span class="'),f.appendASCIIString(w.className),f.appendASCIIString('"></span>'),w.type===1&&(g|=1,y++),w.type===2&&(g|=2,b++));f.appendASCIIString("</span>");const m=new i(1,y+b);return m.setColumnInfo(1,y,0,0),new C(m,!1,g)}return f.appendASCIIString("<span><span></span></span>"),new C(new i(0,0),!1,0)}return o(d(c),f)}e.renderViewLine=s;class a{constructor(f,y,b,g){this.characterMapping=f,this.html=y,this.containsRTL=b,this.containsForeignElements=g}}e.RenderLineOutput2=a;function u(c){let f=(0,N.createStringBuilder)(1e4),y=s(c,f);return new a(y.characterMapping,f.build(),y.containsRTL,y.containsForeignElements)}e.renderViewLine2=u;class h{constructor(f,y,b,g,m,w,D,k,T,R,M,A,O,P,F){this.fontIsMonospace=f,this.canUseHalfwidthRightwardsArrow=y,this.lineContent=b,this.len=g,this.isOverflowing=m,this.parts=w,this.containsForeignElements=D,this.fauxIndentLength=k,this.tabSize=T,this.startVisibleColumn=R,this.containsRTL=M,this.spaceWidth=A,this.renderSpaceCharCode=O,this.renderWhitespace=P,this.renderControlCharacters=F}}function d(c){const f=c.lineContent;let y,b;c.stopRenderingLineAfter!==-1&&c.stopRenderingLineAfter<f.length?(y=!0,b=c.stopRenderingLineAfter):(y=!1,b=f.length);let g=r(c.lineTokens,c.fauxIndentLength,b);(c.renderWhitespace===4||c.renderWhitespace===1||c.renderWhitespace===2&&!!c.selectionsOnLine||c.renderWhitespace===3)&&(g=l(c,f,b,g));let m=0;if(c.lineDecorations.length>0){for(let w=0,D=c.lineDecorations.length;w<D;w++){const k=c.lineDecorations[w];k.type===3||k.type===1?m|=1:k.type===2&&(m|=2)}g=t(f,b,g,c.lineDecorations)}return c.containsRTL||(g=n(f,g,!c.isBasicASCII||c.fontLigatures)),new h(c.useMonospaceOptimizations,c.canUseHalfwidthRightwardsArrow,f,b,y,g,m,c.fauxIndentLength,c.tabSize,c.startVisibleColumn,c.containsRTL,c.spaceWidth,c.renderSpaceCharCode,c.renderWhitespace,c.renderControlCharacters)}function r(c,f,y){let b=[],g=0;f>0&&(b[g++]=new L(f,"",0));for(let m=0,w=c.getCount();m<w;m++){const D=c.getEndOffset(m);if(D<=f)continue;const k=c.getClassName(m);if(D>=y){b[g++]=new L(y,k,0);break}b[g++]=new L(D,k,0)}return b}function n(c,f,y){let b=0,g=[],m=0;if(y)for(let w=0,D=f.length;w<D;w++){const k=f[w],T=k.endIndex;if(b+50<T){const R=k.type,M=k.metadata;let A=-1,O=b;for(let P=b;P<T;P++)c.charCodeAt(P)===32&&(A=P),A!==-1&&P-O>=50&&(g[m++]=new L(A+1,R,M),O=A+1,A=-1);O!==T&&(g[m++]=new L(T,R,M))}else g[m++]=k;b=T}else for(let w=0,D=f.length;w<D;w++){const k=f[w],T=k.endIndex;let R=T-b;if(R>50){const M=k.type,A=k.metadata,O=Math.ceil(R/50);for(let P=1;P<O;P++){let F=b+P*50;g[m++]=new L(F,M,A)}g[m++]=new L(T,M,A)}else g[m++]=k;b=T}return g}function l(c,f,y,b){const g=c.continuesWithWrappedLine,m=c.fauxIndentLength,w=c.tabSize,D=c.startVisibleColumn,k=c.useMonospaceOptimizations,T=c.selectionsOnLine,R=c.renderWhitespace===1,M=c.renderWhitespace===3,A=c.renderSpaceWidth!==c.spaceWidth;let O=[],P=0,F=0,E=b[F].type,x=b[F].endIndex;const W=b.length;let G=!1,Y=_.firstNonWhitespaceIndex(f),se;Y===-1?(G=!0,Y=y,se=y):se=_.lastNonWhitespaceIndex(f);let re=!1,J=0,le=T&&T[J],ae=D%w;for(let B=m;B<y;B++){const Z=f.charCodeAt(B);le&&B>=le.endOffset&&(J++,le=T&&T[J]);let H;if(B<Y||B>se)H=!0;else if(Z===9)H=!0;else if(Z===32)if(R)if(re)H=!0;else{const z=B+1<y?f.charCodeAt(B+1):0;H=z===32||z===9}else H=!0;else H=!1;if(H&&T&&(H=!!le&&le.startOffset<=B&&le.endOffset>B),H&&M&&(H=G||B>se),re){if(!H||!k&&ae>=w){if(A){const z=P>0?O[P-1].endIndex:m;for(let ie=z+1;ie<=B;ie++)O[P++]=new L(ie,"mtkw",1)}else O[P++]=new L(B,"mtkw",1);ae=ae%w}}else(B===x||H&&B>m)&&(O[P++]=new L(B,E,0),ae=ae%w);for(Z===9?ae=w:_.isFullWidthCharacter(Z)?ae+=2:ae++,re=H;B===x&&(F++,F<W);)E=b[F].type,x=b[F].endIndex}let V=!1;if(re)if(g&&R){let B=y>0?f.charCodeAt(y-1):0,Z=y>1?f.charCodeAt(y-2):0;B===32&&Z!==32&&Z!==9||(V=!0)}else V=!0;if(V)if(A){const B=P>0?O[P-1].endIndex:m;for(let Z=B+1;Z<=y;Z++)O[P++]=new L(Z,"mtkw",1)}else O[P++]=new L(y,"mtkw",1);else O[P++]=new L(y,E,0);return O}function t(c,f,y,b){b.sort(I.LineDecoration.compare);const g=I.LineDecorationsNormalizer.normalize(c,b),m=g.length;let w=0,D=[],k=0,T=0;for(let M=0,A=y.length;M<A;M++){const O=y[M],P=O.endIndex,F=O.type,E=O.metadata;for(;w<m&&g[w].startOffset<P;){const x=g[w];if(x.startOffset>T&&(T=x.startOffset,D[k++]=new L(T,F,E)),x.endOffset+1<=P)T=x.endOffset+1,D[k++]=new L(T,F+" "+x.className,E|x.metadata),w++;else{T=P,D[k++]=new L(T,F+" "+x.className,E|x.metadata);break}}P>T&&(T=P,D[k++]=new L(T,F,E))}const R=y[y.length-1].endIndex;if(w<m&&g[w].startOffset===R)for(;w<m&&g[w].startOffset===R;){const M=g[w];D[k++]=new L(T,M.className,M.metadata),w++}return D}function o(c,f){const y=c.fontIsMonospace,b=c.canUseHalfwidthRightwardsArrow,g=c.containsForeignElements,m=c.lineContent,w=c.len,D=c.isOverflowing,k=c.parts,T=c.fauxIndentLength,R=c.tabSize,M=c.startVisibleColumn,A=c.containsRTL,O=c.spaceWidth,P=c.renderSpaceCharCode,F=c.renderWhitespace,E=c.renderControlCharacters,x=new i(w+1,k.length);let W=!1,G=0,Y=M,se=0,re=0,J=0,le=0;A?f.appendASCIIString('<span dir="ltr">'):f.appendASCIIString("<span>");for(let ae=0,V=k.length;ae<V;ae++){le+=J;const B=k[ae],Z=B.endIndex,H=B.type,z=F!==0&&B.isWhitespace(),ie=z&&!y&&(H==="mtkw"||!g),ce=G===Z&&B.isPseudoAfter();if(se=0,f.appendASCIIString('<span class="'),f.appendASCIIString(ie?"mtkz":H),f.appendASCII(34),z){let K=0;{let Q=G,U=Y;for(;Q<Z;Q++){const de=(m.charCodeAt(Q)===9?R-U%R:1)|0;K+=de,Q>=T&&(U+=de)}}for(ie&&(f.appendASCIIString(' style="width:'),f.appendASCIIString(String(O*K)),f.appendASCIIString('px"')),f.appendASCII(62);G<Z;G++){x.setColumnInfo(G+1,ae-re,se,le),re=0;const Q=m.charCodeAt(G);let U;if(Q===9){U=R-Y%R|0,!b||U>1?f.write1(8594):f.write1(65515);for(let ee=2;ee<=U;ee++)f.write1(160)}else U=1,f.write1(P);se+=U,G>=T&&(Y+=U)}J=K}else{let K=0;for(f.appendASCII(62);G<Z;G++){x.setColumnInfo(G+1,ae-re,se,le),re=0;const Q=m.charCodeAt(G);let U=1,ee=1;switch(Q){case 9:U=R-Y%R,ee=U;for(let de=1;de<=U;de++)f.write1(160);break;case 32:f.write1(160);break;case 60:f.appendASCIIString("&lt;");break;case 62:f.appendASCIIString("&gt;");break;case 38:f.appendASCIIString("&amp;");break;case 0:E?f.write1(9216):f.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:f.write1(65533);break;default:_.isFullWidthCharacter(Q)&&ee++,E&&Q<32?f.write1(9216+Q):E&&Q===127?f.write1(9249):f.write1(Q)}se+=U,K+=U,G>=T&&(Y+=ee)}J=K}ce?re++:re=0,G>=w&&!W&&B.isPseudoAfter()&&(W=!0,x.setColumnInfo(G+1,ae,se,le)),f.appendASCIIString("</span>")}return W||x.setColumnInfo(w+1,k.length-1,se,le),D&&f.appendASCIIString("<span>&hellip;</span>"),f.appendASCIIString("</span>"),new C(x,A,g)}}),define(te[405],ne([0,1,3]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class N{constructor(L,S,p,v){this.selections=L,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=p,this._model=v,this.visibleRange=new _.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(L){return this._model.getViewLineRenderingData(this.visibleRange,L)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=N}),define(te[229],ne([0,1,131]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class N{constructor(S,p){this._prefixSumIndexOfResultBrand=void 0,this.index=S,this.remainder=p}}e.PrefixSumIndexOfResult=N;class I{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,p){S=(0,_.toUint32)(S);const v=this.values,i=this.prefixSum,C=p.length;return C===0?!1:(this.values=new Uint32Array(v.length+C),this.values.set(v.subarray(0,S),0),this.values.set(v.subarray(S),S+C),this.values.set(p,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,p){return S=(0,_.toUint32)(S),p=(0,_.toUint32)(p),this.values[S]===p?!1:(this.values[S]=p,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,p){S=(0,_.toUint32)(S),p=(0,_.toUint32)(p);const v=this.values,i=this.prefixSum;if(S>=v.length)return!1;let C=v.length-S;return p>=C&&(p=C),p===0?!1:(this.values=new Uint32Array(v.length-p),this.values.set(v.subarray(0,S),0),this.values.set(v.subarray(S+p),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(S){return S<0?0:(S=(0,_.toUint32)(S),this._getPrefixSum(S))}_getPrefixSum(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let p=this.prefixSumValidIndex[0]+1;p===0&&(this.prefixSum[0]=this.values[0],p++),S>=this.values.length&&(S=this.values.length-1);for(let v=p;v<=S;v++)this.prefixSum[v]=this.prefixSum[v-1]+this.values[v];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalSum();let p=0,v=this.values.length-1,i=0,C=0,s=0;for(;p<=v;)if(i=p+(v-p)/2|0,C=this.prefixSum[i],s=C-this.values[i],S<s)v=i-1;else if(S>=C)p=i+1;else break;return new N(i,S-s)}}e.PrefixSumComputer=I}),define(te[406],ne([0,1,8,13,229]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class L{constructor(p,v,i,C){this._uri=p,this._lines=v,this._eol=i,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const v=p.changes;for(const i of v)this._acceptDeleteRange(i.range),this._acceptInsertText(new N.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,v=this._lines.length,i=new Uint32Array(v);for(let C=0;C<v;C++)i[C]=this._lines[C].length+p;this._lineStarts=new I.PrefixSumComputer(i)}}_setLineText(p,v){this._lines[p]=v,this._lineStarts&&this._lineStarts.changeValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,v){if(v.length===0)return;let i=(0,_.splitLines)(v);if(i.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}i[i.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]);let C=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(p.lineNumber+s-1,0,i[s]),C[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,C)}}e.MirrorTextModel=L}),define(te[407],ne([0,1,130,17,24,13,3,384,406,138,393,396,227,20,83]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class d extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,o){let c=(0,i.getWordAtText)(t.column,(0,i.ensureValidWordDefinition)(o),this._lines[t.lineNumber-1],0);return c?new S.Range(t.lineNumber,c.startColumn,t.lineNumber,c.endColumn):null}words(t){const o=this._lines,c=this._wordenize.bind(this);let f=0,y="",b=0,g=[];return{*[Symbol.iterator](){for(;;)if(b<g.length){const m=y.substring(g[b].start,g[b].end);b+=1,yield m}else if(f<o.length)y=o[f],g=c(y,t),b=0,f+=1;else break}}}getLineWords(t,o){let c=this._lines[t-1],f=this._wordenize(c,o),y=[];for(const b of f)y.push({word:c.substring(b.start,b.end),startColumn:b.start+1,endColumn:b.end+1});return y}_wordenize(t,o){const c=[];let f;for(o.lastIndex=0;(f=o.exec(t))&&f[0].length!==0;)c.push({start:f.index,end:f.index+f[0].length});return c}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let o=this._eol,c=t.startLineNumber-1,f=t.endLineNumber-1,y=[];y.push(this._lines[c].substring(t.startColumn-1));for(let b=c+1;b<f;b++)y.push(this._lines[b]);return y.push(this._lines[f].substring(0,t.endColumn-1)),y.join(o)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let o=this._lineStarts.getIndexOf(t),c=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,c)}}_validateRange(t){const o=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),c=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return o.lineNumber!==t.startLineNumber||o.column!==t.startColumn||c.lineNumber!==t.endLineNumber||c.column!==t.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:c.lineNumber,endColumn:c.column}:t}_validatePosition(t){if(!L.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:o,column:c}=t,f=!1;if(o<1)o=1,c=1,f=!0;else if(o>this._lines.length)o=this._lines.length,c=this._lines[o-1].length+1,f=!0;else{let y=this._lines[o-1].length+1;c<1?(c=1,f=!0):c>y&&(c=y,f=!0)}return f?{lineNumber:o,column:c}:t}}e.MirrorModel=d;class r{constructor(t,o){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(o=>t.push(this._models[o])),t}acceptNewModel(t){this._models[t.url]=new d(I.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,o){if(!this._models[t])return;this._models[t].onEvents(o)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,o,c,f){return ke(this,void 0,void 0,function*(){const y=this._getModel(t),b=this._getModel(o);if(!y||!b)return null;const g=y.getLinesContent(),m=b.getLinesContent(),D=new p.DiffComputer(g,m,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:c,shouldMakePrettyDiff:!0,maxComputationTime:f}).computeDiff(),k=D.changes.length>0?!1:this._modelsAreIdentical(y,b);return{quitEarly:D.quitEarly,identical:k,changes:D.changes}})}_modelsAreIdentical(t,o){const c=t.getLineCount(),f=o.getLineCount();if(c!==f)return!1;for(let y=1;y<=c;y++){const b=t.getLineContent(y),g=o.getLineContent(y);if(b!==g)return!1}return!0}computeMoreMinimalEdits(t,o){return ke(this,void 0,void 0,function*(){const c=this._getModel(t);if(!c)return o;const f=[];let y;o=o.slice(0).sort((b,g)=>{if(b.range&&g.range)return S.Range.compareRangesUsingStarts(b.range,g.range);let m=b.range?0:1,w=g.range?0:1;return m-w});for(let{range:b,text:g,eol:m}of o){if(typeof m=="number"&&(y=m),S.Range.isEmpty(b)&&!g)continue;const w=c.getValueInRange(b);if(g=g.replace(/\r\n|\n|\r/g,c.eol),w===g)continue;if(Math.max(g.length,w.length)>r._diffLimit){f.push({range:b,text:g});continue}const D=(0,_.stringDiff)(w,g,!1),k=c.offsetAt(S.Range.lift(b).getStartPosition());for(const T of D){const R=c.positionAt(k+T.originalStart),M=c.positionAt(k+T.originalStart+T.originalLength),A={text:g.substr(T.modifiedStart,T.modifiedLength),range:{startLineNumber:R.lineNumber,startColumn:R.column,endLineNumber:M.lineNumber,endColumn:M.column}};c.getValueInRange(A.range)!==A.text&&f.push(A)}}return typeof y=="number"&&f.push({eol:y,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),f})}computeLinks(t){return ke(this,void 0,void 0,function*(){let o=this._getModel(t);return o?(0,C.computeLinks)(o):null})}textualSuggest(t,o,c,f){return ke(this,void 0,void 0,function*(){const y=new h.StopWatch(!0),b=new RegExp(c,f),g=new Set;e:for(let m of t){const w=this._getModel(m);if(!!w){for(let D of w.words(b))if(!(D===o||!isNaN(Number(D)))&&(g.add(D),g.size>r._suggestionsLimit))break e}}return{words:Array.from(g),duration:y.elapsed()}})}computeWordRanges(t,o,c,f){return ke(this,void 0,void 0,function*(){let y=this._getModel(t);if(!y)return Object.create(null);const b=new RegExp(c,f),g=Object.create(null);for(let m=o.startLineNumber;m<o.endLineNumber;m++){let w=y.getLineWords(m,b);for(const D of w){if(!isNaN(Number(D.word)))continue;let k=g[D.word];k||(k=[],g[D.word]=k),k.push({startLineNumber:m,startColumn:D.startColumn,endLineNumber:m,endColumn:D.endColumn})}}return g})}navigateValueSet(t,o,c,f,y){return ke(this,void 0,void 0,function*(){let b=this._getModel(t);if(!b)return null;let g=new RegExp(f,y);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});let m=b.getValueInRange(o),w=b.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},g);if(!w)return null;let D=b.getValueInRange(w);return s.BasicInplaceReplace.INSTANCE.navigateValueSet(o,m,w,D,c)})}loadForeignModule(t,o,c){const f=(g,m)=>this._host.fhr(g,m);let b={host:u.createProxyObject(c,f),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(b,o),Promise.resolve(u.getAllMethodNames(this._foreignModule))):new Promise((g,m)=>{$([t],w=>{this._foreignModule=w.create(b,o),g(u.getAllMethodNames(this._foreignModule))},m)})}fmr(t,o){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,o))}catch(c){return Promise.reject(c)}}}e.EditorSimpleWorker=r,r._diffLimit=1e5,r._suggestionsLimit=1e4;function n(l){return new r(l,null)}e.create=n,typeof importScripts=="function"&&(N.globals.monaco=(0,a.createMonacoBaseAPI)())}),define(te[116],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class N extends _.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(L){return!1}onCompositionEnd(L){return!1}onConfigurationChanged(L){return!1}onCursorStateChanged(L){return!1}onDecorationsChanged(L){return!1}onFlushed(L){return!1}onFocusChanged(L){return!1}onLanguageConfigurationChanged(L){return!1}onLineMappingChanged(L){return!1}onLinesChanged(L){return!1}onLinesDeleted(L){return!1}onLinesInserted(L){return!1}onRevealRangeRequest(L){return!1}onScrollChanged(L){return!1}onThemeChanged(L){return!1}onTokensChanged(L){return!1}onTokensColorsChanged(L){return!1}onZonesChanged(L){return!1}handleEvents(L){let S=!1;for(let p=0,v=L.length;p<v;p++){let i=L[p];switch(i.type){case 0:this.onCompositionStart(i)&&(S=!0);break;case 1:this.onCompositionEnd(i)&&(S=!0);break;case 2:this.onConfigurationChanged(i)&&(S=!0);break;case 3:this.onCursorStateChanged(i)&&(S=!0);break;case 4:this.onDecorationsChanged(i)&&(S=!0);break;case 5:this.onFlushed(i)&&(S=!0);break;case 6:this.onFocusChanged(i)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(S=!0);break;case 8:this.onLineMappingChanged(i)&&(S=!0);break;case 9:this.onLinesChanged(i)&&(S=!0);break;case 10:this.onLinesDeleted(i)&&(S=!0);break;case 11:this.onLinesInserted(i)&&(S=!0);break;case 12:this.onRevealRangeRequest(i)&&(S=!0);break;case 13:this.onScrollChanged(i)&&(S=!0);break;case 15:this.onTokensChanged(i)&&(S=!0);break;case 14:this.onThemeChanged(i)&&(S=!0);break;case 16:this.onTokensColorsChanged(i)&&(S=!0);break;case 17:this.onZonesChanged(i)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(i)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=N}),define(te[98],ne([0,1,116]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class N extends _.ViewEventHandler{}e.DynamicViewOverlay=N}),define(te[48],ne([0,1,30,116]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class I extends N.ViewEventHandler{constructor(p){super();this._context=p,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=I;class L{static write(p,v){p instanceof _.FastDomNode,p.setAttribute("data-mprt",String(v))}static read(p){const v=p.getAttribute("data-mprt");return v===null?0:parseInt(v,10)}static collect(p,v){let i=[],C=0;for(;p&&p!==document.body&&p!==v;)p.nodeType===p.ELEMENT_NODE&&(i[C++]=this.read(p)),p=p.parentElement;const s=new Uint8Array(C);for(let a=0;a<C;a++)s[a]=i[C-a-1];return s}}e.PartFingerprints=L}),define(te[408],ne([0,1,7,30,48]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class L{constructor(C,s){this._coordinateBrand=void 0,this.top=C,this.left=s}}class S extends I.ViewPart{constructor(C,s){super(C);this._viewDomNode=s,this._widgets={},this.domNode=(0,N.createFastDomNode)(document.createElement("div")),I.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,N.createFastDomNode)(document.createElement("div")),I.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(C){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].onConfigurationChanged(C);return!0}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLineMappingChanged(C){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].onLineMappingChanged(C);return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return!0}onZonesChanged(C){return!0}addWidget(C){const s=new p(this._context,this._viewDomNode,C);this._widgets[s.id]=s,s.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(s.domNode):this.domNode.appendChild(s.domNode),this.setShouldRender()}setWidgetPosition(C,s,a){this._widgets[C.getId()].setPosition(s,a),this.setShouldRender()}removeWidget(C){const s=C.getId();if(this._widgets.hasOwnProperty(s)){const a=this._widgets[s];delete this._widgets[s];const u=a.domNode.domNode;u.parentNode.removeChild(u),u.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(C){return this._widgets.hasOwnProperty(C)?this._widgets[C].suppressMouseDown:!1}onBeforeRender(C){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].onBeforeRender(C)}prepareRender(C){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].prepareRender(C)}render(C){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].render(C)}}e.ViewContentWidgets=S;class p{constructor(C,s,a){this._context=C,this._viewDomNode=s,this._actual=a,this.domNode=(0,N.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const u=this._context.configuration.options,h=u.get(130);this._fixedOverflowWidgets=u.get(35),this._contentWidth=h.contentWidth,this._contentLeft=h.contentLeft,this._lineHeight=u.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(C){const s=this._context.configuration.options;if(this._lineHeight=s.get(58),C.hasChanged(130)){const a=s.get(130);this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(C){this._setPosition(this._range)}_setPosition(C){if(this._range=C,this._viewRange=null,this._range){const s=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(s.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(s.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(s))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(C,s){this._setPosition(C),this._preference=s,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(C,s,a,u,h){const d=C.top,r=d,n=s.top+this._lineHeight,l=h.viewportHeight-n,t=d-u,o=r>=u,c=n,f=l>=u;let y=C.left,b=s.left;return y+a>h.scrollLeft+h.viewportWidth&&(y=h.scrollLeft+h.viewportWidth-a),b+a>h.scrollLeft+h.viewportWidth&&(b=h.scrollLeft+h.viewportWidth-a),y<h.scrollLeft&&(y=h.scrollLeft),b<h.scrollLeft&&(b=h.scrollLeft),{fitsAbove:o,aboveTop:t,aboveLeft:y,fitsBelow:f,belowTop:c,belowLeft:b}}_layoutHorizontalSegmentInPage(C,s,a,u){const h=Math.max(0,s.left-u),d=Math.min(s.left+s.width+u,C.width);let r=s.left+a-_.StandardWindow.scrollX;if(r+u>d){const n=r-(d-u);r-=n,a-=n}if(r<h){const n=r-h;r-=n,a-=n}return[a,r]}_layoutBoxInPage(C,s,a,u,h){const d=C.top-u,r=s.top+this._lineHeight,n=_.getDomNodePagePosition(this._viewDomNode.domNode),l=n.top+d-_.StandardWindow.scrollY,t=n.top+r-_.StandardWindow.scrollY,o=_.getClientArea(document.body),[c,f]=this._layoutHorizontalSegmentInPage(o,n,C.left-h.scrollLeft+this._contentLeft,a),[y,b]=this._layoutHorizontalSegmentInPage(o,n,s.left-h.scrollLeft+this._contentLeft,a),g=22,m=22,w=l>=g,D=t+u<=o.height-m;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(l,g),aboveLeft:f,fitsBelow:D,belowTop:t,belowLeft:b}:{fitsAbove:w,aboveTop:d,aboveLeft:c,fitsBelow:D,belowTop:r,belowLeft:y}}_prepareRenderWidgetAtExactPositionOverflowing(C){return new L(C.top,C.left+this._contentLeft)}_getTopAndBottomLeft(C){if(!this._viewRange)return[null,null];const s=C.linesVisibleRangesForRange(this._viewRange,!1);if(!s||s.length===0)return[null,null];let a=s[0],u=s[0];for(const o of s)o.lineNumber<a.lineNumber&&(a=o),o.lineNumber>u.lineNumber&&(u=o);let h=1073741824;for(const o of a.ranges)o.left<h&&(h=o.left);let d=1073741824;for(const o of u.ranges)o.left<d&&(d=o.left);const r=C.getVerticalOffsetForLineNumber(a.lineNumber)-C.scrollTop,n=new L(r,h),l=C.getVerticalOffsetForLineNumber(u.lineNumber)-C.scrollTop,t=new L(l,d);return[n,t]}_prepareRenderWidget(C){const[s,a]=this._getTopAndBottomLeft(C);if(!s||!a)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let h=null;if(typeof this._actual.beforeRender=="function"&&(h=v(this._actual.beforeRender,this._actual)),h)this._cachedDomNodeClientWidth=h.width,this._cachedDomNodeClientHeight=h.height;else{const d=this.domNode.domNode;this._cachedDomNodeClientWidth=d.clientWidth,this._cachedDomNodeClientHeight=d.clientHeight}}let u;if(this.allowEditorOverflow?u=this._layoutBoxInPage(s,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,C):u=this._layoutBoxInViewport(s,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,C),this._preference)for(let h=1;h<=2;h++)for(const d of this._preference)if(d===1){if(!u)return null;if(h===2||u.fitsAbove)return{coordinate:new L(u.aboveTop,u.aboveLeft),position:1}}else if(d===2){if(!u)return null;if(h===2||u.fitsBelow)return{coordinate:new L(u.belowTop,u.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(s),position:0}:{coordinate:s,position:0};return null}onBeforeRender(C){!this._viewRange||!this._preference||this._viewRange.endLineNumber<C.startLineNumber||this._viewRange.startLineNumber>C.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(C){this._renderData=this._prepareRenderWidget(C)}render(C){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+C.scrollTop-C.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(i,C,...s){try{return i.call(C,...s)}catch(a){return null}}}),define(te[409],ne([0,1,98,3,114,334]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class L extends _.DynamicViewOverlay{constructor(p){super();this._context=p;const v=this._context.configuration.options;this._lineHeight=v.get(58),this._typicalHalfwidthCharacterWidth=v.get(42).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const v=this._context.configuration.options;return this._lineHeight=v.get(58),this._typicalHalfwidthCharacterWidth=v.get(42).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const v=p.getDecorationsInViewport();let i=[],C=0;for(let h=0,d=v.length;h<d;h++){const r=v[h];r.options.className&&(i[C++]=r)}i=i.sort((h,d)=>{if(h.options.zIndex<d.options.zIndex)return-1;if(h.options.zIndex>d.options.zIndex)return 1;const r=h.options.className,n=d.options.className;return r<n?-1:r>n?1:N.Range.compareRangesUsingStarts(h.range,d.range)});const s=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber,u=[];for(let h=s;h<=a;h++){const d=h-s;u[d]=""}this._renderWholeLineDecorations(p,i,u),this._renderNormalDecorations(p,i,u),this._renderResult=u}_renderWholeLineDecorations(p,v,i){const C=String(this._lineHeight),s=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber;for(let u=0,h=v.length;u<h;u++){const d=v[u];if(!d.options.isWholeLine)continue;const r='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+C+'px;"></div>',n=Math.max(d.range.startLineNumber,s),l=Math.min(d.range.endLineNumber,a);for(let t=n;t<=l;t++){const o=t-s;i[o]+=r}}}_renderNormalDecorations(p,v,i){const C=String(this._lineHeight),s=p.visibleRange.startLineNumber;let a=null,u=!1,h=null;for(let d=0,r=v.length;d<r;d++){const n=v[d];if(n.options.isWholeLine)continue;const l=n.options.className,t=Boolean(n.options.showIfCollapsed);let o=n.range;if(t&&o.endColumn===1&&o.endLineNumber!==o.startLineNumber&&(o=new N.Range(o.startLineNumber,o.startColumn,o.endLineNumber-1,this._context.model.getLineMaxColumn(o.endLineNumber-1))),a===l&&u===t&&N.Range.areIntersectingOrTouching(h,o)){h=N.Range.plusRange(h,o);continue}a!==null&&this._renderNormalDecoration(p,h,a,u,C,s,i),a=l,u=t,h=o}a!==null&&this._renderNormalDecoration(p,h,a,u,C,s,i)}_renderNormalDecoration(p,v,i,C,s,a,u){const h=p.linesVisibleRangesForRange(v,i==="findMatch");if(!!h)for(let d=0,r=h.length;d<r;d++){const n=h[d];if(n.outsideRenderedLine)continue;const l=n.lineNumber-a;if(C&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new I.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,o=n.ranges.length;t<o;t++){const c=n.ranges[t],f='<div class="cdr '+i+'" style="left:'+String(c.left)+"px;width:"+String(c.width)+"px;height:"+s+'px;"></div>';u[l]+=f}}}render(p,v){if(!this._renderResult)return"";const i=v-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=L}),define(te[179],ne([0,1,98,335]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class N{constructor(p,v,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+p,this.endLineNumber=+v,this.className=String(i)}}e.DecorationToRender=N;class I extends _.DynamicViewOverlay{_render(p,v,i){const C=[];for(let u=p;u<=v;u++){const h=u-p;C[h]=[]}if(i.length===0)return C;i.sort((u,h)=>u.className===h.className?u.startLineNumber===h.startLineNumber?u.endLineNumber-h.endLineNumber:u.startLineNumber-h.startLineNumber:u.className<h.className?-1:1);let s=null,a=0;for(let u=0,h=i.length;u<h;u++){const d=i[u],r=d.className;let n=Math.max(d.startLineNumber,p)-p;const l=Math.min(d.endLineNumber,v)-p;s===r?(n=Math.max(a+1,n),a=Math.max(a,l)):(s=r,a=l);for(let t=n;t<=a;t++)C[t].push(s)}return C}}e.DedupOverlay=I;class L extends I{constructor(p){super();this._context=p;const v=this._context.configuration.options,i=v.get(130);this._lineHeight=v.get(58),this._glyphMargin=v.get(48),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const v=this._context.configuration.options,i=v.get(130);return this._lineHeight=v.get(58),this._glyphMargin=v.get(48),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}_getDecorations(p){const v=p.getDecorationsInViewport();let i=[],C=0;for(let s=0,a=v.length;s<a;s++){const u=v[s],h=u.options.glyphMarginClassName;h&&(i[C++]=new N(u.range.startLineNumber,u.range.endLineNumber,h))}return i}prepareRender(p){if(!this._glyphMargin){this._renderResult=null;return}const v=p.visibleRange.startLineNumber,i=p.visibleRange.endLineNumber,C=this._render(v,i,this._getDecorations(p)),s=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),u=this._glyphMarginWidth.toString(),h='" style="left:'+a+"px;width:"+u+"px;height:"+s+'px;"></div>',d=[];for(let r=v;r<=i;r++){const n=r-v,l=C[n];l.length===0?d[n]="":d[n]='<div class="cgmr codicon '+l.join(" ")+h}this._renderResult=d}render(p,v){if(!this._renderResult)return"";const i=v-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=L}),define(te[410],ne([0,1,179,339]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class N extends _.DedupOverlay{constructor(L){super();this._context=L;const p=this._context.configuration.options.get(130);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){const p=this._context.configuration.options.get(130);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const S=L.getDecorationsInViewport();let p=[],v=0;for(let i=0,C=S.length;i<C;i++){const s=S[i],a=s.options.linesDecorationsClassName;a&&(p[v++]=new _.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a));const u=s.options.firstLineDecorationClassName;u&&(p[v++]=new _.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,u))}return p}prepareRender(L){const S=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,v=this._render(S,p,this._getDecorations(L)),i=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),s='" style="left:'+i+"px;width:"+C+'px;"></div>',a=[];for(let u=S;u<=p;u++){const h=u-S,d=v[h];let r="";for(let n=0,l=d.length;n<l;n++)r+='<div class="cldr '+d[n]+s;a[h]=r}this._renderResult=a}render(L,S){return this._renderResult?this._renderResult[S-L]:""}}e.LinesDecorationsOverlay=N}),define(te[230],ne([0,1,30,48]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class I extends N.ViewPart{constructor(S){super(S);const p=this._context.configuration.options,v=p.get(130);this._canUseLayerHinting=!p.get(27),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,_.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(I.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,_.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(I.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const p=this._context.configuration.options,v=p.get(130);return this._canUseLayerHinting=!p.get(27),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-p);const v=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=I,I.CLASS_NAME="glyph-margin",I.OUTER_CLASS_NAME="margin"}),define(te[411],ne([0,1,179,340]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class N extends _.DedupOverlay{constructor(L){super();this._context=L,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){return!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const S=L.getDecorationsInViewport();let p=[],v=0;for(let i=0,C=S.length;i<C;i++){const s=S[i],a=s.options.marginClassName;a&&(p[v++]=new _.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a))}return p}prepareRender(L){const S=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,v=this._render(S,p,this._getDecorations(L)),i=[];for(let C=S;C<=p;C++){const s=C-S,a=v[s];let u="";for(let h=0,d=a.length;h<d;h++)u+='<div class="cmdr '+a[h]+'" style=""></div>';i[s]=u}this._renderResult=i}render(L,S){return this._renderResult?this._renderResult[S-L]:""}}e.MarginViewLineDecorationsOverlay=N}),define(te[412],ne([0,1,30,48,342]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class I extends N.ViewPart{constructor(S){super(S);const v=this._context.configuration.options.get(130);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,_.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const v=this._context.configuration.options.get(130);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(S){const p=(0,_.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:p},p.setPosition("absolute"),p.setAttribute("widgetId",S.getId()),this._domNode.appendChild(p),this.setShouldRender()}setWidgetPosition(S,p){const v=this._widgets[S.getId()];return v.preference===p?!1:(v.preference=p,this.setShouldRender(),!0)}removeWidget(S){const p=S.getId();if(this._widgets.hasOwnProperty(p)){const i=this._widgets[p].domNode.domNode;delete this._widgets[p],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(S){const p=S.domNode;if(S.preference===null){p.unsetTop();return}if(S.preference===0)p.setTop(0),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const v=p.domNode.clientHeight;p.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(p.setTop(0),p.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const p=Object.keys(this._widgets);for(let v=0,i=p.length;v<i;v++){const C=p[v];this._renderWidget(this._widgets[C])}}}e.ViewOverlayWidgets=I}),define(te[413],ne([0,1,30,228,116]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class L extends I.ViewEventHandler{constructor(p,v){super();this._context=p;const i=this._context.configuration.options;this._domNode=(0,_.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new N.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(58)),this._zoneManager.setPixelRatio(i.get(128)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const v=this._context.configuration.options;return p.hasChanged(58)&&(this._zoneManager.setLineHeight(v.get(58)),this._render()),p.hasChanged(128)&&(this._zoneManager.setPixelRatio(v.get(128)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let v=!1;v=this._zoneManager.setDOMWidth(p.width)||v,v=this._zoneManager.setDOMHeight(p.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,p,v),i.length>0&&this._renderOneLane(s,i,C,p),!0}_renderOneLane(p,v,i,C){let s=0,a=0,u=0;for(const h of v){const d=h.colorId,r=h.from,n=h.to;d!==s?(p.fillRect(0,a,C,u-a),s=d,p.fillStyle=i[s],a=r,u=n):u>=r?u=Math.max(u,n):(p.fillRect(0,a,C,u-a),a=r,u=n)}p.fillRect(0,a,C,u-a)}}e.OverviewRuler=L}),define(te[414],ne([0,1,30,10,48,13]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class p extends I.ViewPart{constructor(C){super(C);const s=this._context.configuration.options,a=s.get(130);this._lineHeight=s.get(58),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this.domNode=(0,_.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,_.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),s=new Map;for(const u of C)s.set(u.id,u);let a=!1;return this._context.model.changeWhitespace(u=>{const h=Object.keys(this._zones);for(let d=0,r=h.length;d<r;d++){const n=h[d],l=this._zones[n],t=this._computeWhitespaceProps(l.delegate),o=s.get(n);o&&(o.afterLineNumber!==t.afterViewLineNumber||o.height!==t.heightInPx)&&(u.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(l.delegate,t.heightInPx),a=!0)}}),a}onConfigurationChanged(C){const s=this._context.configuration.options,a=s.get(130);return this._lineHeight=s.get(58),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,C.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){return typeof C.afterColumn!="undefined"?C.afterColumn:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let s;if(typeof C.afterColumn!="undefined")s=this._context.model.validateModelPosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const d=this._context.model.validateModelPosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;s=new L.Position(d,this._context.model.getModelLineMaxColumn(d))}let a;s.column===this._context.model.getModelLineMaxColumn(s.lineNumber)?a=this._context.model.validateModelPosition({lineNumber:s.lineNumber+1,column:1}):a=this._context.model.validateModelPosition({lineNumber:s.lineNumber,column:s.column+1});const u=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(s),h=this._context.model.coordinatesConverter.modelPositionIsVisible(a);return{afterViewLineNumber:u.lineNumber,heightInPx:h?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let s=!1;return this._context.model.changeWhitespace(a=>{const u={addZone:h=>(s=!0,this._addZone(a,h)),removeZone:h=>{!h||(s=this._removeZone(a,h)||s)},layoutZone:h=>{!h||(s=this._layoutZone(a,h)||s)}};v(C,u),u.addZone=S,u.removeZone=S,u.layoutZone=S}),s}_addZone(C,s){const a=this._computeWhitespaceProps(s),h={whitespaceId:C.insertWhitespace(a.afterViewLineNumber,this._getZoneOrdinal(s),a.heightInPx,a.minWidthInPx),delegate:s,isVisible:!1,domNode:(0,_.createFastDomNode)(s.domNode),marginDomNode:s.marginDomNode?(0,_.createFastDomNode)(s.marginDomNode):null};return this._safeCallOnComputedHeight(h.delegate,a.heightInPx),h.domNode.setPosition("absolute"),h.domNode.domNode.style.width="100%",h.domNode.setDisplay("none"),h.domNode.setAttribute("monaco-view-zone",h.whitespaceId),this.domNode.appendChild(h.domNode),h.marginDomNode&&(h.marginDomNode.setPosition("absolute"),h.marginDomNode.domNode.style.width="100%",h.marginDomNode.setDisplay("none"),h.marginDomNode.setAttribute("monaco-view-zone",h.whitespaceId),this.marginDomNode.appendChild(h.marginDomNode)),this._zones[h.whitespaceId]=h,this.setShouldRender(),h.whitespaceId}_removeZone(C,s){if(this._zones.hasOwnProperty(s)){const a=this._zones[s];return delete this._zones[s],C.removeWhitespace(a.whitespaceId),a.domNode.removeAttribute("monaco-visible-view-zone"),a.domNode.removeAttribute("monaco-view-zone"),a.domNode.domNode.parentNode.removeChild(a.domNode.domNode),a.marginDomNode&&(a.marginDomNode.removeAttribute("monaco-visible-view-zone"),a.marginDomNode.removeAttribute("monaco-view-zone"),a.marginDomNode.domNode.parentNode.removeChild(a.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,s){if(this._zones.hasOwnProperty(s)){const a=this._zones[s],u=this._computeWhitespaceProps(a.delegate);return C.changeOneWhitespace(a.whitespaceId,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(a.delegate,u.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){if(this._zones.hasOwnProperty(C)){const s=this._zones[C];return Boolean(s.delegate.suppressMouseDown)}return!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,s){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(s)}catch(a){(0,N.onUnexpectedError)(a)}}_safeCallOnDomNodeTop(C,s){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(s)}catch(a){(0,N.onUnexpectedError)(a)}}prepareRender(C){}render(C){const s=C.viewportData.whitespaceViewportData,a={};let u=!1;for(let d=0,r=s.length;d<r;d++)a[s[d].id]=s[d],u=!0;const h=Object.keys(this._zones);for(let d=0,r=h.length;d<r;d++){const n=h[d],l=this._zones[n];let t=0,o=0,c="none";a.hasOwnProperty(n)?(t=a[n].verticalOffset-C.bigNumbersDelta,o=a[n].height,c="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(a[n].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(t),l.domNode.setHeight(o),l.domNode.setDisplay(c),l.marginDomNode&&(l.marginDomNode.setTop(t),l.marginDomNode.setHeight(o),l.marginDomNode.setDisplay(c))}u&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function v(i,C){try{return i(C)}catch(s){(0,N.onUnexpectedError)(s)}}}),define(te[63],ne([0,1,8,13,3]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.InjectedText=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class L{constructor(r,n,l,t){this._viewportBrand=void 0,this.top=r|0,this.left=n|0,this.width=l|0,this.height=t|0}}e.Viewport=L;class S{constructor(r,n){this.outputLineIndex=r,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(r,n){const l=this.outputLineIndex>0?n:0;return new N.Position(r+this.outputLineIndex,l+this.outputOffset+1)}}e.OutputPosition=S;class p{constructor(r,n,l,t,o){this.breakOffsets=r,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=l,this.injectionOffsets=t,this.injectionOptions=o}getInputOffsetOfOutputPosition(r,n){let l=0;if(r===0?l=n:l=this.breakOffsets[r-1]+n,this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&l>this.injectionOffsets[t];t++)l<this.injectionOffsets[t]+this.injectionOptions[t].content.length?l=this.injectionOffsets[t]:l-=this.injectionOptions[t].content.length;return l}getOutputPositionOfInputOffset(r,n=2){let l=0;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(r<this.injectionOffsets[t]||n!==1&&r===this.injectionOffsets[t]);t++)l+=this.injectionOptions[t].content.length;return r+=l,this.getOutputPositionOfOffsetInUnwrappedLine(r,n)}getOutputPositionOfOffsetInUnwrappedLine(r,n=2){let l=0,t=this.breakOffsets.length-1,o=0,c=0;for(;l<=t;){o=l+(t-l)/2|0;const f=this.breakOffsets[o];if(c=o>0?this.breakOffsets[o-1]:0,n===0)if(r<=c)t=o-1;else if(r>f)l=o+1;else break;else if(r<c)t=o-1;else if(r>=f)l=o+1;else break}return new S(o,r-c)}outputPositionToOffsetInUnwrappedLine(r,n){let l=(r>0?this.breakOffsets[r-1]:0)+n;return r>0&&(l-=this.wrappedTextIndentLength),l}normalizeOffsetAroundInjections(r,n){const l=this.getInjectedTextAtOffset(r);if(!l)return r;if(n===2)return r===l.offsetInUnwrappedLine+l.length?l.offsetInUnwrappedLine+l.length:l.offsetInUnwrappedLine;if(n===1){let c=l.offsetInUnwrappedLine+l.length,f=l.injectedTextIndex;for(;f+1<this.injectionOffsets.length&&this.injectionOffsets[f+1]===this.injectionOffsets[f];)c+=this.injectionOptions[f+1].content.length,f++;return c}let t=l.offsetInUnwrappedLine,o=l.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)t-=this.injectionOptions[o-1].content.length,o++;return t}getInjectedText(r,n){const l=this.outputPositionToOffsetInUnwrappedLine(r,n),t=this.getInjectedTextAtOffset(l);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(r){const n=this.injectionOffsets,l=this.injectionOptions;if(n!==null){let t=0;for(let o=0;o<n.length;o++){const c=l[o].content.length,f=n[o]+t,y=n[o]+t+c;if(f>r)break;if(r<=y)return{injectedTextIndex:o,offsetInUnwrappedLine:f,length:c};t+=c}}}}e.LineBreakData=p;class v{constructor(r){this.options=r}}e.InjectedText=v;class i{constructor(r,n){this.tabSize=r,this.data=n}}e.MinimapLinesRenderingData=i;class C{constructor(r,n,l,t,o,c,f){this._viewLineDataBrand=void 0,this.content=r,this.continuesWithWrappedLine=n,this.minColumn=l,this.maxColumn=t,this.startVisibleColumn=o,this.tokens=c,this.inlineDecorations=f}}e.ViewLineData=C;class s{constructor(r,n,l,t,o,c,f,y,b,g){this.minColumn=r,this.maxColumn=n,this.content=l,this.continuesWithWrappedLine=t,this.isBasicASCII=s.isBasicASCII(l,c),this.containsRTL=s.containsRTL(l,this.isBasicASCII,o),this.tokens=f,this.inlineDecorations=y,this.tabSize=b,this.startVisibleColumn=g}static isBasicASCII(r,n){return n?_.isBasicASCII(r):!0}static containsRTL(r,n,l){return!n&&l?_.containsRTL(r):!1}}e.ViewLineRenderingData=s;class a{constructor(r,n,l){this.range=r,this.inlineClassName=n,this.type=l}}e.InlineDecoration=a;class u{constructor(r,n,l,t){this.startOffset=r,this.endOffset=n,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=t}toInlineDecoration(r){return new a(new I.Range(r,this.startOffset+1,r,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class h{constructor(r,n){this._viewModelDecorationBrand=void 0,this.range=r,this.options=n}}e.ViewModelDecoration=h}),define(te[415],ne([0,1,8,95,63,97]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S extends N.CharacterClassifier{constructor(n,l){super(0);for(let t=0;t<n.length;t++)this.set(n.charCodeAt(t),1);for(let t=0;t<l.length;t++)this.set(l.charCodeAt(t),2)}get(n){return n>=0&&n<256?this._asciiMap[n]:n>=12352&&n<=12543||n>=13312&&n<=19903||n>=19968&&n<=40959?3:this._map.get(n)||this._defaultValue}}let p=[],v=[];class i{constructor(n,l){this.classifier=new S(n,l)}static create(n){return new i(n.get(119),n.get(118))}createLineBreaksComputer(n,l,t,o){l=l|0,t=+t;const c=[],f=[],y=[];return{addRequest:(b,g,m)=>{c.push(b),f.push(g),y.push(m)},finalize:()=>{const b=n.typicalFullwidthCharacterWidth/n.typicalHalfwidthCharacterWidth;let g=[];for(let m=0,w=c.length;m<w;m++){const D=f[m],k=y[m];k&&!k.injectionOptions&&!D?g[m]=C(this.classifier,k,c[m],l,t,b,o):g[m]=s(this.classifier,c[m],D,l,t,b,o)}return p.length=0,v.length=0,g}}}}e.MonospaceLineBreaksComputerFactory=i;function C(r,n,l,t,o,c,f){if(o===-1)return null;const y=l.length;if(y<=1)return null;const b=n.breakOffsets,g=n.breakOffsetsVisibleColumn,m=d(l,t,o,c,f),w=o-m;let D=p,k=v,T=0,R=0,M=0,A=o;const O=b.length;let P=0;if(P>=0){let F=Math.abs(g[P]-A);for(;P+1<O;){const E=Math.abs(g[P+1]-A);if(E>=F)break;F=E,P++}}for(;P<O;){let F=P<0?0:b[P],E=P<0?0:g[P];R>F&&(F=R,E=M);let x=0,W=0,G=0,Y=0;if(E<=A){let re=E,J=F===0?0:l.charCodeAt(F-1),le=F===0?0:r.get(J),ae=!0;for(let V=F;V<y;V++){const B=V,Z=l.charCodeAt(V);let H,z;if(_.isHighSurrogate(Z)?(V++,H=0,z=2):(H=r.get(Z),z=a(Z,re,t,c)),B>R&&h(J,le,Z,H)&&(x=B,W=re),re+=z,re>A){B>R?(G=B,Y=re-z):(G=V+1,Y=re),re-W>w&&(x=0),ae=!1;break}J=Z,le=H}if(ae){T>0&&(D[T]=b[b.length-1],k[T]=g[b.length-1],T++);break}}if(x===0){let re=E,J=l.charCodeAt(F),le=r.get(J),ae=!1;for(let V=F-1;V>=R;V--){const B=V+1,Z=l.charCodeAt(V);if(Z===9){ae=!0;break}let H,z;if(_.isLowSurrogate(Z)?(V--,H=0,z=2):(H=r.get(Z),z=_.isFullWidthCharacter(Z)?c:1),re<=A){if(G===0&&(G=B,Y=re),re<=A-w)break;if(h(Z,H,J,le)){x=B,W=re;break}}re-=z,J=Z,le=H}if(x!==0){const V=w-(Y-W);if(V<=t){const B=l.charCodeAt(G);let Z;_.isHighSurrogate(B)?Z=2:Z=a(B,Y,t,c),V-Z<0&&(x=0)}}if(ae){P--;continue}}if(x===0&&(x=G,W=Y),x<=R){const re=l.charCodeAt(R);_.isHighSurrogate(re)?(x=R+2,W=M+2):(x=R+1,W=M+a(re,M,t,c))}for(R=x,D[T]=x,M=W,k[T]=W,T++,A=W+w;P<0||P<O&&g[P]<W;)P++;let se=Math.abs(g[P]-A);for(;P+1<O;){const re=Math.abs(g[P+1]-A);if(re>=se)break;se=re,P++}}return T===0?null:(D.length=T,k.length=T,p=n.breakOffsets,v=n.breakOffsetsVisibleColumn,n.breakOffsets=D,n.breakOffsetsVisibleColumn=k,n.wrappedTextIndentLength=m,n)}function s(r,n,l,t,o,c,f){const y=L.LineInjectedText.applyInjectedText(n,l);let b,g;if(l&&l.length>0?(b=l.map(W=>W.options),g=l.map(W=>W.column-1)):(b=null,g=null),o===-1)return b?new I.LineBreakData([y.length],[],0,g,b):null;const m=y.length;if(m<=1)return b?new I.LineBreakData([y.length],[],0,g,b):null;const w=d(y,t,o,c,f),D=o-w;let k=[],T=[],R=0,M=0,A=0,O=o,P=y.charCodeAt(0),F=r.get(P),E=a(P,0,t,c),x=1;_.isHighSurrogate(P)&&(E+=1,P=y.charCodeAt(1),F=r.get(P),x++);for(let W=x;W<m;W++){const G=W,Y=y.charCodeAt(W);let se,re;_.isHighSurrogate(Y)?(W++,se=0,re=2):(se=r.get(Y),re=a(Y,E,t,c)),h(P,F,Y,se)&&(M=G,A=E),E+=re,E>O&&((M===0||E-A>D)&&(M=G,A=E-re),k[R]=M,T[R]=A,R++,O=A+D,M=0),P=Y,F=se}return R===0&&(!l||l.length===0)?null:(k[R]=m,T[R]=E,new I.LineBreakData(k,T,w,g,b))}function a(r,n,l,t){return r===9?l-n%l:_.isFullWidthCharacter(r)||r<32?t:1}function u(r,n){return n-r%n}function h(r,n,l,t){return l!==32&&(n===2||n===3&&t!==2||t===1||t===3&&n!==1)}function d(r,n,l,t,o){let c=0;if(o!==0){const f=_.firstNonWhitespaceIndex(r);if(f!==-1){for(let b=0;b<f;b++)c+=r.charCodeAt(b)===9?u(c,n):1;const y=o===3?2:o===2?1:0;for(let b=0;b<y;b++)c+=u(c,n);c+t>l&&(c=0)}}return c}}),define(te[180],ne([0,1,6,2]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class I extends N.Disposable{constructor(){super();this._onEvent=this._register(new _.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(u){this._addOutgoingEvent(u),this._emitOutgoingEvents()}_addOutgoingEvent(u){for(let h=0,d=this._outgoingEvents.length;h<d;h++)if(this._outgoingEvents[h].kind===u.kind){this._outgoingEvents[h]=this._outgoingEvents[h].merge(u);return}this._outgoingEvents.push(u)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const u=this._outgoingEvents.shift();u.isNoOp()||this._onEvent.fire(u)}}addViewEventHandler(u){for(let h=0,d=this._eventHandlers.length;h<d;h++)this._eventHandlers[h]===u&&console.warn("Detected duplicate listener in ViewEventDispatcher",u);this._eventHandlers.push(u)}removeViewEventHandler(u){for(let h=0;h<this._eventHandlers.length;h++)if(this._eventHandlers[h]===u){this._eventHandlers.splice(h,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new L),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const u=this._collector.outgoingEvents,h=this._collector.viewEvents;this._collector=null;for(const d of u)this._addOutgoingEvent(d);h.length>0&&this._emitMany(h)}this._emitOutgoingEvents()}emitSingleViewEvent(u){try{this.beginEmitViewEvents().emitViewEvent(u)}finally{this.endEmitViewEvents()}}_emitMany(u){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(u):this._viewEventQueue=u,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const u=this._viewEventQueue;this._viewEventQueue=null;const h=this._eventHandlers.slice(0);for(const d of h)d.handleEvents(u)}}}e.ViewModelEventDispatcher=I;class L{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(u){this.viewEvents.push(u)}emitOutgoingEvent(u){this.outgoingEvents.push(u)}}e.ViewModelEventsCollector=L;class S{constructor(u,h,d,r){this.kind=0,this._oldContentWidth=u,this._oldContentHeight=h,this.contentWidth=d,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(u){return u.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,u.contentWidth,u.contentHeight)}}e.ContentSizeChangedEvent=S;class p{constructor(u,h){this.kind=1,this.oldHasFocus=u,this.hasFocus=h}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(u){return u.kind!==1?this:new p(this.oldHasFocus,u.hasFocus)}}e.FocusChangedEvent=p;class v{constructor(u,h,d,r,n,l,t,o){this.kind=2,this._oldScrollWidth=u,this._oldScrollLeft=h,this._oldScrollHeight=d,this._oldScrollTop=r,this.scrollWidth=n,this.scrollLeft=l,this.scrollHeight=t,this.scrollTop=o,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(u){return u.kind!==2?this:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,u.scrollWidth,u.scrollLeft,u.scrollHeight,u.scrollTop)}}e.ScrollChangedEvent=v;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(u){return this}}e.ViewZonesChangedEvent=i;class C{constructor(u,h,d,r,n,l,t){this.kind=5,this.oldSelections=u,this.selections=h,this.oldModelVersionId=d,this.modelVersionId=r,this.source=n,this.reason=l,this.reachedMaxCursorCount=t}static _selectionsAreEqual(u,h){if(!u&&!h)return!0;if(!u||!h)return!1;const d=u.length,r=h.length;if(d!==r)return!1;for(let n=0;n<d;n++)if(!u[n].equalsSelection(h[n]))return!1;return!0}isNoOp(){return C._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(u){return u.kind!==5?this:new C(this.oldSelections,u.selections,this.oldModelVersionId,u.modelVersionId,u.source,u.reason,this.reachedMaxCursorCount||u.reachedMaxCursorCount)}}e.CursorStateChangedEvent=C;class s{constructor(){this.kind=4}isNoOp(){return!1}merge(u){return this}}e.ReadOnlyEditAttemptEvent=s}),define(te[416],ne([0,1,6,2,129,404,63,180]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class i{constructor(u,h,d,r){u=u|0,h=h|0,d=d|0,r=r|0,u<0&&(u=0),h<0&&(h=0),d<0&&(d=0),r<0&&(r=0),this.width=u,this.contentWidth=h,this.scrollWidth=Math.max(u,h),this.height=d,this.contentHeight=r,this.scrollHeight=Math.max(d,r)}equals(u){return this.width===u.width&&this.contentWidth===u.contentWidth&&this.height===u.height&&this.contentHeight===u.contentHeight}}class C extends N.Disposable{constructor(u,h){super();this._onDidContentSizeChange=this._register(new _.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new I.Scrollable(u,h)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(u){this._scrollable.setSmoothScrollDuration(u)}validateScrollPosition(u){return this._scrollable.validateScrollPosition(u)}getScrollDimensions(){return this._dimensions}setScrollDimensions(u){if(this._dimensions.equals(u))return;const h=this._dimensions;this._dimensions=u,this._scrollable.setScrollDimensions({width:u.width,scrollWidth:u.scrollWidth,height:u.height,scrollHeight:u.scrollHeight},!0);const d=h.contentWidth!==u.contentWidth,r=h.contentHeight!==u.contentHeight;(d||r)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(h.contentWidth,h.contentHeight,u.contentWidth,u.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(u){this._scrollable.setScrollPositionNow(u)}setScrollPositionSmooth(u){this._scrollable.setScrollPositionSmooth(u)}}class s extends N.Disposable{constructor(u,h,d){super();this._configuration=u;const r=this._configuration.options,n=r.get(130),l=r.get(74);this._linesLayout=new L.LinesLayout(h,r.get(58),l.top,l.bottom),this._scrollable=this._register(new C(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?v:0)}onConfigurationChanged(u){const h=this._configuration.options;if(u.hasChanged(58)&&this._linesLayout.setLineHeight(h.get(58)),u.hasChanged(74)){const d=h.get(74);this._linesLayout.setPadding(d.top,d.bottom)}if(u.hasChanged(130)){const d=h.get(130),r=d.contentWidth,n=d.height,l=this._scrollable.getScrollDimensions(),t=l.contentWidth;this._scrollable.setScrollDimensions(new i(r,l.contentWidth,n,this._getContentHeight(r,n,t)))}else this._updateHeight();u.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(u){this._linesLayout.onFlushed(u)}onLinesDeleted(u,h){this._linesLayout.onLinesDeleted(u,h)}onLinesInserted(u,h){this._linesLayout.onLinesInserted(u,h)}_getHorizontalScrollbarHeight(u,h){const r=this._configuration.options.get(92);return r.horizontal===2||u>=h?0:r.horizontalScrollbarSize}_getContentHeight(u,h,d){const r=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return r.get(94)?n+=Math.max(0,h-r.get(58)-r.get(74).bottom):n+=this._getHorizontalScrollbarHeight(u,d),n}_updateHeight(){const u=this._scrollable.getScrollDimensions(),h=u.width,d=u.height,r=u.contentWidth;this._scrollable.setScrollDimensions(new i(h,u.contentWidth,d,this._getContentHeight(h,d,r)))}getCurrentViewport(){const u=this._scrollable.getScrollDimensions(),h=this._scrollable.getCurrentScrollPosition();return new S.Viewport(h.scrollTop,h.scrollLeft,u.width,u.height)}getFutureViewport(){const u=this._scrollable.getScrollDimensions(),h=this._scrollable.getFutureScrollPosition();return new S.Viewport(h.scrollTop,h.scrollLeft,u.width,u.height)}_computeContentWidth(u){const h=this._configuration.options,d=h.get(131),r=h.get(42);if(d.isViewportWrapping){const n=h.get(130),l=h.get(64);return u>n.contentWidth+r.typicalHalfwidthCharacterWidth&&l.enabled&&l.side==="right"?u+n.verticalScrollbarWidth:u}else{const n=h.get(93)*r.typicalHalfwidthCharacterWidth,l=this._linesLayout.getWhitespaceMinWidth();return Math.max(u+n,l)}}setMaxLineWidth(u){const h=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(h.width,this._computeContentWidth(u),h.height,h.contentHeight)),this._updateHeight()}saveState(){const u=this._scrollable.getFutureScrollPosition();let h=u.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(h),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:h,scrollTopWithoutViewZones:h-r,scrollLeft:u.scrollLeft}}changeWhitespace(u){const h=this._linesLayout.changeWhitespace(u);return h&&this.onHeightMaybeChanged(),h}getVerticalOffsetForLineNumber(u){return this._linesLayout.getVerticalOffsetForLineNumber(u)}isAfterLines(u){return this._linesLayout.isAfterLines(u)}isInTopPadding(u){return this._linesLayout.isInTopPadding(u)}isInBottomPadding(u){return this._linesLayout.isInBottomPadding(u)}getLineNumberAtVerticalOffset(u){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(u)}getWhitespaceAtVerticalOffset(u){return this._linesLayout.getWhitespaceAtVerticalOffset(u)}getLinesViewportData(){const u=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(u.top,u.top+u.height)}getLinesViewportDataAtScrollTop(u){const h=this._scrollable.getScrollDimensions();return u+h.height>h.scrollHeight&&(u=h.scrollHeight-h.height),u<0&&(u=0),this._linesLayout.getLinesViewportData(u,u+h.height)}getWhitespaceViewportData(){const u=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(u.top,u.top+u.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(u){return this._scrollable.validateScrollPosition(u)}setScrollPosition(u,h){h===1?this._scrollable.setScrollPositionNow(u):this._scrollable.setScrollPositionSmooth(u)}deltaScrollNow(u,h){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+u,scrollTop:d.scrollTop+h})}}e.ViewLayout=s}),define(te[417],ne([0,1,3,21]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class I{constructor(S,p){this._selection=S,this._isMovingLeft=p}getEditOperations(S,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,i=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&C===S.getLineMaxColumn(v)))if(this._isMovingLeft){const s=new _.Range(v,i-1,v,i),a=S.getValueInRange(s);p.addEditOperation(s,null),p.addEditOperation(new _.Range(v,C,v,C),a)}else{const s=new _.Range(v,C,v,C+1),a=S.getValueInRange(s);p.addEditOperation(s,null),p.addEditOperation(new _.Range(v,i,v,i),a)}}computeCursorState(S,p){return this._isMovingLeft?new N.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new N.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=I}),define(te[140],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class _{constructor(v){this.value=v}equals(v){return this.value===v.value}contains(v){return this.equals(v)||this.value===""||v.value.startsWith(this.value+_.sep)}intersects(v){return this.contains(v)||v.contains(this)}append(v){return new _(this.value+_.sep+v)}}e.CodeActionKind=_,_.sep=".",_.None=new _("@@none@@"),_.Empty=new _(""),_.QuickFix=new _("quickfix"),_.Refactor=new _("refactor"),_.Source=new _("source"),_.SourceOrganizeImports=_.Source.append("organizeImports"),_.SourceFixAll=_.Source.append("fixAll");function N(p,v){return!(p.include&&!p.include.intersects(v)||p.excludes&&p.excludes.some(i=>L(v,i,p.include))||!p.includeSourceActions&&_.Source.contains(v))}e.mayIncludeActionsOfKind=N;function I(p,v){const i=v.kind?new _(v.kind):void 0;return!(p.include&&(!i||!p.include.contains(i))||p.excludes&&i&&p.excludes.some(C=>L(i,C,p.include))||!p.includeSourceActions&&i&&_.Source.contains(i)||p.onlyIncludePreferredActions&&!v.isPreferred)}e.filtersAction=I;function L(p,v,i){return!(!v.contains(p)||i&&v.contains(i))}class S{constructor(v,i,C){this.kind=v,this.apply=i,this.preferred=C}static fromUser(v,i){return!v||typeof v!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(v,i.kind),S.getApplyFromUser(v,i.apply),S.getPreferredUser(v))}static getApplyFromUser(v,i){switch(typeof v.apply=="string"?v.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(v,i){return typeof v.kind=="string"?new _(v.kind):i}static getPreferredUser(v){return typeof v.preferred=="boolean"?v.preferred:!1}}e.CodeActionCommandArgs=S}),define(te[418],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class N{constructor(L,S,p){this.presentationIndex=p,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new _.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new _.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=L,this._color=L,this._colorPresentations=S}get color(){return this._color}set color(L){this._color.equals(L)||(this._color=L,this._onDidChangeColor.fire(L))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(L){this._colorPresentations=L,this.presentationIndex>L.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(L,S){for(let p=0;p<this.colorPresentations.length;p++)if(S.toLowerCase()===this.colorPresentations[p].label){this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=N}),define(te[231],ne([0,1,59,13,3,21,36]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class p{constructor(i,C){this._selection=i,this._insertSpace=C,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,C,s){if(s<0)return!1;const a=C.length,u=i.length;if(s+a>u)return!1;for(let h=0;h<a;h++){const d=i.charCodeAt(s+h),r=C.charCodeAt(h);if(d!==r&&!(d>=65&&d<=90&&d+32===r)&&!(r>=65&&r<=90&&r+32===d))return!1}return!0}_createOperationsForBlockComment(i,C,s,a,u,h){const d=i.startLineNumber,r=i.startColumn,n=i.endLineNumber,l=i.endColumn,t=u.getLineContent(d),o=u.getLineContent(n);let c=t.lastIndexOf(C,r-1+C.length),f=o.indexOf(s,l-1-s.length);if(c!==-1&&f!==-1)if(d===n)t.substring(c+C.length,f).indexOf(s)>=0&&(c=-1,f=-1);else{const b=t.substring(c+C.length),g=o.substring(0,f);(b.indexOf(s)>=0||g.indexOf(s)>=0)&&(c=-1,f=-1)}let y;c!==-1&&f!==-1?(a&&c+C.length<t.length&&t.charCodeAt(c+C.length)===32&&(C=C+" "),a&&f>0&&o.charCodeAt(f-1)===32&&(s=" "+s,f-=1),y=p._createRemoveBlockCommentOperations(new I.Range(d,c+C.length+1,n,f+1),C,s)):(y=p._createAddBlockCommentOperations(i,C,s,this._insertSpace),this._usedEndToken=y.length===1?s:null);for(const b of y)h.addTrackedEditOperation(b.range,b.text)}static _createRemoveBlockCommentOperations(i,C,s){let a=[];return I.Range.isEmpty(i)?a.push(_.EditOperation.delete(new I.Range(i.startLineNumber,i.startColumn-C.length,i.endLineNumber,i.endColumn+s.length))):(a.push(_.EditOperation.delete(new I.Range(i.startLineNumber,i.startColumn-C.length,i.startLineNumber,i.startColumn))),a.push(_.EditOperation.delete(new I.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+s.length)))),a}static _createAddBlockCommentOperations(i,C,s,a){let u=[];return I.Range.isEmpty(i)?u.push(_.EditOperation.replace(new I.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),C+"  "+s)):(u.push(_.EditOperation.insert(new N.Position(i.startLineNumber,i.startColumn),C+(a?" ":""))),u.push(_.EditOperation.insert(new N.Position(i.endLineNumber,i.endColumn),(a?" ":"")+s))),u}getEditOperations(i,C){const s=this._selection.startLineNumber,a=this._selection.startColumn;i.tokenizeIfCheap(s);const u=i.getLanguageIdAtPosition(s,a),h=S.LanguageConfigurationRegistry.getComments(u);!h||!h.blockCommentStartToken||!h.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,h.blockCommentStartToken,h.blockCommentEndToken,this._insertSpace,i,C)}computeCursorState(i,C){const s=C.getInverseEditOperations();if(s.length===2){const a=s[0],u=s[1];return new L.Selection(a.range.endLineNumber,a.range.endColumn,u.range.startLineNumber,u.range.startColumn)}else{const a=s[0].range,u=this._usedEndToken?-this._usedEndToken.length-1:0;return new L.Selection(a.endLineNumber,a.endColumn+u,a.endLineNumber,a.endColumn+u)}}}e.BlockCommentCommand=p}),define(te[419],ne([0,1,8,59,13,3,21,36,231]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(s,a,u,h,d,r){this._selection=s,this._tabSize=a,this._type=u,this._insertSpace=h,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(s,a,u){s.tokenizeIfCheap(a);const h=s.getLanguageIdAtPosition(a,1),d=p.LanguageConfigurationRegistry.getComments(h),r=d?d.lineCommentToken:null;if(!r)return null;let n=[];for(let l=0,t=u-a+1;l<t;l++)n[l]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return n}static _analyzeLines(s,a,u,h,d,r,n){let l=!0,t;s===0?t=!0:s===1?t=!1:t=!0;for(let o=0,c=h.length;o<c;o++){const f=h[o],y=d+o;if(y===d&&n){f.ignore=!0;continue}const b=u.getLineContent(y),g=_.firstNonWhitespaceIndex(b);if(g===-1){f.ignore=r,f.commentStrOffset=b.length;continue}if(l=!1,f.ignore=!1,f.commentStrOffset=g,t&&!v.BlockCommentCommand._haystackHasNeedleAtOffset(b,f.commentStr,g)&&(s===0?t=!1:s===1||(f.ignore=!0)),t&&a){const m=g+f.commentStrLength;m<b.length&&b.charCodeAt(m)===32&&(f.commentStrLength+=1)}}if(s===0&&l){t=!1;for(let o=0,c=h.length;o<c;o++)h[o].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:h}}static _gatherPreflightData(s,a,u,h,d,r,n){const l=i._gatherPreflightCommentStrings(u,h,d);return l===null?{supported:!1}:i._analyzeLines(s,a,u,l,h,r,n)}_executeLineComments(s,a,u,h){let d;u.shouldRemoveComments?d=i._createRemoveLineCommentsOperations(u.lines,h.startLineNumber):(i._normalizeInsertionPoint(s,u.lines,h.startLineNumber,this._tabSize),d=this._createAddLineCommentsOperations(u.lines,h.startLineNumber));const r=new I.Position(h.positionLineNumber,h.positionColumn);for(let n=0,l=d.length;n<l;n++)a.addEditOperation(d[n].range,d[n].text),L.Range.isEmpty(d[n].range)&&L.Range.getStartPosition(d[n].range).equals(r)&&s.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(d[n].text||"").length);this._selectionId=a.trackSelection(h)}_attemptRemoveBlockComment(s,a,u,h){let d=a.startLineNumber,r=a.endLineNumber,n=h.length+Math.max(s.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn),l=s.getLineContent(d).lastIndexOf(u,n-1),t=s.getLineContent(r).indexOf(h,a.endColumn-1-u.length);return l!==-1&&t===-1&&(t=s.getLineContent(d).indexOf(h,l+u.length),r=d),l===-1&&t!==-1&&(l=s.getLineContent(r).lastIndexOf(u,t),d=r),a.isEmpty()&&(l===-1||t===-1)&&(l=s.getLineContent(d).indexOf(u),l!==-1&&(t=s.getLineContent(d).indexOf(h,l+u.length))),l!==-1&&s.getLineContent(d).charCodeAt(l+u.length)===32&&(u+=" "),t!==-1&&s.getLineContent(r).charCodeAt(t-1)===32&&(h=" "+h,t-=1),l!==-1&&t!==-1?v.BlockCommentCommand._createRemoveBlockCommentOperations(new L.Range(d,l+u.length+1,r,t+1),u,h):null}_executeBlockComment(s,a,u){s.tokenizeIfCheap(u.startLineNumber);let h=s.getLanguageIdAtPosition(u.startLineNumber,1),d=p.LanguageConfigurationRegistry.getComments(h);if(!d||!d.blockCommentStartToken||!d.blockCommentEndToken)return;const r=d.blockCommentStartToken,n=d.blockCommentEndToken;let l=this._attemptRemoveBlockComment(s,u,r,n);if(!l){if(u.isEmpty()){const t=s.getLineContent(u.startLineNumber);let o=_.firstNonWhitespaceIndex(t);o===-1&&(o=t.length),l=v.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(u.startLineNumber,o+1,u.startLineNumber,t.length+1),r,n,this._insertSpace)}else l=v.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(u.startLineNumber,s.getLineFirstNonWhitespaceColumn(u.startLineNumber),u.endLineNumber,s.getLineMaxColumn(u.endLineNumber)),r,n,this._insertSpace);l.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=a.trackSelection(u);for(const t of l)a.addEditOperation(t.range,t.text)}getEditOperations(s,a){let u=this._selection;if(this._moveEndPositionDown=!1,u.startLineNumber===u.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new L.Range(u.startLineNumber,s.getLineMaxColumn(u.startLineNumber),u.startLineNumber+1,1),u.startLineNumber===s.getLineCount()?"":`
`),this._selectionId=a.trackSelection(u);return}u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,s.getLineMaxColumn(u.endLineNumber-1)));const h=i._gatherPreflightData(this._type,this._insertSpace,s,u.startLineNumber,u.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return h.supported?this._executeLineComments(s,a,h,u):this._executeBlockComment(s,a,u)}computeCursorState(s,a){let u=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(u=u.setEndPosition(u.endLineNumber+1,1)),new S.Selection(u.selectionStartLineNumber,u.selectionStartColumn+this._deltaColumn,u.positionLineNumber,u.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(s,a){let u=[];for(let h=0,d=s.length;h<d;h++){const r=s[h];r.ignore||u.push(N.EditOperation.delete(new L.Range(a+h,r.commentStrOffset+1,a+h,r.commentStrOffset+r.commentStrLength+1)))}return u}_createAddLineCommentsOperations(s,a){let u=[];const h=this._insertSpace?" ":"";for(let d=0,r=s.length;d<r;d++){const n=s[d];n.ignore||u.push(N.EditOperation.insert(new I.Position(a+d,n.commentStrOffset+1),n.commentStr+h))}return u}static nextVisibleColumn(s,a,u,h){return u?s+(a-s%a):s+h}static _normalizeInsertionPoint(s,a,u,h){let d=1073741824,r,n;for(let l=0,t=a.length;l<t;l++){if(a[l].ignore)continue;const o=s.getLineContent(u+l);let c=0;for(let f=0,y=a[l].commentStrOffset;c<d&&f<y;f++)c=i.nextVisibleColumn(c,h,o.charCodeAt(f)===9,1);c<d&&(d=c)}d=Math.floor(d/h)*h;for(let l=0,t=a.length;l<t;l++){if(a[l].ignore)continue;const o=s.getLineContent(u+l);let c=0;for(r=0,n=a[l].commentStrOffset;c<d&&r<n;r++)c=i.nextVisibleColumn(c,h,o.charCodeAt(r)===9,1);c>d?a[l].commentStrOffset=r-1:a[l].commentStrOffset=r}}}e.LineCommentCommand=i}),define(te[420],ne([0,1,21,3]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class I{constructor(S,p,v){this.selection=S,this.targetPosition=p,this.copy=v,this.targetSelection=null}getEditOperations(S,p){let v=S.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new N.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new _.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new _.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new _.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new _.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new _.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,p){return this.targetSelection}}e.DragAndDropCommand=I}),define(te[421],ne([0,1,3]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class N{constructor(L,S,p){this._editorSelection=L,this._ranges=S,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(L,S){if(this._ranges.length>0){let p=[];for(let C=0;C<this._ranges.length;C++)p.push({range:this._ranges[C],text:this._replaceStrings[C]});p.sort((C,s)=>_.Range.compareRangesUsingStarts(C.range,s.range));let v=[],i=p[0];for(let C=1;C<p.length;C++)i.range.endLineNumber===p[C].range.startLineNumber&&i.range.endColumn===p[C].range.startColumn?(i.range=i.range.plusRange(p[C].range),i.text=i.text+p[C].text):(v.push(i),i=p[C]);v.push(i);for(const C of v)S.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(L,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=N}),define(te[422],ne([0,1,300]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class N{constructor(C){this.staticValue=C,this.kind=0}}class I{constructor(C){this.pieces=C,this.kind=1}}class L{constructor(C){!C||C.length===0?this._state=new N(""):C.length===1&&C[0].staticValue!==null?this._state=new N(C[0].staticValue):this._state=new I(C)}static fromStaticValue(C){return new L([S.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(C,s){if(this._state.kind===0)return s?(0,_.buildReplaceStringWithCasePreserved)(C,this._state.staticValue):this._state.staticValue;let a="";for(let u=0,h=this._state.pieces.length;u<h;u++){let d=this._state.pieces[u];if(d.staticValue!==null){a+=d.staticValue;continue}let r=L._substitute(d.matchIndex,C);if(d.caseOps!==null&&d.caseOps.length>0){let n=[],l=d.caseOps.length,t=0;for(let o=0,c=r.length;o<c;o++){if(t>=l){n.push(r.slice(o));break}switch(d.caseOps[t]){case"U":n.push(r[o].toUpperCase());break;case"u":n.push(r[o].toUpperCase()),t++;break;case"L":n.push(r[o].toLowerCase());break;case"l":n.push(r[o].toLowerCase()),t++;break;default:n.push(r[o])}}r=n.join("")}a+=r}return a}static _substitute(C,s){if(s===null)return"";if(C===0)return s[0];let a="";for(;C>0;){if(C<s.length)return(s[C]||"")+a;a=String(C%10)+a,C=Math.floor(C/10)}return"$"+a}}e.ReplacePattern=L;class S{constructor(C,s,a){this.staticValue=C,this.matchIndex=s,!a||a.length===0?this.caseOps=null:this.caseOps=a.slice(0)}static staticValue(C){return new S(C,-1,null)}static caseOps(C,s){return new S(null,C,s)}}e.ReplacePiece=S;class p{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,s){this._emitStatic(C),this._lastCharIndex=s}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,s,a){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(C,a),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function v(i){if(!i||i.length===0)return new L(null);let C=[],s=new p(i);for(let a=0,u=i.length;a<u;a++){let h=i.charCodeAt(a);if(h===92){if(a++,a>=u)break;let d=i.charCodeAt(a);switch(d){case 92:s.emitUnchanged(a-1),s.emitStatic("\\",a+1);break;case 110:s.emitUnchanged(a-1),s.emitStatic(`
`,a+1);break;case 116:s.emitUnchanged(a-1),s.emitStatic("	",a+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(a-1),s.emitStatic("",a+1),C.push(String.fromCharCode(d));break}continue}if(h===36){if(a++,a>=u)break;let d=i.charCodeAt(a);if(d===36){s.emitUnchanged(a-1),s.emitStatic("$",a+1);continue}if(d===48||d===38){s.emitUnchanged(a-1),s.emitMatchIndex(0,a+1,C),C.length=0;continue}if(49<=d&&d<=57){let r=d-48;if(a+1<u){let n=i.charCodeAt(a+1);if(48<=n&&n<=57){a++,r=r*10+(n-48),s.emitUnchanged(a-2),s.emitMatchIndex(r,a+1,C),C.length=0;continue}}s.emitUnchanged(a-1),s.emitMatchIndex(r,a+1,C),C.length=0;continue}}}return s.finalize()}e.parseReplaceString=v}),define(te[181],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const _=4278190080;class N{constructor(S,p,v){if(S.length!==p.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=p,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],p=(v,i)=>{let C=S[S.length-1];return this.getStartLineNumber(C)<=v&&this.getEndLineNumber(C)>=i};for(let v=0,i=this._startIndexes.length;v<i;v++){let C=this._startIndexes[v],s=this._endIndexes[v];if(C>e.MAX_LINE_NUMBER||s>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!p(C,s);)S.pop();let a=S.length>0?S[S.length-1]:-1;S.push(v),this._startIndexes[v]=C+((a&255)<<24),this._endIndexes[v]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let p=S/32|0,v=S%32;return(this._collapseStates[p]&1<<v)!=0}setCollapsed(S,p){let v=S/32|0,i=S%32,C=this._collapseStates[v];p?this._collapseStates[v]=C|1<<i:this._collapseStates[v]=C&~(1<<i)}setCollapsedAllOfType(S,p){let v=!1;if(this._types)for(let i=0;i<this._types.length;i++)this._types[i]===S&&(this.setCollapsed(i,p),v=!0);return v}toRegion(S){return new I(this,S)}getParentIndex(S){this.ensureParentIndices();let p=((this._startIndexes[S]&_)>>>24)+((this._endIndexes[S]&_)>>>16);return p===e.MAX_FOLDING_REGIONS?-1:p}contains(S,p){return this.getStartLineNumber(S)<=p&&this.getEndLineNumber(S)>=p}findIndex(S){let p=0,v=this._startIndexes.length;if(v===0)return-1;for(;p<v;){let i=Math.floor((p+v)/2);S<this.getStartLineNumber(i)?v=i:p=i+1}return p-1}findRange(S){let p=this.findIndex(S);if(p>=0){if(this.getEndLineNumber(p)>=S)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,S))return p;p=this.getParentIndex(p)}}return-1}toString(){let S=[];for(let p=0;p<this.length;p++)S[p]=`[${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return S.join(", ")}}e.FoldingRegions=N;class I{constructor(S,p){this.ranges=S,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=I}),define(te[423],ne([0,1,6,181]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class I{constructor(n,l){this._updateEventEmitter=new _.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=n,this._decorationProvider=l,this._regions=new N.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(n){if(!n.length)return;n=n.sort((t,o)=>t.regionIndex-o.regionIndex);const l={};this._decorationProvider.changeDecorations(t=>{let o=0,c=-1,f=-1;const y=b=>{for(;o<b;){const g=this._regions.getEndLineNumber(o),m=this._regions.isCollapsed(o);g<=c&&t.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(m,g<=f)),m&&g>f&&(f=g),o++}};for(let b of n){let g=b.regionIndex,m=this._editorDecorationIds[g];if(m&&!l[m]){l[m]=!0,y(g);let w=!this._regions.isCollapsed(g);this._regions.setCollapsed(g,w),c=Math.max(c,this._regions.getEndLineNumber(g))}}y(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:n})}update(n,l=[]){let t=[],o=(w,D)=>{for(let k of l)if(w<k&&k<=D)return!0;return!1},c=-1,f=(w,D)=>{const k=n.getStartLineNumber(w),T=n.getEndLineNumber(w);D||(D=n.isCollapsed(w)),D&&o(k,T)&&(D=!1),n.setCollapsed(w,D);const R=this._textModel.getLineMaxColumn(k),M={startLineNumber:k,startColumn:Math.max(R-1,1),endLineNumber:k,endColumn:R};t.push({range:M,options:this._decorationProvider.getDecorationOption(D,T<=c)}),D&&T>c&&(c=T)},y=0,b=()=>{for(;y<this._regions.length;){let w=this._regions.isCollapsed(y);if(y++,w)return y-1}return-1},g=0,m=b();for(;m!==-1&&g<n.length;){let w=this._textModel.getDecorationRange(this._editorDecorationIds[m]);if(w){let D=w.startLineNumber;if(w.startColumn===Math.max(w.endColumn-1,1)&&this._textModel.getLineMaxColumn(D)===w.endColumn)for(;g<n.length;){let k=n.getStartLineNumber(g);if(D>=k)f(g,D===k),g++;else break}}m=b()}for(;g<n.length;)f(g,!1),g++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,t),this._regions=n,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let n=[];for(let l=0;l<this._regions.length;l++)if(this._regions.isCollapsed(l)){let t=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(t){let o=t.startLineNumber,c=t.endLineNumber+this._regions.getEndLineNumber(l)-this._regions.getStartLineNumber(l);n.push({startLineNumber:o,endLineNumber:c})}}if(n.length>0)return n}applyMemento(n){if(!Array.isArray(n))return;let l=[];for(let t of n){let o=this.getRegionAtLine(t.startLineNumber);o&&!o.isCollapsed&&l.push(o)}this.toggleCollapseState(l)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(n,l){let t=[];if(this._regions){let o=this._regions.findRange(n),c=1;for(;o>=0;){let f=this._regions.toRegion(o);(!l||l(f,c))&&t.push(f),c++,o=f.parentIndex}}return t}getRegionAtLine(n){if(this._regions){let l=this._regions.findRange(n);if(l>=0)return this._regions.toRegion(l)}return null}getRegionsInside(n,l){let t=[],o=n?n.regionIndex+1:0,c=n?n.endLineNumber:Number.MAX_VALUE;if(l&&l.length===2){const f=[];for(let y=o,b=this._regions.length;y<b;y++){let g=this._regions.toRegion(y);if(this._regions.getStartLineNumber(y)<c){for(;f.length>0&&!g.containedBy(f[f.length-1]);)f.pop();f.push(g),l(g,f.length)&&t.push(g)}else break}}else for(let f=o,y=this._regions.length;f<y;f++){let b=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<c)(!l||l(b))&&t.push(b);else break}return t}}e.FoldingModel=I;function L(r,n,l){let t=[];for(let o of l){let c=r.getRegionAtLine(o);if(c){const f=!c.isCollapsed;if(t.push(c),n>1){let y=r.getRegionsInside(c,(b,g)=>b.isCollapsed!==f&&g<n);t.push(...y)}}}r.toggleCollapseState(t)}e.toggleCollapseState=L;function S(r,n,l=Number.MAX_VALUE,t){let o=[];if(t&&t.length>0)for(let c of t){let f=r.getRegionAtLine(c);if(f&&(f.isCollapsed!==n&&o.push(f),l>1)){let y=r.getRegionsInside(f,(b,g)=>b.isCollapsed!==n&&g<l);o.push(...y)}}else{let c=r.getRegionsInside(null,(f,y)=>f.isCollapsed!==n&&y<l);o.push(...c)}r.toggleCollapseState(o)}e.setCollapseStateLevelsDown=S;function p(r,n,l,t){let o=[];for(let c of t){let f=r.getAllRegionsAtLine(c,(y,b)=>y.isCollapsed!==n&&b<=l);o.push(...f)}r.toggleCollapseState(o)}e.setCollapseStateLevelsUp=p;function v(r,n,l){let t=[];for(let o of l){let c=r.getAllRegionsAtLine(o,f=>f.isCollapsed!==n);c.length>0&&t.push(c[0])}r.toggleCollapseState(t)}e.setCollapseStateUp=v;function i(r,n,l,t){let o=(f,y)=>y===n&&f.isCollapsed!==l&&!t.some(b=>f.containsLine(b)),c=r.getRegionsInside(null,o);r.toggleCollapseState(c)}e.setCollapseStateAtLevel=i;function C(r,n,l){let t=[];for(let f of l)t.push(r.getAllRegionsAtLine(f,void 0)[0]);let o=f=>t.every(y=>!y.containedBy(f)&&!f.containedBy(y))&&f.isCollapsed!==n,c=r.getRegionsInside(null,o);r.toggleCollapseState(c)}e.setCollapseStateForRest=C;function s(r,n,l){let t=r.textModel,o=r.regions,c=[];for(let f=o.length-1;f>=0;f--)if(l!==o.isCollapsed(f)){let y=o.getStartLineNumber(f);n.test(t.getLineContent(y))&&c.push(o.toRegion(f))}r.toggleCollapseState(c)}e.setCollapseStateForMatchingLines=s;function a(r,n,l){let t=r.regions,o=[];for(let c=t.length-1;c>=0;c--)l!==t.isCollapsed(c)&&n===t.getType(c)&&o.push(t.toRegion(c));r.toggleCollapseState(o)}e.setCollapseStateForType=a;function u(r,n){let l=null,t=n.getRegionAtLine(r);if(t!==null&&(l=t.startLineNumber,r===l)){let o=t.parentIndex;o!==-1?l=n.regions.getStartLineNumber(o):l=null}return l}e.getParentFoldLine=u;function h(r,n){let l=n.getRegionAtLine(r);if(l!==null){if(r!==l.startLineNumber)return l.startLineNumber;{let t=l.parentIndex,o=0;for(t!==-1&&(o=n.regions.getStartLineNumber(l.parentIndex));l!==null;)if(l.regionIndex>0){if(l=n.regions.toRegion(l.regionIndex-1),l.startLineNumber<=o)return null;if(l.parentIndex===t)return l.startLineNumber}else return null}}else if(n.regions.length>0)for(l=n.regions.toRegion(n.regions.length-1);l!==null;){if(l.parentIndex===-1&&l.startLineNumber<r)return l.startLineNumber;l.regionIndex>0?l=n.regions.toRegion(l.regionIndex-1):l=null}return null}e.getPreviousFoldLine=h;function d(r,n){let l=n.getRegionAtLine(r);if(l!==null){let t=l.parentIndex,o=0;if(t!==-1)o=n.regions.getEndLineNumber(l.parentIndex);else{if(n.regions.length===0)return null;o=n.regions.getEndLineNumber(n.regions.length-1)}for(;l!==null;)if(l.regionIndex<n.regions.length){if(l=n.regions.toRegion(l.regionIndex+1),l.startLineNumber>=o)return null;if(l.parentIndex===t)return l.startLineNumber}else return null}else if(n.regions.length>0)for(l=n.regions.toRegion(0);l!==null;){if(l.parentIndex===-1&&l.startLineNumber>r)return l.startLineNumber;l.regionIndex<n.regions.length?l=n.regions.toRegion(l.regionIndex+1):l=null}return null}e.getNextFoldLine=d}),define(te[424],ne([0,1,6,3,19]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(i){this._updateEventEmitter=new _.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(C=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,C=[],s=0,a=0,u=Number.MAX_VALUE,h=-1,d=this._foldingModel.regions;for(;s<d.length;s++){if(!d.isCollapsed(s))continue;let r=d.getStartLineNumber(s)+1,n=d.getEndLineNumber(s);u<=r&&n<=h||(!i&&a<this._hiddenRanges.length&&this._hiddenRanges[a].startLineNumber===r&&this._hiddenRanges[a].endLineNumber===n?(C.push(this._hiddenRanges[a]),a++):(i=!0,C.push(new N.Range(r,1,n,1))),u=r,h=n)}(i||a<this._hiddenRanges.length)&&this.applyHiddenRanges(C)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let C=[];for(let s of i){if(!s.startLineNumber||!s.endLineNumber)return!1;C.push(new N.Range(s.startLineNumber+1,1,s.endLineNumber,1))}return this.applyHiddenRanges(C),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return p(this._hiddenRanges,i)!==null}adjustSelections(i){let C=!1,s=this._foldingModel.textModel,a=null,u=h=>((!a||!S(h,a))&&(a=p(this._hiddenRanges,h)),a?a.startLineNumber-1:null);for(let h=0,d=i.length;h<d;h++){let r=i[h],n=u(r.startLineNumber);n&&(r=r.setStartPosition(n,s.getLineMaxColumn(n)),C=!0);let l=u(r.endLineNumber);l&&(r=r.setEndPosition(l,s.getLineMaxColumn(l)),C=!0),i[h]=r}return C}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function S(v,i){return v>=i.startLineNumber&&v<=i.endLineNumber}function p(v,i){let C=(0,I.findFirstInSorted)(v,s=>i<s.startLineNumber)-1;return C>=0&&v[C].endLineNumber>=i?v[C]:null}}),define(te[232],ne([0,1,10,181,2]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const L=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class p{constructor(a,u,h,d=L){this.editorModel=a,this.providers=u,this.limit=d,this.id=e.ID_SYNTAX_PROVIDER;for(const r of u)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new I.DisposableStore),this.disposables.add(r.onDidChange(h)))}compute(a){return v(this.providers,this.editorModel,a).then(u=>u?C(u,this.limit):null)}dispose(){var a;(a=this.disposables)===null||a===void 0||a.dispose()}}e.SyntaxRangeProvider=p;function v(s,a,u){let h=null,d=s.map((r,n)=>Promise.resolve(r.provideFoldingRanges(a,S,u)).then(l=>{if(!u.isCancellationRequested&&Array.isArray(l)){Array.isArray(h)||(h=[]);let t=a.getLineCount();for(let o of l)o.start>0&&o.end>o.start&&o.end<=t&&h.push({start:o.start,end:o.end,rank:n,kind:o.kind})}},_.onUnexpectedExternalError));return Promise.all(d).then(r=>h)}class i{constructor(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}add(a,u,h,d){if(a>N.MAX_LINE_NUMBER||u>N.MAX_LINE_NUMBER)return;let r=this._length;this._startIndexes[r]=a,this._endIndexes[r]=u,this._nestingLevels[r]=d,this._types[r]=h,this._length++,d<30&&(this._nestingLevelCounts[d]=(this._nestingLevelCounts[d]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let a=new Uint32Array(this._length),u=new Uint32Array(this._length);for(let h=0;h<this._length;h++)a[h]=this._startIndexes[h],u[h]=this._endIndexes[h];return new N.FoldingRegions(a,u,this._types)}else{let a=0,u=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let l=this._nestingLevelCounts[n];if(l){if(l+a>this._foldingRangesLimit){u=n;break}a+=l}}let h=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit),r=[];for(let n=0,l=0;n<this._length;n++){let t=this._nestingLevels[n];(t<u||t===u&&a++<this._foldingRangesLimit)&&(h[l]=this._startIndexes[n],d[l]=this._endIndexes[n],r[l]=this._types[n],l++)}return new N.FoldingRegions(h,d,r)}}}e.RangesCollector=i;function C(s,a){let u=s.sort((n,l)=>{let t=n.start-l.start;return t===0&&(t=n.rank-l.rank),t}),h=new i(a),d,r=[];for(let n of u)if(!d)d=n,h.add(n.start,n.end,n.kind&&n.kind.value,r.length);else if(n.start>d.start)if(n.end<=d.end)r.push(d),d=n,h.add(n.start,n.end,n.kind&&n.kind.value,r.length);else{if(n.start>d.end){do d=r.pop();while(d&&n.start>d.end);d&&r.push(d),d=n}h.add(n.start,n.end,n.kind&&n.kind.value,r.length)}return h.toIndentRanges()}e.sanitizeRanges=C}),define(te[425],ne([0,1,232]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class N{constructor(L,S,p,v){if(this.editorModel=L,this.id=e.ID_INIT_PROVIDER,S.length){let i=C=>({range:{startLineNumber:C.startLineNumber,startColumn:0,endLineNumber:C.endLineNumber,endColumn:L.getLineLength(C.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=L.deltaDecorations([],S.map(i)),this.timeout=setTimeout(p,v)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(L){let S=[];if(this.decorationIds)for(let p of this.decorationIds){let v=this.editorModel.getDecorationRange(p);v&&S.push({start:v.startLineNumber,end:v.endLineNumber,rank:1})}return Promise.resolve((0,_.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=N}),define(te[233],ne([0,1,59,3]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class I{static _handleEolEdits(S,p){let v,i=[];for(let C of p)typeof C.eol=="number"&&(v=C.eol),C.range&&typeof C.text=="string"&&i.push(C);return typeof v=="number"&&S.hasModel()&&S.getModel().pushEOL(v),i}static _isFullModelReplaceEdit(S,p){if(!S.hasModel())return!1;const v=S.getModel(),i=v.validateRange(p.range);return v.getFullModelRange().equalsRange(i)}static execute(S,p,v){v&&S.pushUndoStop();const i=I._handleEolEdits(S,p);i.length===1&&I._isFullModelReplaceEdit(S,i[0])?S.executeEdits("formatEditsCommand",i.map(C=>_.EditOperation.replace(N.Range.lift(C.range),C.text))):S.executeEdits("formatEditsCommand",i.map(C=>_.EditOperation.replaceMove(N.Range.lift(C.range),C.text))),v&&S.pushUndoStop()}}e.FormattingEdit=I}),define(te[234],ne([0,1,2,6,17]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function L(s,a){return!!s[a]}class S{constructor(a,u){this.target=a.target,this.hasTriggerModifier=L(a.event,u.triggerModifier),this.hasSideBySideModifier=L(a.event,u.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}e.ClickLinkMouseEvent=S;class p{constructor(a,u){this.keyCodeIsTriggerKey=a.keyCode===u.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===u.triggerSideBySideKey,this.hasTriggerModifier=L(a,u.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class v{constructor(a,u,h,d){this.triggerKey=a,this.triggerModifier=u,this.triggerSideBySideKey=h,this.triggerSideBySideModifier=d}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}e.ClickLinkOptions=v;function i(s){return s==="altKey"?I.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):I.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class C extends _.Disposable{constructor(a){super();this._onMouseMoveOrRelevantKeyDown=this._register(new N.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new N.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new N.Emitter),this.onCancel=this._onCancel.event,this._editor=a,this._opts=i(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(u=>{if(u.hasChanged(69)){const h=i(this._editor.getOption(69));if(this._opts.equals(h))return;this._opts=h,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(u=>this._onEditorMouseMove(new S(u,this._opts)))),this._register(this._editor.onMouseDown(u=>this._onEditorMouseDown(new S(u,this._opts)))),this._register(this._editor.onMouseUp(u=>this._onEditorMouseUp(new S(u,this._opts)))),this._register(this._editor.onKeyDown(u=>this._onEditorKeyDown(new p(u,this._opts)))),this._register(this._editor.onKeyUp(u=>this._onEditorKeyUp(new p(u,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(u=>this._onDidChangeCursorSelection(u))),this._register(this._editor.onDidChangeModel(u=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(u=>{(u.scrollTopChanged||u.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const u=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===u&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C}),define(te[235],ne([0,1,14,10]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class I{constructor(S,p,v,i,C){this._computer=S,this._state=0,this._hoverTime=C,this._firstWaitScheduler=new _.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new _.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new _.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=p,this._errorCallback=v,this._progressCallback=i}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,_.createCancelablePromise)(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):(0,N.onUnexpectedError)(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=I}),define(te[236],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class _{constructor(L,S){this.priority=L,this.range=S,this.type=1}equals(L){return L.type===1&&this.range.equalsRange(L.range)}canAdoptVisibleHover(L,S){return L.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=_;class N{constructor(L,S,p){this.priority=L,this.owner=S,this.range=p,this.type=2}equals(L){return L.type===2&&this.owner===L.owner}canAdoptVisibleHover(L,S){return L.type===2&&this.owner===L.owner}}e.HoverForeignElementAnchor=N}),define(te[426],ne([0,1,52]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class N extends _.Widget{constructor(L,S){super();this._id=L,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(p=>{p.hasChanged(42)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(L){this._isVisible=L,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(L){this._showAtLineNumber=L,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),p=this._editor.getTopForLineNumber(this._showAtLineNumber),v=this._editor.getScrollTop(),i=this._editor.getOption(58),C=this._domNode.clientHeight,s=p-v-(C-i)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(s),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const L=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...L,...S].forEach(p=>this._editor.applyFontInfo(p))}updateContents(L){this._domNode.textContent="",this._domNode.appendChild(L),this.updateFont()}}e.GlyphHoverWidget=N}),define(te[427],ne([0,1,21]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class N{constructor(L,S,p){this._editRange=L,this._originalSelection=S,this._text=p}getEditOperations(L,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(L,S){const v=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new _.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new _.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=N}),define(te[237],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function _(I,L){let S=0;for(let p=0;p<I.length;p++)I.charAt(p)==="	"?S+=L:S++;return S}e.getSpaceCnt=_;function N(I,L,S){I=I<0?0:I;let p="";if(!S){let v=Math.floor(I/L);I=I%L;for(let i=0;i<v;i++)p+="	"}for(let v=0;v<I;v++)p+=" ";return p}e.generateIndent=N}),define(te[238],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(te[182],ne([0,1,6,2,3]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class L{constructor(s,a,u=0){this.lineNumber=s,this.parts=a,this.additionalReservedLineCount=u}renderForScreenReader(s){if(this.parts.length===0)return"";const a=this.parts[this.parts.length-1],u=s.substr(0,a.column-1);return p(u,this.parts.map(d=>({range:{startLineNumber:1,endLineNumber:1,startColumn:d.column,endColumn:d.column},text:d.lines.join(`
`)}))).substring(this.parts[0].column-1)}}e.GhostText=L;class S{constructor(s){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let a=0;a<s.length;a++)s.charAt(a)===`
`&&this.lineStartOffsetByLineIdx.push(a+1)}getOffset(s){return this.lineStartOffsetByLineIdx[s.lineNumber-1]+s.column-1}}function p(C,s){const a=new S(C),u=s.map(h=>{const d=I.Range.lift(h.range);return{startOffset:a.getOffset(d.getStartPosition()),endOffset:a.getOffset(d.getEndPosition()),text:h.text}});u.sort((h,d)=>d.startOffset-h.startOffset);for(const h of u)C=C.substring(0,h.startOffset)+h.text+C.substring(h.endOffset);return C}class v{constructor(s,a,u){this.column=s,this.lines=a,this.preview=u}}e.GhostTextPart=v;class i extends N.Disposable{constructor(s){super();this.editor=s,this._expanded=void 0,this.onDidChangeEmitter=new _.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(s.onDidChangeConfiguration(a=>{a.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(s){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=i}),define(te[239],ne([0,1,8,130,182]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=void 0;function L(i,C,s,a,u=0){if(i.range.startLineNumber!==i.range.endLineNumber)return;const d=i.text.length-u,r=C.getValueInRange(i.range),n=p(r,i.text),l=i.range.startLineNumber,t=new Array;if(s==="prefix"){const o=n.filter(c=>c.originalLength===0);if(o.length>1||o.length===1&&o[0].originalStart!==r.length)return}for(const o of n){const c=i.range.startColumn+o.originalStart+o.originalLength;if(s==="subwordSmart"&&a&&a.lineNumber===i.range.startLineNumber&&c<a.column)return;if(o.originalLength>0){const m=r.substr(o.originalStart,o.originalLength),w=C.getLineFirstNonWhitespaceColumn(l);if(!(/^(\t| )*$/.test(m)&&(w===0||c<=w)))return}if(o.modifiedLength===0)continue;const f=o.modifiedStart+o.modifiedLength,y=Math.max(o.modifiedStart,Math.min(f,d)),b=i.text.substring(o.modifiedStart,y),g=i.text.substring(y,Math.max(o.modifiedStart,f));if(b.length>0){const m=_.splitLines(b);t.push(new I.GhostTextPart(c,m,!1))}if(g.length>0){const m=_.splitLines(g);t.push(new I.GhostTextPart(c,m,!0))}}return new I.GhostText(l,t,0)}e.inlineCompletionToGhostText=L;let S;function p(i,C){if((S==null?void 0:S.originalValue)===i&&(S==null?void 0:S.newValue)===C)return S==null?void 0:S.changes;{const s=v(i,C);return S={originalValue:i,newValue:C,changes:s},s}}function v(i,C){function s(n){let l=0;for(let t=0,o=n.length;t<o;t++){const c=n.charCodeAt(t);c>l&&(l=c)}return l}const a=Math.max(s(i),s(C));function u(n){if(n<0)throw new Error("unexpected");return a+n+1}function h(n){let l=0,t=0;const o=new Int32Array(n.length);for(let c=0,f=n.length;c<f;c++){const y=t*100+l;n[c]==="("?(o[c]=u(2*y),l++):n[c]===")"?(o[c]=u(2*y+1),l===1&&t++,l=Math.max(l-1,0)):o[c]=n.charCodeAt(c)}return o}const d=h(i),r=h(C);return new N.LcsDiff({getElements:()=>d},{getElements:()=>r}).ComputeDiff(!1).changes}}),define(te[428],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDisposableRef=void 0;function _(N,I){return{object:N,dispose:()=>I==null?void 0:I.dispose()}}e.createDisposableRef=_}),define(te[429],ne([0,1,3,21]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class I{constructor(S,p,v){this._selection=S,this._isCopyingDown=p,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,p){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,S.getLineMaxColumn(v.endLineNumber-1)));let i=[];for(let s=v.startLineNumber;s<=v.endLineNumber;s++)i.push(S.getLineContent(s));const C=i.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new _.Range(v.endLineNumber,S.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new _.Range(v.startLineNumber,1,v.startLineNumber,1),C+`
`):p.addEditOperation(new _.Range(v.endLineNumber,S.getLineMaxColumn(v.endLineNumber),v.endLineNumber,S.getLineMaxColumn(v.endLineNumber)),`
`+C),this._selectionId=p.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,p){let v=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=v.startLineNumber,C=v.startColumn,s=v.endLineNumber,a=v.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),v=N.Selection.createWithDirection(i,C,s,a,this._selectionDirection)}return v}}e.CopyLinesCommand=I}),define(te[430],ne([0,1,59,3]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class I{constructor(v,i){this.selection=v,this.descending=i,this.selectionId=null}static getCollator(){return I._COLLATOR||(I._COLLATOR=new Intl.Collator),I._COLLATOR}getEditOperations(v,i){let C=S(v,this.selection,this.descending);C&&i.addEditOperation(C.range,C.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(v,i){return i.getTrackedSelection(this.selectionId)}static canRun(v,i,C){if(v===null)return!1;let s=L(v,i,C);if(!s)return!1;for(let a=0,u=s.before.length;a<u;a++)if(s.before[a]!==s.after[a])return!0;return!1}}e.SortLinesCommand=I,I._COLLATOR=null;function L(p,v,i){let C=v.startLineNumber,s=v.endLineNumber;if(v.endColumn===1&&s--,C>=s)return null;let a=[];for(let h=C;h<=s;h++)a.push(p.getLineContent(h));let u=a.slice(0);return u.sort(I.getCollator().compare),i===!0&&(u=u.reverse()),{startLineNumber:C,endLineNumber:s,before:a,after:u}}function S(p,v,i){let C=L(p,v,i);return C?_.EditOperation.replace(new N.Range(C.startLineNumber,1,C.endLineNumber,p.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(te[240],ne([0,1,13,3,72]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class L{provideSelectionRanges(p,v){return ke(this,void 0,void 0,function*(){const i=[];for(const C of v){const s=[];i.push(s);const a=new Map;yield new Promise(u=>L._bracketsRightYield(u,0,p,C,a)),yield new Promise(u=>L._bracketsLeftYield(u,0,p,C,a,s))}return i})}static _bracketsRightYield(p,v,i,C,s){const a=new Map,u=Date.now();for(;;){if(v>=L._maxRounds){p();break}if(!C){p();break}let h=i.findNextBracket(C);if(!h){p();break}if(Date.now()-u>L._maxDuration){setTimeout(()=>L._bracketsRightYield(p,v+1,i,C,s));break}const r=h.close[0];if(h.isOpen){let n=a.has(r)?a.get(r):0;a.set(r,n+1)}else{let n=a.has(r)?a.get(r):0;if(n-=1,a.set(r,Math.max(0,n)),n<0){let l=s.get(r);l||(l=new I.LinkedList,s.set(r,l)),l.push(h.range)}}C=h.range.getEndPosition()}}static _bracketsLeftYield(p,v,i,C,s,a){const u=new Map,h=Date.now();for(;;){if(v>=L._maxRounds&&s.size===0){p();break}if(!C){p();break}let d=i.findPrevBracket(C);if(!d){p();break}if(Date.now()-h>L._maxDuration){setTimeout(()=>L._bracketsLeftYield(p,v+1,i,C,s,a));break}const n=d.close[0];if(d.isOpen){let l=u.has(n)?u.get(n):0;if(l-=1,u.set(n,Math.max(0,l)),l<0){let t=s.get(n);if(t){let o=t.shift();t.size===0&&s.delete(n);const c=N.Range.fromPositions(d.range.getEndPosition(),o.getStartPosition()),f=N.Range.fromPositions(d.range.getStartPosition(),o.getEndPosition());a.push({range:c}),a.push({range:f}),L._addBracketLeading(i,f,a)}}}else{let l=u.has(n)?u.get(n):0;u.set(n,l+1)}C=d.range.getStartPosition()}}static _addBracketLeading(p,v,i){if(v.startLineNumber===v.endLineNumber)return;const C=v.startLineNumber,s=p.getLineFirstNonWhitespaceColumn(C);s!==0&&s!==v.startColumn&&(i.push({range:N.Range.fromPositions(new _.Position(C,s),v.getEndPosition())}),i.push({range:N.Range.fromPositions(new _.Position(C,1),v.getEndPosition())}));const a=C-1;if(a>0){const u=p.getLineFirstNonWhitespaceColumn(a);u===v.startColumn&&u!==p.getLineLastNonWhitespaceColumn(a)&&(i.push({range:N.Range.fromPositions(new _.Position(a,u),v.getEndPosition())}),i.push({range:N.Range.fromPositions(new _.Position(a,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=L,L._maxDuration=30,L._maxRounds=2}),define(te[431],ne([0,1,3,8]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class I{provideSelectionRanges(S,p){const v=[];for(const i of p){const C=[];v.push(C),this._addInWordRanges(C,S,i),this._addWordRanges(C,S,i),this._addWhitespaceLine(C,S,i),C.push({range:S.getFullModelRange()})}return v}_addInWordRanges(S,p,v){const i=p.getWordAtPosition(v);if(!i)return;let{word:C,startColumn:s}=i,a=v.column-s,u=a,h=a,d=0;for(;u>=0;u--){let r=C.charCodeAt(u);if(u!==a&&(r===95||r===45))break;if((0,N.isLowerAsciiLetter)(r)&&(0,N.isUpperAsciiLetter)(d))break;d=r}for(u+=1;h<C.length;h++){let r=C.charCodeAt(h);if((0,N.isUpperAsciiLetter)(r)&&(0,N.isLowerAsciiLetter)(d))break;if(r===95||r===45)break;d=r}u<h&&S.push({range:new _.Range(v.lineNumber,s+u,v.lineNumber,s+h)})}_addWordRanges(S,p,v){const i=p.getWordAtPosition(v);i&&S.push({range:new _.Range(v.lineNumber,i.startColumn,v.lineNumber,i.endColumn)})}_addWhitespaceLine(S,p,v){p.getLineLength(v.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&S.push({range:new _.Range(v.lineNumber,1,v.lineNumber,p.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=I}),define(te[117],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class _{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,r=0,n=this.value.charCodeAt(d),l;if(l=_._table[n],typeof l=="number")return this.pos+=1,{type:l,pos:d,len:1};if(_.isDigitCharacter(n)){l=8;do r+=1,n=this.value.charCodeAt(d+r);while(_.isDigitCharacter(n));return this.pos+=r,{type:l,pos:d,len:r}}if(_.isVariableCharacter(n)){l=9;do n=this.value.charCodeAt(d+ ++r);while(_.isVariableCharacter(n)||_.isDigitCharacter(n));return this.pos+=r,{type:l,pos:d,len:r}}l=10;do r+=1,n=this.value.charCodeAt(d+r);while(!isNaN(n)&&typeof _._table[n]=="undefined"&&!_.isDigitCharacter(n)&&!_.isVariableCharacter(n));return this.pos+=r,{type:l,pos:d,len:r}}}e.Scanner=_,_._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class N{constructor(){this._children=[]}appendChild(d){return d instanceof I&&this._children[this._children.length-1]instanceof I?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,r){const{parent:n}=d,l=n.children.indexOf(d),t=n.children.slice(0);t.splice(l,1,...r),n._children=t,function o(c,f){for(const y of c)y.parent=f,o(y.children,y)}(r,n)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof a)return d;d=d.parent}}toString(){return this.children.reduce((d,r)=>d+r.toString(),"")}len(){return 0}}e.Marker=N;class I extends N{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new I(this.value)}}e.Text=I;class L extends N{}e.TransformableMarker=L;class S extends L{constructor(d){super();this.index=d}static compareByIndex(d,r){return d.index===r.index?0:d.isFinalTabstop?1:r.isFinalTabstop||d.index<r.index?-1:d.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){let d=new S(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Placeholder=S;class p extends N{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof I&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new p;return this.options.forEach(d.appendChild,d),d}}e.Choice=p;class v extends N{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const r=this;let n=!1,l=d.replace(this.regexp,function(){return n=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(l=this._replace([])),l}_replace(d){let r="";for(const n of this._children)if(n instanceof i){let l=d[n.index]||"";l=n.resolve(l),r+=l}else r+=n.toString();return r}toString(){return""}clone(){let d=new v;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(r=>r.clone()),d}}e.Transform=v;class i extends N{constructor(d,r,n,l){super();this.index=d,this.shorthandName=r,this.ifValue=n,this.elseValue=l}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":this.shorthandName==="camelcase"?d?this._toCamelCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const r=d.match(/[a-z0-9]+/gi);return r?r.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):d}_toCamelCase(d){const r=d.match(/[a-z0-9]+/gi);return r?r.map((n,l)=>l===0?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):d}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class C extends L{constructor(d){super();this.name=d}resolve(d){let r=d.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new I(r)],!0):!1}clone(){const d=new C(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Variable=C;function s(h,d){const r=[...h];for(;r.length>0;){const n=r.shift();if(!d(n))break;r.unshift(...n.children)}}class a extends N{get placeholderInfo(){if(!this._placeholders){let d=[],r;this.walk(function(n){return n instanceof S&&(d.push(n),r=!r||r.index<n.index?n:r),!0}),this._placeholders={all:d,last:r}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let r=0,n=!1;return this.walk(l=>l===d?(n=!0,!1):(r+=l.len(),!0)),n?r:-1}fullLen(d){let r=0;return s([d],n=>(r+=n.len(),!0)),r}enclosingPlaceholders(d){let r=[],{parent:n}=d;for(;n;)n instanceof S&&r.push(n),n=n.parent;return r}resolveVariables(d){return this.walk(r=>(r instanceof C&&r.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,r){return this._placeholders=void 0,super.replace(d,r)}clone(){let d=new a;return this._children=this.children.map(r=>r.clone()),d}walk(d){s(this.children,d)}}e.TextmateSnippet=a;class u{constructor(){this._scanner=new _,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,r,n){this._scanner.text(d),this._token=this._scanner.next();const l=new a;for(;this._parse(l););const t=new Map,o=[];let c=0;l.walk(f=>(f instanceof S&&(c+=1,f.isFinalTabstop?t.set(0,void 0):!t.has(f.index)&&f.children.length>0?t.set(f.index,f.children):o.push(f)),!0));for(const f of o){const y=t.get(f.index);if(y){const b=new S(f.index);b.transform=f.transform;for(const g of y)b.appendChild(g.clone());l.replace(f,[b])}}return n||(n=c>0&&r),!t.has(0)&&n&&l.appendChild(new S(0)),l}_accept(d,r){if(d===void 0||this._token.type===d){let n=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const r=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const l=this._scanner.next();if(l.type!==0&&l.type!==4&&l.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,d.appendChild(new I(r)),!0):!1}_parseTabstopOrVariableName(d){let r;const n=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(r)?new S(Number(r)):new C(r)),!0):this._backTo(n)}_parseComplexPlaceholder(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(n);const t=new S(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new I("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else if(t.index>0&&this._accept(7)){const o=new p;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(o),this._accept(4)))return d.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(d){const r=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let l;if((l=this._accept(5,!0))?l=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||l:l=this._accept(void 0,!0),!l)return this._backTo(r),!1;n.push(l)}return n.length===0?(this._backTo(r),!1):(d.appendChild(new I(n.join(""))),!0)}_parseComplexVariable(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(n);const t=new C(r);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new I("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseTransform(d){let r=new v,n="",l="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,r.appendChild(new I(t));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){l+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(n,l)}catch(t){return!1}return d.transform=r,!0}_parseFormatString(d){const r=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let l=this._accept(8,!0);if(l)if(n){if(this._accept(4))return d.appendChild(new i(Number(l))),!0;if(!this._accept(1))return this._backTo(r),!1}else return d.appendChild(new i(Number(l))),!0;else return this._backTo(r),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(r),!1):(d.appendChild(new i(Number(l),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return d.appendChild(new i(Number(l),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return d.appendChild(new i(Number(l),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let o=this._until(4);if(o)return d.appendChild(new i(Number(l),void 0,t,o)),!0}}else{let t=this._until(4);if(t)return d.appendChild(new i(Number(l),void 0,void 0,t)),!0}return this._backTo(r),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new I(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=u}),define(te[432],ne([0,1,67,8,19]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class L{constructor(v,i){this.leadingLineContent=v,this.characterCountDelta=i}}e.LineContext=L;class S{constructor(v,i,C,s,a,u,h){this.clipboardText=h,this._snippetCompareFn=S._compareCompletionItems,this._items=v,this._column=i,this._wordDistance=s,this._options=a,this._refilterKind=1,this._lineContext=C,u==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:u==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(let[i,C]of this._providerInfo)C&&v.add(i);return v}adopt(v){let i=[];for(let C=0;C<this._items.length;)v.has(this._items[C].provider)?C++:(i.push(this._items[C]),this._items[C]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:i,characterCountDelta:C}=this._lineContext;let s="",a="";const u=this._refilterKind===1?this._items:this._filteredItems,h=[],d=!this._options.filterGraceful||u.length>2e3?_.fuzzyScore:_.fuzzyScoreGracefulAggressive;for(let r=0;r<u.length;r++){const n=u[r];if(n.isInvalid)continue;this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const l=n.position.column-n.editStart.column,t=l+C-(n.position.column-this._column);if(s.length!==t&&(s=t===0?"":i.slice(-t),a=s.toLowerCase()),n.word=s,t===0)n.score=_.FuzzyScore.Default;else{let o=0;for(;o<l;){const c=s.charCodeAt(o);if(c===32||c===9)o+=1;else break}if(o>=t)n.score=_.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let c=d(s,a,o,n.completion.filterText,n.filterTextLow,0,!1);if(!c)continue;(0,N.compareIgnoreCase)(n.completion.filterText,n.textLabel)===0?n.score=c:(n.score=(0,_.anyScore)(s,a,o,n.textLabel,n.labelLow,0),n.score[0]=c[0])}else{let c=d(s,a,o,n.textLabel,n.labelLow,0,!1);if(!c)continue;n.score=c}}n.idx=r,n.distance=this._wordDistance.distance(n.position,n.completion),h.push(n),v.push(n.textLabel.length)}this._filteredItems=h.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?(0,I.quickSelect)(v.length-.85,v,(r,n)=>r-n):0}}static _compareCompletionItems(v,i){return v.score[0]>i.score[0]?-1:v.score[0]<i.score[0]?1:v.distance<i.distance?-1:v.distance>i.distance?1:v.idx<i.idx?-1:v.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(v,i){if(v.completion.kind!==i.completion.kind){if(v.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return S._compareCompletionItems(v,i)}static _compareCompletionItemsSnippetsUp(v,i){if(v.completion.kind!==i.completion.kind){if(v.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return S._compareCompletionItems(v,i)}}e.CompletionModel=S}),define(te[241],ne([0,1,6,2,7,108]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new _.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new _.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new N.DisposableStore,this._size=new I.Dimension(0,0),this._minSize=new I.Dimension(0,0),this._maxSize=new I.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new L.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new L.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new L.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:L.OrthogonalEdge.North}),this._southSash=new L.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:L.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,i=0,C=0;this._sashListener.add(_.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,i=0,C=0)})),this._sashListener.add(_.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,i=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{v&&(C=s.currentX-s.startX,this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{v&&(C=-(s.currentX-s.startX),this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{v&&(i=-(s.currentY-s.startY),this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{v&&(i=s.currentY-s.startY,this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(_.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(_.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,i,C,s){this._northSash.state=v?3:0,this._eastSash.state=i?3:0,this._southSash.state=C?3:0,this._westSash.state=s?3:0}layout(v=this.size.height,i=this.size.width){const{height:C,width:s}=this._minSize,{height:a,width:u}=this._maxSize;v=Math.max(C,Math.min(a,v)),i=Math.max(s,Math.min(u,i));const h=new I.Dimension(i,v);I.Dimension.equals(h,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=i+"px",this._size=h,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(te[433],ne([0,1,19,2,95]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class L{constructor(p,v,i){this._disposables=new N.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(C=>{if(this._active&&!v.isFrozen()){const s=C.charCodeAt(C.length-1);this._active.acceptCharacters.has(s)&&p.getOption(0)&&i(this._active.item)}}))}_onItem(p){if(!p||!(0,_.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const v=new I.CharacterSet;for(const i of p.item.completion.commitCharacters)i.length>0&&v.add(i.charCodeAt(0));this._active={acceptCharacters:v,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=L}),define(te[434],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class N{constructor(L,S){this._disposables=new _.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(L.onWillType(()=>{if(!this._empty||!L.hasModel())return;const p=L.getSelections(),v=p.length;let i=!1;for(let s=0;s<v;s++)if(!p[s].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const C=L.getModel();for(let s=0;s<v;s++){const a=p[s];if(C.getValueLengthInRange(a)>N._maxSelectionLength)return;this._lastOvertyped[s]={value:C.getValueInRange(a),multiline:a.startLineNumber!==a.endLineNumber}}this._empty=!1})),this._disposables.add(S.onDidCancel(p=>{!this._empty&&!p.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(L){if(!this._empty&&L>=0&&L<this._lastOvertyped.length)return this._lastOvertyped[L]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=N,N._maxSelectionLength=51200}),define(te[435],ne([0,1,19,3,240]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class L{static create(p,v){return ke(this,void 0,void 0,function*(){if(!v.getOption(106).localityBonus||!v.hasModel())return L.None;const i=v.getModel(),C=v.getPosition();if(!p.canComputeWordRanges(i.uri))return L.None;const[s]=yield new I.BracketSelectionRangeProvider().provideSelectionRanges(i,[C]);if(s.length===0)return L.None;const a=yield p.computeWordRanges(i.uri,s[0].range);if(!a)return L.None;const u=i.getWordUntilPosition(C);return delete a[u.word],new class extends L{distance(h,d){if(!C.equals(v.getPosition()))return 0;if(d.kind===17)return 2<<20;let r=typeof d.label=="string"?d.label:d.label.label,n=a[r];if((0,_.isFalsyOrEmpty)(n))return 2<<20;let l=(0,_.binarySearch)(n,N.Range.fromPositions(h),N.Range.compareRangesUsingStarts),t=l>=0?n[l]:n[Math.max(0,~l-1)],o=s.length;for(const c of s){if(!N.Range.containsRange(c.range,t))break;o-=1}return o}}})}}e.WordDistance=L,L.None=new class extends L{distance(){return 0}}}),define(te[242],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function _(h){return Array.isArray(h)}e.isFuzzyActionArr=_;function N(h){return!_(h)}e.isFuzzyAction=N;function I(h){return typeof h=="string"}e.isString=I;function L(h){return!I(h)}e.isIAction=L;function S(h){return!h}e.empty=S;function p(h,d){return h.ignoreCase&&d?d.toLowerCase():d}e.fixCase=p;function v(h){return h.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function i(h,d){console.log(`${h.languageId}: ${d}`)}e.log=i;function C(h,d){return new Error(`${h.languageId}: ${d}`)}e.createError=C;function s(h,d,r,n,l){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return d.replace(t,function(c,f,y,b,g,m,w,D,k){return S(y)?S(b)?!S(g)&&g<n.length?p(h,n[g]):!S(w)&&h&&typeof h[w]=="string"?h[w]:(o===null&&(o=l.split("."),o.unshift(l)),!S(m)&&m<o.length?p(h,o[m]):""):p(h,r):"$"})}e.substituteMatches=s;function a(h,d){let r=d;for(;r&&r.length>0;){const n=h.tokenizer[r];if(n)return n;const l=r.lastIndexOf(".");l<0?r=null:r=r.substr(0,l)}return null}e.findRules=a;function u(h,d){let r=d;for(;r&&r.length>0;){if(h.stateNames[r])return!0;const l=r.lastIndexOf(".");l<0?r=null:r=r.substr(0,l)}return!1}e.stateExists=u}),define(te[436],ne([0,1,242]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function N(h,d){if(!d||!Array.isArray(d))return!1;for(const r of d)if(!h(r))return!1;return!0}function I(h,d){return typeof h=="boolean"?h:d}function L(h,d){return typeof h=="string"?h:d}function S(h){const d={};for(const r of h)d[r]=!0;return d}function p(h,d=!1){d&&(h=h.map(function(n){return n.toLowerCase()}));const r=S(h);return d?function(n){return r[n.toLowerCase()]!==void 0&&r.hasOwnProperty(n.toLowerCase())}:function(n){return r[n]!==void 0&&r.hasOwnProperty(n)}}function v(h,d){d=d.replace(/@@/g,"");let r=0,n;do n=!1,d=d.replace(/@(\w+)/g,function(t,o){n=!0;let c="";if(typeof h[o]=="string")c=h[o];else if(h[o]&&h[o]instanceof RegExp)c=h[o].source;else throw h[o]===void 0?_.createError(h,"language definition does not contain attribute '"+o+"', used at: "+d):_.createError(h,"attribute reference '"+o+"' must be a string, used at: "+d);return _.empty(c)?"":"(?:"+c+")"}),r++;while(n&&r<5);d=d.replace(/\x01/g,"@");let l=(h.ignoreCase?"i":"")+(h.unicode?"u":"");return new RegExp(d,l)}function i(h,d,r,n){if(n<0)return h;if(n<d.length)return d[n];if(n>=100){n=n-100;let l=r.split(".");if(l.unshift(r),n<l.length)return l[n]}return null}function C(h,d,r,n){let l=-1,t=r,o=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(l=parseInt(o[3]),o[2]&&(l=l+100)),t=o[4]);let c="~",f=t;!t||t.length===0?(c="!=",f=""):/^\w*$/.test(f)?c="==":(o=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(c=o[1],f=o[2]));let y;if((c==="~"||c==="!~")&&/^(\w|\|)*$/.test(f)){let b=p(f.split("|"),h.ignoreCase);y=function(g){return c==="~"?b(g):!b(g)}}else if(c==="@"||c==="!@"){let b=h[f];if(!b)throw _.createError(h,"the @ match target '"+f+"' is not defined, in rule: "+d);if(!N(function(m){return typeof m=="string"},b))throw _.createError(h,"the @ match target '"+f+"' must be an array of strings, in rule: "+d);let g=p(b,h.ignoreCase);y=function(m){return c==="@"?g(m):!g(m)}}else if(c==="~"||c==="!~")if(f.indexOf("$")<0){let b=v(h,"^"+f+"$");y=function(g){return c==="~"?b.test(g):!b.test(g)}}else y=function(b,g,m,w){return v(h,"^"+_.substituteMatches(h,f,g,m,w)+"$").test(b)};else if(f.indexOf("$")<0){let b=_.fixCase(h,f);y=function(g){return c==="=="?g===b:g!==b}}else{let b=_.fixCase(h,f);y=function(g,m,w,D,k){let T=_.substituteMatches(h,b,m,w,D);return c==="=="?g===T:g!==T}}return l===-1?{name:r,value:n,test:function(b,g,m,w){return y(b,b,g,m,w)}}:{name:r,value:n,test:function(b,g,m,w){let D=i(b,g,m,l);return y(D||"",b,g,m,w)}}}function s(h,d,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw _.createError(h,"a 'token' attribute must be of type string, in rule: "+d);{let n={token:r.token};if(r.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")n.bracket=1;else if(r.bracket==="@close")n.bracket=-1;else throw _.createError(h,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(r.next){if(typeof r.next!="string")throw _.createError(h,"the next state must be a string value in rule: "+d);{let l=r.next;if(!/^(@pop|@push|@popall)$/.test(l)&&(l[0]==="@"&&(l=l.substr(1)),l.indexOf("$")<0&&!_.stateExists(h,_.substituteMatches(h,l,"",[],""))))throw _.createError(h,"the next state '"+r.next+"' is not defined in rule: "+d);n.next=l}}return typeof r.goBack=="number"&&(n.goBack=r.goBack),typeof r.switchTo=="string"&&(n.switchTo=r.switchTo),typeof r.log=="string"&&(n.log=r.log),typeof r.nextEmbedded=="string"&&(n.nextEmbedded=r.nextEmbedded,h.usesEmbedded=!0),n}}else if(Array.isArray(r)){let n=[];for(let l=0,t=r.length;l<t;l++)n[l]=s(h,d,r[l]);return{group:n}}else if(r.cases){let n=[];for(let t in r.cases)if(r.cases.hasOwnProperty(t)){const o=s(h,d,r.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:o,name:t}):t==="@eos"?n.push({test:function(c,f,y,b){return b},value:o,name:t}):n.push(C(h,d,t,o))}const l=h.defaultToken;return{test:function(t,o,c,f){for(const y of n)if(!y.test||y.test(t,o,c,f))return y.value;return l}}}else throw _.createError(h,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class a{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,r){let n;if(typeof r=="string")n=r;else if(r instanceof RegExp)n=r.source;else throw _.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=v(d,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(d,r){this.action=s(d,this.name,r)}}function u(h,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=h,r.includeLF=I(d.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof d.start=="string"?d.start:null,r.ignoreCase=I(d.ignoreCase,!1),r.unicode=I(d.unicode,!1),r.tokenPostfix=L(d.tokenPostfix,"."+r.languageId),r.defaultToken=L(d.defaultToken,"source"),r.usesEmbedded=!1;let n=d;n.languageId=h,n.includeLF=r.includeLF,n.ignoreCase=r.ignoreCase,n.unicode=r.unicode,n.noThrow=r.noThrow,n.usesEmbedded=r.usesEmbedded,n.stateNames=d.tokenizer,n.defaultToken=r.defaultToken;function l(o,c,f){for(const y of f){let b=y.include;if(b){if(typeof b!="string")throw _.createError(r,"an 'include' attribute must be a string at: "+o);if(b[0]==="@"&&(b=b.substr(1)),!d.tokenizer[b])throw _.createError(r,"include target '"+b+"' is not defined at: "+o);l(o+"."+b,c,d.tokenizer[b])}else{const g=new a(o);if(Array.isArray(y)&&y.length>=1&&y.length<=3)if(g.setRegex(n,y[0]),y.length>=3)if(typeof y[1]=="string")g.setAction(n,{token:y[1],next:y[2]});else if(typeof y[1]=="object"){const m=y[1];m.next=y[2],g.setAction(n,m)}else throw _.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else g.setAction(n,y[1]);else{if(!y.regex)throw _.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);y.name&&typeof y.name=="string"&&(g.name=y.name),y.matchOnlyAtStart&&(g.matchOnlyAtLineStart=I(y.matchOnlyAtLineStart,!1)),g.setRegex(n,y.regex),g.setAction(n,y.action)}c.push(g)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw _.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let o in d.tokenizer)if(d.tokenizer.hasOwnProperty(o)){r.start||(r.start=o);const c=d.tokenizer[o];r.tokenizer[o]=new Array,l("tokenizer."+o,r.tokenizer[o],c)}if(r.usesEmbedded=n.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw _.createError(r,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let o of d.brackets){let c=o;if(c&&Array.isArray(c)&&c.length===3&&(c={token:c[2],open:c[0],close:c[1]}),c.open===c.close)throw _.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+c.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof c.open=="string"&&typeof c.token=="string"&&typeof c.close=="string")t.push({token:c.token+r.tokenPostfix,open:_.fixCase(r,c.open),close:_.fixCase(r,c.close)});else throw _.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=t,r.noThrow=!0,r}e.compile=u}),define(te[437],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(te[438],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(te[439],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(te[243],ne([0,1,167,27,439]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const L=I.localize(0,null),S=I.localize(1,null),p=I.localize(2,null);class v extends _.Checkbox{constructor(a){super({icon:N.Codicon.caseSensitive,title:L+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=v;class i extends _.Checkbox{constructor(a){super({icon:N.Codicon.wholeWord,title:S+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class C extends _.Checkbox{constructor(a){super({icon:N.Codicon.regex,title:p+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.RegexCheckbox=C}),define(te[440],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(te[441],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(te[442],ne([0,1,7,14,23,2,20,441]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function v(s,a){(0,S.isString)(a)?s.title=a:(a==null?void 0:a.markdownNotSupportedFallback)?s.title=a.markdownNotSupportedFallback:s.removeAttribute("title")}e.setupNativeHover=v;function i(s,a,u){if(!u)return;const h=C(u);let d,r;const n=t=>{if(d)return;const o=new I.CancellationTokenSource,c=D=>{const k=D.type===_.EventType.MOUSE_DOWN;k&&(r==null||r.dispose(),r=void 0),(k||D.fromElement===a)&&(d==null||d.dispose(),d=void 0)},f=_.addDisposableListener(a,_.EventType.MOUSE_LEAVE,c,!0),y=_.addDisposableListener(a,_.EventType.MOUSE_DOWN,c,!0),b={targetElements:[a],dispose:()=>{}};let g;if(s.placement===void 0||s.placement==="mouse"){const D=k=>b.x=k.x+10;g=_.addDisposableListener(a,_.EventType.MOUSE_MOVE,D,!0)}const m=()=>ke(this,void 0,void 0,function*(){var D;if(d){const k={content:(0,p.localize)(0,null),target:b,hoverPosition:2};r==null||r.dispose(),r=s.showHover(k);const T=(D=yield h(o.token))!==null&&D!==void 0?D:(0,S.isString)(u)?void 0:u.markdownNotSupportedFallback;if(r==null||r.dispose(),r=void 0,T&&d){const R={content:T,target:b,showPointer:s.placement==="element",hoverPosition:2};r=s.showHover(R)}}g==null||g.dispose()}),w=new N.RunOnceScheduler(m,s.delay);w.schedule(),d=(0,L.toDisposable)(()=>{w.dispose(),g==null||g.dispose(),y.dispose(),f.dispose(),o.dispose(!0)})},l=_.addDisposableListener(a,_.EventType.MOUSE_OVER,n,!0);return(0,L.toDisposable)(()=>{l.dispose(),d==null||d.dispose(),r==null||r.dispose()})}e.setupCustomHover=i;function C(s){if((0,S.isString)(s))return()=>ke(this,void 0,void 0,function*(){return s});if((0,S.isFunction)(s.markdown))return s.markdown;{const a=s.markdown;return()=>ke(this,void 0,void 0,function*(){return a})}}}),define(te[183],ne([0,1,7,163,442,2,35,128,318]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(h){this._element=h}get element(){return this._element}set textContent(h){this.disposed||h===this._textContent||(this._textContent=h,this._element.textContent=h)}set className(h){this.disposed||h===this._className||(this._className=h,this._element.className=h)}set empty(h){this.disposed||h===this._empty||(this._empty=h,this._element.style.marginLeft=h?"0":"")}dispose(){this.disposed=!0}}class i extends L.Disposable{constructor(h,d){super();this.customHovers=new Map,this.domNode=this._register(new v(_.append(h,_.$(".monaco-icon-label")))),this.labelContainer=_.append(this.domNode.element,_.$(".monaco-icon-label-container"));const r=_.append(this.labelContainer,_.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(_.append(this.labelContainer,_.$("span.monaco-icon-description-container")))),(d==null?void 0:d.supportHighlights)||(d==null?void 0:d.supportIcons)?this.nameNode=new a(r,!!d.supportIcons):this.nameNode=new C(r),(d==null?void 0:d.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new N.HighlightedLabel(_.append(this.descriptionContainer.element,_.$("span.label-description")),!!d.supportIcons):this.descriptionNodeFactory=()=>this._register(new v(_.append(this.descriptionContainer.element,_.$("span.label-description")))),this.hoverDelegate=d==null?void 0:d.hoverDelegate}setLabel(h,d,r){const n=["monaco-icon-label"];r&&(r.extraClasses&&n.push(...r.extraClasses),r.italic&&n.push("italic"),r.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(this.labelContainer,r==null?void 0:r.title),this.nameNode.setLabel(h,r),(d||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof N.HighlightedLabel?(this.descriptionNode.set(d||"",r?r.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,r==null?void 0:r.descriptionTitle)):(this.descriptionNode.textContent=d||"",this.setupHover(this.descriptionNode.element,(r==null?void 0:r.descriptionTitle)||""),this.descriptionNode.empty=!d))}setupHover(h,d){const r=this.customHovers.get(h);if(r&&(r.dispose(),this.customHovers.delete(h)),!d){h.removeAttribute("title");return}if(!this.hoverDelegate)(0,I.setupNativeHover)(h,d);else{const n=(0,I.setupCustomHover)(this.hoverDelegate,h,d);n&&this.customHovers.set(h,n)}}dispose(){super.dispose();for(const h of this.customHovers.values())h.dispose();this.customHovers.clear()}}e.IconLabel=i;class C{constructor(h){this.container=h,this.label=void 0,this.singleLabel=void 0}setLabel(h,d){if(!(this.label===h&&(0,S.equals)(this.options,d)))if(this.label=h,this.options=d,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=_.append(this.container,_.$("a.label-name",{id:d==null?void 0:d.domId}))),this.singleLabel.textContent=h;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<h.length;r++){const n=h[r],l=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${r}`;_.append(this.container,_.$("a.label-name",{id:l,"data-icon-label-count":h.length,"data-icon-label-index":r,role:"treeitem"},n)),r<h.length-1&&_.append(this.container,_.$("span.label-separator",void 0,(d==null?void 0:d.separator)||"/"))}}}}function s(u,h,d){if(!d)return;let r=0;return u.map(n=>{const l={start:r,end:r+n.length},t=d.map(o=>p.Range.intersect(l,o)).filter(o=>!p.Range.isEmpty(o)).map(({start:o,end:c})=>({start:o-r,end:c-r}));return r=l.end+h.length,t})}class a{constructor(h,d){this.container=h,this.supportIcons=d,this.label=void 0,this.singleLabel=void 0}setLabel(h,d){if(!(this.label===h&&(0,S.equals)(this.options,d)))if(this.label=h,this.options=d,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new N.HighlightedLabel(_.append(this.container,_.$("a.label-name",{id:d==null?void 0:d.domId})),this.supportIcons)),this.singleLabel.set(h,d==null?void 0:d.matches,void 0,d==null?void 0:d.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=(d==null?void 0:d.separator)||"/",n=s(h,r,d==null?void 0:d.matches);for(let l=0;l<h.length;l++){const t=h[l],o=n?n[l]:void 0,c=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${l}`,f=_.$("a.label-name",{id:c,"data-icon-label-count":h.length,"data-icon-label-index":l,role:"treeitem"});new N.HighlightedLabel(_.append(this.container,f),this.supportIcons).set(t,o,void 0,d==null?void 0:d.labelEscapeNewLines),l<h.length-1&&_.append(f,_.$("span.label-separator",void 0,r))}}}}}),define(te[443],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(te[444],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(te[445],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/menu/menu",e)}),define(te[446],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(te[184],ne([0,1,166,7,92,51,168,109,160,102,204,19,14,203,6,67,2,104,17,446,331]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class o extends S.ElementsDragAndDropData{constructor(E){super(E.elements.map(x=>x.element));this.data=E}}function c(F){return F instanceof S.ElementsDragAndDropData?new o(F):F}class f{constructor(E,x){this.modelProvider=E,this.dnd=x,this.autoExpandDisposable=r.Disposable.None}getDragURI(E){return this.dnd.getDragURI(E.element)}getDragLabel(E,x){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(E.map(W=>W.element),x)}onDragStart(E,x){this.dnd.onDragStart&&this.dnd.onDragStart(c(E),x)}onDragOver(E,x,W,G,Y=!0){const se=this.dnd.onDragOver(c(E),x&&x.element,W,G),re=this.autoExpandNode!==x;if(re&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=x),typeof x=="undefined")return se;if(re&&typeof se!="boolean"&&se.autoExpand&&(this.autoExpandDisposable=(0,a.disposableTimeout)(()=>{const B=this.modelProvider(),Z=B.getNodeLocation(x);B.isCollapsed(Z)&&B.setCollapsed(Z,!1),this.autoExpandNode=void 0},500)),typeof se=="boolean"||!se.accept||typeof se.bubble=="undefined"||se.feedback){if(!Y){const B=typeof se=="boolean"?se:se.accept,Z=typeof se=="boolean"?void 0:se.effect;return{accept:B,effect:Z,feedback:[W]}}return se}if(se.bubble===1){const B=this.modelProvider(),Z=B.getNodeLocation(x),H=B.getParentNodeLocation(Z),z=B.getNode(H),ie=H&&B.getListIndex(H);return this.onDragOver(E,z,ie,G,!1)}const J=this.modelProvider(),le=J.getNodeLocation(x),ae=J.getListIndex(le),V=J.getListRenderCount(le);return Object.assign(Object.assign({},se),{feedback:(0,s.range)(ae,ae+V)})}drop(E,x,W,G){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(c(E),x&&x.element,W,G)}onDragEnd(E){this.dnd.onDragEnd&&this.dnd.onDragEnd(E)}}function y(F,E){return E&&Object.assign(Object.assign({},E),{identityProvider:E.identityProvider&&{getId(x){return E.identityProvider.getId(x.element)}},dnd:E.dnd&&new f(F,E.dnd),multipleSelectionController:E.multipleSelectionController&&{isSelectionSingleChangeEvent(x){return E.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},x),{element:x.element}))},isSelectionRangeChangeEvent(x){return E.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},x),{element:x.element}))}},accessibilityProvider:E.accessibilityProvider&&Object.assign(Object.assign({},E.accessibilityProvider),{getSetSize(x){const W=F(),G=W.getNodeLocation(x),Y=W.getParentNodeLocation(G);return W.getNode(Y).visibleChildrenCount},getPosInSet(x){return x.visibleChildIndex+1},isChecked:E.accessibilityProvider&&E.accessibilityProvider.isChecked?x=>E.accessibilityProvider.isChecked(x.element):void 0,getRole:E.accessibilityProvider&&E.accessibilityProvider.getRole?x=>E.accessibilityProvider.getRole(x.element):()=>"treeitem",getAriaLabel(x){return E.accessibilityProvider.getAriaLabel(x.element)},getWidgetAriaLabel(){return E.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:E.accessibilityProvider&&E.accessibilityProvider.getWidgetRole?()=>E.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:E.accessibilityProvider&&E.accessibilityProvider.getAriaLevel?x=>E.accessibilityProvider.getAriaLevel(x.element):x=>x.depth,getActiveDescendantId:E.accessibilityProvider.getActiveDescendantId&&(x=>E.accessibilityProvider.getActiveDescendantId(x.element))}),keyboardNavigationLabelProvider:E.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},E.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(x){return E.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(x.element)}}),enableKeyboardNavigation:E.simpleKeyboardNavigation})}class b{constructor(E){this.delegate=E}getHeight(E){return this.delegate.getHeight(E.element)}getTemplateId(E){return this.delegate.getTemplateId(E.element)}hasDynamicHeight(E){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(E.element)}setDynamicHeight(E,x){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(E.element,x)}}e.ComposedTreeDelegate=b;var g;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(g=e.RenderIndentGuides||(e.RenderIndentGuides={}));class m{constructor(E,x=[]){this._elements=x,this.onDidChange=h.Event.forEach(E,W=>this._elements=W)}get elements(){return this._elements}}class w{constructor(E,x,W,G,Y={}){this.renderer=E,this.modelProvider=x,this.activeNodes=G,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=w.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new u.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=r.Disposable.None,this.disposables=new r.DisposableStore,this.templateId=E.templateId,this.updateOptions(Y),h.Event.map(W,se=>se.node)(this.onDidChangeNodeTwistieState,this,this.disposables),E.onDidChangeTwistieState&&E.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(E={}){if(typeof E.indent!="undefined"&&(this.indent=(0,n.clamp)(E.indent,0,40)),typeof E.renderIndentGuides!="undefined"){const x=E.renderIndentGuides!==g.None;if(x!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=x,this.indentGuidesDisposable.dispose(),x)){const W=new r.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,W),this.indentGuidesDisposable=W,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof E.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=E.hideTwistiesOfChildlessElements)}renderTemplate(E){const x=(0,N.append)(E,(0,N.$)(".monaco-tl-row")),W=(0,N.append)(x,(0,N.$)(".monaco-tl-indent")),G=(0,N.append)(x,(0,N.$)(".monaco-tl-twistie")),Y=(0,N.append)(x,(0,N.$)(".monaco-tl-contents")),se=this.renderer.renderTemplate(Y);return{container:E,indent:W,twistie:G,indentGuidesDisposable:r.Disposable.None,templateData:se}}renderElement(E,x,W,G){typeof G=="number"&&(this.renderedNodes.set(E,{templateData:W,height:G}),this.renderedElements.set(E.element,E));const Y=w.DefaultIndent+(E.depth-1)*this.indent;W.twistie.style.paddingLeft=`${Y}px`,W.indent.style.width=`${Y+this.indent-16}px`,this.renderTwistie(E,W),typeof G=="number"&&this.renderIndentGuides(E,W),this.renderer.renderElement(E,x,W.templateData,G)}disposeElement(E,x,W,G){W.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(E,x,W.templateData,G),typeof G=="number"&&(this.renderedNodes.delete(E),this.renderedElements.delete(E.element))}disposeTemplate(E){this.renderer.disposeTemplate(E.templateData)}onDidChangeTwistieState(E){const x=this.renderedElements.get(E);!x||this.onDidChangeNodeTwistieState(x)}onDidChangeNodeTwistieState(E){const x=this.renderedNodes.get(E);!x||(this.renderTwistie(E,x.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(E,x.templateData))}renderTwistie(E,x){x.twistie.classList.remove(...C.treeItemExpandedIcon.classNamesArray);let W=!1;this.renderer.renderTwistie&&(W=this.renderer.renderTwistie(E.element,x.twistie)),E.collapsible&&(!this.hideTwistiesOfChildlessElements||E.visibleChildrenCount>0)?(W||x.twistie.classList.add(...C.treeItemExpandedIcon.classNamesArray),x.twistie.classList.add("collapsible"),x.twistie.classList.toggle("collapsed",E.collapsed)):x.twistie.classList.remove("collapsible","collapsed"),E.collapsible?x.container.setAttribute("aria-expanded",String(!E.collapsed)):x.container.removeAttribute("aria-expanded")}renderIndentGuides(E,x){if((0,N.clearNode)(x.indent),x.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const W=new r.DisposableStore,G=this.modelProvider();let Y=E;for(;;){const se=G.getNodeLocation(Y),re=G.getParentNodeLocation(se);if(!re)break;const J=G.getNode(re),le=(0,N.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(J)&&le.classList.add("active"),x.indent.childElementCount===0?x.indent.appendChild(le):x.indent.insertBefore(le,x.indent.firstElementChild),this.renderedIndentGuides.add(J,le),W.add((0,r.toDisposable)(()=>this.renderedIndentGuides.delete(J,le))),Y=J}x.indentGuidesDisposable=W}_onDidChangeActiveNodes(E){if(!this.shouldRenderIndentGuides)return;const x=new Set,W=this.modelProvider();E.forEach(G=>{const Y=W.getNodeLocation(G);try{const se=W.getParentNodeLocation(Y);G.collapsible&&G.children.length>0&&!G.collapsed?x.add(G):se&&x.add(W.getNode(se))}catch(se){}}),this.activeIndentNodes.forEach(G=>{x.has(G)||this.renderedIndentGuides.forEach(G,Y=>Y.classList.remove("active"))}),x.forEach(G=>{this.activeIndentNodes.has(G)||this.renderedIndentGuides.forEach(G,Y=>Y.classList.add("active"))}),this.activeIndentNodes=x}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,r.dispose)(this.disposables)}}w.DefaultIndent=8;class D{constructor(E,x,W){this.tree=E,this.keyboardNavigationLabelProvider=x,this._filter=W,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new r.DisposableStore,E.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(E){this._pattern=E,this._lowercasePattern=E.toLowerCase()}filter(E,x){if(this._filter){const Y=this._filter.filter(E,x);if(this.tree.options.simpleKeyboardNavigation)return Y;let se;if(typeof Y=="boolean"?se=Y?1:0:(0,v.isFilterResult)(Y)?se=(0,v.getVisibleState)(Y.visibility):se=Y,se===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:d.FuzzyScore.Default,visibility:!0};const W=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(E),G=Array.isArray(W)?W:[W];for(const Y of G){const se=Y&&Y.toString();if(typeof se=="undefined")return{data:d.FuzzyScore.Default,visibility:!0};const re=(0,d.fuzzyScore)(this._pattern,this._lowercasePattern,0,se,se.toLowerCase(),0,!0);if(re)return this._matchCount++,G.length===1?{data:re,visibility:!0}:{data:{label:se,score:re},visibility:!0}}return this.tree.options.filterOnType?2:{data:d.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,r.dispose)(this.disposables)}}class k{constructor(E,x,W,G,Y){this.tree=E,this.view=W,this.filter=G,this.keyboardNavigationDelegate=Y,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new h.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new h.Emitter,this.enabledDisposables=new r.DisposableStore,this.disposables=new r.DisposableStore,this.domNode=(0,N.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,N.append)(W.getHTMLElement(),(0,N.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,N.append)(this.domNode,(0,N.$)("span.label"));const se=(0,N.append)(this.domNode,(0,N.$)(".controls"));this._filterOnType=!!E.options.filterOnType,this.filterOnTypeDomNode=(0,N.append)(se,(0,N.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,N.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,N.append)(se,(0,N.$)("button.clear"+C.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,t.localize)(0,null),this.keyboardNavigationEventFilter=E.options.keyboardNavigationEventFilter,x.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(E.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(E){E.simpleKeyboardNavigation?this.disable():this.enable(),typeof E.filterOnType!="undefined"&&(this._filterOnType=!!E.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof E.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=E.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const E=this.enabledDisposables.add(new I.DomEmitter(this.view.getHTMLElement(),"keydown")),x=h.Event.chain(E.event).filter(G=>!(0,p.isInputElement)(G.target)||G.target===this.filterOnTypeDomNode).filter(G=>G.key!=="Dead"&&!/^Media/.test(G.key)).map(G=>new L.StandardKeyboardEvent(G)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(G=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(G)&&!(G.keyCode===18||G.keyCode===16||G.keyCode===15||G.keyCode===17)||(this.pattern.length>0||this.triggered)&&(G.keyCode===9||G.keyCode===1)&&!G.altKey&&!G.ctrlKey&&!G.metaKey||G.keyCode===1&&(l.isMacintosh?G.altKey&&!G.metaKey:G.ctrlKey)&&!G.shiftKey).forEach(G=>{G.stopPropagation(),G.preventDefault()}).event,W=this.enabledDisposables.add(new I.DomEmitter(this.clearDomNode,"click"));h.Event.chain(h.Event.any(x,W.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(E){typeof E=="string"?this.onInput(E):E instanceof MouseEvent||E.keyCode===9||E.keyCode===1&&(l.isMacintosh?E.altKey:E.ctrlKey)?this.onInput(""):E.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+E.browserEvent.key)}onInput(E){const x=this.view.getHTMLElement();E&&!this.domNode.parentElement?x.append(this.domNode):!E&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=E,this._onDidChangePattern.fire(E),this.filter.pattern=E,this.tree.refilter(),E&&this.tree.focusNext(0,!0,void 0,G=>!d.FuzzyScore.isDefault(G.filterData));const W=this.tree.getFocus();if(W.length>0){const G=W[0];this.tree.getRelativeTop(G)===null&&this.tree.reveal(G,.5)}this.render(),E||(this.triggered=!1)}onDragStart(){const E=this.view.getHTMLElement(),{left:x}=(0,N.getDomNodePagePosition)(E),W=E.clientWidth,G=W/2,Y=this.domNode.clientWidth,se=new r.DisposableStore;let re=this.positionClassName;const J=()=>{switch(re){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${W-Y-6}px`;break}},le=V=>{V.preventDefault();const B=V.clientX-x;V.dataTransfer&&(V.dataTransfer.dropEffect="none"),B<G?re="nw":re="ne",J()},ae=()=>{this.positionClassName=re,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,r.dispose)(se)};J(),this.domNode.classList.remove(re),this.domNode.classList.add("dragging"),se.add((0,r.toDisposable)(()=>this.domNode.classList.remove("dragging"))),se.add((0,N.addDisposableListener)(document,"dragover",V=>le(V))),se.add((0,N.addDisposableListener)(this.domNode,"dragend",()=>ae())),_.StaticDND.CurrentDragAndDropData=new _.DragAndDropData("vscode-ui"),se.add((0,r.toDisposable)(()=>_.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...C.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...C.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,t.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...C.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...C.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,t.localize)(2,null))}render(){const E=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&E?(this.messageDomNode.textContent=(0,t.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",E),this.domNode.title=(0,t.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(E){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!d.FuzzyScore.isDefault(E.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,r.dispose)(this.disposables)}}function T(F){let E=i.TreeMouseEventTarget.Unknown;return(0,N.hasParentWithClass)(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?E=i.TreeMouseEventTarget.Twistie:(0,N.hasParentWithClass)(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(E=i.TreeMouseEventTarget.Element),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:E}}function R(F,E){E(F),F.children.forEach(x=>R(x,E))}class M{constructor(E,x){this.getFirstViewElementWithTrait=E,this.identityProvider=x,this.nodes=[],this._onDidChange=new h.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(E,x){var W;!((W=x)===null||W===void 0?void 0:W.__forceEvent)&&(0,s.equals)(this.nodes,E)||this._set(E,!1,x)}_set(E,x,W){if(this.nodes=[...E],this.elements=void 0,this._nodeSet=void 0,!x){const G=this;this._onDidChange.fire({get elements(){return G.get()},browserEvent:W})}}get(){return this.elements||(this.elements=this.nodes.map(E=>E.element)),[...this.elements]}getNodes(){return this.nodes}has(E){return this.nodeSet.has(E)}onDidModelSplice({insertedNodes:E,deletedNodes:x}){if(!this.identityProvider){const J=this.createNodeSet(),le=ae=>J.delete(ae);x.forEach(ae=>R(ae,le)),this.set([...J.values()]);return}const W=new Set,G=J=>W.add(this.identityProvider.getId(J.element).toString());x.forEach(J=>R(J,G));const Y=new Map,se=J=>Y.set(this.identityProvider.getId(J.element).toString(),J);E.forEach(J=>R(J,se));const re=[];for(const J of this.nodes){const le=this.identityProvider.getId(J.element).toString();if(!W.has(le))re.push(J);else{const V=Y.get(le);V&&re.push(V)}}if(this.nodes.length>0&&re.length===0){const J=this.getFirstViewElementWithTrait();J&&re.push(J)}this._set(re,!0)}createNodeSet(){const E=new Set;for(const x of this.nodes)E.add(x);return E}}class A extends p.MouseController{constructor(E,x){super(E);this.tree=x}onViewPointer(E){if((0,p.isInputElement)(E.browserEvent.target)||(0,p.isMonacoEditor)(E.browserEvent.target))return;const x=E.element;if(!x)return super.onViewPointer(E);if(this.isSelectionRangeChangeEvent(E)||this.isSelectionSingleChangeEvent(E))return super.onViewPointer(E);const W=E.browserEvent.target,G=W.classList.contains("monaco-tl-twistie")||W.classList.contains("monaco-icon-label")&&W.classList.contains("folder-icon")&&E.browserEvent.offsetX<16;let Y=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Y=this.tree.expandOnlyOnTwistieClick(x.element):Y=!!this.tree.expandOnlyOnTwistieClick,Y&&!G&&E.browserEvent.detail!==2)return super.onViewPointer(E);if(!this.tree.expandOnDoubleClick&&E.browserEvent.detail===2)return super.onViewPointer(E);if(x.collapsible){const se=this.tree.model,re=se.getNodeLocation(x),J=E.browserEvent.altKey;if(this.tree.setFocus([re]),se.setCollapsed(re,void 0,J),Y&&G)return}super.onViewPointer(E)}onDoubleClick(E){E.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(E)}}class O extends p.List{constructor(E,x,W,G,Y,se,re,J){super(E,x,W,G,J);this.focusTrait=Y,this.selectionTrait=se,this.anchorTrait=re}createMouseController(E){return new A(this,E.tree)}splice(E,x,W=[]){if(super.splice(E,x,W),W.length===0)return;const G=[],Y=[];let se;W.forEach((re,J)=>{this.focusTrait.has(re)&&G.push(E+J),this.selectionTrait.has(re)&&Y.push(E+J),this.anchorTrait.has(re)&&(se=E+J)}),G.length>0&&super.setFocus((0,s.distinctES6)([...super.getFocus(),...G])),Y.length>0&&super.setSelection((0,s.distinctES6)([...super.getSelection(),...Y])),typeof se=="number"&&super.setAnchor(se)}setFocus(E,x,W=!1){super.setFocus(E,x),W||this.focusTrait.set(E.map(G=>this.element(G)),x)}setSelection(E,x,W=!1){super.setSelection(E,x),W||this.selectionTrait.set(E.map(G=>this.element(G)),x)}setAnchor(E,x=!1){super.setAnchor(E),x||(typeof E=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(E)]))}}class P{constructor(E,x,W,G,Y={}){this._options=Y,this.eventBufferer=new h.EventBufferer,this.disposables=new r.DisposableStore,this._onWillRefilter=new h.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new h.Emitter;const se=new b(W),re=new h.Relay,J=new h.Relay,le=new m(J.event);this.renderers=G.map(B=>new w(B,()=>this.model,re.event,le,Y));for(let B of this.renderers)this.disposables.add(B);let ae;Y.keyboardNavigationLabelProvider&&(ae=new D(this,Y.keyboardNavigationLabelProvider,Y.filter),Y=Object.assign(Object.assign({},Y),{filter:ae}),this.disposables.add(ae)),this.focus=new M(()=>this.view.getFocusedElements()[0],Y.identityProvider),this.selection=new M(()=>this.view.getSelectedElements()[0],Y.identityProvider),this.anchor=new M(()=>this.view.getAnchorElement(),Y.identityProvider),this.view=new O(E,x,se,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},y(()=>this.model,Y)),{tree:this})),this.model=this.createModel(E,this.view,Y),re.input=this.model.onDidChangeCollapseState;const V=h.Event.forEach(this.model.onDidSplice,B=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(B),this.selection.onDidModelSplice(B)})});if(V(()=>null,null,this.disposables),J.input=h.Event.chain(h.Event.any(V,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const B=new Set;for(const Z of this.focus.getNodes())B.add(Z);for(const Z of this.selection.getNodes())B.add(Z);return[...B.values()]}).event,Y.keyboardSupport!==!1){const B=h.Event.chain(this.view.onKeyDown).filter(Z=>!(0,p.isInputElement)(Z.target)).map(Z=>new L.StandardKeyboardEvent(Z));B.filter(Z=>Z.keyCode===15).on(this.onLeftArrow,this,this.disposables),B.filter(Z=>Z.keyCode===17).on(this.onRightArrow,this,this.disposables),B.filter(Z=>Z.keyCode===10).on(this.onSpace,this,this.disposables)}if(Y.keyboardNavigationLabelProvider){const B=Y.keyboardNavigationDelegate||p.DefaultKeyboardNavigationDelegate;this.typeFilterController=new k(this,this.model,this.view,ae,B),this.focusNavigationFilter=Z=>this.typeFilterController.shouldAllowFocus(Z),this.disposables.add(this.typeFilterController)}this.styleElement=(0,N.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===g.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return h.Event.map(this.view.onMouseDblClick,T)}get onPointer(){return h.Event.map(this.view.onPointer,T)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(E={}){this._options=Object.assign(Object.assign({},this._options),E);for(const x of this.renderers)x.updateOptions(E);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===g.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(E){this.view.scrollTop=E}domFocus(){this.view.domFocus()}layout(E,x){this.view.layout(E,x)}style(E){const x=`.${this.view.domId}`,W=[];E.treeIndentGuidesStroke&&(W.push(`.monaco-list${x}:hover .monaco-tl-indent > .indent-guide, .monaco-list${x}.always .monaco-tl-indent > .indent-guide  { border-color: ${E.treeIndentGuidesStroke.transparent(.4)}; }`),W.push(`.monaco-list${x} .monaco-tl-indent > .indent-guide.active { border-color: ${E.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=W.join(`
`),this.view.style(E)}collapse(E,x=!1){return this.model.setCollapsed(E,!0,x)}expand(E,x=!1){return this.model.setCollapsed(E,!1,x)}isCollapsible(E){return this.model.isCollapsible(E)}setCollapsible(E,x){return this.model.setCollapsible(E,x)}isCollapsed(E){return this.model.isCollapsed(E)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(E,x){const W=E.map(Y=>this.model.getNode(Y));this.selection.set(W,x);const G=E.map(Y=>this.model.getListIndex(Y)).filter(Y=>Y>-1);this.view.setSelection(G,x,!0)}getSelection(){return this.selection.get()}setFocus(E,x){const W=E.map(Y=>this.model.getNode(Y));this.focus.set(W,x);const G=E.map(Y=>this.model.getListIndex(Y)).filter(Y=>Y>-1);this.view.setFocus(G,x,!0)}focusNext(E=1,x=!1,W,G=this.focusNavigationFilter){this.view.focusNext(E,x,W,G)}getFocus(){return this.focus.get()}reveal(E,x){this.model.expandTo(E);const W=this.model.getListIndex(E);W!==-1&&this.view.reveal(W,x)}getRelativeTop(E){const x=this.model.getListIndex(E);return x===-1?null:this.view.getRelativeTop(x)}onLeftArrow(E){E.preventDefault(),E.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const W=x[0],G=this.model.getNodeLocation(W);if(!this.model.setCollapsed(G,!0)){const se=this.model.getParentNodeLocation(G);if(!se)return;const re=this.model.getListIndex(se);this.view.reveal(re),this.view.setFocus([re])}}onRightArrow(E){E.preventDefault(),E.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const W=x[0],G=this.model.getNodeLocation(W);if(!this.model.setCollapsed(G,!1)){if(!W.children.some(J=>J.visible))return;const[se]=this.view.getFocus(),re=se+1;this.view.reveal(re),this.view.setFocus([re])}}onSpace(E){E.preventDefault(),E.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const W=x[0],G=this.model.getNodeLocation(W),Y=E.browserEvent.altKey;this.model.setCollapsed(G,void 0,Y)}dispose(){(0,r.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=P}),define(te[447],ne([0,1,184,161]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class I extends _.AbstractTree{constructor(S,p,v,i,C,s={}){super(S,p,v,i,s);this.user=S,this.dataSource=C,this.identityProvider=s.identityProvider}createModel(S,p,v){return new N.ObjectTreeModel(S,p,v)}}e.DataTree=I}),define(te[244],ne([0,1,184,299,161,91,54]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends _.AbstractTree{constructor(a,u,h,d,r={}){super(a,u,h,d,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(a,u=S.Iterable.empty(),h){this.model.setChildren(a,u,h)}rerender(a){if(a===void 0){this.view.rerender();return}this.model.rerender(a)}hasElement(a){return this.model.has(a)}createModel(a,u,h){return new I.ObjectTreeModel(a,u,h)}}e.ObjectTree=p;class v{constructor(a,u){this._compressedTreeNodeProvider=a,this.renderer=u,this.templateId=u.templateId,u.onDidChangeTwistieState&&(this.onDidChangeTwistieState=u.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(a){const u=this.renderer.renderTemplate(a);return{compressedTreeNode:void 0,data:u}}renderElement(a,u,h,d){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(a.element);r.element.elements.length===1?(h.compressedTreeNode=void 0,this.renderer.renderElement(a,u,h.data,d)):(h.compressedTreeNode=r,this.renderer.renderCompressedElements(r,u,h.data,d))}disposeElement(a,u,h,d){h.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(h.compressedTreeNode,u,h.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(a,u,h.data,d)}disposeTemplate(a){this.renderer.disposeTemplate(a.data)}renderTwistie(a,u){return this.renderer.renderTwistie?this.renderer.renderTwistie(a,u):!1}}Re([L.memoize],v.prototype,"compressedTreeNodeProvider",null);function i(s,a){return a&&Object.assign(Object.assign({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(u){let h;try{h=s().getCompressedTreeNode(u)}catch(d){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(u)}return h.element.elements.length===1?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(u):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(h.element.elements)}}})}class C extends p{constructor(a,u,h,d,r={}){const n=()=>this,l=d.map(t=>new v(n,t));super(a,u,h,l,i(n,r))}setChildren(a,u=S.Iterable.empty(),h){this.model.setChildren(a,u,h)}createModel(a,u,h){return new N.CompressibleObjectTreeModel(a,u,h)}updateOptions(a={}){super.updateOptions(a),typeof a.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(a.compressionEnabled)}getCompressedTreeNode(a=null){return this.model.getCompressedTreeNode(a)}}e.CompressibleObjectTree=C}),define(te[448],ne([0,1,168,184,160,244,102,204,14,10,6,54,2]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function u(R){return Object.assign(Object.assign({},R),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function h(R,M){return M.parent?M.parent===R?!0:h(R,M.parent):!1}function d(R,M){return R===M||h(R,M)||h(M,R)}class r{constructor(M){this.node=M}get element(){return this.node.element.element}get children(){return this.node.children.map(M=>new r(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(M,A,O){this.renderer=M,this.nodeMapper=A,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,A,O,P){this.renderer.renderElement(this.nodeMapper.map(M),A,O.templateData,P)}renderTwistie(M,A){return M.slow?(A.classList.add(...p.treeItemLoadingIcon.classNamesArray),!0):(A.classList.remove(...p.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(M,A,O,P){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(M),A,O.templateData,P)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear()}}function l(R){return{browserEvent:R.browserEvent,elements:R.elements.map(M=>M.element)}}function t(R){return{browserEvent:R.browserEvent,element:R.element&&R.element.element,target:R.target}}class o extends _.ElementsDragAndDropData{constructor(M){super(M.elements.map(A=>A.element));this.data=M}}function c(R){return R instanceof _.ElementsDragAndDropData?new o(R):R}class f{constructor(M){this.dnd=M}getDragURI(M){return this.dnd.getDragURI(M.element)}getDragLabel(M,A){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(M.map(O=>O.element),A)}onDragStart(M,A){this.dnd.onDragStart&&this.dnd.onDragStart(c(M),A)}onDragOver(M,A,O,P,F=!0){return this.dnd.onDragOver(c(M),A&&A.element,O,P)}drop(M,A,O,P){this.dnd.drop(c(M),A&&A.element,O,P)}onDragEnd(M){this.dnd.onDragEnd&&this.dnd.onDragEnd(M)}}function y(R){return R&&Object.assign(Object.assign({},R),{collapseByDefault:!0,identityProvider:R.identityProvider&&{getId(M){return R.identityProvider.getId(M.element)}},dnd:R.dnd&&new f(R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent(M){return R.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},M),{element:M.element}))},isSelectionRangeChangeEvent(M){return R.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},M),{element:M.element}))}},accessibilityProvider:R.accessibilityProvider&&Object.assign(Object.assign({},R.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:R.accessibilityProvider.getRole?M=>R.accessibilityProvider.getRole(M.element):()=>"treeitem",isChecked:R.accessibilityProvider.isChecked?M=>{var A;return!!((A=R.accessibilityProvider)===null||A===void 0?void 0:A.isChecked(M.element))}:void 0,getAriaLabel(M){return R.accessibilityProvider.getAriaLabel(M.element)},getWidgetAriaLabel(){return R.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider.getAriaLevel&&(M=>R.accessibilityProvider.getAriaLevel(M.element)),getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(M=>R.accessibilityProvider.getActiveDescendantId(M.element))}),filter:R.filter&&{filter(M,A){return R.filter.filter(M.element,A)}},keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(M){return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(M.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof R.expandOnlyOnTwistieClick=="undefined"?void 0:typeof R.expandOnlyOnTwistieClick!="function"?R.expandOnlyOnTwistieClick:M=>R.expandOnlyOnTwistieClick(M.element),additionalScrollHeight:R.additionalScrollHeight})}function b(R,M){M(R),R.children.forEach(A=>b(A,M))}class g{constructor(M,A,O,P,F,E={}){this.user=M,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new C.Emitter,this._onDidChangeNodeSlowState=new C.Emitter,this.nodeMapper=new S.WeakMapper(x=>new r(x)),this.disposables=new a.DisposableStore,this.identityProvider=E.identityProvider,this.autoExpandSingleChildren=typeof E.autoExpandSingleChildren=="undefined"?!1:E.autoExpandSingleChildren,this.sorter=E.sorter,this.collapseByDefault=E.collapseByDefault,this.tree=this.createTree(M,A,O,P,E),this.root=u({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return C.Event.map(this.tree.onDidChangeFocus,l)}get onDidChangeSelection(){return C.Event.map(this.tree.onDidChangeSelection,l)}get onMouseDblClick(){return C.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return C.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(M,A,O,P,F){const E=new N.ComposedTreeDelegate(O),x=P.map(G=>new n(G,this.nodeMapper,this._onDidChangeNodeSlowState.event)),W=y(F)||{};return new L.ObjectTree(M,A,E,x,W)}updateOptions(M={}){this.tree.updateOptions(M)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(M){this.tree.scrollTop=M}domFocus(){this.tree.domFocus()}layout(M,A){this.tree.layout(M,A)}style(M){this.tree.style(M)}getInput(){return this.root.element}setInput(M,A){return ke(this,void 0,void 0,function*(){this.refreshPromises.forEach(P=>P.cancel()),this.refreshPromises.clear(),this.root.element=M;const O=A&&{viewState:A,focus:[],selection:[]};yield this._updateChildren(M,!0,!1,O),O&&(this.tree.setFocus(O.focus),this.tree.setSelection(O.selection)),A&&typeof A.scrollTop=="number"&&(this.scrollTop=A.scrollTop)})}_updateChildren(M=this.root.element,A=!0,O=!1,P,F){return ke(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield C.Event.toPromise(this._onDidRender.event));const E=this.getDataNode(M);if(yield this.refreshAndRenderNode(E,A,P,F),O)try{this.tree.rerender(E)}catch(x){}})}rerender(M){if(M===void 0||M===this.root.element){this.tree.rerender();return}const A=this.getDataNode(M);this.tree.rerender(A)}collapse(M,A=!1){const O=this.getDataNode(M);return this.tree.collapse(O===this.root?null:O,A)}expand(M,A=!1){return ke(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield C.Event.toPromise(this._onDidRender.event));const O=this.getDataNode(M);if(this.tree.hasElement(O)&&!this.tree.isCollapsible(O)||(O.refreshPromise&&(yield this.root.refreshPromise,yield C.Event.toPromise(this._onDidRender.event)),O!==this.root&&!O.refreshPromise&&!this.tree.isCollapsed(O)))return!1;const P=this.tree.expand(O===this.root?null:O,A);return O.refreshPromise&&(yield this.root.refreshPromise,yield C.Event.toPromise(this._onDidRender.event)),P})}setSelection(M,A){const O=M.map(P=>this.getDataNode(P));this.tree.setSelection(O,A)}getSelection(){return this.tree.getSelection().map(A=>A.element)}setFocus(M,A){const O=M.map(P=>this.getDataNode(P));this.tree.setFocus(O,A)}getFocus(){return this.tree.getFocus().map(A=>A.element)}reveal(M,A){this.tree.reveal(this.getDataNode(M),A)}getDataNode(M){const A=this.nodes.get(M===this.root.element?null:M);if(!A)throw new S.TreeError(this.user,`Data tree node not found: ${M}`);return A}refreshAndRenderNode(M,A,O,P){return ke(this,void 0,void 0,function*(){yield this.refreshNode(M,A,O),this.render(M,O,P)})}refreshNode(M,A,O){return ke(this,void 0,void 0,function*(){let P;return this.subTreeRefreshPromises.forEach((F,E)=>{!P&&d(E,M)&&(P=F.then(()=>this.refreshNode(M,A,O)))}),P||this.doRefreshSubTree(M,A,O)})}doRefreshSubTree(M,A,O){return ke(this,void 0,void 0,function*(){let P;M.refreshPromise=new Promise(F=>P=F),this.subTreeRefreshPromises.set(M,M.refreshPromise),M.refreshPromise.finally(()=>{M.refreshPromise=void 0,this.subTreeRefreshPromises.delete(M)});try{const F=yield this.doRefreshNode(M,A,O);M.stale=!1,yield v.Promises.settled(F.map(E=>this.doRefreshSubTree(E,A,O)))}finally{P()}})}doRefreshNode(M,A,O){return ke(this,void 0,void 0,function*(){M.hasChildren=!!this.dataSource.hasChildren(M.element);let P;if(!M.hasChildren)P=Promise.resolve(s.Iterable.empty());else{const F=(0,v.timeout)(800);F.then(()=>{M.slow=!0,this._onDidChangeNodeSlowState.fire(M)},E=>null),P=this.doGetChildren(M).finally(()=>F.cancel())}try{const F=yield P;return this.setChildren(M,F,A,O)}catch(F){if(M!==this.root&&this.tree.hasElement(M)&&this.tree.collapse(M),(0,i.isPromiseCanceledError)(F))return[];throw F}finally{M.slow&&(M.slow=!1,this._onDidChangeNodeSlowState.fire(M))}})}doGetChildren(M){let A=this.refreshPromises.get(M);return A||(A=(0,v.createCancelablePromise)(()=>ke(this,void 0,void 0,function*(){const O=yield this.dataSource.getChildren(M.element);return this.processChildren(O)})),this.refreshPromises.set(M,A),A.finally(()=>{this.refreshPromises.delete(M)}))}_onDidChangeCollapseState({node:M,deep:A}){M.element!==null&&!M.collapsed&&M.element.stale&&(A?this.collapse(M.element.element):this.refreshAndRenderNode(M.element,!1).catch(i.onUnexpectedError))}setChildren(M,A,O,P){const F=[...A];if(M.children.length===0&&F.length===0)return[];const E=new Map,x=new Map;for(const Y of M.children)if(E.set(Y.element,Y),this.identityProvider){const se=this.tree.isCollapsed(Y);x.set(Y.id,{node:Y,collapsed:se})}const W=[],G=F.map(Y=>{const se=!!this.dataSource.hasChildren(Y);if(!this.identityProvider){const ae=u({element:Y,parent:M,hasChildren:se});return se&&this.collapseByDefault&&!this.collapseByDefault(Y)&&(ae.collapsedByDefault=!1,W.push(ae)),ae}const re=this.identityProvider.getId(Y).toString(),J=x.get(re);if(J){const ae=J.node;return E.delete(ae.element),this.nodes.delete(ae.element),this.nodes.set(Y,ae),ae.element=Y,ae.hasChildren=se,O?J.collapsed?(ae.children.forEach(V=>b(V,B=>this.nodes.delete(B.element))),ae.children.splice(0,ae.children.length),ae.stale=!0):W.push(ae):se&&this.collapseByDefault&&!this.collapseByDefault(Y)&&(ae.collapsedByDefault=!1,W.push(ae)),ae}const le=u({element:Y,parent:M,id:re,hasChildren:se});return P&&P.viewState.focus&&P.viewState.focus.indexOf(re)>-1&&P.focus.push(le),P&&P.viewState.selection&&P.viewState.selection.indexOf(re)>-1&&P.selection.push(le),P&&P.viewState.expanded&&P.viewState.expanded.indexOf(re)>-1?W.push(le):se&&this.collapseByDefault&&!this.collapseByDefault(Y)&&(le.collapsedByDefault=!1,W.push(le)),le});for(const Y of E.values())b(Y,se=>this.nodes.delete(se.element));for(const Y of G)this.nodes.set(Y.element,Y);return M.children.splice(0,M.children.length,...G),M!==this.root&&this.autoExpandSingleChildren&&G.length===1&&W.length===0&&(G[0].collapsedByDefault=!1,W.push(G[0])),W}render(M,A,O){const P=M.children.map(E=>this.asTreeElement(E,A)),F=O&&Object.assign(Object.assign({},O),{diffIdentityProvider:O.diffIdentityProvider&&{getId(E){return O.diffIdentityProvider.getId(E.element)}}});this.tree.setChildren(M===this.root?null:M,P,F),M!==this.root&&this.tree.setCollapsible(M,M.hasChildren),this._onDidRender.fire()}asTreeElement(M,A){if(M.stale)return{element:M,collapsible:M.hasChildren,collapsed:!0};let O;return A&&A.viewState.expanded&&M.id&&A.viewState.expanded.indexOf(M.id)>-1?O=!1:O=M.collapsedByDefault,M.collapsedByDefault=void 0,{element:M,children:M.hasChildren?s.Iterable.map(M.children,P=>this.asTreeElement(P,A)):[],collapsible:M.hasChildren,collapsed:O}}processChildren(M){return this.sorter&&(M=[...M].sort(this.sorter.compare.bind(this.sorter))),M}dispose(){this.disposables.dispose()}}e.AsyncDataTree=g;class m{constructor(M){this.node=M}get element(){return{elements:this.node.element.elements.map(M=>M.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(M=>new m(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class w{constructor(M,A,O,P){this.renderer=M,this.nodeMapper=A,this.compressibleNodeMapperProvider=O,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,A,O,P){this.renderer.renderElement(this.nodeMapper.map(M),A,O.templateData,P)}renderCompressedElements(M,A,O,P){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(M),A,O.templateData,P)}renderTwistie(M,A){return M.slow?(A.classList.add(...p.treeItemLoadingIcon.classNamesArray),!0):(A.classList.remove(...p.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(M,A,O,P){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(M),A,O.templateData,P)}disposeCompressedElements(M,A,O,P){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(M),A,O.templateData,P)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,a.dispose)(this.disposables)}}function D(R){const M=R&&y(R);return M&&Object.assign(Object.assign({},M),{keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(A){return R.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(A.map(O=>O.element))}})})}class k extends g{constructor(M,A,O,P,F,E,x={}){super(M,A,O,F,E,x);this.compressionDelegate=P,this.compressibleNodeMapper=new S.WeakMapper(W=>new m(W)),this.filter=x.filter}createTree(M,A,O,P,F){const E=new N.ComposedTreeDelegate(O),x=P.map(G=>new w(G,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),W=D(F)||{};return new L.CompressibleObjectTree(M,A,E,x,W)}asTreeElement(M,A){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(M.element)},super.asTreeElement(M,A))}updateOptions(M={}){this.tree.updateOptions(M)}render(M,A){if(!this.identityProvider)return super.render(M,A);const O=re=>this.identityProvider.getId(re).toString(),P=re=>{const J=new Set;for(const le of re){const ae=this.tree.getCompressedTreeNode(le===this.root?null:le);if(!!ae.element)for(const V of ae.element.elements)J.add(O(V.element))}return J},F=P(this.tree.getSelection()),E=P(this.tree.getFocus());super.render(M,A);const x=this.getSelection();let W=!1;const G=this.getFocus();let Y=!1;const se=re=>{const J=re.element;if(J)for(let le=0;le<J.elements.length;le++){const ae=O(J.elements[le].element),V=J.elements[J.elements.length-1].element;F.has(ae)&&x.indexOf(V)===-1&&(x.push(V),W=!0),E.has(ae)&&G.indexOf(V)===-1&&(G.push(V),Y=!0)}re.children.forEach(se)};se(this.tree.getCompressedTreeNode(M===this.root?null:M)),W&&this.setSelection(x),Y&&this.setFocus(G)}processChildren(M){return this.filter&&(M=s.Iterable.filter(M,A=>{const O=this.filter.filter(A,1),P=T(O);if(P===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return P===1})),super.processChildren(M)}}e.CompressibleAsyncDataTree=k;function T(R){return typeof R=="boolean"?R?1:0:(0,I.isFilterResult)(R)?(0,I.getVisibleState)(R.visibility):(0,I.getVisibleState)(R)}}),define(te[449],ne([4,5]),function($,e){return $.create("vs/base/common/actions",e)}),define(te[50],ne([0,1,6,2,449]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class L extends N.Disposable{constructor(s,a="",u="",h=!0,d){super();this._onDidChange=this._register(new _.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=s,this._label=a,this._cssClass=u,this._enabled=h,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(s){this._setLabel(s)}_setLabel(s){this._label!==s&&(this._label=s,this._onDidChange.fire({label:s}))}get tooltip(){return this._tooltip||""}set tooltip(s){this._setTooltip(s)}_setTooltip(s){this._tooltip!==s&&(this._tooltip=s,this._onDidChange.fire({tooltip:s}))}get class(){return this._cssClass}set class(s){this._setClass(s)}_setClass(s){this._cssClass!==s&&(this._cssClass=s,this._onDidChange.fire({class:s}))}get enabled(){return this._enabled}set enabled(s){this._setEnabled(s)}_setEnabled(s){this._enabled!==s&&(this._enabled=s,this._onDidChange.fire({enabled:s}))}get checked(){return this._checked}set checked(s){this._setChecked(s)}_setChecked(s){this._checked!==s&&(this._checked=s,this._onDidChange.fire({checked:s}))}run(s,a){return ke(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(s))})}}e.Action=L;class S extends N.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new _.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new _.Emitter),this.onDidRun=this._onDidRun.event}run(s,a){return ke(this,void 0,void 0,function*(){if(!s.enabled)return;this._onBeforeRun.fire({action:s});let u;try{yield this.runAction(s,a)}catch(h){u=h}this._onDidRun.fire({action:s,error:u})})}runAction(s,a){return ke(this,void 0,void 0,function*(){yield s.run(a)})}}e.ActionRunner=S;class p extends L{constructor(s){super(p.ID,s,s?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=p,p.ID="vs.actions.separator";class v{constructor(s,a,u,h){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=s,this.label=a,this.class=h,this._actions=u}get actions(){return this._actions}dispose(){}run(){return ke(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class i extends L{constructor(){super(i.ID,I.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(te[118],ne([0,1,41,166,7,58,50,2,17,20,437,210]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class s extends p.Disposable{constructor(h,d,r={}){super();this.options=r,this._context=h||this,this._action=d,d instanceof S.Action&&this._register(d.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(h){h.enabled!==void 0&&this.updateEnabled(),h.checked!==void 0&&this.updateChecked(),h.class!==void 0&&this.updateClass(),h.label!==void 0&&(this.updateLabel(),this.updateTooltip()),h.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new S.ActionRunner)),this._actionRunner}set actionRunner(h){this._actionRunner=h}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(h){this._context=h}render(h){const d=this.element=h;this._register(L.Gesture.addTarget(h));const r=this.options&&this.options.draggable;r&&(h.draggable=!0,_.isFirefox&&this._register((0,I.addDisposableListener)(h,I.EventType.DRAG_START,n=>{var l;return(l=n.dataTransfer)===null||l===void 0?void 0:l.setData(N.DataTransfers.TEXT,this._action.label)}))),this._register((0,I.addDisposableListener)(d,L.EventType.Tap,n=>this.onClick(n,!0))),this._register((0,I.addDisposableListener)(d,I.EventType.MOUSE_DOWN,n=>{r||I.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&d.classList.add("active")})),v.isMacintosh&&this._register((0,I.addDisposableListener)(d,I.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register((0,I.addDisposableListener)(d,I.EventType.CLICK,n=>{I.EventHelper.stop(n,!0),this.options&&this.options.isMenu||v.setImmediate(()=>this.onClick(n))})),this._register((0,I.addDisposableListener)(d,I.EventType.DBLCLICK,n=>{I.EventHelper.stop(n,!0)})),[I.EventType.MOUSE_UP,I.EventType.MOUSE_OUT].forEach(n=>{this._register((0,I.addDisposableListener)(d,n,l=>{I.EventHelper.stop(l),d.classList.remove("active")}))})}onClick(h,d=!1){var r;I.EventHelper.stop(h,!0);const n=i.isUndefinedOrNull(this._context)?((r=this.options)===null||r===void 0?void 0:r.useEventAsContext)?h:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(h){this.element&&(this.element.tabIndex=h?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=s;class a extends s{constructor(h,d,r={}){super(h,d,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(h){super.render(h),this.element&&(this.label=(0,I.append)(this.element,(0,I.$)("a.action-label"))),this.label&&(this._action.id===S.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,I.append)(this.element,(0,I.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(h){this.label&&(this.label.tabIndex=h?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let h=null;this.getAction().tooltip?h=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(h=this.getAction().label,this.options.keybinding&&(h=C.localize(0,null,h,this.options.keybinding))),h&&this.label&&(this.label.title=h)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=a}),define(te[86],ne([0,1,7,51,118,50,6,2,20,210]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends p.Disposable{constructor(s,a={}){var u,h,d,r,n,l;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new S.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=a,this._context=(u=a.context)!==null&&u!==void 0?u:null,this._orientation=(h=this.options.orientation)!==null&&h!==void 0?h:0,this._triggerKeys={keyDown:(r=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&r!==void 0?r:!1,keys:(l=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new L.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(c=>this._onDidRun.fire(c))),this._register(this._actionRunner.onBeforeRun(c=>this._onBeforeRun.fire(c))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",a.animated!==!1&&this.domNode.classList.add("animated");let t,o;switch(this._orientation){case 0:t=[15],o=[17];break;case 1:t=[16],o=[18],this.domNode.className+=" vertical";break}this._register(_.addDisposableListener(this.domNode,_.EventType.KEY_DOWN,c=>{const f=new N.StandardKeyboardEvent(c);let y=!0;const b=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(f.equals(t[0])||f.equals(t[1]))?y=this.focusPrevious():o&&(f.equals(o[0])||f.equals(o[1]))?y=this.focusNext():f.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():f.equals(14)?y=this.focusFirst():f.equals(13)?y=this.focusLast():f.equals(2)&&b instanceof I.BaseActionViewItem&&b.trapsArrowNavigation?y=this.focusNext():this.isTriggerKeyEvent(f)?this._triggerKeys.keyDown?this.doTrigger(f):this.triggerKeyDown=!0:y=!1,y&&(f.preventDefault(),f.stopPropagation())})),this._register(_.addDisposableListener(this.domNode,_.EventType.KEY_UP,c=>{const f=new N.StandardKeyboardEvent(c);this.isTriggerKeyEvent(f)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(f)),f.preventDefault(),f.stopPropagation()):(f.equals(2)||f.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(_.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(_.getActiveElement()===this.domNode||!_.isAncestor(_.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}isTriggerKeyEvent(s){let a=!1;return this._triggerKeys.keys.forEach(u=>{a=a||s.equals(u)}),a}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const a=this.actionsList.children[s];if(_.isAncestor(_.getActiveElement(),a)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(a=>a.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){s&&(this._actionRunner=s,this.viewItems.forEach(a=>a.actionRunner=s))}getContainer(){return this.domNode}push(s,a={}){const u=Array.isArray(s)?s:[s];let h=v.isNumber(a.index)?a.index:null;u.forEach(d=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(_.addDisposableListener(r,_.EventType.CONTEXT_MENU,l=>{_.EventHelper.stop(l,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(d)),n||(n=new I.ActionViewItem(this.context,d,a)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(r),this.focusable&&n instanceof I.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),h===null||h<0||h>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(n),this._actionIds.push(d.id)):(this.actionsList.insertBefore(r,this.actionsList.children[h]),this.viewItems.splice(h,0,n),this._actionIds.splice(h,0,d.id),h++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,p.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],_.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(s){let a=!1,u;if(s===void 0?a=!0:typeof s=="number"?u=s:typeof s=="boolean"&&(a=s),a&&typeof this.focusedItem=="undefined"){const h=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=h===-1?void 0:h,this.updateFocus()}else u!==void 0&&(this.focusedItem=u),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let a;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=s,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=s,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(!0),!0}updateFocus(s,a){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:a});for(let u=0;u<this.viewItems.length;u++){const h=this.viewItems[u],d=h;if(u===this.focusedItem){let r=!0;v.isFunction(d.focus)||(r=!1),this.options.focusOnlyEnabledItems&&v.isFunction(h.isEnabled)&&!h.isEnabled()&&(r=!1),r?d.focus(s):this.actionsList.focus({preventScroll:a})}else v.isFunction(d.blur)&&d.blur()}}doTrigger(s){if(typeof this.focusedItem=="undefined")return;const a=this.viewItems[this.focusedItem];if(a instanceof I.BaseActionViewItem){const u=a._context===null||a._context===void 0?s:a._context;this.run(a._action,u)}}run(s,a){return ke(this,void 0,void 0,function*(){yield this._actionRunner.run(s,a)})}dispose(){(0,p.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(te[450],ne([0,1,7,51,58,50,6,213]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class p extends L.ActionRunner{constructor(C,s){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,_.append)(C,(0,_.$)(".monaco-dropdown")),this._label=(0,_.append)(this._element,(0,_.$)(".dropdown-label"));let a=s.labelRenderer;a||(a=h=>(h.textContent=s.label||"",null));for(const h of[_.EventType.CLICK,_.EventType.MOUSE_DOWN,I.EventType.Tap])this._register((0,_.addDisposableListener)(this.element,h,d=>_.EventHelper.stop(d,!0)));for(const h of[_.EventType.MOUSE_DOWN,I.EventType.Tap])this._register((0,_.addDisposableListener)(this._label,h,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,_.addDisposableListener)(this._label,_.EventType.KEY_UP,h=>{const d=new N.StandardKeyboardEvent(h);(d.equals(3)||d.equals(10))&&(_.EventHelper.stop(h,!0),this.visible?this.hide():this.show())}));const u=a(this._label);u&&this._register(u),this._register(I.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=p;class v extends p{constructor(C,s){super(C,s);this._actions=[],this._contextMenuProvider=s.contextMenuProvider,this.actions=s.actions||[],this.actionProvider=s.actionProvider,this.menuClassName=s.menuClassName||"",this.menuAsChild=!!s.menuAsChild}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:C=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(te[451],ne([0,1,7,118,450,6,213]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends N.BaseActionViewItem{constructor(v,i,C,s=Object.create(null)){super(null,v,s);this.actionItem=null,this._onDidChangeVisibility=this._register(new L.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=C,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const i=a=>{this.element=(0,_.append)(a,(0,_.$)("a.action-label"));let u=[];return typeof this.options.classNames=="string"?u=this.options.classNames.split(/\s+/g).filter(h=>!!h):this.options.classNames&&(u=this.options.classNames),u.find(h=>h==="icon")||u.push("codicon"),this.element.classList.add(...u),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},C=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:C?this.menuActionsOrProvider:void 0,actionProvider:C?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new I.DropdownMenu(v,s)),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var u;(u=this.element)===null||u===void 0||u.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,i;const C=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",C),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",C)}}e.DropdownMenuActionViewItem=S}),define(te[185],ne([0,1,7,92,162,86,45,62,52,29,6,294,35,443,319]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const h=_.$,d={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class r extends v.Widget{constructor(t,o,c){var f;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new C.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=o,this.options=c||Object.create(null),(0,a.mixin)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(f=this.options.tooltip)!==null&&f!==void 0?f:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=_.append(t,h(".monaco-inputbox.idle"));let y=this.options.flexibleHeight?"textarea":"input",b=_.append(this.element,h(".ibwrapper"));if(this.input=_.append(b,h(y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=_.append(b,h("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new p.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),_.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(w=>this.input.scrollTop=w.scrollTop));const g=this._register(new N.DomEmitter(document,"selectionchange")),m=C.Event.filter(g.event,()=>{const w=document.getSelection();return(w==null?void 0:w.anchorNode)===b});this._register(m(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new L.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:_.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return _.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let o=0;if(this.mirror){const c=parseFloat(this.mirror.style.paddingLeft||"")||0,f=parseFloat(this.mirror.style.paddingRight||"")||0;o=c+f}this.input.style.width=t-o+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const t=this.cachedContentHeight,o=this.cachedHeight,c=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:o}),this.scrollableElement.setScrollPosition({scrollTop:c})}showMessage(t,o){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const c=this.stylesForType(this.message.type);this.element.style.border=c.border?`1px solid ${c.border}`:"",(this.hasFocus()||o)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t,o=()=>t.style.width=_.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:f=>{if(!this.message)return null;t=_.append(f,h(".monaco-inputbox-container")),o();const y={inline:!0,className:"monaco-inputbox-message"},b=this.message.formatContent?(0,I.renderFormattedText)(this.message.content,y):(0,I.renderText)(this.message.content,y);b.classList.add(this.classForType(this.message.type));const g=this.stylesForType(this.message.type);return b.style.backgroundColor=g.background?g.background.toString():"",b.style.color=g.foreground?g.foreground.toString():"",b.style.border=g.border?`1px solid ${g.border}`:"",_.append(t,b),null},onHide:()=>{this.state="closed"},layout:o});let c;this.message.type===3?c=u.localize(0,null,this.message.content):this.message.type===2?c=u.localize(1,null,this.message.content):c=u.localize(2,null,this.message.content),S.alert(c),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,c=t.charCodeAt(t.length-1)===10?" ":"";(t+c).replace(/\u000c/g,"")?this.mirror.textContent=t+c:this.mirror.innerText="\xA0",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",o=this.inputForeground?this.inputForeground.toString():"",c=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=o,this.input.style.backgroundColor="inherit",this.input.style.color=o,this.element.style.borderWidth=c?"1px":"",this.element.style.borderStyle=c?"solid":"",this.element.style.borderColor=c}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=_.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const o=this.inputElement,c=o.selectionStart,f=o.selectionEnd,y=o.value;c!==null&&f!==null&&(this.value=y.substr(0,c)+t+y.substr(f),o.setSelectionRange(c+1,c+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class n extends r{constructor(t,o,c){super(t,o,c);this.history=new s.HistoryNavigator(c.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,S.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,S.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(te[452],ne([0,1,7,243,185,52,6,438,214]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=p.localize(0,null);class i extends L.Widget{constructor(s,a,u,h){super();this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=a,this.placeholder=h.placeholder||"",this.validation=h.validation,this.label=h.label||v,this.inputActiveOptionBorder=h.inputActiveOptionBorder,this.inputActiveOptionForeground=h.inputActiveOptionForeground,this.inputActiveOptionBackground=h.inputActiveOptionBackground,this.inputBackground=h.inputBackground,this.inputForeground=h.inputForeground,this.inputBorder=h.inputBorder,this.inputValidationInfoBorder=h.inputValidationInfoBorder,this.inputValidationInfoBackground=h.inputValidationInfoBackground,this.inputValidationInfoForeground=h.inputValidationInfoForeground,this.inputValidationWarningBorder=h.inputValidationWarningBorder,this.inputValidationWarningBackground=h.inputValidationWarningBackground,this.inputValidationWarningForeground=h.inputValidationWarningForeground,this.inputValidationErrorBorder=h.inputValidationErrorBorder,this.inputValidationErrorBackground=h.inputValidationErrorBackground,this.inputValidationErrorForeground=h.inputValidationErrorForeground;const d=h.appendCaseSensitiveLabel||"",r=h.appendWholeWordsLabel||"",n=h.appendRegexLabel||"",l=h.history||[],t=!!h.flexibleHeight,o=!!h.flexibleWidth,c=h.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new I.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,flexibleHeight:t,flexibleWidth:o,flexibleMaxHeight:c})),this.regex=this._register(new N.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(b=>{this._onRegexKeyDown.fire(b)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(b=>{this._onCaseSensitiveKeyDown.fire(b)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let g=f.indexOf(document.activeElement);if(g>=0){let m=-1;b.equals(17)?m=(g+1)%f.length:b.equals(15)&&(g===0?m=f.length-1:m=g-1),b.equals(9)?(f[g].blur(),this.inputBox.focus()):m>=0&&f[m].focus(),_.EventHelper.stop(b,!0)}}});let y=document.createElement("div");y.className="controls",y.style.display=this._showOptionButtons?"block":"none",y.appendChild(this.caseSensitive.domNode),y.appendChild(this.wholeWords.domNode),y.appendChild(this.regex.domNode),this.domNode.appendChild(y),s&&s.appendChild(this.domNode),this._register(_.addDisposableListener(this.inputBox.inputElement,"compositionstart",b=>{this.imeSessionInProgress=!0})),this._register(_.addDisposableListener(this.inputBox.inputElement,"compositionend",b=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(s){this.fixFocusOnOptionClickEnabled=s}setEnabled(s){s?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(s){this.inputBox.value!==s&&(this.inputBox.value=s)}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(s),this.wholeWords.style(s),this.caseSensitive.style(s);const a={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(a)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(s){this.caseSensitive.checked=s}getWholeWords(){return this.wholeWords.checked}setWholeWords(s){this.wholeWords.checked=s}getRegex(){return this.regex.checked}setRegex(s){this.regex.checked=s,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(te[453],ne([0,1,7,167,185,52,27,6,440,214]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=v.localize(0,null),C=v.localize(1,null);class s extends N.Checkbox{constructor(h){super({icon:S.Codicon.preserveCase,title:C+h.appendTitle,isChecked:h.isChecked,inputActiveOptionBorder:h.inputActiveOptionBorder,inputActiveOptionForeground:h.inputActiveOptionForeground,inputActiveOptionBackground:h.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=s;class a extends L.Widget{constructor(h,d,r,n){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Emitter),this._onInput=this._register(new p.Emitter),this._onKeyUp=this._register(new p.Emitter),this._onPreserveCaseKeyDown=this._register(new p.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const l=n.appendPreserveCaseLabel||"",t=n.history||[],o=!!n.flexibleHeight,c=!!n.flexibleWidth,f=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new I.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:o,flexibleWidth:c,flexibleMaxHeight:f})),this.preserveCase=this._register(new s({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(g=>{this._onPreserveCaseKeyDown.fire(g)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let y=[this.preserveCase.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let m=y.indexOf(document.activeElement);if(m>=0){let w=-1;g.equals(17)?w=(m+1)%y.length:g.equals(15)&&(m===0?w=y.length-1:w=m-1),g.equals(9)?(y[m].blur(),this.inputBox.focus()):w>=0&&y[w].focus(),_.EventHelper.stop(g,!0)}}});let b=document.createElement("div");b.className="controls",b.style.display=this._showOptionButtons?"block":"none",b.appendChild(this.preserveCase.domNode),this.domNode.appendChild(b),h&&h.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(h){h?this.enable():this.disable()}style(h){this.inputActiveOptionBorder=h.inputActiveOptionBorder,this.inputActiveOptionForeground=h.inputActiveOptionForeground,this.inputActiveOptionBackground=h.inputActiveOptionBackground,this.inputBackground=h.inputBackground,this.inputForeground=h.inputForeground,this.inputBorder=h.inputBorder,this.inputValidationInfoBackground=h.inputValidationInfoBackground,this.inputValidationInfoForeground=h.inputValidationInfoForeground,this.inputValidationInfoBorder=h.inputValidationInfoBorder,this.inputValidationWarningBackground=h.inputValidationWarningBackground,this.inputValidationWarningForeground=h.inputValidationWarningForeground,this.inputValidationWarningBorder=h.inputValidationWarningBorder,this.inputValidationErrorBackground=h.inputValidationErrorBackground,this.inputValidationErrorForeground=h.inputValidationErrorForeground,this.inputValidationErrorBorder=h.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const h={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(h);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(h){this.preserveCase.checked=h}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(h){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=h,this.domNode.style.width=h+"px"}dispose(){super.dispose()}}e.ReplaceInput=a}),define(te[454],ne([0,1,41,58,7,51,55,86,118,132,211,62,50,14,27,105,2,17,8,445]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const o=(0,h.registerCodicon)("menu-selection",h.Codicon.check),c=(0,h.registerCodicon)("menu-submenu",h.Codicon.chevronRight);var f;(function(k){k[k.Right=0]="Right",k[k.Left=1]="Left"})(f=e.Direction||(e.Direction={}));class y extends p.ActionBar{constructor(T,R,M={}){T.classList.add("monaco-menu-container"),T.setAttribute("role","presentation");const A=document.createElement("div");A.classList.add("monaco-menu"),A.setAttribute("role","presentation"),super(A,{orientation:1,actionViewItemProvider:F=>this.doGetActionViewItem(F,M,O),context:M.context,actionRunner:M.actionRunner,ariaLabel:M.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...n.isMacintosh||n.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=A,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new r.DisposableStore),this.initializeStyleSheet(T),this._register(N.Gesture.addTarget(A)),(0,I.addDisposableListener)(A,I.EventType.KEY_DOWN,F=>{new L.StandardKeyboardEvent(F).equals(2)&&F.preventDefault()}),M.enableMnemonics&&this.menuDisposables.add((0,I.addDisposableListener)(A,I.EventType.KEY_DOWN,F=>{const E=F.key.toLocaleLowerCase();if(this.mnemonics.has(E)){I.EventHelper.stop(F,!0);const x=this.mnemonics.get(E);if(x.length===1&&(x[0]instanceof g&&x[0].container&&this.focusItemByElement(x[0].container),x[0].onClick(F)),x.length>1){const W=x.shift();W&&W.container&&(this.focusItemByElement(W.container),x.push(W)),this.mnemonics.set(E,x)}}})),n.isLinux&&this._register((0,I.addDisposableListener)(A,I.EventType.KEY_DOWN,F=>{const E=new L.StandardKeyboardEvent(F);E.equals(14)||E.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),I.EventHelper.stop(F,!0)):(E.equals(13)||E.equals(12))&&(this.focusedItem=0,this.focusPrevious(),I.EventHelper.stop(F,!0))})),this._register((0,I.addDisposableListener)(this.domNode,I.EventType.MOUSE_OUT,F=>{let E=F.relatedTarget;(0,I.isAncestor)(E,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),F.stopPropagation())})),this._register((0,I.addDisposableListener)(this.actionsList,I.EventType.MOUSE_OVER,F=>{let E=F.target;if(!(!E||!(0,I.isAncestor)(E,this.actionsList)||E===this.actionsList)){for(;E.parentElement!==this.actionsList&&E.parentElement!==null;)E=E.parentElement;if(E.classList.contains("action-item")){const x=this.focusedItem;this.setFocusedItem(E),x!==this.focusedItem&&this.updateFocus()}}})),this._register(N.Gesture.addTarget(this.actionsList)),this._register((0,I.addDisposableListener)(this.actionsList,N.EventType.Tap,F=>{let E=F.initialTarget;if(!(!E||!(0,I.isAncestor)(E,this.actionsList)||E===this.actionsList)){for(;E.parentElement!==this.actionsList&&E.parentElement!==null;)E=E.parentElement;if(E.classList.contains("action-item")){const x=this.focusedItem;this.setFocusedItem(E),x!==this.focusedItem&&this.updateFocus()}}}));let O={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new s.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const P=this.scrollableElement.getDomNode();P.style.position="",this._register((0,I.addDisposableListener)(A,N.EventType.Change,F=>{I.EventHelper.stop(F,!0);const E=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:E-F.translationY})})),this._register((0,I.addDisposableListener)(P,I.EventType.MOUSE_UP,F=>{F.preventDefault()})),A.style.maxHeight=`${Math.max(10,window.innerHeight-T.getBoundingClientRect().top-35)}px`,R=R.filter(F=>{var E;return((E=M.submenuIds)===null||E===void 0?void 0:E.has(F.id))?(console.warn(`Found submenu cycle: ${F.id}`),!1):!0}),this.push(R,{icon:!0,label:!0,isMenu:!0}),T.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(F=>!(F instanceof m)).forEach((F,E,x)=>{F.updatePositionInSet(E+1,x.length)})}initializeStyleSheet(T){(0,I.isInShadowDOM)(T)?(this.styleSheet=(0,I.createStyleSheet)(T),this.styleSheet.textContent=D):(y.globalStyleSheet||(y.globalStyleSheet=(0,I.createStyleSheet)(),y.globalStyleSheet.textContent=D),this.styleSheet=y.globalStyleSheet)}style(T){const R=this.getContainer(),M=T.foregroundColor?`${T.foregroundColor}`:"",A=T.backgroundColor?`${T.backgroundColor}`:"",O=T.borderColor?`1px solid ${T.borderColor}`:"",P=T.shadowColor?`0 2px 4px ${T.shadowColor}`:"";R.style.border=O,this.domNode.style.color=M,this.domNode.style.backgroundColor=A,R.style.boxShadow=P,this.viewItems&&this.viewItems.forEach(F=>{(F instanceof b||F instanceof m)&&F.style(T)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(T){const R=this.focusedItem;this.setFocusedItem(T),R!==this.focusedItem&&this.updateFocus()}setFocusedItem(T){for(let R=0;R<this.actionsList.children.length;R++){let M=this.actionsList.children[R];if(T===M){this.focusedItem=R;break}}}updateFocus(T){super.updateFocus(T,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(T,R,M){if(T instanceof a.Separator)return new m(R.context,T,{icon:!0});if(T instanceof a.SubmenuAction){const A=new g(T,T.actions,M,Object.assign(Object.assign({},R),{submenuIds:new Set([...R.submenuIds||[],T.id])}));if(R.enableMnemonics){const O=A.getMnemonic();if(O&&A.isEnabled()){let P=[];this.mnemonics.has(O)&&(P=this.mnemonics.get(O)),P.push(A),this.mnemonics.set(O,P)}}return A}else{const A={enableMnemonics:R.enableMnemonics,useEventAsContext:R.useEventAsContext};if(R.getKeyBinding){const P=R.getKeyBinding(T);if(P){const F=P.getLabel();F&&(A.keybinding=F)}}const O=new b(R.context,T,A);if(R.enableMnemonics){const P=O.getMnemonic();if(P&&O.isEnabled()){let F=[];this.mnemonics.has(P)&&(F=this.mnemonics.get(P)),F.push(O),this.mnemonics.set(P,F)}}return O}}}e.Menu=y;class b extends v.BaseActionViewItem{constructor(T,R,M={}){if(M.isMenu=!0,super(R,R,M),this.options=M,this.options.icon=M.icon!==void 0?M.icon:!1,this.options.label=M.label!==void 0?M.label:!0,this.cssClass="",this.options.label&&M.enableMnemonics){let A=this.getAction().label;if(A){let O=e.MENU_MNEMONIC_REGEX.exec(A);O&&(this.mnemonic=(O[1]?O[1]:O[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new u.RunOnceScheduler(()=>{!this.element||(this._register((0,I.addDisposableListener)(this.element,I.EventType.MOUSE_UP,A=>{if(I.EventHelper.stop(A,!0),_.isFirefox){if(new S.StandardMouseEvent(A).rightButton)return;this.onClick(A)}else setTimeout(()=>{this.onClick(A)},0)})),this._register((0,I.addDisposableListener)(this.element,I.EventType.CONTEXT_MENU,A=>{I.EventHelper.stop(A,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(T){super.render(T),!!this.element&&(this.container=T,this.item=(0,I.append)(this.element,(0,I.$)("a.action-menu-item")),this._action.id===a.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,I.append)(this.item,(0,I.$)("span.menu-item-check"+o.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,I.append)(this.item,(0,I.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,I.append)(this.item,(0,I.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(T,R){this.item&&(this.item.setAttribute("aria-posinset",`${T}`),this.item.setAttribute("aria-setsize",`${R}`))}updateLabel(){if(!!this.label&&this.options.label){(0,I.clearNode)(this.label);let T=(0,d.stripIcons)(this.getAction().label);if(T){const R=w(T);this.options.enableMnemonics||(T=R),this.label.setAttribute("aria-label",R.replace(/&&/g,"&"));const M=e.MENU_MNEMONIC_REGEX.exec(T);if(M){T=l.escape(T),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(T);for(;A&&A[1];)A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(T);const O=P=>P.replace(/&amp;&amp;/g,"&amp;");A?this.label.append(l.ltrim(O(T.substr(0,A.index))," "),(0,I.$)("u",{"aria-hidden":"true"},A[3]),l.rtrim(O(T.substr(A.index+A[0].length))," ")):this.label.innerText=O(T).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(M[1]?M[1]:M[3]).toLocaleLowerCase())}else this.label.innerText=T.replace(/&&/g,"&").trim()}}}updateTooltip(){let T=null;this.getAction().tooltip?T=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(T=this.getAction().label,this.options.keybinding&&(T=t.localize(0,null,T,this.options.keybinding))),T&&this.item&&(this.item.title=T)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const T=this.element&&this.element.classList.contains("focused"),R=T&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,M=T&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,A=T&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=R?R.toString():"",this.item.style.backgroundColor=M?M.toString():""),this.check&&(this.check.style.color=R?R.toString():""),this.container&&(this.container.style.border=A)}style(T){this.menuStyle=T,this.applyStyle()}}class g extends b{constructor(T,R,M,A){super(T,T,A);this.submenuActions=R,this.parentData=M,this.submenuOptions=A,this.mysubmenu=null,this.submenuDisposables=this._register(new r.DisposableStore),this.mouseOver=!1,this.expandDirection=A&&A.expandDirection!==void 0?A.expandDirection:f.Right,this.showScheduler=new u.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new u.RunOnceScheduler(()=>{this.element&&!(0,I.isAncestor)((0,I.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(T){super.render(T),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,I.append)(this.item,(0,I.$)("span.submenu-indicator"+c.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,I.addDisposableListener)(this.element,I.EventType.KEY_UP,R=>{let M=new L.StandardKeyboardEvent(R);(M.equals(17)||M.equals(3))&&(I.EventHelper.stop(R,!0),this.createSubmenu(!0))})),this._register((0,I.addDisposableListener)(this.element,I.EventType.KEY_DOWN,R=>{let M=new L.StandardKeyboardEvent(R);(0,I.getActiveElement)()===this.item&&(M.equals(17)||M.equals(3))&&I.EventHelper.stop(R,!0)})),this._register((0,I.addDisposableListener)(this.element,I.EventType.MOUSE_OVER,R=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,I.addDisposableListener)(this.element,I.EventType.MOUSE_LEAVE,R=>{this.mouseOver=!1})),this._register((0,I.addDisposableListener)(this.element,I.EventType.FOCUS_OUT,R=>{this.element&&!(0,I.isAncestor)((0,I.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(T){I.EventHelper.stop(T,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(T){if(this.parentData.submenu&&(T||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(R){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(T,R,M,A){const O={top:0,left:0};return O.left=(0,C.layout)(T.width,R.width,{position:A===f.Right?0:1,offset:M.left,size:M.width}),O.left>=M.left&&O.left<M.left+M.width&&(M.left+10+R.width<=T.width&&(O.left=M.left+10),M.top+=10,M.height=0),O.top=(0,C.layout)(T.height,R.height,{position:0,offset:M.top,size:0}),O.top+R.height===M.top&&O.top+M.height+R.height<=T.height&&(O.top+=M.height),O}createSubmenu(T=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,I.append)(this.element,(0,I.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const R=getComputedStyle(this.parentData.parent.domNode),M=parseFloat(R.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new y(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new a.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const A=this.element.getBoundingClientRect(),O={top:A.top-M,left:A.left,height:A.height+2*M,width:A.width},P=this.submenuContainer.getBoundingClientRect(),{top:F,left:E}=this.calculateSubmenuMenuLayout(new I.Dimension(window.innerWidth,window.innerHeight),I.Dimension.lift(P),O,this.expandDirection);this.submenuContainer.style.left=`${E}px`,this.submenuContainer.style.top=`${F}px`,this.submenuDisposables.add((0,I.addDisposableListener)(this.submenuContainer,I.EventType.KEY_UP,x=>{new L.StandardKeyboardEvent(x).equals(15)&&(I.EventHelper.stop(x,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,I.addDisposableListener)(this.submenuContainer,I.EventType.KEY_DOWN,x=>{new L.StandardKeyboardEvent(x).equals(15)&&I.EventHelper.stop(x,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(T),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(T){var R;this.item&&((R=this.item)===null||R===void 0||R.setAttribute("aria-expanded",T))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const R=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=R?`${R}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class m extends v.ActionViewItem{style(T){this.label&&(this.label.style.borderBottomColor=T.separatorColor?`${T.separatorColor}`:"")}}function w(k){const T=e.MENU_MNEMONIC_REGEX,R=T.exec(k);if(!R)return k;const M=!R[1];return k.replace(T,M?"$2$3":"").trim()}e.cleanMnemonic=w;let D=`
.monaco-menu {
	font-size: 13px;

}

${(0,i.formatRule)(o)}
${(0,i.formatRule)(c)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(te[455],ne([0,1,7,51,55,185,2,74,134]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=_.$;class i extends S.Disposable{constructor(s){super();this.parent=s,this.onKeyDown=a=>_.addDisposableListener(this.inputBox.inputElement,_.EventType.KEY_DOWN,u=>{a(new N.StandardKeyboardEvent(u))}),this.onMouseDown=a=>_.addDisposableListener(this.inputBox.inputElement,_.EventType.MOUSE_DOWN,u=>{a(new I.StandardMouseEvent(u))}),this.onDidChange=a=>this.inputBox.onDidChange(a),this.container=_.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new L.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(s){this.inputBox.value=s}select(s=null){this.inputBox.select(s)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.inputBox.setPlaceHolder(s)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(s){this.inputBox.setAriaLabel(s)}get password(){return this.inputBox.inputElement.type==="password"}set password(s){this.inputBox.inputElement.type=s?"password":"text"}setAttribute(s,a){this.inputBox.inputElement.setAttribute(s,a)}removeAttribute(s){this.inputBox.inputElement.removeAttribute(s)}showDecoration(s){s===p.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:s===p.default.Info?1:s===p.default.Warning?2:3,content:""})}stylesForType(s){return this.inputBox.stylesForType(s===p.default.Info?1:s===p.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(s){this.inputBox.style(s)}}e.QuickInputBox=i}),define(te[456],ne([4,5]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(te[457],ne([0,1,19,20,456]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function L(i,C){return C&&(i.stack||i.stacktrace)?I.localize(0,null,p(i),S(i.stack)||S(i.stacktrace)):p(i)}function S(i){return Array.isArray(i)?i.join(`
`):i}function p(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?I.localize(1,null,i.message):i.message||I.localize(2,null)}function v(i=null,C=!1){if(!i)return I.localize(3,null);if(Array.isArray(i)){const s=_.coalesce(i),a=v(s[0],C);return s.length>1?I.localize(4,null,a,s.length):a}if(N.isString(i))return i;if(i.detail){const s=i.detail;if(s.error)return L(s.error,C);if(s.exception)return L(s.exception,C)}return i.stack?L(i,C):i.message?i.message:I.localize(5,null)}e.toErrorMessage=v}),define(te[458],ne([4,5]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(te[186],ne([0,1,458]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class N{constructor(S,p,v=p){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=p,this.modifierLabels[3]=v}toLabel(S,p,v){if(p.length===0)return null;const i=[];for(let C=0,s=p.length;C<s;C++){const a=p[C],u=v(a);if(u===null)return null;i[C]=I(a,u,this.modifierLabels[S])}return i.join(" ")}}e.ModifierLabelProvider=N,e.UILabelProvider=new N({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:_.localize(0,null),shiftKey:_.localize(1,null),altKey:_.localize(2,null),metaKey:_.localize(3,null),separator:"+"},{ctrlKey:_.localize(4,null),shiftKey:_.localize(5,null),altKey:_.localize(6,null),metaKey:_.localize(7,null),separator:"+"}),e.AriaLabelProvider=new N({ctrlKey:_.localize(8,null),shiftKey:_.localize(9,null),altKey:_.localize(10,null),metaKey:_.localize(11,null),separator:"+"},{ctrlKey:_.localize(12,null),shiftKey:_.localize(13,null),altKey:_.localize(14,null),metaKey:_.localize(15,null),separator:"+"},{ctrlKey:_.localize(16,null),shiftKey:_.localize(17,null),altKey:_.localize(18,null),metaKey:_.localize(19,null),separator:"+"});function I(L,S,p){if(S===null)return"";const v=[];return L.ctrlKey&&v.push(p.ctrlKey),L.shiftKey&&v.push(p.shiftKey),L.altKey&&v.push(p.altKey),L.metaKey&&v.push(p.metaKey),S!==""&&v.push(S),v.join(p.separator)}}),define(te[459],ne([0,1,7,186,35,444,320]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=_.$;class p{constructor(i,C,s){this.os=C,this.keyElements=new Set,this.options=s||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=_.append(i,S(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,C){this.didEverRender&&this.keybinding===i&&p.areSame(this.matches,C)||(this.keybinding=i,this.matches=C,this.render())}render(){if(this.clear(),this.keybinding){let[i,C]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),C&&(_.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,C,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){_.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,C,s){const a=N.UILabelProvider.modifierLabels[this.os];C.ctrlKey&&this.renderKey(i,a.ctrlKey,Boolean(s==null?void 0:s.ctrlKey),a.separator),C.shiftKey&&this.renderKey(i,a.shiftKey,Boolean(s==null?void 0:s.shiftKey),a.separator),C.altKey&&this.renderKey(i,a.altKey,Boolean(s==null?void 0:s.altKey),a.separator),C.metaKey&&this.renderKey(i,a.metaKey,Boolean(s==null?void 0:s.metaKey),a.separator);const u=C.keyLabel;u&&this.renderKey(i,u,Boolean(s==null?void 0:s.keyCode),"")}renderKey(i,C,s,a){_.append(i,this.createKeyElement(C,s?".highlight":"")),a&&_.append(i,S("span.monaco-keybinding-key-separator",void 0,a))}renderUnbound(i){_.append(i,this.createKeyElement((0,L.localize)(0,null)))}createKeyElement(i,C=""){const s=S("span.monaco-keybinding-key"+C,void 0,i);return this.keyElements.add(s),s}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const C of this.keyElements)this.labelBackground&&(C.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(C.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(C.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(C.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,C){return i===C||!i&&!C?!0:!!i&&!!C&&(0,I.equals)(i.firstPart,C.firstPart)&&(0,I.equals)(i.chordPart,C.chordPart)}}e.KeybindingLabel=p}),define(te[460],ne([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(te[461],ne([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(te[462],ne([0,1,7,51,86,163,183,459,50,19,27,298,91,6,105,2,17,20,217,461,134]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const o=_.$;class c{constructor(k){this.hidden=!1,this._onChecked=new u.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,k)}get checked(){return!!this._checked}set checked(k){k!==this._checked&&(this._checked=k,this._onChecked.fire(k))}dispose(){this._onChecked.dispose()}}class f{get templateId(){return f.ID}renderTemplate(k){const T=Object.create(null);T.toDisposeElement=[],T.toDisposeTemplate=[],T.entry=_.append(k,o(".quick-input-list-entry"));const R=_.append(T.entry,o("label.quick-input-list-label"));T.toDisposeTemplate.push(_.addStandardDisposableListener(R,_.EventType.CLICK,E=>{T.checkbox.offsetParent||E.preventDefault()})),T.checkbox=_.append(R,o("input.quick-input-list-checkbox")),T.checkbox.type="checkbox",T.toDisposeTemplate.push(_.addStandardDisposableListener(T.checkbox,_.EventType.CHANGE,E=>{T.element.checked=T.checkbox.checked}));const M=_.append(R,o(".quick-input-list-rows")),A=_.append(M,o(".quick-input-list-row")),O=_.append(M,o(".quick-input-list-row"));T.label=new S.IconLabel(A,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const P=_.append(A,o(".quick-input-list-entry-keybinding"));T.keybinding=new p.KeybindingLabel(P,r.OS);const F=_.append(O,o(".quick-input-list-label-meta"));return T.detail=new L.HighlightedLabel(F,!0),T.separator=_.append(T.entry,o(".quick-input-list-separator")),T.actionBar=new I.ActionBar(T.entry),T.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),T.toDisposeTemplate.push(T.actionBar),T}renderElement(k,T,R){R.toDisposeElement=(0,d.dispose)(R.toDisposeElement),R.element=k,R.checkbox.checked=k.checked,R.toDisposeElement.push(k.onChecked(E=>R.checkbox.checked=E));const{labelHighlights:M,descriptionHighlights:A,detailHighlights:O}=k,P=Object.create(null);P.matches=M||[],P.descriptionTitle=k.saneDescription,P.descriptionMatches=A||[],P.extraClasses=k.item.iconClasses,P.italic=k.item.italic,P.strikethrough=k.item.strikethrough,R.label.setLabel(k.saneLabel,k.saneDescription,P),R.keybinding.set(k.item.keybinding),R.detail.set(k.saneDetail,O),k.separator&&k.separator.label?(R.separator.textContent=k.separator.label,R.separator.style.display=""):R.separator.style.display="none",R.entry.classList.toggle("quick-input-list-separator-border",!!k.separator),R.actionBar.clear();const F=k.item.buttons;F&&F.length?(R.actionBar.push(F.map((E,x)=>{let W=E.iconClass||(E.iconPath?(0,l.getIconClass)(E.iconPath):void 0);E.alwaysVisible&&(W=W?`${W} always-visible`:"always-visible");const G=new v.Action(`id-${x}`,"",W,!0,()=>ke(this,void 0,void 0,function*(){k.fireButtonTriggered({button:E,item:k.item})}));return G.tooltip=E.tooltip||"",G}),{icon:!0,label:!1}),R.entry.classList.add("has-actions")):R.entry.classList.remove("has-actions")}disposeElement(k,T,R){R.toDisposeElement=(0,d.dispose)(R.toDisposeElement)}disposeTemplate(k){k.toDisposeElement=(0,d.dispose)(k.toDisposeElement),k.toDisposeTemplate=(0,d.dispose)(k.toDisposeTemplate)}}f.ID="listelement";class y{getHeight(k){return k.saneDetail?44:22}getTemplateId(k){return f.ID}}var b;(function(D){D[D.First=1]="First",D[D.Second=2]="Second",D[D.Last=3]="Last",D[D.Next=4]="Next",D[D.Previous=5]="Previous",D[D.NextPage=6]="NextPage",D[D.PreviousPage=7]="PreviousPage"})(b=e.QuickInputListFocus||(e.QuickInputListFocus={}));class g{constructor(k,T,R){this.parent=k,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new u.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new u.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new u.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new u.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new u.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new u.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new u.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=T,this.container=_.append(this.parent,o(".quick-input-list"));const M=new y,A=new w;this.list=R.createList("QuickInput",this.container,M,[new f],{identityProvider:{getId:O=>O.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:A}),this.list.getHTMLElement().id=T,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(O=>{const P=new N.StandardKeyboardEvent(O);switch(P.keyCode){case 10:this.toggleCheckbox();break;case 31:(r.isMacintosh?O.metaKey:O.ctrlKey)&&this.list.setFocus((0,i.range)(this.list.length));break;case 16:const F=this.list.getFocus();F.length===1&&F[0]===0&&this._onLeave.fire();break;case 18:const E=this.list.getFocus();E.length===1&&E[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(P)})),this.disposables.push(this.list.onMouseDown(O=>{O.browserEvent.button!==2&&O.browserEvent.preventDefault()})),this.disposables.push(_.addDisposableListener(this.container,_.EventType.CLICK,O=>{(O.x||O.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(O=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(O=>{typeof O.index=="number"&&(O.browserEvent.preventDefault(),this.list.setSelection([O.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return u.Event.map(this.list.onDidChangeFocus,k=>k.elements.map(T=>T.item))}get onDidChangeSelection(){return u.Event.map(this.list.onDidChangeSelection,k=>({items:k.elements.map(T=>T.item),event:k.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(k,T=!0){for(let R=0,M=k.length;R<M;R++){const A=k[R];if(!A.hidden)if(A.checked)T=!0;else return!1}return T}getCheckedCount(){let k=0;const T=this.elements;for(let R=0,M=T.length;R<M;R++)T[R].checked&&k++;return k}getVisibleCount(){let k=0;const T=this.elements;for(let R=0,M=T.length;R<M;R++)T[R].hidden||k++;return k}setAllVisibleChecked(k){try{this._fireCheckedEvents=!1,this.elements.forEach(T=>{T.hidden||(T.checked=k)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(k){this.elementDisposables=(0,d.dispose)(this.elementDisposables);const T=R=>this.fireButtonTriggered(R);this.inputElements=k,this.elements=k.reduce((R,M,A)=>{var O,P,F;if(M.type!=="separator"){const E=A&&k[A-1],x=M.label&&M.label.replace(/\r?\n/g," "),W=M.meta&&M.meta.replace(/\r?\n/g," "),G=M.description&&M.description.replace(/\r?\n/g," "),Y=M.detail&&M.detail.replace(/\r?\n/g," "),se=M.ariaLabel||[x,G,Y].map(re=>(0,C.getCodiconAriaLabel)(re)).filter(re=>!!re).join(", ");R.push(new c({index:A,item:M,saneLabel:x,saneMeta:W,saneAriaLabel:se,saneDescription:G,saneDetail:Y,labelHighlights:(O=M.highlights)===null||O===void 0?void 0:O.label,descriptionHighlights:(P=M.highlights)===null||P===void 0?void 0:P.description,detailHighlights:(F=M.highlights)===null||F===void 0?void 0:F.detail,checked:!1,separator:E&&E.type==="separator"?E:void 0,fireButtonTriggered:T}))}return R},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(R=>R.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((R,M,A)=>(R.set(M.item,A),R),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(k=>k.item)}setFocusedElements(k){if(this.list.setFocus(k.filter(T=>this.elementsToIndexes.has(T)).map(T=>this.elementsToIndexes.get(T))),k.length>0){const T=this.list.getFocus()[0];typeof T=="number"&&this.list.reveal(T)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(k){this.list.setSelection(k.filter(T=>this.elementsToIndexes.has(T)).map(T=>this.elementsToIndexes.get(T)))}getCheckedElements(){return this.elements.filter(k=>k.checked).map(k=>k.item)}setCheckedElements(k){try{this._fireCheckedEvents=!1;const T=new Set;for(const R of k)T.add(R);for(const R of this.elements)R.checked=T.has(R.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(k){this.list.getHTMLElement().style.pointerEvents=k?"":"none"}focus(k){if(!this.list.length)return;switch(k===b.Next&&this.list.getFocus()[0]===this.list.length-1&&(k=b.First),k===b.Previous&&this.list.getFocus()[0]===0&&(k=b.Last),k===b.Second&&this.list.length<2&&(k=b.First),k){case b.First:this.list.focusFirst();break;case b.Second:this.list.focusNth(1);break;case b.Last:this.list.focusLast();break;case b.Next:this.list.focusNext();break;case b.Previous:this.list.focusPrevious();break;case b.NextPage:this.list.focusNextPage();break;case b.PreviousPage:this.list.focusPreviousPage();break}const T=this.list.getFocus()[0];typeof T=="number"&&this.list.reveal(T)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(k){this.list.getHTMLElement().style.maxHeight=k?`calc(${Math.floor(k/44)*44}px)`:"",this.list.layout()}filter(k){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(k=k.trim(),!k||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(R=>{R.labelHighlights=void 0,R.descriptionHighlights=void 0,R.detailHighlights=void 0,R.hidden=!1;const M=R.index&&this.inputElements[R.index-1];R.separator=M&&M.type==="separator"?M:void 0});else{let R;this.elements.forEach(M=>{const A=this.matchOnLabel?(0,n.withNullAsUndefined)((0,h.matchesFuzzyIconAware)(k,(0,h.parseLabelWithIcons)(M.saneLabel))):void 0,O=this.matchOnDescription?(0,n.withNullAsUndefined)((0,h.matchesFuzzyIconAware)(k,(0,h.parseLabelWithIcons)(M.saneDescription||""))):void 0,P=this.matchOnDetail?(0,n.withNullAsUndefined)((0,h.matchesFuzzyIconAware)(k,(0,h.parseLabelWithIcons)(M.saneDetail||""))):void 0,F=this.matchOnMeta?(0,n.withNullAsUndefined)((0,h.matchesFuzzyIconAware)(k,(0,h.parseLabelWithIcons)(M.saneMeta||""))):void 0;if(A||O||P||F?(M.labelHighlights=A,M.descriptionHighlights=O,M.detailHighlights=P,M.hidden=!1):(M.labelHighlights=void 0,M.descriptionHighlights=void 0,M.detailHighlights=void 0,M.hidden=!M.item.alwaysShow),M.separator=void 0,!this.sortByLabel){const E=M.index&&this.inputElements[M.index-1];R=E&&E.type==="separator"?E:R,R&&!M.hidden&&(M.separator=R,R=void 0)}})}const T=this.elements.filter(R=>!R.hidden);if(this.sortByLabel&&k){const R=k.toLowerCase();T.sort((M,A)=>m(M,A,R))}return this.elementsToIndexes=T.reduce((R,M,A)=>(R.set(M.item,A),R),new Map),this.list.splice(0,this.list.length,T),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(T.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const k=this.list.getFocusedElements(),T=this.allVisibleChecked(k);for(const R of k)R.checked=!T}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(k){this.container.style.display=k?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,d.dispose)(this.elementDisposables),this.disposables=(0,d.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(k){this._onButtonTriggered.fire(k)}style(k){this.list.style(k)}}Re([a.memoize],g.prototype,"onDidChangeFocus",null),Re([a.memoize],g.prototype,"onDidChangeSelection",null),e.QuickInputList=g;function m(D,k,T){const R=D.labelHighlights||[],M=k.labelHighlights||[];return R.length&&!M.length?-1:!R.length&&M.length?1:R.length===0&&M.length===0?0:(0,s.compareAnything)(D.saneLabel,k.saneLabel,T)}class w{getWidgetAriaLabel(){return(0,t.localize)(0,null)}getAriaLabel(k){return k.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(te[463],ne([0,1,7,51,86,311,212,106,323,50,19,14,23,27,6,2,17,74,217,209,460,455,462,134]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const y=_.$,g={iconClass:(0,u.registerCodicon)("quick-input-back",u.Codicon.arrowLeft).classNames,tooltip:(0,o.localize)(0,null),handle:-1};class m extends d.Disposable{constructor(T){super();this.ui=T,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=m.noPromptMessage,this._severity=n.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new h.Emitter),this.onDidHideEmitter=this._register(new h.Emitter),this.onDisposeEmitter=this._register(new h.Emitter),this.visibleDisposables=this._register(new d.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(T){this._title=T,this.update()}get description(){return this._description}set description(T){this._description=T,this.update()}get step(){return this._steps}set step(T){this._steps=T,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(T){this._totalSteps=T,this.update()}get enabled(){return this._enabled}set enabled(T){this._enabled=T,this.update()}get contextKey(){return this._contextKey}set contextKey(T){this._contextKey=T,this.update()}get busy(){return this._busy}set busy(T){this._busy=T,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(T){const R=this._ignoreFocusOut!==T&&!r.isIOS;this._ignoreFocusOut=T&&!r.isIOS,R&&this.update()}get buttons(){return this._buttons}set buttons(T){this._buttons=T,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(T){this._validationMessage=T,this.update()}get severity(){return this._severity}set severity(T){this._severity=T,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(T=>{this.buttons.indexOf(T)!==-1&&this.onDidTriggerButtonEmitter.fire(T)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(T=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:T})}update(){if(!this.visible)return;const T=this.getTitle();T&&this.ui.title.textContent!==T?this.ui.title.textContent=T:!T&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new s.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const A=this.buttons.filter(P=>P===g);this.ui.leftActionBar.push(A.map((P,F)=>{const E=new i.Action(`id-${F}`,"",P.iconClass||(0,l.getIconClass)(P.iconPath),!0,()=>ke(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(P)}));return E.tooltip=P.tooltip||"",E}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const O=this.buttons.filter(P=>P!==g);this.ui.rightActionBar.push(O.map((P,F)=>{const E=new i.Action(`id-${F}`,"",P.iconClass||(0,l.getIconClass)(P.iconPath),!0,()=>ke(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(P)}));return E.tooltip=P.tooltip||"",E}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const M=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==M&&(this._lastValidationMessage=M,_.reset(this.ui.message,...(0,p.renderLabelWithIcons)(M))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,o.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(T){if(this.ui.inputBox.showDecoration(T),T!==n.default.Ignore){const R=this.ui.inputBox.stylesForType(T);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}m.noPromptMessage=(0,o.localize)(1,null);class w extends m{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new h.Emitter),this.onWillAcceptEmitter=this._register(new h.Emitter),this.onDidAcceptEmitter=this._register(new h.Emitter),this.onDidCustomEmitter=this._register(new h.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?t.ItemActivation.NONE:t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new h.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new h.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new h.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=T=>T,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(T){this._quickNavigate=T,this.update()}get value(){return this._value}set value(T){this._value!==T&&(this._value=T||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(T){this._ariaLabel=T,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.update()}get items(){return this._items}set items(T){this._items=T,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(T){this._canSelectMany=T,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(T){this._canAcceptInBackground=T}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(T){this._matchOnDescription=T,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(T){this._matchOnDetail=T,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(T){this._matchOnLabel=T,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(T){this._sortByLabel=T,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(T){this._autoFocusOnList=T,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(T){this._itemActivation=T}get activeItems(){return this._activeItems}set activeItems(T){this._activeItems=T,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(T){this._selectedItems=T,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}set valueSelection(T){this._valueSelection=T,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(T){this._customButton=T,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(T){this._customButtonLabel=T,this.update()}get customHover(){return this._customButtonHover}set customHover(T){this._customButtonHover=T,this.update()}get ok(){return this._ok}set ok(T){this._ok=T,this.update()}get hideInput(){return!!this._hideInput}set hideInput(T){this._hideInput=T,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(f.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(T=>{if(T===this.value)return;this._value=T,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(T)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(T=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(T=>{switch(T.keyCode){case 18:this.ui.list.focus(f.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),_.EventHelper.stop(T,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(f.QuickInputListFocus.Previous):this.ui.list.focus(f.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),_.EventHelper.stop(T,!0);break;case 12:this.ui.list.focus(f.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),_.EventHelper.stop(T,!0);break;case 11:this.ui.list.focus(f.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),_.EventHelper.stop(T,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(f.QuickInputListFocus.First),_.EventHelper.stop(T,!0));break;case 13:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(f.QuickInputListFocus.Last),_.EventHelper.stop(T,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(T=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,C.equals)(T,this._activeItems,(R,M)=>R===M)||(this._activeItems=T,this.onDidChangeActiveEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:T,event:R})=>{if(this.canSelectMany){T.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,C.equals)(T,this._selectedItems,(M,A)=>M===A)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T),T.length&&this.handleAccept(R instanceof MouseEvent&&R.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(T=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,C.equals)(T,this._selectedItems,(R,M)=>R===M)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(T=>this.onDidTriggerItemButtonEmitter.fire(T))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(T){let R=!1;this.onWillAcceptEmitter.fire({veto:()=>R=!0}),R||this.onDidAcceptEmitter.fire({inBackground:T})}registerQuickNavigation(){return _.addDisposableListener(this.ui.container,_.EventType.KEY_UP,T=>{if(this.canSelectMany||!this._quickNavigate)return;const R=new N.StandardKeyboardEvent(T),M=R.keyCode;this._quickNavigate.keybindings.some(P=>{const[F,E]=P.getParts();return E?!1:F.shiftKey&&M===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(F.altKey&&M===6||F.ctrlKey&&M===5||F.metaKey&&M===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const T=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",T&&!this.description);const R={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!T,progressBar:!T,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(R),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const M=this.ariaLabel||this.placeholder||w.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==M&&(this.ui.inputBox.ariaLabel=M),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(f.QuickInputListFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(f.QuickInputListFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),R.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(f.QuickInputListFocus.First))}}w.DEFAULT_ARIA_LABEL=(0,o.localize)(3,null);class D extends d.Disposable{constructor(T){super();this.options=T,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new h.Emitter),this.onDidCustomEmitter=this._register(new h.Emitter),this.onDidTriggerButtonEmitter=this._register(new h.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new h.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new h.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=T.idPrefix,this.parentElement=T.container,this.styles=T.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const T=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(_.addDisposableListener(window,_.EventType.KEY_DOWN,T,!0)),this._register(_.addDisposableListener(window,_.EventType.KEY_UP,T,!0)),this._register(_.addDisposableListener(window,_.EventType.MOUSE_DOWN,T,!0))}getUI(){if(this.ui)return this.ui;const T=_.append(this.parentElement,y(".quick-input-widget.show-file-icons"));T.tabIndex=-1,T.style.display="none";const R=_.createStyleSheet(T),M=_.append(T,y(".quick-input-titlebar")),A=this._register(new I.ActionBar(M));A.domNode.classList.add("quick-input-left-action-bar");const O=_.append(M,y(".quick-input-title")),P=this._register(new I.ActionBar(M));P.domNode.classList.add("quick-input-right-action-bar");const F=_.append(T,y(".quick-input-description")),E=_.append(T,y(".quick-input-header")),x=_.append(E,y("input.quick-input-check-all"));x.type="checkbox",this._register(_.addStandardDisposableListener(x,_.EventType.CHANGE,Q=>{const U=x.checked;ie.setAllVisibleChecked(U)})),this._register(_.addDisposableListener(x,_.EventType.CLICK,Q=>{(Q.x||Q.y)&&se.setFocus()}));const W=_.append(E,y(".quick-input-description")),G=_.append(E,y(".quick-input-and-message")),Y=_.append(G,y(".quick-input-filter")),se=this._register(new c.QuickInputBox(Y));se.setAttribute("aria-describedby",`${this.idPrefix}message`);const re=_.append(Y,y(".quick-input-visible-count"));re.setAttribute("aria-live","polite"),re.setAttribute("aria-atomic","true");const J=new S.CountBadge(re,{countFormat:(0,o.localize)(4,null)}),le=_.append(Y,y(".quick-input-count"));le.setAttribute("aria-live","polite");const ae=new S.CountBadge(le,{countFormat:(0,o.localize)(5,null)}),V=_.append(E,y(".quick-input-action")),B=new L.Button(V);B.label=(0,o.localize)(6,null),this._register(B.onDidClick(Q=>{this.onDidAcceptEmitter.fire()}));const Z=_.append(E,y(".quick-input-action")),H=new L.Button(Z);H.label=(0,o.localize)(7,null),this._register(H.onDidClick(Q=>{this.onDidCustomEmitter.fire()}));const z=_.append(G,y(`#${this.idPrefix}message.quick-input-message`)),ie=this._register(new f.QuickInputList(T,this.idPrefix+"list",this.options));this._register(ie.onChangedAllVisibleChecked(Q=>{x.checked=Q})),this._register(ie.onChangedVisibleCount(Q=>{J.setCount(Q)})),this._register(ie.onChangedCheckedCount(Q=>{ae.setCount(Q)})),this._register(ie.onLeave(()=>{setTimeout(()=>{se.setFocus(),this.controller instanceof w&&this.controller.canSelectMany&&ie.clearFocus()},0)})),this._register(ie.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const ce=new v.ProgressBar(T);ce.getContainer().classList.add("quick-input-progress");const K=_.trackFocus(T);return this._register(K),this._register(_.addDisposableListener(T,_.EventType.FOCUS,Q=>{this.previousFocusElement=Q.relatedTarget instanceof HTMLElement?Q.relatedTarget:void 0},!0)),this._register(K.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(t.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(_.addDisposableListener(T,_.EventType.FOCUS,Q=>{se.setFocus()})),this._register(_.addDisposableListener(T,_.EventType.KEY_DOWN,Q=>{const U=new N.StandardKeyboardEvent(Q);switch(U.keyCode){case 3:_.EventHelper.stop(Q,!0),this.onDidAcceptEmitter.fire();break;case 9:_.EventHelper.stop(Q,!0),this.hide(t.QuickInputHideReason.Gesture);break;case 2:if(!U.altKey&&!U.ctrlKey&&!U.metaKey){const ee=[".action-label.codicon"];T.classList.contains("show-checkboxes")?ee.push("input"):ee.push("input[type=text]"),this.getUI().list.isDisplayed()&&ee.push(".monaco-list");const de=T.querySelectorAll(ee.join(", "));U.shiftKey&&U.target===de[0]?(_.EventHelper.stop(Q,!0),de[de.length-1].focus()):!U.shiftKey&&U.target===de[de.length-1]&&(_.EventHelper.stop(Q,!0),de[0].focus())}break}})),this.ui={container:T,styleSheet:R,leftActionBar:A,titleBar:M,title:O,description1:F,description2:W,rightActionBar:P,checkAll:x,filterContainer:Y,inputBox:se,visibleCountContainer:re,visibleCount:J,countContainer:le,count:ae,okContainer:V,ok:B,message:z,customButtonContainer:Z,customButton:H,list:ie,progressBar:ce,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Q=>this.show(Q),hide:()=>this.hide(),setVisibilities:Q=>this.setVisibilities(Q),setComboboxAccessibility:Q=>this.setComboboxAccessibility(Q),setEnabled:Q=>this.setEnabled(Q),setContextKey:Q=>this.options.setContextKey(Q)},this.updateStyles(),this.ui}pick(T,R={},M=a.CancellationToken.None){return new Promise((A,O)=>{let P=W=>{P=A,R.onKeyMods&&R.onKeyMods(F.keyMods),A(W)};if(M.isCancellationRequested){P(void 0);return}const F=this.createQuickPick();let E;const x=[F,F.onDidAccept(()=>{if(F.canSelectMany)P(F.selectedItems.slice()),F.hide();else{const W=F.activeItems[0];W&&(P(W),F.hide())}}),F.onDidChangeActive(W=>{const G=W[0];G&&R.onDidFocus&&R.onDidFocus(G)}),F.onDidChangeSelection(W=>{if(!F.canSelectMany){const G=W[0];G&&(P(G),F.hide())}}),F.onDidTriggerItemButton(W=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},W),{removeItem:()=>{const G=F.items.indexOf(W.item);if(G!==-1){const Y=F.items.slice(),se=Y.splice(G,1),re=F.activeItems.filter(J=>J!==se[0]);F.items=Y,re&&(F.activeItems=re)}}}))),F.onDidChangeValue(W=>{E&&!W&&(F.activeItems.length!==1||F.activeItems[0]!==E)&&(F.activeItems=[E])}),M.onCancellationRequested(()=>{F.hide()}),F.onDidHide(()=>{(0,d.dispose)(x),P(void 0)})];F.title=R.title,F.canSelectMany=!!R.canPickMany,F.placeholder=R.placeHolder,F.ignoreFocusOut=!!R.ignoreFocusLost,F.matchOnDescription=!!R.matchOnDescription,F.matchOnDetail=!!R.matchOnDetail,F.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,F.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,F.quickNavigate=R.quickNavigate,F.contextKey=R.contextKey,F.busy=!0,Promise.all([T,R.activeItem]).then(([W,G])=>{E=G,F.busy=!1,F.items=W,F.canSelectMany&&(F.selectedItems=W.filter(Y=>Y.type!=="separator"&&Y.picked)),E&&(F.activeItems=[E])}),F.show(),Promise.resolve(T).then(void 0,W=>{O(W),F.hide()})})}createQuickPick(){const T=this.getUI();return new w(T)}show(T){const R=this.getUI();this.onShowEmitter.fire();const M=this.controller;this.controller=T,M&&M.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(n.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),_.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const A=this.options.backKeybindingLabel();g.tooltip=A?(0,o.localize)(8,null,A):(0,o.localize)(9,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(T){const R=this.getUI();R.title.style.display=T.title?"":"none",R.description1.style.display=T.description&&(T.inputBox||T.checkAll)?"":"none",R.description2.style.display=T.description&&!(T.inputBox||T.checkAll)?"":"none",R.checkAll.style.display=T.checkAll?"":"none",R.filterContainer.style.display=T.inputBox?"":"none",R.visibleCountContainer.style.display=T.visibleCount?"":"none",R.countContainer.style.display=T.count?"":"none",R.okContainer.style.display=T.ok?"":"none",R.customButtonContainer.style.display=T.customButton?"":"none",R.message.style.display=T.message?"":"none",R.progressBar.getContainer().style.display=T.progressBar?"":"none",R.list.display(!!T.list),R.container.classList[T.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(T){if(T!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=T,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(T){if(T!==this.enabled){this.enabled=T;for(const R of this.getUI().leftActionBar.viewItems)R.getAction().enabled=T;for(const R of this.getUI().rightActionBar.viewItems)R.getAction().enabled=T;this.getUI().checkAll.disabled=!T,this.getUI().ok.enabled=T,this.getUI().list.enabled=T}}hide(T){var R;const M=this.controller;if(M){const A=!((R=this.ui)===null||R===void 0?void 0:R.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",A||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),M.didHide(T)}}layout(T,R){this.dimension=T,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const T=this.ui.container.style,R=Math.min(this.dimension.width*.62,D.MAX_WIDTH);T.width=R+"px",T.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(T){this.styles=T,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:T,quickInputBackground:R,quickInputForeground:M,contrastBorder:A,widgetShadow:O}=this.styles.widget;this.ui.titleBar.style.backgroundColor=T?T.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=M?M.toString():"",this.ui.container.style.border=A?`1px solid ${A}`:"",this.ui.container.style.boxShadow=O?`0 0 8px 2px ${O}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const P=[];this.styles.list.pickerGroupBorder&&P.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&P.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(P.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&P.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&P.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&P.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&P.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&P.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),P.push("}"));const F=P.join(`
`);F!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=F)}}}e.QuickInputController=D,D.MAX_WIDTH=600}),define(te[464],ne([4,5]),function($,e){return $.create("vs/editor/browser/controller/coreCommands",e)}),define(te[465],ne([4,5]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(te[466],ne([4,5]),function($,e){return $.create("vs/editor/browser/core/keybindingCancellation",e)}),define(te[467],ne([4,5]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(te[468],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(te[469],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(te[470],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(te[471],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(te[472],ne([0,1,471,7,50,2,3,27]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends L.Disposable{constructor(C,s,a,u,h,d){super();this._viewZoneId=C,this._marginDomNode=s,this.editor=a,this.diff=u,this._contextMenuService=h,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=a.getOption(58),n=a.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const l=[];l.push(new I.Action("diff.clipboard.copyDeletedContent",u.originalEndLineNumber>u.modifiedStartLineNumber?_.localize(0,null):_.localize(1,null),void 0,!0,()=>ke(this,void 0,void 0,function*(){const y=new S.Range(u.originalStartLineNumber,1,u.originalEndLineNumber+1,1),b=u.originalModel.getValueInRange(y);yield this._clipboardService.writeText(b)})));let t=0,o;u.originalEndLineNumber>u.modifiedStartLineNumber&&(o=new I.Action("diff.clipboard.copyDeletedLineContent",_.localize(2,null,u.originalStartLineNumber),void 0,!0,()=>ke(this,void 0,void 0,function*(){const y=u.originalModel.getLineContent(u.originalStartLineNumber+t);yield this._clipboardService.writeText(y)})),l.push(o)),a.getOption(80)||l.push(new I.Action("diff.inline.revertChange",_.localize(3,null),void 0,!0,()=>ke(this,void 0,void 0,function*(){const y=new S.Range(u.originalStartLineNumber,1,u.originalEndLineNumber,u.originalModel.getLineMaxColumn(u.originalEndLineNumber)),b=u.originalModel.getValueInRange(y);if(u.modifiedEndLineNumber===0){const g=a.getModel().getLineMaxColumn(u.modifiedStartLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(u.modifiedStartLineNumber,g,u.modifiedStartLineNumber,g),text:n+b}])}else{const g=a.getModel().getLineMaxColumn(u.modifiedEndLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,g),text:b}])}})));const f=(y,b)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:y,y:b}),getActions:()=>(o&&(o.label=_.localize(4,null,u.originalStartLineNumber+t)),l),autoSelectFirstItem:!0})};this._register(N.addStandardDisposableListener(this._diffActions,"mousedown",y=>{const{top:b,height:g}=N.getDomNodePagePosition(this._diffActions);let m=Math.floor(r/3);y.preventDefault(),f(y.posx,b+g+m)})),this._register(a.onMouseMove(y=>{y.target.type===8||y.target.type===5?y.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,y.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(a.onMouseDown(y=>{!y.event.rightButton||(y.target.type===8||y.target.type===5)&&y.target.detail.viewZoneId===this._viewZoneId&&(y.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,y.event.browserEvent.y,r),f(y.event.posx,y.event.posy+r))}))}get visibility(){return this._visibility}set visibility(C){this._visibility!==C&&(this._visibility=C,C?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(C,s,a){const{top:u}=N.getDomNodePagePosition(C),h=s-u,d=Math.floor(h/a),r=d*a;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let n=0;for(let l=0;l<this.diff.viewLineCounts.length;l++)if(n+=this.diff.viewLineCounts[l],d<n)return l}return d}}e.InlineDiffMargin=v}),define(te[473],ne([4,5]),function($,e){return $.create("vs/editor/common/config/commonEditorConfig",e)}),define(te[474],ne([4,5]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(te[37],ne([0,1,474,17,138]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class L{constructor(X){this._values=X}hasChanged(X){return this._values[X]}}e.ConfigurationChangedEvent=L;class S{constructor(){this._values=[]}_read(X){return this._values[X]}get(X){return this._values[X]}_write(X,q){this._values[X]=q}}e.ValidatedEditorOptions=S;class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=p;class v{constructor(X,q,oe,he){this.id=X,this.name=q,this.defaultValue=oe,this.schema=he}compute(X,q,oe){return oe}}class i{constructor(X,q=null){this.schema=void 0,this.id=X,this.name="_never_",this.defaultValue=void 0,this.deps=q}validate(X){return this.defaultValue}}class C{constructor(X,q,oe,he){this.id=X,this.name=q,this.defaultValue=oe,this.schema=he}validate(X){return typeof X=="undefined"?this.defaultValue:X}compute(X,q,oe){return oe}}function s(ue,X){return typeof ue=="undefined"?X:ue==="false"?!1:Boolean(ue)}e.boolean=s;class a extends C{constructor(X,q,oe,he=void 0){typeof he!="undefined"&&(he.type="boolean",he.default=oe),super(X,q,oe,he)}validate(X){return s(X,this.defaultValue)}}class u extends C{constructor(X,q,oe,he,ge,pe=void 0){typeof pe!="undefined"&&(pe.type="integer",pe.default=oe,pe.minimum=he,pe.maximum=ge),super(X,q,oe,pe),this.minimum=he,this.maximum=ge}static clampedInt(X,q,oe,he){if(typeof X=="undefined")return q;let ge=parseInt(X,10);return isNaN(ge)?q:(ge=Math.max(oe,ge),ge=Math.min(he,ge),ge|0)}validate(X){return u.clampedInt(X,this.defaultValue,this.minimum,this.maximum)}}class h extends C{constructor(X,q,oe,he,ge){typeof ge!="undefined"&&(ge.type="number",ge.default=oe),super(X,q,oe,ge),this.validationFn=he}static clamp(X,q,oe){return X<q?q:X>oe?oe:X}static float(X,q){if(typeof X=="number")return X;if(typeof X=="undefined")return q;const oe=parseFloat(X);return isNaN(oe)?q:oe}validate(X){return this.validationFn(h.float(X,this.defaultValue))}}class d extends C{static string(X,q){return typeof X!="string"?q:X}constructor(X,q,oe,he=void 0){typeof he!="undefined"&&(he.type="string",he.default=oe),super(X,q,oe,he)}validate(X){return d.string(X,this.defaultValue)}}function r(ue,X,q){return typeof ue!="string"||q.indexOf(ue)===-1?X:ue}e.stringSet=r;class n extends C{constructor(X,q,oe,he,ge=void 0){typeof ge!="undefined"&&(ge.type="string",ge.enum=he,ge.default=oe),super(X,q,oe,ge),this._allowedValues=he}validate(X){return r(X,this.defaultValue,this._allowedValues)}}class l extends v{constructor(X,q,oe,he,ge,pe,ve=void 0){typeof ve!="undefined"&&(ve.type="string",ve.enum=ge,ve.default=he),super(X,q,oe,ve),this._allowedValues=ge,this._convert=pe}validate(X){return typeof X!="string"?this.defaultValue:this._allowedValues.indexOf(X)===-1?this.defaultValue:this._convert(X)}}function t(ue){switch(ue){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class o extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.localize(0,null),_.localize(1,null),_.localize(2,null)],default:"auto",description:_.localize(3,null)})}validate(X){switch(X){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(X,q,oe){return oe===0?X.accessibilitySupport:oe}}class c extends v{constructor(){const X={insertSpace:!0,ignoreEmptyLines:!0};super(18,"comments",X,{"editor.comments.insertSpace":{type:"boolean",default:X.insertSpace,description:_.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:X.ignoreEmptyLines,description:_.localize(5,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{insertSpace:s(q.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:s(q.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function f(ue){switch(ue){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var y;(function(ue){ue[ue.Line=1]="Line",ue[ue.Block=2]="Block",ue[ue.Underline=3]="Underline",ue[ue.LineThin=4]="LineThin",ue[ue.BlockOutline=5]="BlockOutline",ue[ue.UnderlineThin=6]="UnderlineThin"})(y=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function b(ue){switch(ue){case"line":return y.Line;case"block":return y.Block;case"underline":return y.Underline;case"line-thin":return y.LineThin;case"block-outline":return y.BlockOutline;case"underline-thin":return y.UnderlineThin}}class g extends i{constructor(){super(127,[65,32])}compute(X,q,oe){const he=["monaco-editor"];return q.get(32)&&he.push(q.get(32)),X.extraEditorClassName&&he.push(X.extraEditorClassName),q.get(65)==="default"?he.push("mouse-default"):q.get(65)==="copy"&&he.push("mouse-copy"),q.get(100)&&he.push("showUnused"),q.get(125)&&he.push("showDeprecated"),he.join(" ")}}class m extends a{constructor(){super(31,"emptySelectionClipboard",!0,{description:_.localize(6,null)})}compute(X,q,oe){return oe&&X.emptySelectionClipboard}}class w extends v{constructor(){const X={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(34,"find",X,{"editor.find.cursorMoveOnType":{type:"boolean",default:X.cursorMoveOnType,description:_.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:X.seedSearchStringFromSelection,enumDescriptions:[_.localize(8,null),_.localize(9,null),_.localize(10,null)],description:_.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:X.autoFindInSelection,enumDescriptions:[_.localize(12,null),_.localize(13,null),_.localize(14,null)],description:_.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:X.globalFindClipboard,description:_.localize(16,null),included:N.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:X.addExtraSpaceOnTop,description:_.localize(17,null)},"editor.find.loop":{type:"boolean",default:X.loop,description:_.localize(18,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{cursorMoveOnType:s(q.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof X.seedSearchStringFromSelection=="boolean"?X.seedSearchStringFromSelection?"always":"never":r(q.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof X.autoFindInSelection=="boolean"?X.autoFindInSelection?"always":"never":r(q.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:s(q.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:s(q.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:s(q.loop,this.defaultValue.loop)}}}class D extends v{constructor(){super(43,"fontLigatures",D.OFF,{anyOf:[{type:"boolean",description:_.localize(19,null)},{type:"string",description:_.localize(20,null)}],description:_.localize(21,null),default:!1})}validate(X){return typeof X=="undefined"?this.defaultValue:typeof X=="string"?X==="false"?D.OFF:X==="true"?D.ON:X:Boolean(X)?D.ON:D.OFF}}e.EditorFontLigatures=D,D.OFF='"liga" off, "calt" off',D.ON='"liga" on, "calt" on';class k extends i{constructor(){super(42)}compute(X,q,oe){return X.fontInfo}}class T extends C{constructor(){super(44,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:_.localize(22,null)})}validate(X){let q=h.float(X,this.defaultValue);return q===0?e.EDITOR_FONT_DEFAULTS.fontSize:h.clamp(q,6,100)}compute(X,q,oe){return X.fontInfo.fontSize}}class R extends v{constructor(){super(45,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:R.MINIMUM_VALUE,maximum:R.MAXIMUM_VALUE,errorMessage:_.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:R.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:_.localize(24,null)})}validate(X){return X==="normal"||X==="bold"?X:String(u.clampedInt(X,e.EDITOR_FONT_DEFAULTS.fontWeight,R.MINIMUM_VALUE,R.MAXIMUM_VALUE))}}R.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],R.MINIMUM_VALUE=1,R.MAXIMUM_VALUE=1e3;class M extends v{constructor(){const X={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},q={type:"string",enum:["peek","gotoAndPeek","goto"],default:X.multiple,enumDescriptions:[_.localize(25,null),_.localize(26,null),_.localize(27,null)]},oe=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(49,"gotoLocation",X,{"editor.gotoLocation.multiple":{deprecationMessage:_.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:_.localize(29,null)},q),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:_.localize(30,null)},q),"editor.gotoLocation.multipleDeclarations":Object.assign({description:_.localize(31,null)},q),"editor.gotoLocation.multipleImplementations":Object.assign({description:_.localize(32,null)},q),"editor.gotoLocation.multipleReferences":Object.assign({description:_.localize(33,null)},q),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:X.alternativeDefinitionCommand,enum:oe,description:_.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:X.alternativeTypeDefinitionCommand,enum:oe,description:_.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:X.alternativeDeclarationCommand,enum:oe,description:_.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:X.alternativeImplementationCommand,enum:oe,description:_.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:X.alternativeReferenceCommand,enum:oe,description:_.localize(38,null)}})}validate(X){var q,oe,he,ge,pe;if(!X||typeof X!="object")return this.defaultValue;const ve=X;return{multiple:r(ve.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(q=ve.multipleDefinitions)!==null&&q!==void 0?q:r(ve.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(oe=ve.multipleTypeDefinitions)!==null&&oe!==void 0?oe:r(ve.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(he=ve.multipleDeclarations)!==null&&he!==void 0?he:r(ve.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ge=ve.multipleImplementations)!==null&&ge!==void 0?ge:r(ve.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(pe=ve.multipleReferences)!==null&&pe!==void 0?pe:r(ve.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(ve.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(ve.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(ve.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(ve.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(ve.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class A extends v{constructor(){const X={enabled:!0,delay:300,sticky:!0};super(52,"hover",X,{"editor.hover.enabled":{type:"boolean",default:X.enabled,description:_.localize(39,null)},"editor.hover.delay":{type:"number",default:X.delay,description:_.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:X.sticky,description:_.localize(41,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{enabled:s(q.enabled,this.defaultValue.enabled),delay:u.clampedInt(q.delay,this.defaultValue.delay,0,1e4),sticky:s(q.sticky,this.defaultValue.sticky)}}}class O extends i{constructor(){super(130,[48,57,36,64,92,59,60,94,117,120,121,122,2])}compute(X,q,oe){return O.computeLayout(q,{memory:X.memory,outerWidth:X.outerWidth,outerHeight:X.outerHeight,isDominatedByLongLines:X.isDominatedByLongLines,lineHeight:X.fontInfo.lineHeight,viewLineCount:X.viewLineCount,lineNumbersDigitCount:X.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:X.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:X.fontInfo.maxDigitWidth,pixelRatio:X.pixelRatio})}static computeContainedMinimapLineCount(X){const q=X.height/X.lineHeight,oe=X.scrollBeyondLastLine?q-1:0,he=(X.viewLineCount+oe)/(X.pixelRatio*X.height),ge=Math.floor(X.viewLineCount/he);return{typicalViewportLineCount:q,extraLinesBeyondLastLine:oe,desiredRatio:he,minimapLineCount:ge}}static _computeMinimapLayout(X,q){const oe=X.outerWidth,he=X.outerHeight,ge=X.pixelRatio;if(!X.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ge*he),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:he};const pe=q.stableMinimapLayoutInput,ve=pe&&X.outerHeight===pe.outerHeight&&X.lineHeight===pe.lineHeight&&X.typicalHalfwidthCharacterWidth===pe.typicalHalfwidthCharacterWidth&&X.pixelRatio===pe.pixelRatio&&X.scrollBeyondLastLine===pe.scrollBeyondLastLine&&X.minimap.enabled===pe.minimap.enabled&&X.minimap.side===pe.minimap.side&&X.minimap.size===pe.minimap.size&&X.minimap.showSlider===pe.minimap.showSlider&&X.minimap.renderCharacters===pe.minimap.renderCharacters&&X.minimap.maxColumn===pe.minimap.maxColumn&&X.minimap.scale===pe.minimap.scale&&X.verticalScrollbarWidth===pe.verticalScrollbarWidth&&X.isViewportWrapping===pe.isViewportWrapping,Le=X.lineHeight,Te=X.typicalHalfwidthCharacterWidth,Ne=X.scrollBeyondLastLine,Ae=X.minimap.renderCharacters;let Oe=ge>=2?Math.round(X.minimap.scale*2):X.minimap.scale;const We=X.minimap.maxColumn,Ve=X.minimap.size,Ke=X.minimap.side,Ye=X.verticalScrollbarWidth,be=X.viewLineCount,_e=X.remainingWidth,Me=X.isViewportWrapping,ze=Ae?2:3;let Fe=Math.floor(ge*he);const qe=Fe/ge;let De=!1,Ee=!1,ye=ze*Oe,fe=Oe/ge,Ce=1;if(Ve==="fill"||Ve==="fit"){const{typicalViewportLineCount:Ue,extraLinesBeyondLastLine:$e,desiredRatio:Ze,minimapLineCount:je}=O.computeContainedMinimapLineCount({viewLineCount:be,scrollBeyondLastLine:Ne,height:he,lineHeight:Le,pixelRatio:ge});if(be/je>1)De=!0,Ee=!0,Oe=1,ye=1,fe=Oe/ge;else{let Xe=!1,Ge=Oe+1;if(Ve==="fit"){const Qe=Math.ceil((be+$e)*ye);Me&&ve&&_e<=q.stableFitRemainingWidth?(Xe=!0,Ge=q.stableFitMaxMinimapScale):Xe=Qe>Fe}if(Ve==="fill"||Xe){De=!0;const Qe=Oe;ye=Math.min(Le*ge,Math.max(1,Math.floor(1/Ze))),Me&&ve&&_e<=q.stableFitRemainingWidth&&(Ge=q.stableFitMaxMinimapScale),Oe=Math.min(Ge,Math.max(1,Math.floor(ye/ze))),Oe>Qe&&(Ce=Math.min(2,Oe/Qe)),fe=Oe/ge/Ce,Fe=Math.ceil(Math.max(Ue,be+$e)*ye),Me?(q.stableMinimapLayoutInput=X,q.stableFitRemainingWidth=_e,q.stableFitMaxMinimapScale=Oe):(q.stableMinimapLayoutInput=null,q.stableFitRemainingWidth=0)}}}const we=Math.floor(We*fe),Se=Math.min(we,Math.max(0,Math.floor((_e-Ye-2)*fe/(Te+fe)))+e.MINIMAP_GUTTER_WIDTH);let Ie=Math.floor(ge*Se);const Be=Ie/ge;Ie=Math.floor(Ie*Ce);const Pe=Ae?1:2,xe=Ke==="left"?0:oe-Se-Ye;return{renderMinimap:Pe,minimapLeft:xe,minimapWidth:Se,minimapHeightIsEditorHeight:De,minimapIsSampling:Ee,minimapScale:Oe,minimapLineHeight:ye,minimapCanvasInnerWidth:Ie,minimapCanvasInnerHeight:Fe,minimapCanvasOuterWidth:Be,minimapCanvasOuterHeight:qe}}static computeLayout(X,q){const oe=q.outerWidth|0,he=q.outerHeight|0,ge=q.lineHeight|0,pe=q.lineNumbersDigitCount|0,ve=q.typicalHalfwidthCharacterWidth,Le=q.maxDigitWidth,Te=q.pixelRatio,Ne=q.viewLineCount,Ae=X.get(122),Oe=Ae==="inherit"?X.get(121):Ae,We=Oe==="inherit"?X.get(117):Oe,Ve=X.get(120),Ke=X.get(2),Ye=q.isDominatedByLongLines,be=X.get(48),_e=X.get(59).renderType!==0,Me=X.get(60),ze=X.get(94),Fe=X.get(64),qe=X.get(92),De=qe.verticalScrollbarSize,Ee=qe.verticalHasArrows,ye=qe.arrowSize,fe=qe.horizontalScrollbarSize,Ce=X.get(57),we=X.get(36);let Se;if(typeof Ce=="string"&&/^\d+(\.\d+)?ch$/.test(Ce)){const nt=parseFloat(Ce.substr(0,Ce.length-2));Se=u.clampedInt(nt*ve,0,0,1e3)}else Se=u.clampedInt(Ce,0,0,1e3);we&&(Se+=16);let Ie=0;if(_e){const nt=Math.max(pe,Me);Ie=Math.round(nt*Le)}let Be=0;be&&(Be=ge);let Pe=0,xe=Pe+Be,Ue=xe+Ie,$e=Ue+Se;const Ze=oe-Be-Ie-Se;let je=!1,He=!1,Xe=-1;Ke!==2&&(Oe==="inherit"&&Ye?(je=!0,He=!0):We==="on"||We==="bounded"?He=!0:We==="wordWrapColumn"&&(Xe=Ve));const Ge=O._computeMinimapLayout({outerWidth:oe,outerHeight:he,lineHeight:ge,typicalHalfwidthCharacterWidth:ve,pixelRatio:Te,scrollBeyondLastLine:ze,minimap:Fe,verticalScrollbarWidth:De,viewLineCount:Ne,remainingWidth:Ze,isViewportWrapping:He},q.memory||new p);Ge.renderMinimap!==0&&Ge.minimapLeft===0&&(Pe+=Ge.minimapWidth,xe+=Ge.minimapWidth,Ue+=Ge.minimapWidth,$e+=Ge.minimapWidth);const Qe=Ze-Ge.minimapWidth,it=Math.max(1,Math.floor((Qe-De-2)/ve)),Je=Ee?ye:0;return He&&(Xe=Math.max(1,it),We==="bounded"&&(Xe=Math.min(Xe,Ve))),{width:oe,height:he,glyphMarginLeft:Pe,glyphMarginWidth:Be,lineNumbersLeft:xe,lineNumbersWidth:Ie,decorationsLeft:Ue,decorationsWidth:Se,contentLeft:$e,contentWidth:Qe,minimap:Ge,viewportColumn:it,isWordWrapMinified:je,isViewportWrapping:He,wrappingColumn:Xe,verticalScrollbarWidth:De,horizontalScrollbarHeight:fe,overviewRuler:{top:Je,width:De,height:he-2*Je,right:0}}}}e.EditorLayoutInfoComputer=O;class P extends v{constructor(){const X={enabled:!0};super(56,"lightbulb",X,{"editor.lightbulb.enabled":{type:"boolean",default:X.enabled,description:_.localize(42,null)}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{enabled:s(X.enabled,this.defaultValue.enabled)}}}class F extends v{constructor(){const X={enabled:!0,fontSize:0,fontFamily:""};super(126,"inlayHints",X,{"editor.inlayHints.enabled":{type:"boolean",default:X.enabled,description:_.localize(43,null)},"editor.inlayHints.fontSize":{type:"number",default:X.fontSize,markdownDescription:_.localize(44,null)},"editor.inlayHints.fontFamily":{type:"string",default:X.fontFamily,description:_.localize(45,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{enabled:s(q.enabled,this.defaultValue.enabled),fontSize:u.clampedInt(q.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(q.fontFamily,this.defaultValue.fontFamily)}}}class E extends h{constructor(){super(58,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,X=>h.clamp(X,0,150),{markdownDescription:_.localize(46,null)})}compute(X,q,oe){return X.fontInfo.lineHeight}}class x extends v{constructor(){const X={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",X,{"editor.minimap.enabled":{type:"boolean",default:X.enabled,description:_.localize(47,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.localize(48,null),_.localize(49,null),_.localize(50,null)],default:X.size,description:_.localize(51,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:X.side,description:_.localize(52,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:X.showSlider,description:_.localize(53,null)},"editor.minimap.scale":{type:"number",default:X.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.localize(54,null)},"editor.minimap.renderCharacters":{type:"boolean",default:X.renderCharacters,description:_.localize(55,null)},"editor.minimap.maxColumn":{type:"number",default:X.maxColumn,description:_.localize(56,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{enabled:s(q.enabled,this.defaultValue.enabled),size:r(q.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(q.side,this.defaultValue.side,["right","left"]),showSlider:r(q.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:s(q.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(q.scale,1,1,3),maxColumn:u.clampedInt(q.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function W(ue){return ue==="ctrlCmd"?N.isMacintosh?"metaKey":"ctrlKey":"altKey"}class G extends v{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(57,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(58,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{top:u.clampedInt(q.top,0,0,1e3),bottom:u.clampedInt(q.bottom,0,0,1e3)}}}class Y extends v{constructor(){const X={enabled:!0,cycle:!1};super(75,"parameterHints",X,{"editor.parameterHints.enabled":{type:"boolean",default:X.enabled,description:_.localize(59,null)},"editor.parameterHints.cycle":{type:"boolean",default:X.cycle,description:_.localize(60,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{enabled:s(q.enabled,this.defaultValue.enabled),cycle:s(q.cycle,this.defaultValue.cycle)}}}class se extends i{constructor(){super(128)}compute(X,q,oe){return X.pixelRatio}}class re extends v{constructor(){const X={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",X,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:X.strings,description:_.localize(61,null)},comments:{type:"boolean",default:X.comments,description:_.localize(62,null)},other:{type:"boolean",default:X.other,description:_.localize(63,null)}}}],default:X,description:_.localize(64,null)});this.defaultValue=X}validate(X){if(typeof X=="boolean")return X;if(X&&typeof X=="object"){const q=X,oe={other:s(q.other,this.defaultValue.other),comments:s(q.comments,this.defaultValue.comments),strings:s(q.strings,this.defaultValue.strings)};return oe.other&&oe.comments&&oe.strings?!0:!oe.other&&!oe.comments&&!oe.strings?!1:oe}return this.defaultValue}}class J extends v{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.localize(65,null),_.localize(66,null),_.localize(67,null),_.localize(68,null)],default:"on",description:_.localize(69,null)})}validate(X){let q=this.defaultValue.renderType,oe=this.defaultValue.renderFn;return typeof X!="undefined"&&(typeof X=="function"?(q=4,oe=X):X==="interval"?q=3:X==="relative"?q=2:X==="on"?q=1:q=0),{renderType:q,renderFn:oe}}}function le(ue){const X=ue.get(87);return X==="editable"?ue.get(80):X!=="on"}e.filterValidationDecorations=le;class ae extends v{constructor(){const X=[],q={type:"number",description:_.localize(70,null)};super(91,"rulers",X,{type:"array",items:{anyOf:[q,{type:["object"],properties:{column:q,color:{type:"string",description:_.localize(71,null),format:"color-hex"}}}]},default:X,description:_.localize(72,null)})}validate(X){if(Array.isArray(X)){let q=[];for(let oe of X)if(typeof oe=="number")q.push({column:u.clampedInt(oe,0,0,1e4),color:null});else if(oe&&typeof oe=="object"){const he=oe;q.push({column:u.clampedInt(he.column,0,0,1e4),color:he.color})}return q.sort((oe,he)=>oe.column-he.column),q}return this.defaultValue}}function V(ue,X){if(typeof ue!="string")return X;switch(ue){case"hidden":return 2;case"visible":return 3;default:return 1}}class B extends v{constructor(){const X={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",X,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.localize(73,null),_.localize(74,null),_.localize(75,null)],default:"auto",description:_.localize(76,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.localize(77,null),_.localize(78,null),_.localize(79,null)],default:"auto",description:_.localize(80,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:X.verticalScrollbarSize,description:_.localize(81,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:X.horizontalScrollbarSize,description:_.localize(82,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:X.scrollByPage,description:_.localize(83,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X,oe=u.clampedInt(q.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),he=u.clampedInt(q.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(q.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:V(q.vertical,this.defaultValue.vertical),horizontal:V(q.horizontal,this.defaultValue.horizontal),useShadows:s(q.useShadows,this.defaultValue.useShadows),verticalHasArrows:s(q.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:s(q.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:s(q.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:s(q.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:oe,horizontalSliderSize:u.clampedInt(q.horizontalSliderSize,oe,0,1e3),verticalScrollbarSize:he,verticalSliderSize:u.clampedInt(q.verticalSliderSize,he,0,1e3),scrollByPage:s(q.scrollByPage,this.defaultValue.scrollByPage)}}}class Z extends v{constructor(){const X={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",X,{"editor.inlineSuggest.enabled":{type:"boolean",default:X.enabled,description:_.localize(84,null)},"editor.inlineSuggest.mode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[_.localize(85,null),_.localize(86,null),_.localize(87,null)],default:X.mode,description:_.localize(88,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{enabled:s(q.enabled,this.defaultValue.enabled),mode:r(q.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class H extends v{constructor(){const X={enabled:e.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",X,{"editor.bracketPairColorization.enabled":{type:"boolean",default:X.enabled,description:_.localize(89,null)}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{enabled:s(X.enabled,this.defaultValue.enabled)}}}class z extends v{constructor(){const X={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",X,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.localize(90,null),_.localize(91,null)],default:X.insertMode,description:_.localize(92,null)},"editor.suggest.filterGraceful":{type:"boolean",default:X.filterGraceful,description:_.localize(93,null)},"editor.suggest.localityBonus":{type:"boolean",default:X.localityBonus,description:_.localize(94,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:X.shareSuggestSelections,markdownDescription:_.localize(95,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:X.snippetsPreventQuickSuggestions,description:_.localize(96,null)},"editor.suggest.showIcons":{type:"boolean",default:X.showIcons,description:_.localize(97,null)},"editor.suggest.showStatusBar":{type:"boolean",default:X.showStatusBar,description:_.localize(98,null)},"editor.suggest.preview":{type:"boolean",default:X.preview,description:_.localize(99,null)},"editor.suggest.previewMode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[_.localize(100,null),_.localize(101,null),_.localize(102,null)],default:X.previewMode,description:_.localize(103,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:X.showInlineDetails,description:_.localize(104,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.localize(105,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.localize(106,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.localize(107,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.localize(108,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.localize(109,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:_.localize(110,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.localize(111,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.localize(112,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.localize(113,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.localize(114,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.localize(115,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.localize(116,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.localize(117,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.localize(118,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.localize(119,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.localize(120,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.localize(121,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.localize(122,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.localize(123,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.localize(124,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.localize(125,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.localize(126,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.localize(127,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.localize(128,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.localize(129,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.localize(130,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.localize(131,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.localize(132,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.localize(133,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.localize(134,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.localize(135,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const q=X;return{insertMode:r(q.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:s(q.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:s(q.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:s(q.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:s(q.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:s(q.showIcons,this.defaultValue.showIcons),showStatusBar:s(q.showStatusBar,this.defaultValue.showStatusBar),preview:s(q.preview,this.defaultValue.preview),previewMode:r(q.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:s(q.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:s(q.showMethods,this.defaultValue.showMethods),showFunctions:s(q.showFunctions,this.defaultValue.showFunctions),showConstructors:s(q.showConstructors,this.defaultValue.showConstructors),showDeprecated:s(q.showDeprecated,this.defaultValue.showDeprecated),showFields:s(q.showFields,this.defaultValue.showFields),showVariables:s(q.showVariables,this.defaultValue.showVariables),showClasses:s(q.showClasses,this.defaultValue.showClasses),showStructs:s(q.showStructs,this.defaultValue.showStructs),showInterfaces:s(q.showInterfaces,this.defaultValue.showInterfaces),showModules:s(q.showModules,this.defaultValue.showModules),showProperties:s(q.showProperties,this.defaultValue.showProperties),showEvents:s(q.showEvents,this.defaultValue.showEvents),showOperators:s(q.showOperators,this.defaultValue.showOperators),showUnits:s(q.showUnits,this.defaultValue.showUnits),showValues:s(q.showValues,this.defaultValue.showValues),showConstants:s(q.showConstants,this.defaultValue.showConstants),showEnums:s(q.showEnums,this.defaultValue.showEnums),showEnumMembers:s(q.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:s(q.showKeywords,this.defaultValue.showKeywords),showWords:s(q.showWords,this.defaultValue.showWords),showColors:s(q.showColors,this.defaultValue.showColors),showFiles:s(q.showFiles,this.defaultValue.showFiles),showReferences:s(q.showReferences,this.defaultValue.showReferences),showFolders:s(q.showFolders,this.defaultValue.showFolders),showTypeParameters:s(q.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:s(q.showSnippets,this.defaultValue.showSnippets),showUsers:s(q.showUsers,this.defaultValue.showUsers),showIssues:s(q.showIssues,this.defaultValue.showIssues)}}}class ie extends v{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.localize(136,null),default:!0,type:"boolean"}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:s(X.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ce extends i{constructor(){super(129,[80])}compute(X,q,oe){return q.get(80)?!0:X.tabFocusMode}}function K(ue){switch(ue){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Q extends i{constructor(){super(131,[130])}compute(X,q,oe){const he=q.get(130);return{isDominatedByLongLines:X.isDominatedByLongLines,isWordWrapMinified:he.isWordWrapMinified,isViewportWrapping:he.isViewportWrapping,wrappingColumn:he.wrappingColumn}}}const U="Consolas, 'Courier New', monospace",ee="Menlo, Monaco, 'Courier New', monospace",de="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:N.isMacintosh?ee:N.isLinux?de:U,fontWeight:"normal",fontSize:N.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},e.editorOptionsRegistry=[];function j(ue){return e.editorOptionsRegistry[ue.id]=ue,ue}e.EditorOptions={acceptSuggestionOnCommitCharacter:j(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.localize(137,null)})),acceptSuggestionOnEnter:j(new n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.localize(138,null),""],markdownDescription:_.localize(139,null)})),accessibilitySupport:j(new o),accessibilityPageSize:j(new u(3,"accessibilityPageSize",10,1,1073741824,{description:_.localize(140,null)})),ariaLabel:j(new d(4,"ariaLabel",_.localize(141,null))),autoClosingBrackets:j(new n(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(142,null),_.localize(143,null),""],description:_.localize(144,null)})),autoClosingDelete:j(new n(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.localize(145,null),""],description:_.localize(146,null)})),autoClosingOvertype:j(new n(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.localize(147,null),""],description:_.localize(148,null)})),autoClosingQuotes:j(new n(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(149,null),_.localize(150,null),""],description:_.localize(151,null)})),autoIndent:j(new l(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[_.localize(152,null),_.localize(153,null),_.localize(154,null),_.localize(155,null),_.localize(156,null)],description:_.localize(157,null)})),automaticLayout:j(new a(10,"automaticLayout",!1)),autoSurround:j(new n(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.localize(158,null),_.localize(159,null),_.localize(160,null),""],description:_.localize(161,null)})),bracketPairColorization:j(new H),stickyTabStops:j(new a(104,"stickyTabStops",!1,{description:_.localize(162,null)})),codeLens:j(new a(13,"codeLens",!0,{description:_.localize(163,null)})),codeLensFontFamily:j(new d(14,"codeLensFontFamily","",{description:_.localize(164,null)})),codeLensFontSize:j(new u(15,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:_.localize(165,null)})),colorDecorators:j(new a(16,"colorDecorators",!0,{description:_.localize(166,null)})),columnSelection:j(new a(17,"columnSelection",!1,{description:_.localize(167,null)})),comments:j(new c),contextmenu:j(new a(19,"contextmenu",!0)),copyWithSyntaxHighlighting:j(new a(20,"copyWithSyntaxHighlighting",!0,{description:_.localize(168,null)})),cursorBlinking:j(new l(21,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],f,{description:_.localize(169,null)})),cursorSmoothCaretAnimation:j(new a(22,"cursorSmoothCaretAnimation",!1,{description:_.localize(170,null)})),cursorStyle:j(new l(23,"cursorStyle",y.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],b,{description:_.localize(171,null)})),cursorSurroundingLines:j(new u(24,"cursorSurroundingLines",0,0,1073741824,{description:_.localize(172,null)})),cursorSurroundingLinesStyle:j(new n(25,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.localize(173,null),_.localize(174,null)],description:_.localize(175,null)})),cursorWidth:j(new u(26,"cursorWidth",0,0,1073741824,{markdownDescription:_.localize(176,null)})),disableLayerHinting:j(new a(27,"disableLayerHinting",!1)),disableMonospaceOptimizations:j(new a(28,"disableMonospaceOptimizations",!1)),domReadOnly:j(new a(29,"domReadOnly",!1)),dragAndDrop:j(new a(30,"dragAndDrop",!0,{description:_.localize(177,null)})),emptySelectionClipboard:j(new m),extraEditorClassName:j(new d(32,"extraEditorClassName","")),fastScrollSensitivity:j(new h(33,"fastScrollSensitivity",5,ue=>ue<=0?5:ue,{markdownDescription:_.localize(178,null)})),find:j(new w),fixedOverflowWidgets:j(new a(35,"fixedOverflowWidgets",!1)),folding:j(new a(36,"folding",!0,{description:_.localize(179,null)})),foldingStrategy:j(new n(37,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.localize(180,null),_.localize(181,null)],description:_.localize(182,null)})),foldingHighlight:j(new a(38,"foldingHighlight",!0,{description:_.localize(183,null)})),foldingImportsByDefault:j(new a(39,"foldingImportsByDefault",!1,{description:_.localize(184,null)})),unfoldOnClickAfterEndOfLine:j(new a(40,"unfoldOnClickAfterEndOfLine",!1,{description:_.localize(185,null)})),fontFamily:j(new d(41,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:_.localize(186,null)})),fontInfo:j(new k),fontLigatures2:j(new D),fontSize:j(new T),fontWeight:j(new R),formatOnPaste:j(new a(46,"formatOnPaste",!1,{description:_.localize(187,null)})),formatOnType:j(new a(47,"formatOnType",!1,{description:_.localize(188,null)})),glyphMargin:j(new a(48,"glyphMargin",!0,{description:_.localize(189,null)})),gotoLocation:j(new M),hideCursorInOverviewRuler:j(new a(50,"hideCursorInOverviewRuler",!1,{description:_.localize(190,null)})),highlightActiveIndentGuide:j(new a(51,"highlightActiveIndentGuide",!0,{description:_.localize(191,null)})),hover:j(new A),inDiffEditor:j(new a(53,"inDiffEditor",!1)),letterSpacing:j(new h(55,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ue=>h.clamp(ue,-5,20),{description:_.localize(192,null)})),lightbulb:j(new P),lineDecorationsWidth:j(new C(57,"lineDecorationsWidth",10)),lineHeight:j(new E),lineNumbers:j(new J),lineNumbersMinChars:j(new u(60,"lineNumbersMinChars",5,1,300)),linkedEditing:j(new a(61,"linkedEditing",!1,{description:_.localize(193,null)})),links:j(new a(62,"links",!0,{description:_.localize(194,null)})),matchBrackets:j(new n(63,"matchBrackets","always",["always","near","never"],{description:_.localize(195,null)})),minimap:j(new x),mouseStyle:j(new n(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:j(new h(66,"mouseWheelScrollSensitivity",1,ue=>ue===0?1:ue,{markdownDescription:_.localize(196,null)})),mouseWheelZoom:j(new a(67,"mouseWheelZoom",!1,{markdownDescription:_.localize(197,null)})),multiCursorMergeOverlapping:j(new a(68,"multiCursorMergeOverlapping",!0,{description:_.localize(198,null)})),multiCursorModifier:j(new l(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],W,{markdownEnumDescriptions:[_.localize(199,null),_.localize(200,null)],markdownDescription:_.localize(201,null)})),multiCursorPaste:j(new n(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.localize(202,null),_.localize(203,null)],markdownDescription:_.localize(204,null)})),occurrencesHighlight:j(new a(71,"occurrencesHighlight",!0,{description:_.localize(205,null)})),overviewRulerBorder:j(new a(72,"overviewRulerBorder",!0,{description:_.localize(206,null)})),overviewRulerLanes:j(new u(73,"overviewRulerLanes",3,0,3)),padding:j(new G),parameterHints:j(new Y),peekWidgetDefaultFocus:j(new n(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.localize(207,null),_.localize(208,null)],description:_.localize(209,null)})),definitionLinkOpensInPeek:j(new a(77,"definitionLinkOpensInPeek",!1,{description:_.localize(210,null)})),quickSuggestions:j(new re),quickSuggestionsDelay:j(new u(79,"quickSuggestionsDelay",10,0,1073741824,{description:_.localize(211,null)})),readOnly:j(new a(80,"readOnly",!1)),renameOnType:j(new a(81,"renameOnType",!1,{description:_.localize(212,null),markdownDeprecationMessage:_.localize(213,null)})),renderControlCharacters:j(new a(82,"renderControlCharacters",!1,{description:_.localize(214,null)})),renderIndentGuides:j(new a(83,"renderIndentGuides",!0,{description:_.localize(215,null)})),renderFinalNewline:j(new a(84,"renderFinalNewline",!0,{description:_.localize(216,null)})),renderLineHighlight:j(new n(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.localize(217,null)],description:_.localize(218,null)})),renderLineHighlightOnlyWhenFocus:j(new a(86,"renderLineHighlightOnlyWhenFocus",!1,{description:_.localize(219,null)})),renderValidationDecorations:j(new n(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:j(new n(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.localize(220,null),_.localize(221,null),_.localize(222,null),""],description:_.localize(223,null)})),revealHorizontalRightPadding:j(new u(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:j(new a(90,"roundedSelection",!0,{description:_.localize(224,null)})),rulers:j(new ae),scrollbar:j(new B),scrollBeyondLastColumn:j(new u(93,"scrollBeyondLastColumn",5,0,1073741824,{description:_.localize(225,null)})),scrollBeyondLastLine:j(new a(94,"scrollBeyondLastLine",!0,{description:_.localize(226,null)})),scrollPredominantAxis:j(new a(95,"scrollPredominantAxis",!0,{description:_.localize(227,null)})),selectionClipboard:j(new a(96,"selectionClipboard",!0,{description:_.localize(228,null),included:N.isLinux})),selectionHighlight:j(new a(97,"selectionHighlight",!0,{description:_.localize(229,null)})),selectOnLineNumbers:j(new a(98,"selectOnLineNumbers",!0)),showFoldingControls:j(new n(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[_.localize(230,null),_.localize(231,null)],description:_.localize(232,null)})),showUnused:j(new a(100,"showUnused",!0,{description:_.localize(233,null)})),showDeprecated:j(new a(125,"showDeprecated",!0,{description:_.localize(234,null)})),inlayHints:j(new F),snippetSuggestions:j(new n(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.localize(235,null),_.localize(236,null),_.localize(237,null),_.localize(238,null)],description:_.localize(239,null)})),smartSelect:j(new ie),smoothScrolling:j(new a(103,"smoothScrolling",!1,{description:_.localize(240,null)})),stopRenderingLineAfter:j(new u(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:j(new z),inlineSuggest:j(new Z),suggestFontSize:j(new u(107,"suggestFontSize",0,0,1e3,{markdownDescription:_.localize(241,null)})),suggestLineHeight:j(new u(108,"suggestLineHeight",0,0,1e3,{markdownDescription:_.localize(242,null)})),suggestOnTriggerCharacters:j(new a(109,"suggestOnTriggerCharacters",!0,{description:_.localize(243,null)})),suggestSelection:j(new n(110,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.localize(244,null),_.localize(245,null),_.localize(246,null)],description:_.localize(247,null)})),tabCompletion:j(new n(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.localize(248,null),_.localize(249,null),_.localize(250,null)],description:_.localize(251,null)})),tabIndex:j(new u(112,"tabIndex",0,-1,1073741824)),unusualLineTerminators:j(new n(113,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.localize(252,null),_.localize(253,null),_.localize(254,null)],description:_.localize(255,null)})),useShadowDOM:j(new a(114,"useShadowDOM",!0)),useTabStops:j(new a(115,"useTabStops",!0,{description:_.localize(256,null)})),wordSeparators:j(new d(116,"wordSeparators",I.USUAL_WORD_SEPARATORS,{description:_.localize(257,null)})),wordWrap:j(new n(117,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.localize(258,null),_.localize(259,null),_.localize(260,null),_.localize(261,null)],description:_.localize(262,null)})),wordWrapBreakAfterCharacters:j(new d(118,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:j(new d(119,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:j(new u(120,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.localize(263,null)})),wordWrapOverride1:j(new n(121,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:j(new n(122,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:j(new l(123,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],K,{enumDescriptions:[_.localize(264,null),_.localize(265,null),_.localize(266,null),_.localize(267,null)],description:_.localize(268,null)})),wrappingStrategy:j(new n(124,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[_.localize(269,null),_.localize(270,null)],description:_.localize(271,null)})),editorClassName:j(new g),pixelRatio:j(new se),tabFocusMode:j(new ce),layoutInfo:j(new O),wrappingInfo:j(new Q)}}),define(te[475],ne([0,1,13,3,63,37]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(v,i,C,s,a){this.editorId=v,this.model=i,this.configuration=C,this._linesCollection=s,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(v){const i=v.id;let C=this._decorationsCache[i];if(!C){const s=v.range,a=v.options;let u;if(a.isWholeLine){const h=this._coordinatesConverter.convertModelPositionToViewPosition(new _.Position(s.startLineNumber,1),0),d=this._coordinatesConverter.convertModelPositionToViewPosition(new _.Position(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)),1);u=new N.Range(h.lineNumber,h.column,d.lineNumber,d.column)}else u=this._coordinatesConverter.convertModelRangeToViewRange(s,1);C=new I.ViewModelDecoration(u,a),this._decorationsCache[i]=C}return C}getDecorationsViewportData(v){let i=this._cachedModelDecorationsResolver!==null;return i=i&&v.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(v),this._cachedModelDecorationsResolverViewRange=v),this._cachedModelDecorationsResolver}_getDecorationsViewportData(v){const i=this._linesCollection.getDecorationsInRange(v,this.editorId,(0,L.filterValidationDecorations)(this.configuration.options)),C=v.startLineNumber,s=v.endLineNumber;let a=[],u=0,h=[];for(let d=C;d<=s;d++)h[d-C]=[];for(let d=0,r=i.length;d<r;d++){let n=i[d],l=n.options,t=this._getOrCreateViewModelDecoration(n),o=t.range;if(a[u++]=t,l.inlineClassName){let c=new I.InlineDecoration(o,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),f=Math.max(C,o.startLineNumber),y=Math.min(s,o.endLineNumber);for(let b=f;b<=y;b++)h[b-C].push(c)}if(l.beforeContentClassName&&C<=o.startLineNumber&&o.startLineNumber<=s){let c=new I.InlineDecoration(new N.Range(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),l.beforeContentClassName,1);h[o.startLineNumber-C].push(c)}if(l.afterContentClassName&&C<=o.endLineNumber&&o.endLineNumber<=s){let c=new I.InlineDecoration(new N.Range(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn),l.afterContentClassName,2);h[o.endLineNumber-C].push(c)}}return{decorations:a,inlineDecorations:h}}}e.ViewModelDecorations=S}),define(te[476],ne([4,5]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(te[477],ne([4,5]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(te[245],ne([0,1,477,10,21,24,225,103,44]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(r){return r.toString()}class C{constructor(n,l,t,o,c,f,y){this.beforeVersionId=n,this.afterVersionId=l,this.beforeEOL=t,this.afterEOL=o,this.beforeCursorState=c,this.afterCursorState=f,this.changes=y}static create(n,l){const t=n.getAlternativeVersionId(),o=u(n);return new C(t,t,o,o,l,l,[])}append(n,l,t,o,c){l.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,l)),this.afterEOL=t,this.afterVersionId=o,this.afterCursorState=c}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,l,t){if(p.writeUInt32BE(n,l?l.length:0,t),t+=4,l)for(const o of l)p.writeUInt32BE(n,o.selectionStartLineNumber,t),t+=4,p.writeUInt32BE(n,o.selectionStartColumn,t),t+=4,p.writeUInt32BE(n,o.positionLineNumber,t),t+=4,p.writeUInt32BE(n,o.positionColumn,t),t+=4;return t}static _readSelections(n,l,t){const o=p.readUInt32BE(n,l);l+=4;for(let c=0;c<o;c++){const f=p.readUInt32BE(n,l);l+=4;const y=p.readUInt32BE(n,l);l+=4;const b=p.readUInt32BE(n,l);l+=4;const g=p.readUInt32BE(n,l);l+=4,t.push(new I.Selection(f,y,b,g))}return l}serialize(){let n=4+4+1+1+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)n+=o.writeSize();const l=new Uint8Array(n);let t=0;p.writeUInt32BE(l,this.beforeVersionId,t),t+=4,p.writeUInt32BE(l,this.afterVersionId,t),t+=4,p.writeUInt8(l,this.beforeEOL,t),t+=1,p.writeUInt8(l,this.afterEOL,t),t+=1,t=C._writeSelections(l,this.beforeCursorState,t),t=C._writeSelections(l,this.afterCursorState,t),p.writeUInt32BE(l,this.changes.length,t),t+=4;for(const o of this.changes)t=o.write(l,t);return l.buffer}static deserialize(n){const l=new Uint8Array(n);let t=0;const o=p.readUInt32BE(l,t);t+=4;const c=p.readUInt32BE(l,t);t+=4;const f=p.readUInt8(l,t);t+=1;const y=p.readUInt8(l,t);t+=1;const b=[];t=C._readSelections(l,t,b);const g=[];t=C._readSelections(l,t,g);const m=p.readUInt32BE(l,t);t+=4;const w=[];for(let D=0;D<m;D++)t=S.TextChange.read(l,t,w);return new C(o,c,f,y,b,g,w)}}e.SingleModelEditStackData=C;class s{constructor(n,l){this.model=n,this._data=C.create(n,l)}get type(){return 0}get resource(){return L.URI.isUri(this.model)?this.model:this.model.uri}get label(){return _.localize(0,null)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(l=>l.toString()).join(", ")}matchesResource(n){return(L.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof C}append(n,l,t,o,c){this._data instanceof C&&this._data.append(n,l,t,o,c)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const n=C.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const n=C.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class a{constructor(n,l){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=l.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const o=i(t.resource);this._editStackElementsMap.set(o,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const l=i(n);return this._editStackElementsMap.has(l)}setModel(n){const l=i(L.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(l)&&this._editStackElementsMap.get(l).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const l=i(n.uri);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).canAppend(n):!1}append(n,l,t,o,c){const f=i(n.uri);this._editStackElementsMap.get(f).append(n,l,t,o,c)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const l=i(n);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const l of this._editStackElementsArr)n.push(`${(0,v.basename)(l.resource)}: ${l}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=a;function u(r){return r.getEOL()===`
`?0:1}function h(r){return r?r instanceof s||r instanceof a:!1}e.isEditStackElement=h;class d{constructor(n,l){this._model=n,this._undoRedoService=l}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);h(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);h(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const l=this._undoRedoService.getLastElement(this._model.uri);if(h(l)&&l.canAppend(this._model))return l;const t=new s(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const l=this._getOrCreateEditStackElement(null);this._model.setEOL(n),l.append(this._model,[],u(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,l,t){const o=this._getOrCreateEditStackElement(n),c=this._model.applyEdits(l,!0),f=d._computeCursorState(t,c),y=c.map((b,g)=>({index:g,textChange:b.textChange}));return y.sort((b,g)=>b.textChange.oldPosition===g.textChange.oldPosition?b.index-g.index:b.textChange.oldPosition-g.textChange.oldPosition),o.append(this._model,y.map(b=>b.textChange),u(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(n,l){try{return n?n(l):null}catch(t){return(0,N.onUnexpectedError)(t),null}}}e.EditStack=d}),define(te[478],ne([4,5]),function($,e){return $.create("vs/editor/common/modes/modesRegistry",e)}),define(te[479],ne([4,5]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(te[64],ne([0,1,479]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var N;(function(a){a.noSelection=_.localize(0,null),a.singleSelectionRange=_.localize(1,null),a.singleSelection=_.localize(2,null),a.multiSelectionRange=_.localize(3,null),a.multiSelection=_.localize(4,null),a.emergencyConfOn=_.localize(5,null),a.openingDocs=_.localize(6,null),a.readonlyDiffEditor=_.localize(7,null),a.editableDiffEditor=_.localize(8,null),a.readonlyEditor=_.localize(9,null),a.editableEditor=_.localize(10,null),a.changeConfigToOnMac=_.localize(11,null),a.changeConfigToOnWinLinux=_.localize(12,null),a.auto_on=_.localize(13,null),a.auto_off=_.localize(14,null),a.tabFocusModeOnMsg=_.localize(15,null),a.tabFocusModeOnMsgNoKb=_.localize(16,null),a.tabFocusModeOffMsg=_.localize(17,null),a.tabFocusModeOffMsgNoKb=_.localize(18,null),a.openDocMac=_.localize(19,null),a.openDocWinLinux=_.localize(20,null),a.outroMsg=_.localize(21,null),a.showAccessibilityHelpAction=_.localize(22,null)})(N=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var I;(function(a){a.inspectTokensAction=_.localize(23,null)})(I=e.InspectTokensNLS||(e.InspectTokensNLS={}));var L;(function(a){a.gotoLineActionLabel=_.localize(24,null)})(L=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(a){a.helpQuickAccessActionLabel=_.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var p;(function(a){a.quickCommandActionLabel=_.localize(26,null),a.quickCommandHelp=_.localize(27,null)})(p=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(a){a.quickOutlineActionLabel=_.localize(28,null),a.quickOutlineByCategoryActionLabel=_.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(a){a.editorViewAccessibleLabel=_.localize(30,null),a.accessibilityHelpMessage=_.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var C;(function(a){a.toggleHighContrast=_.localize(32,null)})(C=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var s;(function(a){a.bulkEditServiceSummary=_.localize(33,null)})(s=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(te[480],ne([4,5]),function($,e){return $.create("vs/editor/common/view/editorColorRegistry",e)}),define(te[481],ne([4,5]),function($,e){return $.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(te[482],ne([4,5]),function($,e){return $.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(te[483],ne([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(te[484],ne([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/transpose",e)}),define(te[485],ne([4,5]),function($,e){return $.create("vs/editor/contrib/clipboard/clipboard",e)}),define(te[486],ne([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(te[487],ne([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(te[488],ne([4,5]),function($,e){return $.create("vs/editor/contrib/codelens/codelensController",e)}),define(te[489],ne([4,5]),function($,e){return $.create("vs/editor/contrib/comment/comment",e)}),define(te[490],ne([4,5]),function($,e){return $.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(te[491],ne([4,5]),function($,e){return $.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(te[492],ne([4,5]),function($,e){return $.create("vs/editor/contrib/find/findController",e)}),define(te[493],ne([4,5]),function($,e){return $.create("vs/editor/contrib/find/findWidget",e)}),define(te[494],ne([4,5]),function($,e){return $.create("vs/editor/contrib/folding/folding",e)}),define(te[495],ne([4,5]),function($,e){return $.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(te[496],ne([4,5]),function($,e){return $.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(te[497],ne([4,5]),function($,e){return $.create("vs/editor/contrib/format/format",e)}),define(te[498],ne([4,5]),function($,e){return $.create("vs/editor/contrib/format/formatActions",e)}),define(te[499],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoError",e)}),define(te[500],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(te[501],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(te[502],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(te[503],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(te[504],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(te[505],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(te[506],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(te[119],ne([0,1,506,6,44,2,8,127,3,49,10]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(r,n,l,t){this.isProviderFirst=r,this.parent=n,this.link=l,this._rangeCallback=t,this.id=p.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var r,n;return(n=(r=this._range)!==null&&r!==void 0?r:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const n=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return n?(0,_.localize)(1,null,(0,I.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):(0,_.localize)(0,null,(0,I.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class a{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,n=8){const l=this._modelReference.object.textEditorModel;if(!l)return;const{startLineNumber:t,startColumn:o,endLineNumber:c,endColumn:f}=r,y=l.getWordUntilPosition({lineNumber:t,column:o-n}),b=new v.Range(t,y.startColumn,t,o),g=new v.Range(c,f,c,1073741824),m=l.getValueInRange(b).replace(/^\s+/,""),w=l.getValueInRange(r),D=l.getValueInRange(g).replace(/\s+$/,"");return{value:m+w+D,highlight:{start:m.length,end:m.length+w.length}}}}e.FilePreview=a;class u{constructor(r,n){this.parent=r,this.uri=n,this.children=[],this._previews=new i.ResourceMap}dispose(){(0,L.dispose)(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?(0,_.localize)(2,null,(0,I.basename)(this.uri),this.uri.fsPath):(0,_.localize)(3,null,r,(0,I.basename)(this.uri),this.uri.fsPath)}resolve(r){return ke(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const l=yield r.createModelReference(n.uri);this._previews.set(n.uri,new a(l))}catch(l){(0,C.onUnexpectedError)(l)}return this})}}e.FileReferences=u;class h{constructor(r,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new N.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=n;const[l]=r;r.sort(h._compareReferences);let t;for(let o of r)if((!t||!I.extUri.isEqual(t.uri,o.uri,!0))&&(t=new u(this,o.uri),this.groups.push(t)),t.children.length===0||h._compareReferences(o,t.children[t.children.length-1])!==0){const c=new s(l===o,t,o,f=>this._onDidChangeReferenceRange.fire(f));this.references.push(c),t.children.push(c)}}dispose(){(0,L.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new h(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,_.localize)(4,null):this.references.length===1?(0,_.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,_.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,_.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,n){let{parent:l}=r,t=l.children.indexOf(r),o=l.children.length,c=l.parent.groups.length;return c===1||n&&t+1<o||!n&&t>0?(n?t=(t+1)%o:t=(t+o-1)%o,l.children[t]):(t=l.parent.groups.indexOf(l),n?(t=(t+1)%c,l.parent.groups[t].children[0]):(t=(t+c-1)%c,l.parent.groups[t].children[l.parent.groups[t].children.length-1]))}nearestReference(r,n){const l=this.references.map((t,o)=>({idx:o,prefixLen:S.commonPrefixLength(t.uri.toString(),r.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,o)=>t.prefixLen>o.prefixLen?-1:t.prefixLen<o.prefixLen?1:t.offsetDist<o.offsetDist?-1:t.offsetDist>o.offsetDist?1:0)[0];if(l)return this.references[l.idx]}referenceAt(r,n){for(const l of this.references)if(l.uri.toString()===r.toString()&&v.Range.containsPosition(l.range,n))return l}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,n){return I.extUri.compare(r.uri,n.uri)||v.Range.compareRangesUsingStarts(r.range,n.range)}}e.ReferencesModel=h}),define(te[507],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(te[508],ne([4,5]),function($,e){return $.create("vs/editor/contrib/hover/hover",e)}),define(te[509],ne([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(te[510],ne([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(te[511],ne([4,5]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(te[512],ne([4,5]),function($,e){return $.create("vs/editor/contrib/indentation/indentation",e)}),define(te[513],ne([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(te[514],ne([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(te[515],ne([4,5]),function($,e){return $.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(te[516],ne([4,5]),function($,e){return $.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(te[517],ne([4,5]),function($,e){return $.create("vs/editor/contrib/links/links",e)}),define(te[518],ne([4,5]),function($,e){return $.create("vs/editor/contrib/message/messageController",e)}),define(te[519],ne([4,5]),function($,e){return $.create("vs/editor/contrib/multicursor/multicursor",e)}),define(te[520],ne([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(te[521],ne([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(te[522],ne([4,5]),function($,e){return $.create("vs/editor/contrib/peekView/peekView",e)}),define(te[523],ne([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(te[524],ne([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(te[525],ne([4,5]),function($,e){return $.create("vs/editor/contrib/rename/rename",e)}),define(te[526],ne([4,5]),function($,e){return $.create("vs/editor/contrib/rename/renameInputField",e)}),define(te[527],ne([4,5]),function($,e){return $.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(te[528],ne([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetController2",e)}),define(te[529],ne([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(te[530],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggest",e)}),define(te[531],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestController",e)}),define(te[532],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(te[533],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(te[534],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(te[535],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(te[536],ne([4,5]),function($,e){return $.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(te[537],ne([4,5]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(te[538],ne([4,5]),function($,e){return $.create("vs/editor/contrib/tokenization/tokenization",e)}),define(te[539],ne([4,5]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(te[540],ne([4,5]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(te[541],ne([4,5]),function($,e){return $.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(te[542],ne([4,5]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(te[543],ne([4,5]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(te[544],ne([4,5]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(te[545],ne([4,5]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(te[546],ne([4,5]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(te[547],ne([4,5]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(te[548],ne([4,5]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(te[549],ne([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(te[550],ne([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(te[551],ne([4,5]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(te[552],ne([4,5]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(te[553],ne([4,5]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(te[554],ne([0,1,7]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class N{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(L,S){return ke(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,L);return}try{return yield navigator.clipboard.writeText(L)}catch(i){console.error(i)}const p=document.activeElement,v=document.body.appendChild((0,_.$)("textarea",{"aria-hidden":!0}));v.style.height="1px",v.style.width="1px",v.style.position="absolute",v.value=L,v.focus(),v.select(),document.execCommand("copy"),p instanceof HTMLElement&&p.focus(),document.body.removeChild(v)})}readText(L){return ke(this,void 0,void 0,function*(){if(L)return this.mapTextToType.get(L)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return ke(this,void 0,void 0,function*(){return this.findText})}writeFindText(L){return ke(this,void 0,void 0,function*(){this.findText=L})}}e.BrowserClipboardService=N}),define(te[555],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var _;(function(N){N[N.API=0]="API",N[N.USER=1]="USER"})(_=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(te[556],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class _{constructor(I){this.value=I,this._lower=I.toLowerCase()}static toKey(I){return typeof I=="string"?I.toLowerCase():I._lower}}e.ExtensionIdentifier=_}),define(te[246],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var _;(function(N){N[N.FILE=0]="FILE",N[N.FOLDER=1]="FOLDER",N[N.ROOT_FOLDER=2]="ROOT_FOLDER"})(_=e.FileKind||(e.FileKind={}))}),define(te[247],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class _{constructor(I,L=[],S=!1){this.ctor=I,this.staticArguments=L,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=_}),define(te[76],ne([0,1,247]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const N=[];function I(S,p,v){p instanceof _.SyncDescriptor||(p=new _.SyncDescriptor(p,[],v)),N.push([S,p])}e.registerSingleton=I;function L(){return N}e.getSingletonServiceDescriptors=L}),define(te[557],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class _{constructor(L){this.incoming=new Map,this.outgoing=new Map,this.data=L}}e.Node=_;class N{constructor(L){this._hashFn=L,this._nodes=new Map}roots(){const L=[];for(let S of this._nodes.values())S.outgoing.size===0&&L.push(S);return L}insertEdge(L,S){const p=this.lookupOrInsertNode(L),v=this.lookupOrInsertNode(S);p.outgoing.set(this._hashFn(S),v),v.incoming.set(this._hashFn(L),p)}removeNode(L){const S=this._hashFn(L);this._nodes.delete(S);for(let p of this._nodes.values())p.outgoing.delete(S),p.incoming.delete(S)}lookupOrInsertNode(L){const S=this._hashFn(L);let p=this._nodes.get(S);return p||(p=new _(L),this._nodes.set(S,p)),p}isEmpty(){return this._nodes.size===0}toString(){let L=[];for(let[S,p]of this._nodes)L.push(`${S}, (incoming)[${[...p.incoming.keys()].join(", ")}], (outgoing)[${[...p.outgoing.keys()].join(",")}]`);return L.join(`
`)}findCycleSlow(){for(let[L,S]of this._nodes){const p=new Set([L]),v=this._findCycle(S,p);if(v)return v}}_findCycle(L,S){for(let[p,v]of L.outgoing){if(S.has(p))return[...S,p].join(" -> ");S.add(p);const i=this._findCycle(v,S);if(i)return i;S.delete(p)}}}e.Graph=N}),define(te[9],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var _;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function p(v){return v[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=p})(_=e._util||(e._util={})),e.IInstantiationService=I("instantiationService");function N(S,p,v,i){p[_.DI_TARGET]===p?p[_.DI_DEPENDENCIES].push({id:S,index:v,optional:i}):(p[_.DI_DEPENDENCIES]=[{id:S,index:v,optional:i}],p[_.DI_TARGET]=p)}function I(S){if(_.serviceIds.has(S))return _.serviceIds.get(S);const p=function(v,i,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");N(p,v,C,!1)};return p.toString=()=>S,_.serviceIds.set(S,p),p}e.createDecorator=I;function L(S){return function(p,v,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");N(S,p,i,!0)}}e.optional=L}),define(te[141],ne([0,1,9,24,20]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,_.createDecorator)("IWorkspaceEditService");function L(C){return(0,I.isObject)(C)&&(Boolean(C.newUri)||Boolean(C.oldUri))}function S(C){return(0,I.isObject)(C)&&N.URI.isUri(C.resource)&&(0,I.isObject)(C.edit)}class p{constructor(s){this.metadata=s}static convert(s){return s.edits.map(a=>{if(S(a))return new v(a.resource,a.edit,a.modelVersionId,a.metadata);if(L(a))return new i(a.oldUri,a.newUri,a.options,a.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=p;class v extends p{constructor(s,a,u,h){super(h);this.resource=s,this.textEdit=a,this.versionId=u}}e.ResourceTextEdit=v;class i extends p{constructor(s,a,u,h){super(h);this.oldResource=s,this.newResource=a,this.options=u}}e.ResourceFileEdit=i}),define(te[28],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,_.createDecorator)("codeEditorService")}),define(te[77],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,_.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(te[187],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,_.createDecorator)("markerDecorationsService")}),define(te[56],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,_.createDecorator)("modeService")}),define(te[38],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,_.createDecorator)("modelService");function N(I){return!I.isTooLargeForSyncing()&&!I.isForSimpleWidget}e.shouldSynchronizeModel=N}),define(te[142],ne([0,1,6,93,2,49,104,392,38]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(d){return typeof d=="string"?!1:Array.isArray(d)?d.every(i):!!d.exclusive}class C{constructor(){this._clock=0,this._entries=[],this._onDidChange=new _.Emitter}get onDidChange(){return this._onDidChange.event}register(r,n){let l={selector:r,provider:n,_score:-1,_time:this._clock++};return this._entries.push(l),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,I.toDisposable)(()=>{if(l){let t=this._entries.indexOf(l);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),l=void 0)}})}has(r){return this.all(r).length>0}all(r){if(!r)return[];this._updateScores(r);const n=[];for(let l of this._entries)l._score>0&&n.push(l.provider);return n}ordered(r){const n=[];return this._orderedForEach(r,l=>n.push(l.provider)),n}orderedGroups(r){const n=[];let l,t;return this._orderedForEach(r,o=>{l&&t===o._score?l.push(o.provider):(t=o._score,l=[o.provider],n.push(l))}),n}_orderedForEach(r,n){if(!!r){this._updateScores(r);for(const l of this._entries)l._score>0&&n(l)}}_updateScores(r){let n={uri:r.uri.toString(),language:r.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===n.language&&this._lastCandidate.uri===n.uri)){this._lastCandidate=n;for(let l of this._entries)if(l._score=(0,p.score)(l.selector,r.uri,r.getLanguageIdentifier().language,(0,v.shouldSynchronizeModel)(r)),i(l.selector)&&l._score>0){for(let t of this._entries)t._score=0;l._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(r,n){return r._score<n._score?1:r._score>n._score?-1:r._time<n._time?1:r._time>n._time?-1:0}}e.LanguageFeatureRegistry=C;const s=new WeakMap;let a=0;function u(d){let r=s.get(d);return r===void 0&&(r=++a,s.set(d,r)),r}class h{constructor(r,n,l=Number.MAX_SAFE_INTEGER){this._registry=r,this.min=n,this.max=l,this._cache=new L.LRUCache(50,.7)}_key(r){return r.id+this._registry.all(r).reduce((n,l)=>(0,N.doHash)(u(l),n),0)}_clamp(r){return r===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(r*1.3)))}get(r){const n=this._key(r),l=this._cache.get(n);return this._clamp(l==null?void 0:l.value)}update(r,n){const l=this._key(r);let t=this._cache.get(l);return t||(t=new S.MovingAverage,this._cache.set(l,t)),t.update(n),this.get(r)}}e.LanguageFeatureRequestDelays=h}),define(te[18],ne([0,1,24,3,142,400,27]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class p{constructor(n,l){this.language=n,this.id=l}}e.LanguageIdentifier=p;class v{static getLanguageId(n){return(n&255)>>>0}static getTokenType(n){return(n&1792)>>>8}static getFontStyle(n){return(n&14336)>>>11}static getForeground(n){return(n&8372224)>>>14}static getBackground(n){return(n&4286578688)>>>23}static getClassNameFromMetadata(n){let l=this.getForeground(n),t="mtk"+l,o=this.getFontStyle(n);return o&1&&(t+=" mtki"),o&2&&(t+=" mtkb"),o&4&&(t+=" mtku"),t}static getInlineStyleFromMetadata(n,l){const t=this.getForeground(n),o=this.getFontStyle(n);let c=`color: ${l[t]};`;return o&1&&(c+="font-style: italic;"),o&2&&(c+="font-weight: bold;"),o&4&&(c+="text-decoration: underline;"),c}}e.TokenMetadata=v,e.completionKindToCssClass=function(){let r=Object.create(null);return r[0]="symbol-method",r[1]="symbol-function",r[2]="symbol-constructor",r[3]="symbol-field",r[4]="symbol-variable",r[5]="symbol-class",r[6]="symbol-struct",r[7]="symbol-interface",r[8]="symbol-module",r[9]="symbol-property",r[10]="symbol-event",r[11]="symbol-operator",r[12]="symbol-unit",r[13]="symbol-value",r[14]="symbol-constant",r[15]="symbol-enum",r[16]="symbol-enum-member",r[17]="symbol-keyword",r[27]="symbol-snippet",r[18]="symbol-text",r[19]="symbol-color",r[20]="symbol-file",r[21]="symbol-reference",r[22]="symbol-customcolor",r[23]="symbol-folder",r[24]="symbol-type-parameter",r[25]="account",r[26]="issues",function(n){const l=r[n];let t=l&&S.iconRegistry.get(l);return t||(console.info("No codicon found for CompletionItemKind "+n),t=S.Codicon.symbolProperty),t.classNames}}(),e.completionKindFromString=function(){let r=Object.create(null);return r.method=0,r.function=1,r.constructor=2,r.field=3,r.variable=4,r.class=5,r.struct=6,r.interface=7,r.module=8,r.property=9,r.event=10,r.operator=11,r.unit=12,r.value=13,r.constant=14,r.enum=15,r["enum-member"]=16,r.enumMember=16,r.keyword=17,r.snippet=27,r.text=18,r.color=19,r.file=20,r.reference=21,r.customcolor=22,r.folder=23,r["type-parameter"]=24,r.typeParameter=24,r.account=25,r.issue=26,function(n,l){let t=r[n];return typeof t=="undefined"&&!l&&(t=9),t}}();var i;(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var C;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(C=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var s;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(s=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function a(r){return r&&_.URI.isUri(r.uri)&&N.Range.isIRange(r.range)&&(N.Range.isIRange(r.originSelectionRange)||N.Range.isIRange(r.targetSelectionRange))}e.isLocationLink=a;var u;(function(r){const n=new Map;n.set("file",0),n.set("module",1),n.set("namespace",2),n.set("package",3),n.set("class",4),n.set("method",5),n.set("property",6),n.set("field",7),n.set("constructor",8),n.set("enum",9),n.set("interface",10),n.set("function",11),n.set("variable",12),n.set("constant",13),n.set("string",14),n.set("number",15),n.set("boolean",16),n.set("array",17),n.set("object",18),n.set("key",19),n.set("null",20),n.set("enum-member",21),n.set("struct",22),n.set("event",23),n.set("operator",24),n.set("type-parameter",25);const l=new Map;l.set(0,"file"),l.set(1,"module"),l.set(2,"namespace"),l.set(3,"package"),l.set(4,"class"),l.set(5,"method"),l.set(6,"property"),l.set(7,"field"),l.set(8,"constructor"),l.set(9,"enum"),l.set(10,"interface"),l.set(11,"function"),l.set(12,"variable"),l.set(13,"constant"),l.set(14,"string"),l.set(15,"number"),l.set(16,"boolean"),l.set(17,"array"),l.set(18,"object"),l.set(19,"key"),l.set(20,"null"),l.set(21,"enum-member"),l.set(22,"struct"),l.set(23,"event"),l.set(24,"operator"),l.set(25,"type-parameter");function t(f){return n.get(f)}r.fromString=t;function o(f){return l.get(f)}r.toString=o;function c(f,y){const b=l.get(f);let g=b&&S.iconRegistry.get("symbol-"+b);return g||(console.info("No codicon found for SymbolKind "+f),g=S.Codicon.symbolProperty),`${y?"inline":"block"} ${g.classNames}`}r.toCssClassName=c})(u=e.SymbolKinds||(e.SymbolKinds={}));class h{constructor(n){this.value=n}}e.FoldingRangeKind=h,h.Comment=new h("comment"),h.Imports=new h("imports"),h.Region=new h("region");var d;(function(r){r[r.Other=0]="Other",r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new I.LanguageFeatureRegistry,e.RenameProviderRegistry=new I.LanguageFeatureRegistry,e.CompletionProviderRegistry=new I.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new I.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new I.LanguageFeatureRegistry,e.HoverProviderRegistry=new I.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new I.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new I.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new I.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new I.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new I.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new I.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new I.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new I.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new I.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new I.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new I.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new I.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new I.LanguageFeatureRegistry,e.LinkProviderRegistry=new I.LanguageFeatureRegistry,e.ColorProviderRegistry=new I.LanguageFeatureRegistry,e.SelectionRangeRegistry=new I.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new I.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new I.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new I.LanguageFeatureRegistry,e.TokenizationRegistry=new L.TokenizationRegistryImpl}),define(te[87],ne([0,1,18]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class N{constructor(S,p){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=p}static createEmpty(S){const p=N.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=S.length,v[1]=p,new N(v,S)}equals(S){return S instanceof N?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,p,v){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const i=p<<1,C=i+(v<<1);for(let s=i;s<C;s++)if(this._tokens[s]!==S._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const p=this._tokens[(S<<1)+1];return _.TokenMetadata.getLanguageId(p)}getStandardTokenType(S){const p=this._tokens[(S<<1)+1];return _.TokenMetadata.getTokenType(p)}getForeground(S){const p=this._tokens[(S<<1)+1];return _.TokenMetadata.getForeground(p)}getClassName(S){const p=this._tokens[(S<<1)+1];return _.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(S,p){const v=this._tokens[(S<<1)+1];return _.TokenMetadata.getInlineStyleFromMetadata(v,p)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return N.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,p,v){return new I(this,S,p,v)}static convertToEndOffset(S,p){const i=(S.length>>>1)-1;for(let C=0;C<i;C++)S[C<<1]=S[C+1<<1];S[i<<1]=p}static findIndexInTokensArray(S,p){if(S.length<=2)return 0;let v=0,i=(S.length>>>1)-1;for(;v<i;){const C=v+Math.floor((i-v)/2),s=S[C<<1];if(s===p)return C+1;s<p?v=C+1:s>p&&(i=C)}return v}withInserted(S){if(S.length===0)return this;let p=0,v=0,i="";const C=new Array;let s=0;for(;;){let a=p<this._tokensCount?this._tokens[p<<1]:-1,u=v<S.length?S[v]:null;if(a!==-1&&(u===null||a<=u.offset)){i+=this._text.substring(s,a);const h=this._tokens[(p<<1)+1];C.push(i.length,h),p++,s=a}else if(u){if(u.offset>s){i+=this._text.substring(s,u.offset);const h=this._tokens[(p<<1)+1];C.push(i.length,h),s=u.offset}i+=u.text,C.push(i.length,u.tokenMetadata),v++}else break}return new N(new Uint32Array(C),i)}}e.LineTokens=N,N.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class I{constructor(S,p,v,i){this._source=S,this._startOffset=p,this._endOffset=v,this._deltaOffset=i,this._firstTokenIndex=S.findTokenIndexAtOffset(p),this._tokensCount=0;for(let C=this._firstTokenIndex,s=S.getCount();C<s&&!(S.getStartOffset(C)>=v);C++)this._tokensCount++}equals(S){return S instanceof I?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const p=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,p){return this._source.getInlineStyle(this._firstTokenIndex+S,p)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=I}),define(te[248],ne([0,1,10,18,137,85]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class S{constructor(s,a,u,h,d){this.length=s,this.kind=a,this.category=u,this.languageId=h,this.astNode=d}}e.Token=S;class p{constructor(s,a){this.textModel=s,this.bracketTokens=a,this.reader=new v(this.textModel,this.bracketTokens),this._offset=L.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,L.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(s){this.didPeek=!1,this._offset=(0,L.lengthAdd)(this._offset,s);const a=(0,L.lengthToObj)(this._offset);this.reader.setPosition(a.lineCount,a.columnCount)}read(){let s;return this.peeked?(this.didPeek=!1,s=this.peeked):s=this.reader.read(),s&&(this._offset=(0,L.lengthAdd)(this._offset,s.length)),s}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=p;class v{constructor(s,a){this.textModel=s,this.bracketTokens=a,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}setPosition(s,a){s===this.lineIdx?(this.lineCharOffset=a,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=s,this.lineCharOffset=a,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,L.lengthGetColumnCountIfZeroLineCount)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const s=this.lineIdx,a=this.lineCharOffset;let u=0;for(;u<1e3;){const d=this.lineTokens,r=d.getCount();let n=null;if(this.lineTokenOffset<r){let l=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<r&&l===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const t=N.TokenMetadata.getTokenType(l)===0,o=d.getEndOffset(this.lineTokenOffset);if(t&&o!==this.lineCharOffset){const c=d.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,o),y=this.bracketTokens.getSingleLanguageBracketTokens(c),b=y.regExpGlobal;if(b){b.lastIndex=0;const g=b.exec(f);g&&(n=y.getToken(g[0]),n&&(this.lineCharOffset+=g.index))}}if(u+=o-this.lineCharOffset,n)if(s!==this.lineIdx||a!==this.lineCharOffset){this.peekedToken=n;break}else return this.lineCharOffset+=(0,L.lengthGetColumnCountIfZeroLineCount)(n.length),n;else this.lineTokenOffset++,this.lineCharOffset=o}else{if(this.lineIdx===this.textBufferLineCount-1)break;this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,u++}}const h=(0,L.lengthDiff)(s,a,this.lineIdx,this.lineCharOffset);return new S(h,0,-1,-1,new I.TextAstNode(h))}}class i{constructor(s,a){this.text=s,this._offset=L.lengthZero,this.idx=0;const h=a.getRegExpStr()?new RegExp(a.getRegExpStr()+`|
`,"g"):null,d=[];let r,n=0,l=0,t=0,o=0;const c=new Array;for(let b=0;b<60;b++)c.push(new S((0,L.toLength)(0,b),0,-1,-1,new I.TextAstNode((0,L.toLength)(0,b))));const f=new Array;for(let b=0;b<60;b++)f.push(new S((0,L.toLength)(1,b),0,-1,-1,new I.TextAstNode((0,L.toLength)(1,b))));if(h)for(h.lastIndex=0;(r=h.exec(s))!==null;){const b=r.index,g=r[0];if(g===`
`)n++,l=b+1;else{if(t!==b){let m;if(o===n){const w=b-t;if(w<c.length)m=c[w];else{const D=(0,L.toLength)(0,w);m=new S(D,0,-1,-1,new I.TextAstNode(D))}}else{const w=n-o,D=b-l;if(w===1&&D<f.length)m=f[D];else{const k=(0,L.toLength)(w,D);m=new S(k,0,-1,-1,new I.TextAstNode(k))}}d.push(m)}d.push(a.getToken(g)),t=b+g.length,o=n}}const y=s.length;if(t!==y){const b=o===n?(0,L.toLength)(0,y-t):(0,L.toLength)(n-o,y-l);d.push(new S(b,0,-1,-1,new I.TextAstNode(b)))}this.length=(0,L.toLength)(n,y-l),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(s){throw new _.NotSupportedError}}e.FastTokenizer=i}),define(te[558],ne([0,1,8,36,137,85,248]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class p{constructor(){this.hasRegExp=!1,this._regExpGlobal=null,this.map=new Map}static createFromLanguage(C,s){const a=[...N.LanguageConfigurationRegistry.getColorizedBracketPairs(C)],u=new p;let h=0;for(const d of a)u.addBracket(C,d[0],1,h),u.addBracket(C,d[1],2,h),h++;for(const d of s)h++,u.addBracket(C,d[0],1,h),u.addBracket(C,d[1],2,h);return u}addBracket(C,s,a,u){const h=(0,L.toLength)(0,s.length);this.map.set(s,new S.Token(h,a,C*1e3+u,C,I.BracketAstNode.create(h)))}getRegExpStr(){if(this.isEmpty)return null;{const C=[...this.map.keys()];return C.sort(),C.reverse(),C.map(s=>(0,_.escapeRegExpCharacters)(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const C=this.getRegExpStr();this._regExpGlobal=C?new RegExp(C,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(C){return this.map.get(C)}get isEmpty(){return this.map.size===0}}e.BracketTokens=p;class v{constructor(C){this.customBracketPairs=C,this.languageIdToBracketTokens=new Map}didLanguageChange(C){const s=this.languageIdToBracketTokens.get(C);if(!s)return!1;const a=p.createFromLanguage(C,this.customBracketPairs).getRegExpStr();return s.getRegExpStr()!==a}getSingleLanguageBracketTokens(C){let s=this.languageIdToBracketTokens.get(C);return s||(s=p.createFromLanguage(C,this.customBracketPairs),this.languageIdToBracketTokens.set(C,s)),s}}e.LanguageAgnosticBracketTokens=v}),define(te[143],ne([0,1,19,87,13,3,18]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function p(l){let t=0,o=0,c=0,f=0;for(let y=0,b=l.length;y<b;y++){const g=l.charCodeAt(y);g===13?(t===0&&(o=y),t++,y+1<b&&l.charCodeAt(y+1)===10?(f|=2,y++):f|=3,c=y+1):g===10&&(f|=1,t===0&&(o=y),t++,c=y+1)}return t===0&&(o=l.length),[t,o,l.length-c,f]}e.countEOL=p;function v(l){return(l<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class C{constructor(){this.tokens=[]}add(t,o){if(this.tokens.length>0){const c=this.tokens[this.tokens.length-1];if(c.startLineNumber+c.tokens.length-1+1===t){c.tokens.push(o);return}}this.tokens.push(new h(t,[o]))}}e.MultilineTokensBuilder=C;class s{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let o=[];for(let c=0;c<this._tokenCount;c++)o.push(`(${this._getDeltaLine(c)+t},${this._getStartCharacter(c)}-${this._getEndCharacter(c)})`);return`[${o.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const o=this._getStartCharacter(0),c=this._getDeltaLine(t-1),f=this._getEndCharacter(t-1);return new L.Range(0,o+1,c,f+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let o=0,c=this._getTokenCount()-1;for(;o<c;){const f=o+Math.floor((c-o)/2),y=this._getDeltaLine(f);if(y<t)o=f+1;else if(y>t)c=f-1;else{let b=f;for(;b>o&&this._getDeltaLine(b-1)===t;)b--;let g=f;for(;g<c&&this._getDeltaLine(g+1)===t;)g++;return new a(this._tokens.subarray(4*b,4*g+4))}}return this._getDeltaLine(o)===t?new a(this._tokens.subarray(4*o,4*o+4)):null}clear(){this._tokenCount=0}removeTokens(t,o,c,f){const y=this._tokens,b=this._tokenCount;let g=0,m=!1,w=0;for(let D=0;D<b;D++){const k=4*D,T=y[k],R=y[k+1],M=y[k+2],A=y[k+3];if((T>t||T===t&&M>=o)&&(T<c||T===c&&R<=f))m=!0;else{if(g===0&&(w=T),m){const O=4*g;y[O]=T-w,y[O+1]=R,y[O+2]=M,y[O+3]=A}g++}}return this._tokenCount=g,w}split(t,o,c,f){const y=this._tokens,b=this._tokenCount;let g=[],m=[],w=g,D=0,k=0;for(let T=0;T<b;T++){const R=4*T,M=y[R],A=y[R+1],O=y[R+2],P=y[R+3];if(M>t||M===t&&O>=o){if(M<c||M===c&&A<=f)continue;w!==m&&(w=m,D=0,k=M)}w[D++]=M-k,w[D++]=A,w[D++]=O,w[D++]=P}return[new s(new Uint32Array(g)),new s(new Uint32Array(m)),k]}acceptDeleteRange(t,o,c,f,y){const b=this._tokens,g=this._tokenCount,m=f-o;let w=0,D=!1;for(let k=0;k<g;k++){const T=4*k;let R=b[T],M=b[T+1],A=b[T+2];const O=b[T+3];if(R<o||R===o&&A<=c){w++;continue}else if(R===o&&M<c)R===f&&A>y?A-=y-c:A=c;else if(R===o&&M===c)if(R===f&&A>y)A-=y-c;else{D=!0;continue}else if(R<f||R===f&&M<y)if(R===f&&A>y)R===o?(M=c,A=M+(A-y)):(M=0,A=M+(A-y));else{D=!0;continue}else if(R>f){if(m===0&&!D){w=g;break}R-=m}else if(R===f&&M>=y)t&&R===0&&(M+=t,A+=t),R-=m,M-=y-c,A-=y-c;else throw new Error("Not possible!");const P=4*w;b[P]=R,b[P+1]=M,b[P+2]=A,b[P+3]=O,w++}this._tokenCount=w}acceptInsertText(t,o,c,f,y,b){const g=c===0&&f===1&&(b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122),m=this._tokens,w=this._tokenCount;for(let D=0;D<w;D++){const k=4*D;let T=m[k],R=m[k+1],M=m[k+2];if(!(T<t||T===t&&M<o)){if(T===t&&M===o)if(g)M+=1;else continue;else if(T===t&&R<o&&o<M)c===0?M+=f:M=o;else{if(T===t&&R===o&&g)continue;if(T===t)if(T+=c,c===0)R+=f,M+=f;else{const A=M-R;R=y+(R-o),M=R+A}else T+=c}m[k]=T,m[k+1]=R,m[k+2]=M}}}}e.SparseEncodedTokens=s;class a{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=a;class u{constructor(t,o){this.startLineNumber=t,this.tokens=o,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new L.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const o=t.startLineNumber-this.startLineNumber,c=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(o,t.startColumn-1,c,t.endColumn-1),this._updateEndLineNumber()}split(t){const o=t.startLineNumber-this.startLineNumber,c=t.endLineNumber-this.startLineNumber,[f,y,b]=this.tokens.split(o,t.startColumn-1,c,t.endColumn-1);return[new u(this.startLineNumber,f),new u(this.startLineNumber+b,y)]}applyEdit(t,o){const[c,f,y]=p(o);this.acceptEdit(t,c,f,y,o.length>0?o.charCodeAt(0):0)}acceptEdit(t,o,c,f,y){this._acceptDeleteRange(t),this._acceptInsertText(new I.Position(t.startLineNumber,t.startColumn),o,c,f,y),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const o=t.startLineNumber-this.startLineNumber,c=t.endLineNumber-this.startLineNumber;if(c<0){const y=c-o;this.startLineNumber-=y;return}const f=this.tokens.getMaxDeltaLine();if(!(o>=f+1)){if(o<0&&c>=f+1){this.startLineNumber=0,this.tokens.clear();return}if(o<0){const y=-o;this.startLineNumber-=y,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,c,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,o,t.startColumn-1,c,t.endColumn-1)}}_acceptInsertText(t,o,c,f,y){if(o===0&&c===0)return;const b=t.lineNumber-this.startLineNumber;if(b<0){this.startLineNumber+=o;return}const g=this.tokens.getMaxDeltaLine();b>=g+1||this.tokens.acceptInsertText(b,t.column-1,o,c,f,y)}}e.MultilineTokens2=u;class h{constructor(t,o){this.startLineNumber=t,this.tokens=o}}e.MultilineTokens=h;function d(l){return l instanceof Uint32Array?l:new Uint32Array(l)}class r{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,o){this._pieces=t||[],this._isComplete=o}setPartial(t,o){let c=t;if(o.length>0){const y=o[0].getRange(),b=o[o.length-1].getRange();if(!y||!b)return t;c=t.plusRange(y).plusRange(b)}let f=null;for(let y=0,b=this._pieces.length;y<b;y++){const g=this._pieces[y];if(g.endLineNumber<c.startLineNumber)continue;if(g.startLineNumber>c.endLineNumber){f=f||{index:y};break}if(g.removeTokens(c),g.isEmpty()){this._pieces.splice(y,1),y--,b--;continue}if(g.endLineNumber<c.startLineNumber)continue;if(g.startLineNumber>c.endLineNumber){f=f||{index:y};continue}const[m,w]=g.split(c);if(m.isEmpty()){f=f||{index:y};continue}w.isEmpty()||(this._pieces.splice(y,1,m,w),y++,b++,f=f||{index:y})}return f=f||{index:this._pieces.length},o.length>0&&(this._pieces=_.arrayInsert(this._pieces,f.index,o)),c}isComplete(){return this._isComplete}addSemanticTokens(t,o){const c=this._pieces;if(c.length===0)return o;const f=r._findFirstPieceWithLine(c,t),y=c[f].getLineTokens(t);if(!y)return o;const b=o.getCount(),g=y.getCount();let m=0,w=[],D=0,k=0;const T=(R,M)=>{R!==k&&(k=R,w[D++]=R,w[D++]=M)};for(let R=0;R<g;R++){const M=y.getStartCharacter(R),A=y.getEndCharacter(R),O=y.getMetadata(R),P=((O&1?2048:0)|(O&2?4096:0)|(O&4?8192:0)|(O&8?8372224:0)|(O&16?4286578688:0))>>>0,F=~P>>>0;for(;m<b&&o.getEndOffset(m)<=M;)T(o.getEndOffset(m),o.getMetadata(m)),m++;for(m<b&&o.getStartOffset(m)<M&&T(M,o.getMetadata(m));m<b&&o.getEndOffset(m)<A;)T(o.getEndOffset(m),o.getMetadata(m)&F|O&P),m++;if(m<b)T(A,o.getMetadata(m)&F|O&P),o.getEndOffset(m)===A&&m++;else{const E=Math.min(Math.max(0,m-1),b-1);T(A,o.getMetadata(E)&F|O&P)}}for(;m<b;)T(o.getEndOffset(m),o.getMetadata(m)),m++;return new N.LineTokens(new Uint32Array(w),o.getLineContent())}static _findFirstPieceWithLine(t,o){let c=0,f=t.length-1;for(;c<f;){let y=c+Math.floor((f-c)/2);if(t[y].endLineNumber<o)c=y+1;else if(t[y].startLineNumber>o)f=y-1;else{for(;y>c&&t[y-1].startLineNumber<=o&&o<=t[y-1].endLineNumber;)y--;return y}}return c}acceptEdit(t,o,c,f,y){for(const b of this._pieces)b.acceptEdit(t,o,c,f,y)}}e.TokensStore2=r;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,o,c){let f=null;if(o<this._len&&(f=this._lineTokens[o]),f!==null&&f!==i)return new N.LineTokens(d(f),c);let y=new Uint32Array(2);return y[0]=c.length,y[1]=v(t),new N.LineTokens(y,c)}static _massageTokens(t,o,c){const f=c?d(c):null;if(o===0){let y=!1;if(f&&f.length>1&&(y=S.TokenMetadata.getLanguageId(f[1])!==t),!y)return i}if(!f||f.length===0){const y=new Uint32Array(2);return y[0]=o,y[1]=v(t),y.buffer}return f[f.length-2]=o,f.byteOffset===0&&f.byteLength===f.buffer.byteLength?f.buffer:f}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,o){o!==0&&(t+o>this._len&&(o=this._len-t),this._lineTokens.splice(t,o),this._len-=o)}_insertLines(t,o){if(o===0)return;let c=[];for(let f=0;f<o;f++)c[f]=null;this._lineTokens=_.arrayInsert(this._lineTokens,t,c),this._len+=o}setTokens(t,o,c,f,y){const b=n._massageTokens(t,c,f);this._ensureLine(o);const g=this._lineTokens[o];return this._lineTokens[o]=b,y?!n._equals(g,b):!1}static _equals(t,o){if(!t||!o)return!t&&!o;const c=d(t),f=d(o);if(c.length!==f.length)return!1;for(let y=0,b=c.length;y<b;y++)if(c[y]!==f[y])return!1;return!0}acceptEdit(t,o,c){this._acceptDeleteRange(t),this._acceptInsertText(new I.Position(t.startLineNumber,t.startColumn),o,c)}_acceptDeleteRange(t){const o=t.startLineNumber-1;if(o>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[o]=n._delete(this._lineTokens[o],t.startColumn-1,t.endColumn-1);return}this._lineTokens[o]=n._deleteEnding(this._lineTokens[o],t.startColumn-1);const c=t.endLineNumber-1;let f=null;c<this._len&&(f=n._deleteBeginning(this._lineTokens[c],t.endColumn-1)),this._lineTokens[o]=n._append(this._lineTokens[o],f),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,o,c){if(o===0&&c===0)return;const f=t.lineNumber-1;if(!(f>=this._len)){if(o===0){this._lineTokens[f]=n._insert(this._lineTokens[f],t.column-1,c);return}this._lineTokens[f]=n._deleteEnding(this._lineTokens[f],t.column-1),this._lineTokens[f]=n._insert(this._lineTokens[f],t.column-1,c),this._insertLines(t.lineNumber,o)}}static _deleteBeginning(t,o){return t===null||t===i?t:n._delete(t,0,o)}static _deleteEnding(t,o){if(t===null||t===i)return t;const c=d(t),f=c[c.length-2];return n._delete(t,o,f)}static _delete(t,o,c){if(t===null||t===i||o===c)return t;const f=d(t),y=f.length>>>1;if(o===0&&f[f.length-2]===c)return i;const b=N.LineTokens.findIndexInTokensArray(f,o),g=b>0?f[b-1<<1]:0,m=f[b<<1];if(c<m){const R=c-o;for(let M=b;M<y;M++)f[M<<1]-=R;return t}let w,D;g!==o?(f[b<<1]=o,w=b+1<<1,D=o):(w=b<<1,D=g);const k=c-o;for(let R=b+1;R<y;R++){const M=f[R<<1]-k;M>D&&(f[w++]=M,f[w++]=f[(R<<1)+1],D=M)}if(w===f.length)return t;let T=new Uint32Array(w);return T.set(f.subarray(0,w),0),T.buffer}static _append(t,o){if(o===i)return t;if(t===i)return o;if(t===null)return t;if(o===null)return null;const c=d(t),f=d(o),y=f.length>>>1;let b=new Uint32Array(c.length+f.length);b.set(c,0);let g=c.length;const m=c[c.length-2];for(let w=0;w<y;w++)b[g++]=f[w<<1]+m,b[g++]=f[(w<<1)+1];return b.buffer}static _insert(t,o,c){if(t===null||t===i)return t;const f=d(t),y=f.length>>>1;let b=N.LineTokens.findIndexInTokensArray(f,o);b>0&&f[b-1<<1]===o&&b--;for(let g=b;g<y;g++)f[g<<1]+=c;return t}}e.TokensStore=n}),define(te[249],ne([0,1,6,8,3,53,226,143,225,2]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends i.Disposable{constructor(a,u,h,d,r,n,l){super();this._onDidChangeContent=this._register(new _.Emitter),this._BOM=u,this._mightContainNonBasicASCII=!n,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._pieceTree=new S.PieceTreeBase(a,h,l)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(a){return this._pieceTree.createSnapshot(a?this._BOM:"")}getOffsetAt(a,u){return this._pieceTree.getOffsetAt(a,u)}getPositionAt(a){return this._pieceTree.getPositionAt(a)}getRangeAt(a,u){let h=a+u;const d=this.getPositionAt(a),r=this.getPositionAt(h);return new I.Range(d.lineNumber,d.column,r.lineNumber,r.column)}getValueInRange(a,u=0){if(a.isEmpty())return"";const h=this._getEndOfLine(u);return this._pieceTree.getValueInRange(a,h)}getValueLengthInRange(a,u=0){if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;let h=this.getOffsetAt(a.startLineNumber,a.startColumn);return this.getOffsetAt(a.endLineNumber,a.endColumn)-h}getCharacterCountInRange(a,u=0){if(this._mightContainNonBasicASCII){let h=0;const d=a.startLineNumber,r=a.endLineNumber;for(let n=d;n<=r;n++){const l=this.getLineContent(n),t=n===d?a.startColumn-1:0,o=n===r?a.endColumn-1:l.length;for(let c=t;c<o;c++)N.isHighSurrogate(l.charCodeAt(c))?(h=h+1,c=c+1):h=h+1}return h+=this._getEndOfLine(u).length*(r-d),h}return this.getValueLengthInRange(a,u)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(a){return this._pieceTree.getLineContent(a)}getLineCharCode(a,u){return this._pieceTree.getLineCharCode(a,u)}getLineLength(a){return this._pieceTree.getLineLength(a)}getLineFirstNonWhitespaceColumn(a){const u=N.firstNonWhitespaceIndex(this.getLineContent(a));return u===-1?0:u+1}getLineLastNonWhitespaceColumn(a){const u=N.lastNonWhitespaceIndex(this.getLineContent(a));return u===-1?0:u+2}_getEndOfLine(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(a){this._pieceTree.setEOL(a)}applyEdits(a,u,h){let d=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,l=!0,t=[];for(let m=0;m<a.length;m++){let w=a[m];l&&w._isTracked&&(l=!1);let D=w.range;if(w.text){let A=!0;n||(A=!N.isBasicASCII(w.text),n=A),!d&&A&&(d=N.containsRTL(w.text)),!r&&A&&(r=N.containsUnusualLineTerminators(w.text))}let k="",T=0,R=0,M=0;if(w.text){let A;[T,R,M,A]=(0,p.countEOL)(w.text);const O=this.getEOL();A===0||A===(O===`\r
`?2:1)?k=w.text:k=w.text.replace(/\r\n|\r|\n/g,O)}t[m]={sortIndex:m,identifier:w.identifier||null,range:D,rangeOffset:this.getOffsetAt(D.startLineNumber,D.startColumn),rangeLength:this.getValueLengthInRange(D),text:k,eolCount:T,firstLineLength:R,lastLineLength:M,forceMoveMarkers:Boolean(w.forceMoveMarkers),isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}t.sort(C._sortOpsAscending);let o=!1;for(let m=0,w=t.length-1;m<w;m++){let D=t[m].range.getEndPosition(),k=t[m+1].range.getStartPosition();if(k.isBeforeOrEqual(D)){if(k.isBefore(D))throw new Error("Overlapping ranges are not allowed!");o=!0}}l&&(t=this._reduceOperations(t));let c=h||u?C._getInverseEditRanges(t):[],f=[];if(u)for(let m=0;m<t.length;m++){let w=t[m],D=c[m];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let k=D.startLineNumber;k<=D.endLineNumber;k++){let T="";k===D.startLineNumber&&(T=this.getLineContent(w.range.startLineNumber),N.firstNonWhitespaceIndex(T)!==-1)||f.push({lineNumber:k,oldContent:T})}}let y=null;if(h){let m=0;y=[];for(let w=0;w<t.length;w++){const D=t[w],k=c[w],T=this.getValueInRange(D.range),R=D.rangeOffset+m;m+=D.text.length-T.length,y[w]={sortIndex:D.sortIndex,identifier:D.identifier,range:k,text:T,textChange:new v.TextChange(D.rangeOffset,T,R,D.text)}}o||y.sort((w,D)=>w.sortIndex-D.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=n;const b=this._doApplyEdits(t);let g=null;if(u&&f.length>0){f.sort((m,w)=>w.lineNumber-m.lineNumber),g=[];for(let m=0,w=f.length;m<w;m++){let D=f[m].lineNumber;if(m>0&&f[m-1].lineNumber===D)continue;let k=f[m].oldContent,T=this.getLineContent(D);T.length===0||T===k||N.firstNonWhitespaceIndex(T)!==-1||g.push(D)}}return this._onDidChangeContent.fire(),new L.ApplyEditsResult(y,b,g)}_reduceOperations(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]}_toSingleEditOperation(a){let u=!1;const h=a[0].range,d=a[a.length-1].range,r=new I.Range(h.startLineNumber,h.startColumn,d.endLineNumber,d.endColumn);let n=h.startLineNumber,l=h.startColumn;const t=[];for(let b=0,g=a.length;b<g;b++){const m=a[b],w=m.range;u=u||m.forceMoveMarkers,t.push(this.getValueInRange(new I.Range(n,l,w.startLineNumber,w.startColumn))),m.text.length>0&&t.push(m.text),n=w.endLineNumber,l=w.endColumn}const o=t.join(""),[c,f,y]=(0,p.countEOL)(o);return{sortIndex:0,identifier:a[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:o,eolCount:c,firstLineLength:f,lastLineLength:y,forceMoveMarkers:u,isAutoWhitespaceEdit:!1}}_doApplyEdits(a){a.sort(C._sortOpsDescending);let u=[];for(let h=0;h<a.length;h++){let d=a[h];const r=d.range.startLineNumber,n=d.range.startColumn,l=d.range.endLineNumber,t=d.range.endColumn;if(r===l&&n===t&&d.text.length===0)continue;d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const o=new I.Range(r,n,l,t);u.push({range:o,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}return u}findMatchesLineByLine(a,u,h,d){return this._pieceTree.findMatchesLineByLine(a,u,h,d)}static _getInverseEditRanges(a){let u=[],h=0,d=0,r=null;for(let n=0,l=a.length;n<l;n++){let t=a[n],o,c;r?r.range.endLineNumber===t.range.startLineNumber?(o=h,c=d+(t.range.startColumn-r.range.endColumn)):(o=h+(t.range.startLineNumber-r.range.endLineNumber),c=t.range.startColumn):(o=t.range.startLineNumber,c=t.range.startColumn);let f;if(t.text.length>0){const y=t.eolCount+1;y===1?f=new I.Range(o,c,o,c+t.firstLineLength):f=new I.Range(o,c,o+y-1,t.lastLineLength+1)}else f=new I.Range(o,c,o,c);h=f.endLineNumber,d=f.endColumn,u.push(f),r=t}return u}static _sortOpsAscending(a,u){let h=I.Range.compareRangesUsingEnds(a.range,u.range);return h===0?a.sortIndex-u.sortIndex:h}static _sortOpsDescending(a,u){let h=I.Range.compareRangesUsingEnds(a.range,u.range);return h===0?u.sortIndex-a.sortIndex:-h}}e.PieceTreeTextBuffer=C}),define(te[559],ne([0,1,8,226,249]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class L{constructor(v,i,C,s,a,u,h,d,r){this._chunks=v,this._bom=i,this._cr=C,this._lf=s,this._crlf=a,this._containsRTL=u,this._containsUnusualLineTerminators=h,this._isBasicASCII=d,this._normalizeEOL=r}_getEOL(v){const i=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return i===0?v===1?`
`:`\r
`:C>i/2?`\r
`:`
`}create(v){const i=this._getEOL(v);let C=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,u=C.length;a<u;a++){let h=C[a].buffer.replace(/\r\n|\r|\n/g,i),d=(0,N.createLineStartsFast)(h);C[a]=new N.StringBuffer(h,d)}const s=new I.PieceTreeTextBuffer(C,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}e.PieceTreeTextBufferFactory=L;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&_.startsWithUTF8BOM(v)&&(this.BOM=_.UTF8_BOM_CHARACTER,v=v.substr(1));const i=v.charCodeAt(v.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=i)}_acceptChunk1(v,i){!i&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const i=(0,N.createLineStarts)(this._tmpLineStarts,v);this.chunks.push(new N.StringBuffer(v,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=_.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=_.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new L(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);let i=(0,N.createLineStartsFast)(v.buffer);v.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(te[78],ne([0,1,136,18]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class I{clone(){return this}equals(v){return this===v}}e.NULL_STATE=new I,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new N.LanguageIdentifier(e.NULL_MODE_ID,0);function L(p,v,i,C){return new _.TokenizationResult([new _.Token(C,"",p)],i)}e.nullTokenize=L;function S(p,v,i,C){let s=new Uint32Array(2);return s[0]=C,s[1]=(p<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new _.TokenizationResult2(s,i===null?e.NULL_STATE:i)}e.nullTokenize2=S}),define(te[560],ne([0,1,19,10,87,13,18,78,2,83,143,17]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class a{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,l){l!==0&&(n+l>this._len&&(l=this._len-n),this._beginState.splice(n,l),this._valid.splice(n,l),this._len-=l)}_insertLines(n,l){if(l===0)return;let t=[],o=[];for(let c=0;c<l;c++)t[c]=null,o[c]=!1;this._beginState=_.arrayInsert(this._beginState,n,t),this._valid=_.arrayInsert(this._valid,n,o),this._len+=l}_setValid(n,l){this._ensureLine(n),this._valid[n]=l}_setBeginState(n,l){this._ensureLine(n),this._beginState[n]=l}setEndState(n,l,t){if(this._setValid(l,!0),this._invalidLineStartIndex=l+1,l===n-1)return;const o=this.getBeginState(l+1);if(o===null||!t.equals(o)){this._setBeginState(l+1,t),this._invalidateLine(l+1);return}let c=l+1;for(;c<n&&this._isValid(c);)c++;this._invalidLineStartIndex=c}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,l){const t=n.endLineNumber-n.startLineNumber,c=Math.min(t,l);for(let f=c;f>=0;f--)this._invalidateLine(n.startLineNumber+f-1);this._acceptDeleteRange(n),this._acceptInsertText(new L.Position(n.startLineNumber,n.startColumn),l)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,l){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,l)}}e.TokenizationStateStore=a;class u extends v.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new a,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(l=>{const t=this._textModel.getLanguageIdentifier();l.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(l=>{if(l.isFlush){this._resetTokenizationState();return}for(let t=0,o=l.changes.length;t<o;t++){const c=l.changes[t],[f]=(0,C.countEOL)(c.text);this._tokenizationStateStore.applyEdits(c.range,f)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,l]=h(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(l),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&s.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){const n=this._textModel.getLineCount(),l=1,t=new C.MultilineTokensBuilder,o=i.StopWatch.create(!1);let c=-1;for(;this._hasLinesToTokenize()&&!(o.elapsed()>l||(c=this._tokenizeOneInvalidLine(t),c>=n)););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens,c>=n)}tokenizeViewport(n,l){const t=new C.MultilineTokensBuilder;this._tokenizeViewport(t,n,l),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const l=new C.MultilineTokensBuilder;this._updateTokensUntilLine(l,n),this._textModel.setTokens(l.tokens)}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return n>l?!1:n<l||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,l),l}_updateTokensUntilLine(n,l){if(!this._tokenizationSupport)return;const t=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),c=l-1;for(let f=this._tokenizationStateStore.invalidLineStartIndex;f<=c;f++){const y=this._textModel.getLineContent(f+1),b=this._tokenizationStateStore.getBeginState(f),g=d(t,this._tokenizationSupport,y,!0,b);n.add(f+1,g.tokens),this._tokenizationStateStore.setEndState(o,f,g.endState),f=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(n,l,t){if(!this._tokenizationSupport||t<=this._tokenizationStateStore.invalidLineStartIndex)return;if(l<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let o=this._textModel.getLineFirstNonWhitespaceColumn(l),c=[],f=null;for(let g=l-1;o>0&&g>=1;g--){let m=this._textModel.getLineFirstNonWhitespaceColumn(g);if(m!==0&&m<o){if(f=this._tokenizationStateStore.getBeginState(g-1),f)break;c.push(this._textModel.getLineContent(g)),o=m}}f||(f=this._tokenizationSupport.getInitialState());const y=this._textModel.getLanguageIdentifier();let b=f;for(let g=c.length-1;g>=0;g--)b=d(y,this._tokenizationSupport,c[g],!1,b).endState;for(let g=l;g<=t;g++){let m=this._textModel.getLineContent(g),w=d(y,this._tokenizationSupport,m,!0,b);n.add(g,w.tokens),this._tokenizationStateStore.setFakeTokens(g-1),b=w.endState}}}e.TextModelTokenization=u;function h(r){const n=r.getLanguageIdentifier();let l=r.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(n.language),t=null;if(l)try{t=l.getInitialState()}catch(o){(0,N.onUnexpectedError)(o),l=null}return[l,t]}function d(r,n,l,t,o){let c=null;if(n)try{c=n.tokenize2(l,t,o.clone(),0)}catch(f){(0,N.onUnexpectedError)(f)}return c||(c=(0,p.nullTokenize2)(r.id,l,o,0)),I.LineTokens.convertToEndOffset(c.tokens,l.length),c}}),define(te[250],ne([0,1,8,87,78]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>I.NULL_STATE,tokenize2:(i,C,s,a)=>(0,I.nullTokenize2)(0,i,s,a)};function S(i,C=L){return v(i,C||L)}e.tokenizeToString=S;function p(i,C,s,a,u,h,d){let r="<div>",n=a,l=0;for(let t=0,o=C.getCount();t<o;t++){const c=C.getEndOffset(t);if(c<=a)continue;let f="";for(;n<c&&n<u;n++){const y=i.charCodeAt(n);switch(y){case 9:let b=h-(n+l)%h;for(l+=b-1;b>0;)f+=d?"&#160;":" ",b--;break;case 60:f+="&lt;";break;case 62:f+="&gt;";break;case 38:f+="&amp;";break;case 0:f+="&#00;";break;case 65279:case 8232:case 8233:case 133:f+="\uFFFD";break;case 13:f+="&#8203";break;case 32:f+=d?"&#160;":" ";break;default:f+=String.fromCharCode(y)}}if(r+=`<span style="${C.getInlineStyle(t,s)}">${f}</span>`,c>u||n>=u)break}return r+="</div>",r}e.tokenizeLineToHTML=p;function v(i,C){let s='<div class="monaco-tokenized-source">',a=_.splitLines(i),u=C.getInitialState();for(let h=0,d=a.length;h<d;h++){let r=a[h];h>0&&(s+="<br/>");let n=C.tokenize2(r,!0,u,0);N.LineTokens.convertToEndOffset(n.tokens,r.length);let t=new N.LineTokens(n.tokens,r).inflate(),o=0;for(let c=0,f=t.getCount();c<f;c++){const y=t.getClassName(c),b=t.getEndOffset(c);s+=`<span class="${y}">${_.escape(r.substring(o,b))}</span>`,o=b}u=n.endState}return s+="</div>",s}}),define(te[68],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,_.createDecorator)("textModelService")}),define(te[144],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,_.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,_.createDecorator)("textResourcePropertiesService")}),define(te[251],ne([0,1,6,2,222,18]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends N.Disposable{constructor(){super();this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(L.TokenizationRegistry.onDidChange(v=>{v.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,N.markAsSingleton)(new S)),this._INSTANCE}_updateColorMap(){const v=L.TokenizationRegistry.getColorMap();if(!v){this._colors=[I.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[I.RGBA8.Empty];for(let C=1;C<v.length;C++){const s=v[C].rgba;this._colors[C]=new I.RGBA8(s.r,s.g,s.b,Math.round(s.a*255))}let i=v[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)}getColor(v){return(v<1||v>=this._colors.length)&&(v=2),this._colors[v]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(te[252],ne([0,1,19,23,10,49,3,18,54,142]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class C{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,r){let n;typeof d=="string"?n=`${r.id}/${d}`:(n=`${r.id}/${d.name}`,r.children.get(n)!==void 0&&(n=`${r.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let l=n;for(let t=0;r.children.get(l)!==void 0;t++)l=`${n}_${t}`;return l}static empty(d){return d.children.size===0}}e.TreeElement=C;class s extends C{constructor(d,r,n){super();this.id=d,this.parent=r,this.symbol=n,this.children=new Map}}e.OutlineElement=s;class a extends C{constructor(d,r,n,l){super();this.id=d,this.parent=r,this.label=n,this.order=l,this.children=new Map}}e.OutlineGroup=a;class u extends C{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,r){let n=this._keys.for(d,!0),l=u._requests.get(n);if(!l){let t=new N.CancellationTokenSource;l={promiseCnt:0,source:t,promise:u._create(d,t.token),model:void 0},u._requests.set(n,l);const o=Date.now();l.promise.then(()=>{this._requestDurations.update(d,Date.now()-o)})}return l.model?Promise.resolve(l.model):(l.promiseCnt+=1,r.onCancellationRequested(()=>{--l.promiseCnt==0&&(l.source.cancel(),u._requests.delete(n))}),new Promise((t,o)=>{l.promise.then(c=>{l.model=c,t(c)},c=>{u._requests.delete(n),o(c)})}))}static _create(d,r){const n=new N.CancellationTokenSource(r),l=new u(d.uri),t=p.DocumentSymbolProviderRegistry.ordered(d),o=t.map((f,y)=>{var b;let g=C.findId(`provider_${y}`,l),m=new a(g,l,(b=f.displayName)!==null&&b!==void 0?b:"Unknown Outline Provider",y);return Promise.resolve(f.provideDocumentSymbols(d,n.token)).then(w=>{for(const D of w||[])u._makeOutlineElement(D,m);return m},w=>((0,I.onUnexpectedExternalError)(w),m)).then(w=>{C.empty(w)?w.remove():l._groups.set(g,w)})}),c=p.DocumentSymbolProviderRegistry.onDidChange(()=>{const f=p.DocumentSymbolProviderRegistry.ordered(d);(0,_.equals)(f,t)||n.cancel()});return Promise.all(o).then(()=>n.token.isCancellationRequested&&!r.isCancellationRequested?u._create(d,r):l._compact()).finally(()=>{c.dispose()})}static _makeOutlineElement(d,r){let n=C.findId(d,r),l=new s(n,r,d);if(d.children)for(const t of d.children)u._makeOutlineElement(t,l);r.children.set(l.id,l)}_compact(){let d=0;for(const[r,n]of this._groups)n.children.size===0?this._groups.delete(r):d+=1;if(d!==1)this.children=this._groups;else{let r=v.Iterable.first(this._groups.values());for(let[,n]of r.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const d=[];for(const r of this.children.values())r instanceof s?d.push(r.symbol):d.push(...v.Iterable.map(r.children.values(),n=>n.symbol));return d.sort((r,n)=>S.Range.compareRangesUsingStarts(r.range,n.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),r=[];return u._flattenDocumentSymbols(r,d,""),r.sort((n,l)=>S.Range.compareRangesUsingStarts(n.range,l.range))}static _flattenDocumentSymbols(d,r,n){for(const l of r)d.push({kind:l.kind,tags:l.tags,name:l.name,detail:l.detail,containerName:l.containerName||n,range:l.range,selectionRange:l.selectionRange,children:void 0}),l.children&&u._flattenDocumentSymbols(d,l.children,l.name)}}e.OutlineModel=u,u._requestDurations=new i.LanguageFeatureRequestDelays(p.DocumentSymbolProviderRegistry,350),u._requests=new L.LRUCache(9,.75),u._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(h,d){return`${h.id}/${d?h.getVersionId():""}/${this._hash(p.DocumentSymbolProviderRegistry.all(h))}`}_hash(h){let d="";for(const r of h){let n=this._data.get(r);typeof n=="undefined"&&(n=this._counter++,this._data.set(r,n)),d+=n}return d}}}),define(te[253],ne([0,1,136,18,78,242]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class p{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,t){return this._INSTANCE.create(l,t)}create(l,t){if(l!==null&&l.depth>=this._maxCacheDepth)return new v(l,t);let o=v.getStackElementId(l);o.length>0&&(o+="|"),o+=t;let c=this._entries[o];return c||(c=new v(l,t),this._entries[o]=c,c)}}p._INSTANCE=new p(S);class v{constructor(l,t){this.parent=l,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let t="";for(;l!==null;)t.length>0&&(t+="|"),t+=l.state,l=l.parent;return t}static _equals(l,t){for(;l!==null&&t!==null;){if(l===t)return!0;if(l.state!==t.state)return!1;l=l.parent,t=t.parent}return l===null&&t===null}equals(l){return v._equals(this,l)}push(l){return p.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return p.create(this.parent,l)}}class i{constructor(l,t){this.modeId=l,this.state=t}equals(l){return this.modeId===l.modeId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class C{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,t){return this._INSTANCE.create(l,t)}create(l,t){if(t!==null)return new s(l,t);if(l!==null&&l.depth>=this._maxCacheDepth)return new s(l,t);let o=v.getStackElementId(l),c=this._entries[o];return c||(c=new s(l,null),this._entries[o]=c,c)}}C._INSTANCE=new C(S);class s{constructor(l,t){this.stack=l,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:C.create(this.stack,this.embeddedModeData)}equals(l){return!(l instanceof s)||!this.stack.equals(l.stack)?!1:this.embeddedModeData===null&&l.embeddedModeData===null?!0:this.embeddedModeData===null||l.embeddedModeData===null?!1:this.embeddedModeData.equals(l.embeddedModeData)}}class a{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(l,t){this._language=t}emit(l,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new _.Token(l,t,this._language)))}nestedModeTokenize(l,t,o,c){const f=o.modeId,y=o.state,b=N.TokenizationRegistry.get(f);if(!b)return this.enterMode(c,f),this.emit(c,""),y;let g=b.tokenize(l,t,y,c);return this._tokens=this._tokens.concat(g.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,g.endState}finalize(l){return new _.TokenizationResult(this._tokens,l)}}class u{constructor(l,t){this._modeService=l,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(l,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(l,t){let o=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(l),this._tokens.push(o))}static _merge(l,t,o){let c=l!==null?l.length:0,f=t.length,y=o!==null?o.length:0;if(c===0&&f===0&&y===0)return new Uint32Array(0);if(c===0&&f===0)return o;if(f===0&&y===0)return l;let b=new Uint32Array(c+f+y);l!==null&&b.set(l);for(let g=0;g<f;g++)b[c+g]=t[g];return o!==null&&b.set(o,c+f),b}nestedModeTokenize(l,t,o,c){const f=o.modeId,y=o.state,b=N.TokenizationRegistry.get(f);if(!b)return this.enterMode(c,f),this.emit(c,""),y;let g=b.tokenize2(l,t,y,c);return this._prependTokens=u._merge(this._prependTokens,this._tokens,g.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,g.endState}finalize(l){return new _.TokenizationResult2(u._merge(this._prependTokens,this._tokens,null),l)}}class h{constructor(l,t,o,c){this._modeService=l,this._standaloneThemeService=t,this._modeId=o,this._lexer=c,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let f=!1;this._tokenizationRegistryListener=N.TokenizationRegistry.onDidChange(y=>{if(f)return;let b=!1;for(let g=0,m=y.changedLanguages.length;g<m;g++){let w=y.changedLanguages[g];if(this._embeddedModes[w]){b=!0;break}}b&&(f=!0,N.TokenizationRegistry.fire([this._modeId]),f=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let l=[];for(let t in this._embeddedModes){const o=N.TokenizationRegistry.get(t);if(o){if(o instanceof h){const f=o.getLoadStatus();f.loaded===!1&&l.push(f.promise)}continue}const c=N.TokenizationRegistry.getPromise(t);c&&l.push(c)}return l.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(t=>{})}}getInitialState(){let l=p.create(null,this._lexer.start);return C.create(l,null)}tokenize(l,t,o,c){let f=new a,y=this._tokenize(l,t,o,c,f);return f.finalize(y)}tokenize2(l,t,o,c){let f=new u(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),y=this._tokenize(l,t,o,c,f);return f.finalize(y)}_tokenize(l,t,o,c,f){return o.embeddedModeData?this._nestedTokenize(l,t,o,c,f):this._myTokenize(l,t,o,c,f)}_findLeavingNestedModeOffset(l,t){let o=this._lexer.tokenizer[t.stack.state];if(!o&&(o=L.findRules(this._lexer,t.stack.state),!o))throw L.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let c=-1,f=!1;for(const y of o){if(!L.isIAction(y.action)||y.action.nextEmbedded!=="@pop")continue;f=!0;let b=y.regex,g=y.regex.source;if(g.substr(0,4)==="^(?:"&&g.substr(g.length-1,1)===")"){let w=(b.ignoreCase?"i":"")+(b.unicode?"u":"");b=new RegExp(g.substr(4,g.length-5),w)}let m=l.search(b);m===-1||m!==0&&y.matchOnlyAtLineStart||(c===-1||m<c)&&(c=m)}if(!f)throw L.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return c}_nestedTokenize(l,t,o,c,f){let y=this._findLeavingNestedModeOffset(l,o);if(y===-1){let m=f.nestedModeTokenize(l,t,o.embeddedModeData,c);return C.create(o.stack,new i(o.embeddedModeData.modeId,m))}let b=l.substring(0,y);b.length>0&&f.nestedModeTokenize(b,!1,o.embeddedModeData,c);let g=l.substring(y);return this._myTokenize(g,t,o,c+y,f)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,t,o,c,f){f.enterMode(c,this._modeId);const y=l.length,b=t&&this._lexer.includeLF?l+`
`:l,g=b.length;let m=o.embeddedModeData,w=o.stack,D=0,k=null,T=!0;for(;T||D<g;){const R=D,M=w.depth,A=k?k.groups.length:0,O=w.state;let P=null,F=null,E=null,x=null,W=null;if(k){P=k.matches;const se=k.groups.shift();F=se.matched,E=se.action,x=k.rule,k.groups.length===0&&(k=null)}else{if(!T&&D>=g)break;T=!1;let se=this._lexer.tokenizer[O];if(!se&&(se=L.findRules(this._lexer,O),!se))throw L.createError(this._lexer,"tokenizer state is not defined: "+O);let re=b.substr(D);for(const J of se)if((D===0||!J.matchOnlyAtLineStart)&&(P=re.match(J.regex),P)){F=P[0],E=J.action;break}}if(P||(P=[""],F=""),E||(D<g&&(P=[b.charAt(D)],F=P[0]),E=this._lexer.defaultToken),F===null)break;for(D+=F.length;L.isFuzzyAction(E)&&L.isIAction(E)&&E.test;)E=E.test(F,P,O,D===g);let G=null;if(typeof E=="string"||Array.isArray(E))G=E;else if(E.group)G=E.group;else if(E.token!==null&&E.token!==void 0){if(E.tokenSubst?G=L.substituteMatches(this._lexer,E.token,F,P,O):G=E.token,E.nextEmbedded)if(E.nextEmbedded==="@pop"){if(!m)throw L.createError(this._lexer,"cannot pop embedded mode if not inside one");m=null}else{if(m)throw L.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");W=L.substituteMatches(this._lexer,E.nextEmbedded,F,P,O)}if(E.goBack&&(D=Math.max(0,D-E.goBack)),E.switchTo&&typeof E.switchTo=="string"){let se=L.substituteMatches(this._lexer,E.switchTo,F,P,O);if(se[0]==="@"&&(se=se.substr(1)),L.findRules(this._lexer,se))w=w.switchTo(se);else throw L.createError(this._lexer,"trying to switch to a state '"+se+"' that is undefined in rule: "+this._safeRuleName(x))}else{if(E.transform&&typeof E.transform=="function")throw L.createError(this._lexer,"action.transform not supported");if(E.next)if(E.next==="@push"){if(w.depth>=this._lexer.maxStack)throw L.createError(this._lexer,"maximum tokenizer stack size reached: ["+w.state+","+w.parent.state+",...]");w=w.push(O)}else if(E.next==="@pop"){if(w.depth<=1)throw L.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(x));w=w.pop()}else if(E.next==="@popall")w=w.popall();else{let se=L.substituteMatches(this._lexer,E.next,F,P,O);if(se[0]==="@"&&(se=se.substr(1)),L.findRules(this._lexer,se))w=w.push(se);else throw L.createError(this._lexer,"trying to set a next state '"+se+"' that is undefined in rule: "+this._safeRuleName(x))}}E.log&&typeof E.log=="string"&&L.log(this._lexer,this._lexer.languageId+": "+L.substituteMatches(this._lexer,E.log,F,P,O))}if(G===null)throw L.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(x));const Y=se=>{let re=this._modeService.getModeIdForLanguageName(se);re&&(se=re);const J=this._getNestedEmbeddedModeData(se);if(D<g){const le=l.substr(D);return this._nestedTokenize(le,t,C.create(w,J),c+D,f)}else return C.create(w,J)};if(Array.isArray(G)){if(k&&k.groups.length>0)throw L.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(x));if(P.length!==G.length+1)throw L.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(x));let se=0;for(let re=1;re<P.length;re++)se+=P[re].length;if(se!==F.length)throw L.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(x));k={rule:x,matches:P,groups:[]};for(let re=0;re<G.length;re++)k.groups[re]={action:G[re],matched:P[re+1]};D-=F.length;continue}else{if(G==="@rematch"&&(D-=F.length,F="",P=null,G="",W!==null))return Y(W);if(F.length===0){if(g===0||M!==w.depth||O!==w.state||(k?k.groups.length:0)!==A)continue;throw L.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(x))}let se=null;if(L.isString(G)&&G.indexOf("@brackets")===0){let re=G.substr("@brackets".length),J=d(this._lexer,F);if(!J)throw L.createError(this._lexer,"@brackets token returned but no bracket defined as: "+F);se=L.sanitize(J.token+re)}else{let re=G===""?"":G+this._lexer.tokenPostfix;se=L.sanitize(re)}R<y&&f.emit(R+c,se)}if(W!==null)return Y(W)}return C.create(w,m)}_getNestedEmbeddedModeData(l){let t=this._locateMode(l);if(t){let o=N.TokenizationRegistry.get(t);if(o)return new i(t,o.getInitialState())}return new i(t||I.NULL_MODE_ID,I.NULL_STATE)}_locateMode(l){if(!l||!this._modeService.isRegisteredMode(l))return null;if(l===this._modeId)return l;let t=this._modeService.getModeId(l);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=h;function d(n,l){if(!l)return null;l=L.fixCase(n,l);let t=n.brackets;for(const o of t){if(o.open===l)return{token:o.token,bracketType:1};if(o.close===l)return{token:o.token,bracketType:-1}}return null}function r(n,l,t,o){return new h(n,l,t,o)}e.createTokenizationSupport=r}),define(te[561],ne([0,1,14,8,87,18,115,63,253]),function($,e,_,N,I,L,S,p,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const C=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:d=>d});class s{static colorizeElement(r,n,l,t){t=t||{};let o=t.theme||"vs",c=t.mimeType||l.getAttribute("lang")||l.getAttribute("data-lang");if(!c)return console.error("Mode not detected"),Promise.resolve();r.setTheme(o);let f=l.firstChild?l.firstChild.nodeValue:"";l.className+=" "+o;let y=b=>{var g;const m=(g=C==null?void 0:C.createHTML(b))!==null&&g!==void 0?g:b;l.innerHTML=m};return this.colorize(n,f||"",c,t).then(y,b=>console.error(b))}static colorize(r,n,l,t){let o=4;t&&typeof t.tabSize=="number"&&(o=t.tabSize),N.startsWithUTF8BOM(n)&&(n=n.substr(1));let c=N.splitLines(n),f=r.getModeId(l);if(!f)return Promise.resolve(u(c,o));r.triggerMode(f);const y=L.TokenizationRegistry.get(f);if(y)return a(c,o,y);const b=L.TokenizationRegistry.getPromise(f);return b?new Promise((g,m)=>{b.then(w=>{a(c,o,w).then(g,m)},m)}):new Promise((g,m)=>{let w=null,D=null;const k=()=>{w&&(w.dispose(),w=null),D&&(D.dispose(),D=null);const T=L.TokenizationRegistry.get(f);if(T){a(c,o,T).then(g,m);return}g(u(c,o))};D=new _.TimeoutTimer,D.cancelAndSet(k,500),w=L.TokenizationRegistry.onDidChange(T=>{T.changedLanguages.indexOf(f)>=0&&k()})})}static colorizeLine(r,n,l,t,o=4){const c=p.ViewLineRenderingData.isBasicASCII(r,n),f=p.ViewLineRenderingData.containsRTL(r,c,l);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,c,f,0,t,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,n,l=4){let t=r.getLineContent(n);r.forceTokenization(n);let c=r.getLineTokens(n).inflate();return this.colorizeLine(t,r.mightContainNonBasicASCII(),r.mightContainRTL(),c,l)}}e.Colorizer=s;function a(d,r,n){return new Promise((l,t)=>{const o=()=>{const c=h(d,r,n);if(n instanceof v.MonarchTokenizer){const f=n.getLoadStatus();if(f.loaded===!1){f.promise.then(o,t);return}}l(c)};o()})}function u(d,r){let n=[];const l=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=l;for(let o=0,c=d.length;o<c;o++){let f=d[o];t[0]=f.length;const y=new I.LineTokens(t,f),b=p.ViewLineRenderingData.isBasicASCII(f,!0),g=p.ViewLineRenderingData.containsRTL(f,b,!0);let m=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,f,!1,b,g,0,y,[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(m.html),n.push("<br/>")}return n.join("")}function h(d,r,n){let l=[],t=n.getInitialState();for(let o=0,c=d.length;o<c;o++){let f=d[o],y=n.tokenize2(f,!0,t,0);I.LineTokens.convertToEndOffset(y.tokens,f.length);let b=new I.LineTokens(y.tokens,f);const g=p.ViewLineRenderingData.isBasicASCII(f,!0),m=p.ViewLineRenderingData.containsRTL(f,g,!0);let w=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,f,!1,g,m,0,b.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));l=l.concat(w.html),l.push("<br/>"),t=y.endState}return l.join("")}}),define(te[120],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,_.createDecorator)("themeService")}),define(te[88],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,_.createDecorator)("clipboardService")}),define(te[26],ne([0,1,6,54,2,72,20,9]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,p.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new _.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,i){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:v,handler:i})}if(v.description){const h=[];for(let r of v.description.args)h.push(r.constraint);const d=v.handler;v.handler=function(r,...n){return(0,S.validateConstraints)(n,h),d(r,...n)}}const{id:C}=v;let s=this._commands.get(C);s||(s=new L.LinkedList,this._commands.set(C,s));let a=s.unshift(v),u=(0,I.toDisposable)(()=>{a();const h=this._commands.get(C);(h==null?void 0:h.isEmpty())&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),u}registerCommandAlias(v,i){return e.CommandsRegistry.registerCommand(v,(C,...s)=>C.get(e.ICommandService).executeCommand(i,...s))}getCommand(v){const i=this._commands.get(v);if(!(!i||i.isEmpty()))return N.Iterable.first(i)}getCommands(){const v=new Map;for(const i of this._commands.keys()){const C=this.getCommand(i);C&&v.set(i,C)}return v}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(te[254],ne([0,1,23,10,24,18,38,26,20,401,3]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(r){return r&&!!r.data}e.isSemanticTokens=s;function a(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=a;function u(r,n,l){const t=h(r);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(r,n,l))}:null}e.getDocumentSemanticTokens=u;function h(r){const n=L.DocumentSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}function d(r){const n=L.DocumentRangeSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=d,p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(r,...n)=>ke(void 0,void 0,void 0,function*(){const[l]=n;(0,v.assertType)(l instanceof I.URI);const t=r.get(S.IModelService).getModel(l);if(!t)return;const o=h(t);return o?o.getLegend():r.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",l)})),p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(r,...n)=>ke(void 0,void 0,void 0,function*(){const[l]=n;(0,v.assertType)(l instanceof I.URI);const t=r.get(S.IModelService).getModel(l);if(!t)return;const o=u(t,null,_.CancellationToken.None);if(!o)return r.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",l,t.getFullModelRange());const{provider:c,request:f}=o;let y;try{y=yield f}catch(g){(0,N.onUnexpectedExternalError)(g);return}if(!y||!s(y))return;const b=(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:y.data});return y.resultId&&c.releaseDocumentSemanticTokens(y.resultId),b})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...n)=>ke(void 0,void 0,void 0,function*(){const[l]=n;(0,v.assertType)(l instanceof I.URI);const t=r.get(S.IModelService).getModel(l);if(!t)return;const o=d(t);if(!!o)return o.getLegend()})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(r,...n)=>ke(void 0,void 0,void 0,function*(){const[l,t]=n;(0,v.assertType)(l instanceof I.URI),(0,v.assertType)(C.Range.isIRange(t));const o=r.get(S.IModelService).getModel(l);if(!o)return;const c=d(o);if(!c)return;let f;try{f=yield c.provideDocumentRangeSemanticTokens(o,C.Range.lift(t),_.CancellationToken.None)}catch(y){(0,N.onUnexpectedExternalError)(y);return}if(!(!f||!s(f)))return(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:f.data})}))}),define(te[255],ne([0,1,23,10,24,18,38,2,26,20]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class C{constructor(){this.lenses=[],this._disposables=new p.DisposableStore}dispose(){this._disposables.dispose()}add(u,h){this._disposables.add(u);for(const d of u.lenses)this.lenses.push({symbol:d,provider:h})}}e.CodeLensModel=C;function s(a,u){return ke(this,void 0,void 0,function*(){const h=L.CodeLensProviderRegistry.ordered(a),d=new Map,r=new C,n=h.map((l,t)=>ke(this,void 0,void 0,function*(){d.set(l,t);try{const o=yield Promise.resolve(l.provideCodeLenses(a,u));o&&r.add(o,l)}catch(o){(0,N.onUnexpectedExternalError)(o)}}));return yield Promise.all(n),r.lenses=r.lenses.sort((l,t)=>l.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:d.get(l.provider)<d.get(t.provider)?-1:d.get(l.provider)>d.get(t.provider)?1:l.symbol.range.startColumn<t.symbol.range.startColumn?-1:l.symbol.range.startColumn>t.symbol.range.startColumn?1:0),r})}e.getCodeLensModel=s,v.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...u){let[h,d]=u;(0,i.assertType)(I.URI.isUri(h)),(0,i.assertType)(typeof d=="number"||!d);const r=a.get(S.IModelService).getModel(h);if(!r)throw(0,N.illegalArgument)();const n=[],l=new p.DisposableStore;return s(r,_.CancellationToken.None).then(t=>{l.add(t);let o=[];for(const c of t.lenses)d==null||Boolean(c.symbol.command)?n.push(c.symbol):d-- >0&&c.provider.resolveCodeLens&&o.push(Promise.resolve(c.provider.resolveCodeLens(r,c.symbol,_.CancellationToken.None)).then(f=>n.push(f||c.symbol)));return Promise.all(o)}).then(()=>n).finally(()=>{setTimeout(()=>l.dispose(),100)})})}),define(te[256],ne([0,1,23,10,24,3,18,38,26]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(s,a){const u=[],d=S.ColorProviderRegistry.ordered(s).reverse().map(r=>Promise.resolve(r.provideDocumentColors(s,a)).then(n=>{if(Array.isArray(n))for(let l of n)u.push({colorInfo:l,provider:r})}));return Promise.all(d).then(()=>u)}e.getColors=i;function C(s,a,u,h){return Promise.resolve(u.provideColorPresentations(s,a,h))}e.getColorPresentations=C,v.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(s,...a){const[u]=a;if(!(u instanceof I.URI))throw(0,N.illegalArgument)();const h=s.get(p.IModelService).getModel(u);if(!h)throw(0,N.illegalArgument)();const d=[],n=S.ColorProviderRegistry.ordered(h).reverse().map(l=>Promise.resolve(l.provideDocumentColors(h,_.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let o of t)d.push({range:o.range,color:[o.color.red,o.color.green,o.color.blue,o.color.alpha]})}));return Promise.all(n).then(()=>d)}),v.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(s,...a){const[u,h]=a,{uri:d,range:r}=h;if(!(d instanceof I.URI)||!Array.isArray(u)||u.length!==4||!L.Range.isIRange(r))throw(0,N.illegalArgument)();const[n,l,t,o]=u,c=s.get(p.IModelService).getModel(d);if(!c)throw(0,N.illegalArgument)();const f={range:r,color:{red:n,green:l,blue:t,alpha:o}},y=[],g=S.ColorProviderRegistry.ordered(c).reverse().map(m=>Promise.resolve(m.provideColorPresentations(c,f,_.CancellationToken.None)).then(w=>{Array.isArray(w)&&y.push(...w)}));return Promise.all(g).then(()=>y)})}),define(te[562],ne([0,1,24,38,23,68,252,26,20]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(C,s,a){return ke(this,void 0,void 0,function*(){const u=yield S.OutlineModel.create(C,a);return s?u.asListOfDocumentSymbols():u.getTopLevelSymbols()})}e.getDocumentSymbols=i,p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(C,...s){return ke(this,void 0,void 0,function*(){const[a]=s;(0,v.assertType)(_.URI.isUri(a));const u=C.get(N.IModelService).getModel(a);if(u)return i(u,!1,I.CancellationToken.None);const h=yield C.get(L.ITextModelService).createModelReference(a);try{return yield i(h.object.textEditorModel,!1,I.CancellationToken.None)}finally{h.dispose()}})})}),define(te[563],ne([0,1,23,10,24,3,18,38,26,2,19,20]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class a{constructor(r,n){this._link=r,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return ke(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=a;class u{constructor(r){this._disposables=new i.DisposableStore;let n=[];for(const[l,t]of r){const o=l.links.map(c=>new a(c,t));n=u._union(n,o),(0,i.isDisposable)(l)&&this._disposables.add(l)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,n){let l=[],t,o,c,f;for(t=0,c=0,o=r.length,f=n.length;t<o&&c<f;){const y=r[t],b=n[c];if(L.Range.areIntersectingOrTouching(y.range,b.range)){t++;continue}L.Range.compareRangesUsingStarts(y.range,b.range)<0?(l.push(y),t++):(l.push(b),c++)}for(;t<o;t++)l.push(r[t]);for(;c<f;c++)l.push(n[c]);return l}}e.LinksList=u;function h(d,r){const n=[],l=S.LinkProviderRegistry.ordered(d).reverse().map((t,o)=>Promise.resolve(t.provideLinks(d,r)).then(c=>{c&&(n[o]=[c,t])},N.onUnexpectedExternalError));return Promise.all(l).then(()=>{const t=new u((0,C.coalesce)(n));return r.isCancellationRequested?(t.dispose(),new u([])):t})}e.getLinks=h,v.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...r)=>ke(void 0,void 0,void 0,function*(){let[n,l]=r;(0,s.assertType)(n instanceof I.URI),typeof l!="number"&&(l=0);const t=d.get(p.IModelService).getModel(n);if(!t)return[];const o=yield h(t,_.CancellationToken.None);if(!o)return[];for(let f=0;f<Math.min(l,o.links.length);f++)yield o.links[f].resolve(_.CancellationToken.None);const c=o.links.slice(0);return o.dispose(),c}))}),define(te[15],ne([0,1,17,8,9]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let L=_.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",_.isMacintosh),S.set("isLinux",_.isLinux),S.set("isWindows",_.isWindows),S.set("isWeb",_.isWeb),S.set("isMacNative",_.isMacintosh&&!_.isWeb),S.set("isEdge",L.indexOf("Edg/")>=0),S.set("isFirefox",L.indexOf("Firefox")>=0),S.set("isChrome",L.indexOf("Chrome")>=0),S.set("isSafari",L.indexOf("Safari")>=0);const p=Object.prototype.hasOwnProperty;class v{static has(M){return a.create(M)}static equals(M,A){return u.create(M,A)}static regex(M,A){return f.create(M,A)}static not(M){return n.create(M)}static and(...M){return b.create(M,null)}static or(...M){return g.create(M,null,!0)}static deserialize(M,A=!1){if(!!M)return this._deserializeOrExpression(M,A)}static _deserializeOrExpression(M,A){let O=M.split("||");return g.create(O.map(P=>this._deserializeAndExpression(P,A)),null,!0)}static _deserializeAndExpression(M,A){let O=M.split("&&");return b.create(O.map(P=>this._deserializeOne(P,A)),null)}static _deserializeOne(M,A){if(M=M.trim(),M.indexOf("!=")>=0){let O=M.split("!=");return r.create(O[0].trim(),this._deserializeValue(O[1],A))}if(M.indexOf("==")>=0){let O=M.split("==");return u.create(O[0].trim(),this._deserializeValue(O[1],A))}if(M.indexOf("=~")>=0){let O=M.split("=~");return f.create(O[0].trim(),this._deserializeRegexValue(O[1],A))}if(M.indexOf(" in ")>=0){let O=M.split(" in ");return h.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(M)){const O=M.split(">=");return t.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(M)){const O=M.split(">");return l.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(M)){const O=M.split("<=");return c.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(M)){const O=M.split("<");return o.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(M)?n.create(M.substr(1).trim()):a.create(M)}static _deserializeValue(M,A){if(M=M.trim(),M==="true")return!0;if(M==="false")return!1;let O=/^'([^']*)'$/.exec(M);return O?O[1].trim():M}static _deserializeRegexValue(M,A){if((0,N.isFalsyOrWhitespace)(M)){if(A)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let O=M.indexOf("/"),P=M.lastIndexOf("/");if(O===P||O<0){if(A)throw new Error(`bad regexp-value '${M}', missing /-enclosure`);return console.warn(`bad regexp-value '${M}', missing /-enclosure`),null}let F=M.slice(O+1,P),E=M[P+1]==="i"?"i":"";try{return new RegExp(F,E)}catch(x){if(A)throw new Error(`bad regexp-value '${M}', parse error: ${x}`);return console.warn(`bad regexp-value '${M}', parse error: ${x}`),null}}}e.ContextKeyExpr=v;function i(R,M){return R.cmp(M)}class C{constructor(){this.type=0}cmp(M){return this.type-M.type}equals(M){return M.type===this.type}evaluate(M){return!1}serialize(){return"false"}keys(){return[]}negate(){return s.INSTANCE}}e.ContextKeyFalseExpr=C,C.INSTANCE=new C;class s{constructor(){this.type=1}cmp(M){return this.type-M.type}equals(M){return M.type===this.type}evaluate(M){return!0}serialize(){return"true"}keys(){return[]}negate(){return C.INSTANCE}}e.ContextKeyTrueExpr=s,s.INSTANCE=new s;class a{constructor(M,A){this.key=M,this.negated=A,this.type=2}static create(M,A=null){const O=S.get(M);return typeof O=="boolean"?O?s.INSTANCE:C.INSTANCE:new a(M,A)}cmp(M){return M.type!==this.type?this.type-M.type:w(this.key,M.key)}equals(M){return M.type===this.type?this.key===M.key:!1}evaluate(M){return!!M.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=a;class u{constructor(M,A,O){this.key=M,this.value=A,this.negated=O,this.type=4}static create(M,A,O=null){if(typeof A=="boolean")return A?a.create(M,O):n.create(M,O);const P=S.get(M);return typeof P=="boolean"?A===(P?"true":"false")?s.INSTANCE:C.INSTANCE:new u(M,A,O)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}evaluate(M){return M.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=u;class h{constructor(M,A){this.key=M,this.valueKey=A,this.type=10,this.negated=null}static create(M,A){return new h(M,A)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.valueKey,M.key,M.valueKey)}equals(M){return M.type===this.type?this.key===M.key&&this.valueKey===M.valueKey:!1}evaluate(M){const A=M.getValue(this.valueKey),O=M.getValue(this.key);return Array.isArray(A)?A.indexOf(O)>=0:typeof O=="string"&&typeof A=="object"&&A!==null?p.call(A,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyInExpr=h;class d{constructor(M){this._actual=M,this.type=11}static create(M){return new d(M)}cmp(M){return M.type!==this.type?this.type-M.type:this._actual.cmp(M._actual)}equals(M){return M.type===this.type?this._actual.equals(M._actual):!1}evaluate(M){return!this._actual.evaluate(M)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class r{constructor(M,A,O){this.key=M,this.value=A,this.negated=O,this.type=5}static create(M,A,O=null){if(typeof A=="boolean")return A?n.create(M,O):a.create(M,O);const P=S.get(M);return typeof P=="boolean"?A===(P?"true":"false")?C.INSTANCE:s.INSTANCE:new r(M,A,O)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}evaluate(M){return M.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=r;class n{constructor(M,A){this.key=M,this.negated=A,this.type=3}static create(M,A=null){const O=S.get(M);return typeof O=="boolean"?O?C.INSTANCE:s.INSTANCE:new n(M,A)}cmp(M){return M.type!==this.type?this.type-M.type:w(this.key,M.key)}equals(M){return M.type===this.type?this.key===M.key:!1}evaluate(M){return!M.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=n;class l{constructor(M,A,O){this.key=M,this.value=A,this.negated=O,this.type=12}static create(M,A,O=null){return new l(M,A,O)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}evaluate(M){return parseFloat(M.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=l;class t{constructor(M,A,O){this.key=M,this.value=A,this.negated=O,this.type=13}static create(M,A,O=null){return new t(M,A,O)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}evaluate(M){return parseFloat(M.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=o.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=t;class o{constructor(M,A,O){this.key=M,this.value=A,this.negated=O,this.type=14}static create(M,A,O=null){return new o(M,A,O)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}evaluate(M){return parseFloat(M.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=o;class c{constructor(M,A,O){this.key=M,this.value=A,this.negated=O,this.type=15}static create(M,A,O=null){return new c(M,A,O)}cmp(M){return M.type!==this.type?this.type-M.type:D(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}evaluate(M){return parseFloat(M.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=c;class f{constructor(M,A){this.key=M,this.regexp=A,this.type=7,this.negated=null}static create(M,A){return new f(M,A)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.key<M.key)return-1;if(this.key>M.key)return 1;const A=this.regexp?this.regexp.source:"",O=M.regexp?M.regexp.source:"";return A<O?-1:A>O?1:0}equals(M){if(M.type===this.type){const A=this.regexp?this.regexp.source:"",O=M.regexp?M.regexp.source:"";return this.key===M.key&&A===O}return!1}evaluate(M){let A=M.getValue(this.key);return this.regexp?this.regexp.test(A):!1}serialize(){const M=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${M}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this)),this.negated}}e.ContextKeyRegexExpr=f;class y{constructor(M){this._actual=M,this.type=8}static create(M){return new y(M)}cmp(M){return M.type!==this.type?this.type-M.type:this._actual.cmp(M._actual)}equals(M){return M.type===this.type?this._actual.equals(M._actual):!1}evaluate(M){return!this._actual.evaluate(M)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=y;class b{constructor(M,A){this.expr=M,this.negated=A,this.type=6}static create(M,A){return b._normalizeArr(M,A)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.expr.length<M.expr.length)return-1;if(this.expr.length>M.expr.length)return 1;for(let A=0,O=this.expr.length;A<O;A++){const P=i(this.expr[A],M.expr[A]);if(P!==0)return P}return 0}equals(M){if(M.type===this.type){if(this.expr.length!==M.expr.length)return!1;for(let A=0,O=this.expr.length;A<O;A++)if(!this.expr[A].equals(M.expr[A]))return!1;return!0}return!1}evaluate(M){for(let A=0,O=this.expr.length;A<O;A++)if(!this.expr[A].evaluate(M))return!1;return!0}static _normalizeArr(M,A){const O=[];let P=!1;for(const F of M)if(!!F){if(F.type===1){P=!0;continue}if(F.type===0)return C.INSTANCE;if(F.type===6){O.push(...F.expr);continue}O.push(F)}if(O.length===0&&P)return s.INSTANCE;if(O.length!==0){if(O.length===1)return O[0];O.sort(i);for(let F=1;F<O.length;F++)O[F-1].equals(O[F])&&(O.splice(F,1),F--);if(O.length===1)return O[0];for(;O.length>1;){const F=O[O.length-1];if(F.type!==9)break;O.pop();const E=O.pop(),x=O.length===0,W=g.create(F.expr.map(G=>b.create([G,E],null)),null,x);W&&(O.push(W),O.sort(i))}return O.length===1?O[0]:new b(O,A)}}serialize(){return this.expr.map(M=>M.serialize()).join(" && ")}keys(){const M=[];for(let A of this.expr)M.push(...A.keys());return M}negate(){if(!this.negated){const M=[];for(let A of this.expr)M.push(A.negate());this.negated=g.create(M,this,!0)}return this.negated}}class g{constructor(M,A){this.expr=M,this.negated=A,this.type=9}static create(M,A,O){return g._normalizeArr(M,A,O)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.expr.length<M.expr.length)return-1;if(this.expr.length>M.expr.length)return 1;for(let A=0,O=this.expr.length;A<O;A++){const P=i(this.expr[A],M.expr[A]);if(P!==0)return P}return 0}equals(M){if(M.type===this.type){if(this.expr.length!==M.expr.length)return!1;for(let A=0,O=this.expr.length;A<O;A++)if(!this.expr[A].equals(M.expr[A]))return!1;return!0}return!1}evaluate(M){for(let A=0,O=this.expr.length;A<O;A++)if(this.expr[A].evaluate(M))return!0;return!1}static _normalizeArr(M,A,O){let P=[],F=!1;if(M){for(let E=0,x=M.length;E<x;E++){const W=M[E];if(!!W){if(W.type===0){F=!0;continue}if(W.type===1)return s.INSTANCE;if(W.type===9){P=P.concat(W.expr);continue}P.push(W)}}if(P.length===0&&F)return C.INSTANCE;P.sort(i)}if(P.length!==0){if(P.length===1)return P[0];for(let E=1;E<P.length;E++)P[E-1].equals(P[E])&&(P.splice(E,1),E--);if(P.length===1)return P[0];if(O){for(let E=0;E<P.length;E++)for(let x=E+1;x<P.length;x++)k(P[E],P[x])&&(P.splice(x,1),x--);if(P.length===1)return P[0]}return new g(P,A)}}serialize(){return this.expr.map(M=>M.serialize()).join(" || ")}keys(){const M=[];for(let A of this.expr)M.push(...A.keys());return M}negate(){if(!this.negated){let M=[];for(let A of this.expr)M.push(A.negate());for(;M.length>1;){const A=M.shift(),O=M.shift(),P=[];for(const E of T(A))for(const x of T(O))P.push(b.create([E,x],null));const F=M.length===0;M.unshift(g.create(P,null,F))}this.negated=M[0]}return this.negated}}class m extends a{constructor(M,A,O){super(M,null);this._defaultValue=A,typeof O=="object"?m._info.push(Object.assign(Object.assign({},O),{key:M})):O!==!0&&m._info.push({key:M,description:O,type:A!=null?typeof A:void 0})}static all(){return m._info.values()}bindTo(M){return M.createKey(this.key,this._defaultValue)}getValue(M){return M.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(M){return u.create(this.key,M)}}e.RawContextKey=m,m._info=[],e.IContextKeyService=(0,I.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function w(R,M){return R<M?-1:R>M?1:0}function D(R,M,A,O){return R<A?-1:R>A?1:M<O?-1:M>O?1:0}function k(R,M){if(M.type===6&&R.type!==9&&R.type!==6){for(const P of M.expr)if(R.equals(P))return!0}const A=R.negate(),O=T(A).concat(T(M));O.sort(i);for(let P=0;P<O.length;P++){const E=O[P].negate();for(let x=P+1;x<O.length;x++){const W=O[x];if(E.equals(W))return!0}}return!1}e.implies=k;function T(R){return R.type===9?R.expr:[R]}}),define(te[25],ne([0,1,476,15]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var I;(function(L){L.editorSimpleInput=new N.RawContextKey("editorSimpleInput",!1,!0),L.editorTextFocus=new N.RawContextKey("editorTextFocus",!1,_.localize(0,null)),L.focus=new N.RawContextKey("editorFocus",!1,_.localize(1,null)),L.textInputFocus=new N.RawContextKey("textInputFocus",!1,_.localize(2,null)),L.readOnly=new N.RawContextKey("editorReadonly",!1,_.localize(3,null)),L.inDiffEditor=new N.RawContextKey("inDiffEditor",!1,_.localize(4,null)),L.columnSelection=new N.RawContextKey("editorColumnSelection",!1,_.localize(5,null)),L.writable=L.readOnly.toNegated(),L.hasNonEmptySelection=new N.RawContextKey("editorHasSelection",!1,_.localize(6,null)),L.hasOnlyEmptySelection=L.hasNonEmptySelection.toNegated(),L.hasMultipleSelections=new N.RawContextKey("editorHasMultipleSelections",!1,_.localize(7,null)),L.hasSingleSelection=L.hasMultipleSelections.toNegated(),L.tabMovesFocus=new N.RawContextKey("editorTabMovesFocus",!1,_.localize(8,null)),L.tabDoesNotMoveFocus=L.tabMovesFocus.toNegated(),L.isInWalkThroughSnippet=new N.RawContextKey("isInEmbeddedEditor",!1,!0),L.canUndo=new N.RawContextKey("canUndo",!1,!0),L.canRedo=new N.RawContextKey("canRedo",!1,!0),L.hoverVisible=new N.RawContextKey("editorHoverVisible",!1,_.localize(9,null)),L.inCompositeEditor=new N.RawContextKey("inCompositeEditor",void 0,_.localize(10,null)),L.notInCompositeEditor=L.inCompositeEditor.toNegated(),L.languageId=new N.RawContextKey("editorLangId","",_.localize(11,null)),L.hasCompletionItemProvider=new N.RawContextKey("editorHasCompletionItemProvider",!1,_.localize(12,null)),L.hasCodeActionsProvider=new N.RawContextKey("editorHasCodeActionsProvider",!1,_.localize(13,null)),L.hasCodeLensProvider=new N.RawContextKey("editorHasCodeLensProvider",!1,_.localize(14,null)),L.hasDefinitionProvider=new N.RawContextKey("editorHasDefinitionProvider",!1,_.localize(15,null)),L.hasDeclarationProvider=new N.RawContextKey("editorHasDeclarationProvider",!1,_.localize(16,null)),L.hasImplementationProvider=new N.RawContextKey("editorHasImplementationProvider",!1,_.localize(17,null)),L.hasTypeDefinitionProvider=new N.RawContextKey("editorHasTypeDefinitionProvider",!1,_.localize(18,null)),L.hasHoverProvider=new N.RawContextKey("editorHasHoverProvider",!1,_.localize(19,null)),L.hasDocumentHighlightProvider=new N.RawContextKey("editorHasDocumentHighlightProvider",!1,_.localize(20,null)),L.hasDocumentSymbolProvider=new N.RawContextKey("editorHasDocumentSymbolProvider",!1,_.localize(21,null)),L.hasReferenceProvider=new N.RawContextKey("editorHasReferenceProvider",!1,_.localize(22,null)),L.hasRenameProvider=new N.RawContextKey("editorHasRenameProvider",!1,_.localize(23,null)),L.hasSignatureHelpProvider=new N.RawContextKey("editorHasSignatureHelpProvider",!1,_.localize(24,null)),L.hasInlayHintsProvider=new N.RawContextKey("editorHasInlayHintsProvider",!1,_.localize(25,null)),L.hasDocumentFormattingProvider=new N.RawContextKey("editorHasDocumentFormattingProvider",!1,_.localize(26,null)),L.hasDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,_.localize(27,null)),L.hasMultipleDocumentFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,_.localize(28,null)),L.hasMultipleDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,_.localize(29,null))})(I=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(te[188],ne([0,1,10,13,18,15,23,26,24,20,68]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new L.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new L.RawContextKey("parameterHintsMultipleSignatures",!1)};function s(a,u,h,d){return ke(this,void 0,void 0,function*(){const r=I.SignatureHelpProviderRegistry.ordered(a);for(const n of r)try{const l=yield n.provideSignatureHelp(a,u,d,h);if(l)return l}catch(l){(0,_.onUnexpectedExternalError)(l)}})}e.provideSignatureHelp=s,p.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(a,...u)=>ke(void 0,void 0,void 0,function*(){const[h,d,r]=u;(0,i.assertType)(v.URI.isUri(h)),(0,i.assertType)(N.Position.isIPosition(d)),(0,i.assertType)(typeof r=="string"||!r);const n=yield a.get(C.ITextModelService).createModelReference(h);try{const l=yield s(n.object.textEditorModel,N.Position.lift(d),{triggerKind:I.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:r},S.CancellationToken.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{n.dispose()}}))}),define(te[564],ne([0,1,14,10,6,2,95,18,188]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(a){a.Default={type:0};class u{constructor(r,n){this.request=r,this.previouslyActiveHints=n,this.type=2}}a.Pending=u;class h{constructor(r){this.hints=r,this.type=1}}a.Active=h})(i||(i={}));class C extends L.Disposable{constructor(u,h=C.DEFAULT_DELAY){super();this._onChangedHints=this._register(new I.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new L.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=u,this.throttledDelayer=new _.Delayer(h),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(p.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(u){this._state.type===2&&this._state.request.cancel(),this._state=u}cancel(u=!1){this.state=i.Default,this.throttledDelayer.cancel(),u||this._onChangedHints.fire(void 0)}trigger(u,h){const d=this.editor.getModel();if(!d||!p.SignatureHelpProviderRegistry.has(d))return;const r=++this.triggerId;this._pendingTriggers.push(u),this.throttledDelayer.trigger(()=>this.doTrigger(r),h).catch(N.onUnexpectedError)}next(){if(this.state.type!==1)return;const u=this.state.hints.signatures.length,h=this.state.hints.activeSignature,d=h%u==u-1,r=this.editor.getOption(75).cycle;if((u<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?0:h+1)}previous(){if(this.state.type!==1)return;const u=this.state.hints.signatures.length,h=this.state.hints.activeSignature,d=h===0,r=this.editor.getOption(75).cycle;if((u<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?u-1:h-1)}updateActiveSignature(u){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:u})),this._onChangedHints.fire(this.state.hints))}doTrigger(u){return ke(this,void 0,void 0,function*(){const h=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const n={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:h,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const l=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending((0,_.createCancelablePromise)(o=>(0,v.provideSignatureHelp)(l,t,n,o)),d);try{const o=yield this.state.request;return u!==this.triggerId?(o==null||o.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o==null||o.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return u===this.triggerId&&(this.state=i.Default),(0,N.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const u=this.editor.getModel();if(!!u)for(const h of p.SignatureHelpProviderRegistry.ordered(u)){for(const d of h.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of h.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(u){if(!this.triggerOnType)return;const h=u.length-1,d=u.charCodeAt(h);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:u.charAt(h)})}onCursorChange(u){u.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function s(a,u){switch(u.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return u;case p.SignatureHelpTriggerKind.ContentChange:return a;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return u}}});var me=this&&this.__param||function($,e){return function(_,N){e(_,N,$)}};define(te[565],ne([0,1,15]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let N=class ut{constructor(L,S){this._editor=L,this._index=0,this._ckOtherSuggestions=ut.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var L;this._ckOtherSuggestions.reset(),(L=this._listener)===null||L===void 0||L.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:L,index:S},p){if(L.items.length===0){this.reset();return}if(ut._moveIndex(!0,L,S)===S){this.reset();return}this._acceptNext=p,this._model=L,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(L,S,p){let v=p;for(;v=(v+S.items.length+(L?1:-1))%S.items.length,!(v===p||!S.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(L){if(!!this._model)try{this._ignore=!0,this._index=ut._moveIndex(L,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};N.OtherSuggestions=new _.RawContextKey("hasOtherSuggestions",!1),N=Re([me(1,_.IContextKeyService)],N),e.SuggestAlternatives=N}),define(te[566],ne([0,1,15]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let N=class xt{constructor(L,S){this._editor=L,this._enabled=!1,this._ckAtEnd=xt.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(p=>p.hasChanged(111)&&this._update()),this._update()}dispose(){var L;this._configListener.dispose(),(L=this._selectionListener)===null||L===void 0||L.dispose(),this._ckAtEnd.reset()}_update(){const L=this._editor.getOption(111)==="on";if(this._enabled!==L)if(this._enabled=L,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const p=this._editor.getModel(),v=this._editor.getSelection(),i=p.getWordAtPosition(v.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};N.AtEnd=new _.RawContextKey("atEndOfWord",!1),N=Re([me(1,_.IContextKeyService)],N),e.WordContextKey=N}),define(te[60],ne([0,1,15,9]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,N.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new _.RawContextKey("accessibilityModeEnabled",!1)}),define(te[257],ne([0,1,17,545,15]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new I.RawContextKey("isWindows",_.isWindows,(0,N.localize)(0,null)),e.InputFocusedContextKey="inputFocus"}),define(te[69],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,_.createDecorator)("contextViewService"),e.IContextMenuService=(0,_.createDecorator)("contextMenuService")}),define(te[121],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,_.createDecorator)("dialogService")}),define(te[145],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class _{constructor(...I){this._entries=new Map;for(let[L,S]of I)this.set(L,S)}set(I,L){const S=this._entries.get(I);return this._entries.set(I,L),S}has(I){return this._entries.has(I)}get(I){return this._entries.get(I)}}e.ServiceCollection=_}),define(te[567],ne([0,1,14,10,247,557,9,145]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const v=!1;class i extends Error{constructor(u){var h;super("cyclic dependency between services");this.message=(h=u.findCycleSlow())!==null&&h!==void 0?h:`UNABLE to detect cycle, dumping graph: 
${u.toString()}`}}class C{constructor(u=new p.ServiceCollection,h=!1,d){this._activeInstantiations=new Set,this._services=u,this._strict=h,this._parent=d,this._services.set(S.IInstantiationService,this)}createChild(u){return new C(u,this._strict,this)}invokeFunction(u,...h){let d=s.traceInvocation(u),r=!1;try{return u({get:(l,t)=>{if(r)throw(0,N.illegalState)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(l,d);if(!o&&t!==S.optional)throw new Error(`[invokeFunction] unknown service '${l}'`);return o}},...h)}finally{r=!0,d.stop()}}createInstance(u,...h){let d,r;return u instanceof I.SyncDescriptor?(d=s.traceCreation(u.ctor),r=this._createInstance(u.ctor,u.staticArguments.concat(h),d)):(d=s.traceCreation(u),r=this._createInstance(u,h,d)),d.stop(),r}_createInstance(u,h=[],d){let r=S._util.getServiceDependencies(u).sort((t,o)=>t.index-o.index),n=[];for(const t of r){let o=this._getOrCreateServiceInstance(t.id,d);if(!o&&this._strict&&!t.optional)throw new Error(`[createInstance] ${u.name} depends on UNKNOWN service ${t.id}.`);n.push(o)}let l=r.length>0?r[0].index:h.length;if(h.length!==l){console.warn(`[createInstance] First service dependency of ${u.name} at position ${l+1} conflicts with ${h.length} static arguments`);let t=l-h.length;t>0?h=h.concat(new Array(t)):h=h.slice(0,l)}return new u(...[...h,...n])}_setServiceInstance(u,h){if(this._services.get(u)instanceof I.SyncDescriptor)this._services.set(u,h);else if(this._parent)this._parent._setServiceInstance(u,h);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(u){let h=this._services.get(u);return!h&&this._parent?this._parent._getServiceInstanceOrDescriptor(u):h}_getOrCreateServiceInstance(u,h){let d=this._getServiceInstanceOrDescriptor(u);return d instanceof I.SyncDescriptor?this._safeCreateAndCacheServiceInstance(u,d,h.branch(u,!0)):(h.branch(u,!1),d)}_safeCreateAndCacheServiceInstance(u,h,d){if(this._activeInstantiations.has(u))throw new Error(`illegal state - RECURSIVELY instantiating service '${u}'`);this._activeInstantiations.add(u);try{return this._createAndCacheServiceInstance(u,h,d)}finally{this._activeInstantiations.delete(u)}}_createAndCacheServiceInstance(u,h,d){const r=new L.Graph(t=>t.id.toString());let n=0;const l=[{id:u,desc:h,_trace:d}];for(;l.length;){const t=l.pop();if(r.lookupOrInsertNode(t),n++>1e3)throw new i(r);for(let o of S._util.getServiceDependencies(t.desc.ctor)){let c=this._getServiceInstanceOrDescriptor(o.id);if(!c&&!o.optional&&console.warn(`[createInstance] ${u} depends on ${o.id} which is NOT registered.`),c instanceof I.SyncDescriptor){const f={id:o.id,desc:c,_trace:t._trace.branch(o.id,!0)};r.insertEdge(t,f),l.push(f)}}}for(;;){const t=r.roots();if(t.length===0){if(!r.isEmpty())throw new i(r);break}for(const{data:o}of t){if(this._getServiceInstanceOrDescriptor(o.id)instanceof I.SyncDescriptor){const f=this._createServiceInstanceWithOwner(o.id,o.desc.ctor,o.desc.staticArguments,o.desc.supportsDelayedInstantiation,o._trace);this._setServiceInstance(o.id,f)}r.removeNode(o)}}return this._getServiceInstanceOrDescriptor(u)}_createServiceInstanceWithOwner(u,h,d=[],r,n){if(this._services.get(u)instanceof I.SyncDescriptor)return this._createServiceInstance(h,d,r,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(u,h,d,r,n);throw new Error(`illegalState - creating UNKNOWN service instance ${h.name}`)}_createServiceInstance(u,h=[],d,r){if(d){const n=new _.IdleValue(()=>this._createInstance(u,h,r));return new Proxy(Object.create(null),{get(l,t){if(t in l)return l[t];let o=n.value,c=o[t];return typeof c!="function"||(c=c.bind(o),l[t]=c),c},set(l,t,o){return n.value[t]=o,!0}})}else return this._createInstance(u,h,r)}}e.InstantiationService=C;class s{constructor(u,h){this.type=u,this.name=h,this._start=Date.now(),this._dep=[]}static traceInvocation(u){return v?new s(1,u.name||u.toString().substring(0,42).replace(/\n/g,"")):s._None}static traceCreation(u){return v?new s(0,u.name):s._None}branch(u,h){let d=new s(2,u.toString());return this._dep.push([u,h,d]),d}stop(){let u=Date.now()-this._start;s._totals+=u;let h=!1;function d(n,l){let t=[],o=new Array(n+1).join("	");for(const[c,f,y]of l._dep)if(f&&y){h=!0,t.push(`${o}CREATES -> ${c}`);let b=d(n+1,y);b&&t.push(b)}else t.push(`${o}uses -> ${c}`);return t.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${u.toFixed(2)}ms (grand total ${s._totals.toFixed(2)}ms)`];(u>2||h)&&console.log(r.join(`
`))}}s._None=new class extends s{constructor(){super(-1,null)}stop(){}branch(){return this}},s._totals=0}),define(te[568],ne([0,1,14,6,2,546]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class S extends I.Disposable{constructor(v,i,C,s,a){super();this._contextKeyService=v,this._commandService=i,this._telemetryService=C,this._notificationService=s,this._logService=a,this._onDidUpdateKeybindings=this._register(new N.Emitter),this._currentChord=null,this._currentChordChecker=new _.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new _.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:N.Event.None}dispose(){super.dispose()}_log(v){this._logging&&this._logService.info(`[KeybindingService]: ${v}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(v,i){const C=this._getResolver().lookupPrimaryKeybinding(v,i||this._contextKeyService);if(!!C)return C.resolvedKeybinding}dispatchEvent(v,i){return this._dispatch(v,i)}softDispatch(v,i){const C=this.resolveKeyboardEvent(v);if(C.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[s]=C.getDispatchParts();if(s===null)return null;const a=this._contextKeyService.getContext(i),u=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,u,s)}_enterChordMode(v,i){this._currentChord={keypress:v,label:i},this._currentChordStatusMessage=this._notificationService.status(L.localize(0,null,i));const C=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-C>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(v,i){return this._doDispatch(this.resolveKeyboardEvent(v),i,!1)}_singleModifierDispatch(v,i){const C=this.resolveKeyboardEvent(v),[s]=C.getSingleModifierDispatchParts();return s!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${s}.`),this._currentSingleModifier=s,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):s!==null&&s===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${s} ${s}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(C,i,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(v,i,C=!1){let s=!1;if(v.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,u=null;if(C){const[n]=v.getSingleModifierDispatchParts();a=n,u=n}else[a]=v.getDispatchParts(),u=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),s;const h=this._contextKeyService.getContext(i),d=v.getLabel(),r=this._getResolver().resolve(h,u,a);return this._logService.trace("KeybindingService#dispatch",d,r==null?void 0:r.commandId),r&&r.enterChord?(s=!0,this._enterChordMode(a,d),s):(this._currentChord&&(!r||!r.commandId)&&(this._notificationService.status(L.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),s=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(s=!0),typeof r.commandArgs=="undefined"?this._commandService.executeCommand(r.commandId).then(void 0,n=>this._notificationService.warn(n)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,n=>this._notificationService.warn(n)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),s)}mightProducePrintableCharacter(v){return v.ctrlKey||v.metaKey?!1:v.keyCode>=31&&v.keyCode<=56||v.keyCode>=21&&v.keyCode<=30}}e.AbstractKeybindingService=S}),define(te[569],ne([0,1,10,186,43]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class L extends I.ResolvedKeybinding{constructor(p,v){super();if(v.length===0)throw(0,_.illegalArgument)("parts");this._os=p,this._parts=v}getLabel(){return N.UILabelProvider.toLabel(this._os,this._parts,p=>this._getLabel(p))}getAriaLabel(){return N.AriaLabelProvider.toLabel(this._os,this._parts,p=>this._getAriaLabel(p))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(p=>this._getPart(p))}_getPart(p){return new I.ResolvedKeybindingPart(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchParts(){return this._parts.map(p=>this._getDispatchPart(p))}getSingleModifierDispatchParts(){return this._parts.map(p=>this._getSingleModifierDispatchPart(p))}}e.BaseResolvedKeybinding=L}),define(te[39],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,_.createDecorator)("keybindingService")}),define(te[258],ne([0,1,15]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class N{constructor(p,v,i){this._log=i,this._defaultKeybindings=p,this._defaultBoundCommands=new Map;for(let C=0,s=p.length;C<s;C++){const a=p[C].command;a&&this._defaultBoundCommands.set(a,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=N.combine(p,v);for(let C=0,s=this._keybindings.length;C<s;C++){let a=this._keybindings[C];a.keypressParts.length!==0&&(a.when&&a.when.type===0||this._addKeyPress(a.keypressParts[0],a))}}static _isTargetedForRemoval(p,v,i,C,s){return!(p.command!==C||v&&p.keypressParts[0]!==v||i&&p.keypressParts[1]!==i||s&&(!p.when||!s.equals(p.when)))}static combine(p,v){p=p.slice(0);let i=[];for(const C of v){if(!C.command||C.command.length===0||C.command.charAt(0)!=="-"){i.push(C);continue}const s=C.command.substr(1),a=C.keypressParts[0],u=C.keypressParts[1],h=C.when;for(let d=p.length-1;d>=0;d--)this._isTargetedForRemoval(p[d],a,u,s,h)&&p.splice(d,1)}return p.concat(i)}_addKeyPress(p,v){const i=this._map.get(p);if(typeof i=="undefined"){this._map.set(p,[v]),this._addToLookupMap(v);return}for(let C=i.length-1;C>=0;C--){let s=i[C];if(s.command===v.command)continue;const a=s.keypressParts.length>1,u=v.keypressParts.length>1;a&&u&&s.keypressParts[1]!==v.keypressParts[1]||N.whenIsEntirelyIncluded(s.when,v.when)&&this._removeFromLookupMap(s)}i.push(v),this._addToLookupMap(v)}_addToLookupMap(p){if(!p.command)return;let v=this._lookupMap.get(p.command);typeof v=="undefined"?(v=[p],this._lookupMap.set(p.command,v)):v.push(p)}_removeFromLookupMap(p){if(!p.command)return;let v=this._lookupMap.get(p.command);if(typeof v!="undefined"){for(let i=0,C=v.length;i<C;i++)if(v[i]===p){v.splice(i,1);return}}}static whenIsEntirelyIncluded(p,v){return!v||v.type===1?!0:!p||p.type===1?!1:(0,_.implies)(p,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(p,v){const i=this._lookupMap.get(p);if(typeof i=="undefined"||i.length===0)return null;if(i.length===1)return i[0];for(let C=i.length-1;C>=0;C--){const s=i[C];if(v.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(p,v,i){this._log(`| Resolving ${i}${v?` chorded from ${v}`:""}`);let C=null;if(v!==null){const a=this._map.get(v);if(typeof a=="undefined")return this._log("\\ No keybinding entries."),null;C=[];for(let u=0,h=a.length;u<h;u++){let d=a[u];d.keypressParts[1]===i&&C.push(d)}}else{const a=this._map.get(i);if(typeof a=="undefined")return this._log("\\ No keybinding entries."),null;C=a}let s=this._findCommand(p,C);return s?v===null&&s.keypressParts.length>1&&s.keypressParts[1]!==null?(this._log(`\\ From ${C.length} keybinding entries, matched chord, when: ${I(s.when)}, source: ${L(s)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${C.length} keybinding entries, matched ${s.command}, when: ${I(s.when)}, source: ${L(s)}.`),{enterChord:!1,leaveChord:s.keypressParts.length>1,commandId:s.command,commandArgs:s.commandArgs,bubble:s.bubble}):(this._log(`\\ From ${C.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(p,v){for(let i=v.length-1;i>=0;i--){let C=v[i];if(!!N.contextMatchesRules(p,C.when))return C}return null}static contextMatchesRules(p,v){return v?v.evaluate(p):!0}}e.KeybindingResolver=N;function I(S){return S?`${S.serialize()}`:"no when condition"}function L(S){return S.extensionId?S.isBuiltinExtension?`built-in extension ${S.extensionId}`:`user extension ${S.extensionId}`:S.isDefault?"built-in":"user"}}),define(te[570],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class _{constructor(L,S,p,v,i,C,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=L,this.keypressParts=L?N(L.getDispatchParts()):[],L&&this.keypressParts.length===0&&(this.keypressParts=N(L.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=p,this.when=v,this.isDefault=i,this.extensionId=C,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=_;function N(I){let L=[];for(let S=0,p=I.length;S<p;S++){const v=I[S];if(!v)return L;L.push(v)}return L}e.removeElementsAfterNulls=N}),define(te[571],ne([0,1,43,569]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class I extends N.BaseResolvedKeybinding{constructor(S,p){super(p,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return _.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":_.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return I.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let p="";return S.ctrlKey&&(p+="ctrl+"),S.shiftKey&&(p+="shift+"),S.altKey&&(p+="alt+"),S.metaKey&&(p+="meta+"),p+=_.KeyCodeUtils.toString(S.keyCode),p}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=I}),define(te[122],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,_.createDecorator)("labelService")}),define(te[146],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,_.createDecorator)("layoutService")}),define(te[572],ne([0,1,211,2,146]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let L=class extends N.Disposable{constructor(p){super();this.layoutService=p,this.currentViewDisposable=N.Disposable.None,this.container=p.container,this.contextView=this._register(new _.ContextView(this.container,1)),this.layout(),this._register(p.onDidLayout(()=>this.layout()))}setContainer(p,v){this.contextView.setContainer(p,v||1)}showContextView(p,v,i){v?v!==this.container&&(this.container=v,this.setContainer(v,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(p);const C=(0,N.toDisposable)(()=>{this.currentViewDisposable===C&&this.hideContextView()});return this.currentViewDisposable=C,C}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(p){this.contextView.hide(p)}};L=Re([me(0,I.ILayoutService)],L),e.ContextViewService=L}),define(te[70],ne([0,1,6,2,9]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,I.createDecorator)("logService");var L;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(L=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=L.Info;class S extends N.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new _.Emitter)}setLevel(C){this.level!==C&&(this.level=C,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class p extends S{constructor(C=e.DEFAULT_LOG_LEVEL){super();this.setLevel(C)}trace(C,...s){this.getLevel()<=L.Trace&&console.log("%cTRACE","color: #888",C,...s)}debug(C,...s){this.getLevel()<=L.Debug&&console.log("%cDEBUG","background: #eee; color: #888",C,...s)}info(C,...s){this.getLevel()<=L.Info&&console.log("%c INFO","color: #33f",C,...s)}error(C,...s){this.getLevel()<=L.Error&&console.log("%c  ERR","color: #f33",C,...s)}dispose(){}}e.ConsoleLogger=p;class v extends N.Disposable{constructor(C){super();this.logger=C,this._register(C)}getLevel(){return this.logger.getLevel()}trace(C,...s){this.logger.trace(C,...s)}debug(C,...s){this.logger.debug(C,...s)}info(C,...s){this.logger.info(C,...s)}error(C,...s){this.logger.error(C,...s)}}e.LogService=v}),define(te[259],ne([0,1,14,2,208,308,3,18,36,407,38,144,8,19,70,83,10]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,l=5*60*1e3;function t(w,D){let k=w.getModel(D);return!(!k||k.isTooLargeForSyncing())}let o=class extends N.Disposable{constructor(D,k,T){super();this._modelService=D,this._workerManager=this._register(new f(this._modelService)),this._logService=T,this._register(p.LinkProviderRegistry.register("*",{provideLinks:(R,M)=>t(this._modelService,R.uri)?this._workerManager.withWorker().then(A=>A.computeLinks(R.uri)).then(A=>A&&{links:A}):Promise.resolve({links:[]})})),this._register(p.CompletionProviderRegistry.register("*",new c(this._workerManager,k,this._modelService)))}dispose(){super.dispose()}canComputeDiff(D,k){return t(this._modelService,D)&&t(this._modelService,k)}computeDiff(D,k,T,R){return this._workerManager.withWorker().then(M=>M.computeDiff(D,k,T,R))}computeMoreMinimalEdits(D,k){if((0,u.isNonEmptyArray)(k)){if(!t(this._modelService,D))return Promise.resolve(k);const T=d.StopWatch.create(!0),R=this._workerManager.withWorker().then(M=>M.computeMoreMinimalEdits(D,k));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",D.toString(!0),T.elapsed())),Promise.race([R,(0,_.timeout)(1e3).then(()=>k)])}else return Promise.resolve(void 0)}canNavigateValueSet(D){return t(this._modelService,D)}navigateValueSet(D,k,T){return this._workerManager.withWorker().then(R=>R.navigateValueSet(D,k,T))}canComputeWordRanges(D){return t(this._modelService,D)}computeWordRanges(D,k){return this._workerManager.withWorker().then(T=>T.computeWordRanges(D,k))}};o=Re([me(0,C.IModelService),me(1,s.ITextResourceConfigurationService),me(2,h.ILogService)],o),e.EditorWorkerServiceImpl=o;class c{constructor(D,k,T){this._debugDisplayName="wordbasedCompletions",this._workerManager=D,this._configurationService=k,this._modelService=T}provideCompletionItems(D,k){return ke(this,void 0,void 0,function*(){const T=this._configurationService.getValue(D.uri,k,"editor");if(!T.wordBasedSuggestions)return;const R=[];if(T.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,D.uri)&&R.push(D.uri);else for(const x of this._modelService.getModels())!t(this._modelService,x.uri)||(x===D?R.unshift(x.uri):(T.wordBasedSuggestionsMode==="allDocuments"||x.getLanguageIdentifier().id===D.getLanguageIdentifier().id)&&R.push(x.uri));if(R.length===0)return;const M=v.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageIdentifier().id),A=D.getWordAtPosition(k),O=A?new S.Range(k.lineNumber,A.startColumn,k.lineNumber,A.endColumn):S.Range.fromPositions(k),P=O.setEndPosition(k.lineNumber,k.column),E=yield(yield this._workerManager.withWorker()).textualSuggest(R,A==null?void 0:A.word,M);if(!!E)return{duration:E.duration,suggestions:E.words.map(x=>({kind:18,label:x,insertText:x,range:{insert:P,replace:O}}))}})}}class f extends N.Disposable{constructor(D){super();this._modelService=D,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new _.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(l/2)),this._register(this._modelService.onModelRemoved(T=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>l&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new m(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class y extends N.Disposable{constructor(D,k,T){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=D,this._modelService=k,!T){let R=new _.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(R)}}dispose(){for(let D in this._syncedModels)(0,N.dispose)(this._syncedModels[D]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(D){for(const k of D){let T=k.toString();this._syncedModels[T]||this._beginModelSync(k),this._syncedModels[T]&&(this._syncedModelsLastUsedTime[T]=new Date().getTime())}}_checkStopModelSync(){let D=new Date().getTime(),k=[];for(let T in this._syncedModelsLastUsedTime)D-this._syncedModelsLastUsedTime[T]>n&&k.push(T);for(const T of k)this._stopModelSync(T)}_beginModelSync(D){let k=this._modelService.getModel(D);if(!k||k.isTooLargeForSyncing())return;let T=D.toString();this._proxy.acceptNewModel({url:k.uri.toString(),lines:k.getLinesContent(),EOL:k.getEOL(),versionId:k.getVersionId()});const R=new N.DisposableStore;R.add(k.onDidChangeContent(M=>{this._proxy.acceptModelChanged(T.toString(),M)})),R.add(k.onWillDispose(()=>{this._stopModelSync(T)})),R.add((0,N.toDisposable)(()=>{this._proxy.acceptRemovedModel(T)})),this._syncedModels[T]=R}_stopModelSync(D){let k=this._syncedModels[D];delete this._syncedModels[D],delete this._syncedModelsLastUsedTime[D],(0,N.dispose)(k)}}class b{constructor(D){this._instance=D,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class g{constructor(D){this._workerClient=D}fhr(D,k){return this._workerClient.fhr(D,k)}}e.EditorWorkerHost=g;class m extends N.Disposable{constructor(D,k,T){super();this._disposed=!1,this._modelService=D,this._keepIdleModels=k,this._workerFactory=new L.DefaultWorkerFactory(T),this._worker=null,this._modelManager=null}fhr(D,k){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new I.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new g(this)))}catch(D){(0,I.logOnceWebWorkerWarning)(D),this._worker=new b(new i.EditorSimpleWorker(new g(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,D=>((0,I.logOnceWebWorkerWarning)(D),this._worker=new b(new i.EditorSimpleWorker(new g(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(D){return this._modelManager||(this._modelManager=this._register(new y(D,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(D){return this._disposed?Promise.reject((0,r.canceled)()):this._getProxy().then(k=>(this._getOrCreateModelManager(k).ensureSyncedResources(D),k))}computeDiff(D,k,T,R){return this._withSyncedResources([D,k]).then(M=>M.computeDiff(D.toString(),k.toString(),T,R))}computeMoreMinimalEdits(D,k){return this._withSyncedResources([D]).then(T=>T.computeMoreMinimalEdits(D.toString(),k))}computeLinks(D){return this._withSyncedResources([D]).then(k=>k.computeLinks(D.toString()))}textualSuggest(D,k,T){return ke(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(D),M=T.source,A=(0,a.regExpFlags)(T);return R.textualSuggest(D.map(O=>O.toString()),k,M,A)})}computeWordRanges(D,k){return this._withSyncedResources([D]).then(T=>{let R=this._modelService.getModel(D);if(!R)return Promise.resolve(null);let M=v.LanguageConfigurationRegistry.getWordDefinition(R.getLanguageIdentifier().id),A=M.source,O=(0,a.regExpFlags)(M);return T.computeWordRanges(D.toString(),k,A,O)})}navigateValueSet(D,k,T){return this._withSyncedResources([D]).then(R=>{let M=this._modelService.getModel(D);if(!M)return null;let A=v.LanguageConfigurationRegistry.getWordDefinition(M.getLanguageIdentifier().id),O=A.source,P=(0,a.regExpFlags)(A);return R.navigateValueSet(D.toString(),k,T,O,P)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=m}),define(te[260],ne([0,1,18,70,143]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class L{constructor(C,s,a){this._legend=C,this._themeService=s,this._logService=a,this._hashTable=new v,this._hasWarnedOverlappingTokens=!1}getMetadata(C,s,a){const u=this._hashTable.get(C,s,a.id);let h;if(u)h=u.metadata,this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${C} / ${s}: foreground ${_.TokenMetadata.getForeground(h)}, fontStyle ${_.TokenMetadata.getFontStyle(h).toString(2)}`);else{let d=this._legend.tokenTypes[C];const r=[];if(d){let n=s;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&r.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===N.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${s.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const l=this._themeService.getColorTheme().getTokenStyleMetadata(d,r,a.language);typeof l=="undefined"?h=2147483647:(h=0,typeof l.italic!="undefined"&&(h|=(l.italic?1:0)<<11|1),typeof l.bold!="undefined"&&(h|=(l.bold?2:0)<<11|2),typeof l.underline!="undefined"&&(h|=(l.underline?4:0)<<11|4),l.foreground&&(h|=l.foreground<<14|8),h===0&&(h=2147483647))}else this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${C} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),h=2147483647,d="not-in-legend";this._hashTable.add(C,s,a.id,h),this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${C} (${d}) / ${s} (${r.join(" ")}): foreground ${_.TokenMetadata.getForeground(h)}, fontStyle ${_.TokenMetadata.getFontStyle(h).toString(2)}`)}return h}warnOverlappingSemanticTokens(C,s){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${C}, column ${s}`))}}e.SemanticTokensProviderStyling=L;function S(i,C,s){const a=i.data,u=i.data.length/5|0,h=Math.max(Math.ceil(u/1024),400),d=[];let r=0,n=1,l=0;for(;r<u;){const t=r;let o=Math.min(t+h,u);if(o<u){let D=o;for(;D-1>t&&a[5*D]===0;)D--;if(D-1===t){let k=o;for(;k+1<u&&a[5*k]===0;)k++;o=k}else o=D}let c=new Uint32Array((o-t)*4),f=0,y=0,b=0,g=0,m=0;for(;r<o;){const D=5*r,k=a[D],T=a[D+1],R=n+k,M=k===0?l+T:T,A=a[D+2],O=a[D+3],P=a[D+4],F=C.getMetadata(O,P,s);F!==2147483647&&(y===0&&(y=R),b===R&&m>M&&(C.warnOverlappingSemanticTokens(R,M+1),g<M?c[f-4+2]=M:f-=4),c[f]=R-y,c[f+1]=M,c[f+2]=M+A,c[f+3]=F,f+=4,b=R,g=M,m=M+A),n=R,l=M,r++}f!==c.length&&(c=c.subarray(0,f));const w=new I.MultilineTokens2(y,new I.SparseEncodedTokens(c));d.push(w)}return d}e.toMultilineTokens2=S;class p{constructor(C,s,a,u){this.tokenTypeIndex=C,this.tokenModifierSet=s,this.languageId=a,this.metadata=u,this.next=null}}class v{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(C,s){for(let a=0;a<s;a++)C[a]=null}_hash2(C,s){return(C<<5)-C+s|0}_hashFunc(C,s,a){return this._hash2(this._hash2(C,s),a)%this._currentLength}get(C,s,a){const u=this._hashFunc(C,s,a);let h=this._elements[u];for(;h;){if(h.tokenTypeIndex===C&&h.tokenModifierSet===s&&h.languageId===a)return h;h=h.next}return null}add(C,s,a,u){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const h=this._elements;this._currentLengthIndex++,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength);for(const d of h){let r=d;for(;r;){const n=r.next;r.next=null,this._add(r),r=n}}}this._add(new p(C,s,a,u))}_add(C){const s=this._hashFunc(C.tokenTypeIndex,C.tokenModifierSet,C.languageId);C.next=this._elements[s],this._elements[s]=C}}v._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(te[573],ne([0,1,259,20]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function I(S,p){return new L(S,p)}e.createWebWorker=I;class L extends _.EditorWorkerClient{constructor(p,v){super(p,v.keepIdleModels||!1,v.label);this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(p,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,v))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const v=this._foreignModuleHost?N.getAllMethodNames(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(i=>{this._foreignModuleCreateData=null;const C=(u,h)=>p.fmr(u,h),s=(u,h)=>function(){const d=Array.prototype.slice.call(arguments,0);return h(u,d)};let a={};for(const u of i)a[u]=s(u,C);return a})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(v=>this.getProxy())}}}),define(te[89],ne([0,1,74,548,9]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var L;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(L=e.MarkerSeverity||(e.MarkerSeverity={})),function(p){function v(u,h){return h-u}p.compare=v;const i=Object.create(null);i[p.Error]=(0,N.localize)(0,null),i[p.Warning]=(0,N.localize)(1,null),i[p.Info]=(0,N.localize)(2,null);function C(u){return i[u]||""}p.toString=C;function s(u){switch(u){case _.default.Error:return p.Error;case _.default.Warning:return p.Warning;case _.default.Info:return p.Info;case _.default.Ignore:return p.Hint}}p.fromSeverity=s;function a(u){switch(u){case p.Error:return _.default.Error;case p.Warning:return _.default.Warning;case p.Info:return _.default.Info;case p.Hint:return _.default.Ignore}}p.toSeverity=a}(L=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(p){const v="";function i(s){return C(s,!0)}p.makeKey=i;function C(s,a){let u=[v];return s.source?u.push(s.source.replace("\xA6","\\\xA6")):u.push(v),s.code?typeof s.code=="string"?u.push(s.code.replace("\xA6","\\\xA6")):u.push(s.code.value.replace("\xA6","\\\xA6")):u.push(v),s.severity!==void 0&&s.severity!==null?u.push(L.toString(s.severity)):u.push(v),s.message&&a?u.push(s.message.replace("\xA6","\\\xA6")):u.push(v),s.startLineNumber!==void 0&&s.startLineNumber!==null?u.push(s.startLineNumber.toString()):u.push(v),s.startColumn!==void 0&&s.startColumn!==null?u.push(s.startColumn.toString()):u.push(v),s.endLineNumber!==void 0&&s.endLineNumber!==null?u.push(s.endLineNumber.toString()):u.push(v),s.endColumn!==void 0&&s.endColumn!==null?u.push(s.endColumn.toString()):u.push(v),u.push(v),u.join("\xA6")}p.makeKeyOptionalMessage=C})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,I.createDecorator)("markerService")}),define(te[574],ne([0,1,89,24,6,2,3,8,19,9,76,72]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class a{constructor(r,n,l){this.marker=r,this.index=n,this.total=l}}e.MarkerCoordinate=a;let u=class Wt{constructor(r,n){this._markerService=n,this._onDidChange=new I.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new L.DisposableStore,this._markers=[],this._nextIdx=-1,N.URI.isUri(r)?this._resourceFilter=t=>t.toString()===r.toString():r&&(this._resourceFilter=r);const l=()=>{this._markers=this._markerService.read({resource:N.URI.isUri(r)?r:void 0,severities:_.MarkerSeverity.Error|_.MarkerSeverity.Warning|_.MarkerSeverity.Info}),typeof r=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(Wt._compareMarker)};l(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(o=>this._resourceFilter(o)))&&(l(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(r){return!this._resourceFilter&&!r?!0:!this._resourceFilter||!r?!1:this._resourceFilter(r)}get selected(){const r=this._markers[this._nextIdx];return r&&new a(r,this._nextIdx+1,this._markers.length)}_initIdx(r,n,l){let t=!1,o=this._markers.findIndex(c=>c.resource.toString()===r.uri.toString());o<0&&(o=(0,v.binarySearch)(this._markers,{resource:r.uri},(c,f)=>(0,p.compare)(c.resource.toString(),f.resource.toString())),o<0&&(o=~o));for(let c=o;c<this._markers.length;c++){let f=S.Range.lift(this._markers[c]);if(f.isEmpty()){const y=r.getWordAtPosition(f.getStartPosition());y&&(f=new S.Range(f.startLineNumber,y.startColumn,f.startLineNumber,y.endColumn))}if(n&&(f.containsPosition(n)||n.isBeforeOrEqual(f.getStartPosition()))){this._nextIdx=c,t=!0;break}if(this._markers[c].resource.toString()!==r.uri.toString())break}t||(this._nextIdx=l?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(r,n,l){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,l,r):r?this._nextIdx=(this._nextIdx+1)%this._markers.length:r||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(r,n){let l=this._markers.findIndex(t=>t.resource.toString()===r.toString());if(!(l<0)){for(;l<this._markers.length;l++)if(S.Range.containsPosition(this._markers[l],n))return new a(this._markers[l],l+1,this._markers.length)}}static _compareMarker(r,n){let l=(0,p.compare)(r.resource.toString(),n.resource.toString());return l===0&&(l=_.MarkerSeverity.compare(r.severity,n.severity)),l===0&&(l=S.Range.compareRangesUsingStarts(r,n)),l}};u=Re([me(1,_.IMarkerService)],u),e.MarkerList=u,e.IMarkerNavigationService=(0,i.createDecorator)("IMarkerNavigationService");let h=class{constructor(r){this._markerService=r,this._provider=new s.LinkedList}getMarkerList(r){for(let n of this._provider){const l=n.getMarkerList(r);if(l)return l}return new u(r,this._markerService)}};h=Re([me(0,_.IMarkerService)],h),(0,C.registerSingleton)(e.IMarkerNavigationService,h,!0)}),define(te[575],ne([0,1,19,6,54,49,47,24,89]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new L.ResourceMap,this._byOwner=new Map}set(u,h,d){let r=this._byResource.get(u);r||(r=new Map,this._byResource.set(u,r)),r.set(h,d);let n=this._byOwner.get(h);n||(n=new L.ResourceMap,this._byOwner.set(h,n)),n.set(u,d)}get(u,h){let d=this._byResource.get(u);return d==null?void 0:d.get(h)}delete(u,h){let d=!1,r=!1,n=this._byResource.get(u);n&&(d=n.delete(h));let l=this._byOwner.get(h);if(l&&(r=l.delete(u)),d!==r)throw new Error("illegal state");return d&&r}values(u){var h,d,r,n;return typeof u=="string"?(d=(h=this._byOwner.get(u))===null||h===void 0?void 0:h.values())!==null&&d!==void 0?d:I.Iterable.empty():p.URI.isUri(u)?(n=(r=this._byResource.get(u))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:I.Iterable.empty():I.Iterable.map(I.Iterable.concat(...this._byOwner.values()),l=>l[1])}}class C{constructor(u){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new L.ResourceMap,this._service=u,this._subscription=u.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(u){for(const h of u){const d=this._data.get(h);d&&this._substract(d);const r=this._resourceStats(h);this._add(r),this._data.set(h,r)}}_resourceStats(u){const h={errors:0,warnings:0,infos:0,unknowns:0};if(u.scheme===S.Schemas.inMemory||u.scheme===S.Schemas.walkThrough||u.scheme===S.Schemas.walkThroughSnippet)return h;for(const{severity:d}of this._service.read({resource:u}))d===v.MarkerSeverity.Error?h.errors+=1:d===v.MarkerSeverity.Warning?h.warnings+=1:d===v.MarkerSeverity.Info?h.infos+=1:h.unknowns+=1;return h}_substract(u){this.errors-=u.errors,this.warnings-=u.warnings,this.infos-=u.infos,this.unknowns-=u.unknowns}_add(u){this.errors+=u.errors,this.warnings+=u.warnings,this.infos+=u.infos,this.unknowns+=u.unknowns}}class s{constructor(){this._onMarkerChanged=new N.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new i,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(u,h){for(const d of h||[])this.changeOne(u,d,[])}changeOne(u,h,d){if((0,_.isFalsyOrEmpty)(d))this._data.delete(h,u)&&this._onMarkerChanged.fire([h]);else{const r=[];for(const n of d){const l=s._toMarker(u,h,n);l&&r.push(l)}this._data.set(h,u,r),this._onMarkerChanged.fire([h])}}static _toMarker(u,h,d){let{code:r,severity:n,message:l,source:t,startLineNumber:o,startColumn:c,endLineNumber:f,endColumn:y,relatedInformation:b,tags:g}=d;if(!!l)return o=o>0?o:1,c=c>0?c:1,f=f>=o?f:o,y=y>0?y:c,{resource:h,owner:u,code:r,severity:n,message:l,source:t,startLineNumber:o,startColumn:c,endLineNumber:f,endColumn:y,relatedInformation:b,tags:g}}read(u=Object.create(null)){let{owner:h,resource:d,severities:r,take:n}=u;if((!n||n<0)&&(n=-1),h&&d){const l=this._data.get(d,h);if(l){const t=[];for(const o of l)if(s._accept(o,r)){const c=t.push(o);if(n>0&&c===n)break}return t}else return[]}else if(!h&&!d){const l=[];for(let t of this._data.values())for(let o of t)if(s._accept(o,r)){const c=l.push(o);if(n>0&&c===n)return l}return l}else{const l=this._data.values(d??h),t=[];for(const o of l)for(const c of o)if(s._accept(c,r)){const f=t.push(c);if(n>0&&f===n)return t}return t}}static _accept(u,h){return h===void 0||(h&u.severity)===u.severity}static _merge(u){const h=new L.ResourceMap;for(let d of u)for(let r of d)h.set(r,!0);return Array.from(h.keys())}}e.MarkerService=s}),define(te[34],ne([0,1,74,9]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=_.default,e.INotificationService=(0,N.createDecorator)("notificationService");class I{}e.NoOpNotification=I}),define(te[57],ne([0,1,2,8,24,9]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,L.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return _.Disposable.None},registerValidator(){return _.Disposable.None},registerExternalUriResolver(){return _.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return _.Disposable.None},open(){return ke(this,void 0,void 0,function*(){return!1})},resolveExternalUri(p){return ke(this,void 0,void 0,function*(){return{resolved:p,dispose(){}}})}});function S(p,v){return I.URI.isUri(p)?(0,N.equalsIgnoreCase)(p.scheme,v):(0,N.startsWithIgnoreCase)(p,v+":")}e.matchesScheme=S}),define(te[123],ne([0,1,305,57,56,10,250,6,2,18]),function($,e,_,N,I,L,S,p,v,i){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let s=class zt{constructor(u,h,d){this._options=u,this._modeService=h,this._openerService=d,this._onDidRenderAsync=new p.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(u,h,d){const r=new v.DisposableStore;let n;return u?n=(0,_.renderMarkdown)(u,Object.assign(Object.assign({},this._getRenderOptions(u,r)),h),d):n=document.createElement("span"),{element:n,dispose:()=>r.dispose()}}_getRenderOptions(u,h){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(d,r)=>ke(this,void 0,void 0,function*(){var n,l,t,o;let c;d?c=this._modeService.getModeIdForLanguageName(d):this._options.editor&&(c=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),c||(c="plaintext"),this._modeService.triggerMode(c);const f=(l=yield i.TokenizationRegistry.getPromise(c))!==null&&l!==void 0?l:void 0,y=document.createElement("span");y.innerHTML=(o=(t=zt._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(r,f))!==null&&o!==void 0?o:(0,S.tokenizeToString)(r,f);let b=this._options.codeBlockFontFamily;return this._options.editor&&(b=this._options.editor.getOption(42).fontFamily),b&&(y.style.fontFamily=b),y}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:u.isTrusted}).catch(L.onUnexpectedError),disposables:h}}}};s._ttpTokenizer=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("tokenizeToString",{createHTML(a,u){return(0,S.tokenizeToString)(a,u)}}),s=Re([me(1,I.IModeService),me(2,N.IOpenerService)],s),e.MarkdownRenderer=s}),define(te[576],ne([0,1,7,23,72,49,206,47,44,24,28,26,555,57]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let h=class{constructor(l){this._commandService=l}open(l,t){return ke(this,void 0,void 0,function*(){if(!(0,u.matchesScheme)(l,p.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof l=="string"&&(l=i.URI.parse(l));let o=[];try{o=(0,S.parse)(decodeURIComponent(l.query))}catch(c){try{o=(0,S.parse)(l.query)}catch(f){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(l.path,...o),!0})}};h=Re([me(0,s.ICommandService)],h);let d=class{constructor(l){this._editorService=l}open(l,t){return ke(this,void 0,void 0,function*(){typeof l=="string"&&(l=i.URI.parse(l));let o;const c=/^L?(\d+)(?:,(\d+))?/.exec(l.fragment);return c&&(o={startLineNumber:parseInt(c[1]),startColumn:c[2]?parseInt(c[2]):1},l=l.with({fragment:""})),l.scheme===p.Schemas.file&&(l=(0,v.normalizePath)(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:o,context:(t==null?void 0:t.fromUserGesture)?a.EditorOpenContext.USER:a.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};d=Re([me(0,C.ICodeEditorService)],d);let r=class{constructor(l,t){this._openers=new I.LinkedList,this._validators=new I.LinkedList,this._resolvers=new I.LinkedList,this._resolvedUriTargets=new L.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new I.LinkedList,this._defaultExternalOpener={openExternal:o=>ke(this,void 0,void 0,function*(){return(0,u.matchesScheme)(o,p.Schemas.http)||(0,u.matchesScheme)(o,p.Schemas.https)?_.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,c)=>ke(this,void 0,void 0,function*(){return(c==null?void 0:c.openExternal)||(0,u.matchesScheme)(o,p.Schemas.mailto)||(0,u.matchesScheme)(o,p.Schemas.http)||(0,u.matchesScheme)(o,p.Schemas.https)?(yield this._doOpenExternal(o,c),!0):!1})}),this._openers.push(new h(t)),this._openers.push(new d(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}registerValidator(l){return{dispose:this._validators.push(l)}}registerExternalUriResolver(l){return{dispose:this._resolvers.push(l)}}setDefaultExternalOpener(l){this._defaultExternalOpener=l}registerExternalOpener(l){return{dispose:this._externalOpeners.push(l)}}open(l,t){var o;return ke(this,void 0,void 0,function*(){const c=typeof l=="string"?i.URI.parse(l):l,f=(o=this._resolvedUriTargets.get(c))!==null&&o!==void 0?o:l;for(const y of this._validators)if(!(yield y.shouldOpen(f)))return!1;for(const y of this._openers)if(yield y.open(l,t))return!0;return!1})}resolveExternalUri(l,t){return ke(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const c=yield o.resolveExternalUri(l,t);if(c)return this._resolvedUriTargets.has(c.resolved)||this._resolvedUriTargets.set(c.resolved,l),c}catch(c){}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,t){return ke(this,void 0,void 0,function*(){const o=typeof l=="string"?i.URI.parse(l):l;let c;try{c=(yield this.resolveExternalUri(o,t)).resolved}catch(y){c=o}let f;if(typeof l=="string"&&o.toString()===c.toString()?f=l:f=encodeURI(c.toString(!0)),t==null?void 0:t.allowContributedOpeners){const y=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const b of this._externalOpeners)if(yield b.openExternal(f,{sourceUri:o,preferredOpenerId:y},N.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(f,{sourceUri:o},N.CancellationToken.None)})}dispose(){this._validators.clear()}};r=Re([me(0,C.ICodeEditorService),me(1,s.ICommandService)],r),e.OpenerService=r}),define(te[577],ne([0,1,7,75,2,235,426,123,57,19]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class C{constructor(u){this._editor=u,this._lineNumber=-1,this._result=[]}setLineNumber(u){this._lineNumber=u,this._result=[]}clearResult(){this._result=[]}computeSync(){const u=r=>({value:r}),h=this._editor.getLineDecorations(this._lineNumber),d=[];if(!h)return d;for(const r of h){if(!r.options.glyphMarginClassName)continue;const n=r.options.glyphMarginHoverMessage;!n||(0,N.isEmptyMarkdownString)(n)||d.push(...(0,i.asArray)(n).map(u))}return d}onResult(u,h){this._result=this._result.concat(u)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class s extends S.GlyphHoverWidget{constructor(u,h,d=v.NullOpenerService){super(s.ID,u);this._renderDisposeables=this._register(new I.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new p.MarkdownRenderer({editor:this._editor},h,d)),this._computer=new C(this._editor),this._hoverOperation=new L.HoverOperation(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(u){this._lastLineNumber!==u&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=u,this._computer.setLineNumber(u),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(u){this._messages=u,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(u,h){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const r of h){const n=this._markdownRenderer.render(r.value);this._renderDisposeables.add(n),d.appendChild((0,_.$)("div.hover-row",void 0,n.element))}this.updateContents(d),this.showAt(u)}}e.ModesGlyphHoverWidget=s,s.ID="editor.contrib.modesGlyphHoverWidget"}),define(te[261],ne([0,1,533,2,7,62,123,75,27,6,241,9]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function a(d){return!!d&&Boolean(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}e.canExpandCompletionItem=a;let u=class{constructor(r,n){this._editor=r,this._onDidClose=new i.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new i.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new N.DisposableStore,this._renderDisposeable=new N.DisposableStore,this._borderWidth=1,this._size=new I.Dimension(330,0),this.domNode=I.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(S.MarkdownRenderer,{editor:r}),this._body=I.$(".body"),this._scrollbar=new L.DomScrollableElement(this._body,{}),I.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=I.append(this._body,I.$(".header")),this._close=I.append(this._header,I.$("span"+v.Codicon.close.cssSelector)),this._close.title=_.localize(0,null),this._type=I.append(this._header,I.$("p.type")),this._docs=I.append(this._body,I.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(42)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),n=r.get(42),l=n.fontFamily,t=r.get(107)||n.fontSize,o=r.get(108)||n.lineHeight,c=n.fontWeight,f=`${t}px`,y=`${o}px`;this.domNode.style.fontSize=f,this.domNode.style.lineHeight=y,this.domNode.style.fontWeight=c,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=y,this._close.style.width=y}getLayoutInfo(){const r=this._editor.getOption(108)||this._editor.getOption(42).lineHeight,n=this._borderWidth,l=n*2;return{lineHeight:r,borderWidth:n,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,n){var l,t;this._renderDisposeable.clear();let{detail:o,documentation:c}=r.completion;if(n){let f="";f+=`score: ${r.score[0]}
`,f+=`prefix: ${(l=r.word)!==null&&l!==void 0?l:"(no prefix)"}
`,f+=`word: ${r.completion.filterText?r.completion.filterText+" (filterText)":r.textLabel}
`,f+=`distance: ${r.distance} (localityBonus-setting)
`,f+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,f+=`commit_chars: ${(t=r.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,c=new p.MarkdownString().appendCodeblock("empty",f),o=`Provider: ${r.provider._debugDisplayName}`}if(!n&&!a(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const f=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=f,this._type.title=f,I.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(f))}else I.clearNode(this._type),this._type.title="",I.hide(this._type),this.domNode.classList.add("no-type");if(I.clearNode(this._docs),typeof c=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=c;else if(c){this._docs.classList.add("markdown-docs"),I.clearNode(this._docs);const f=this._markdownRenderer.render(c);this._docs.appendChild(f.element),this._renderDisposeable.add(f),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=f=>{f.preventDefault(),f.stopPropagation()},this._close.onclick=f=>{f.preventDefault(),f.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,n){const l=new I.Dimension(r,n);I.Dimension.equals(l,this._size)||(this._size=l,I.size(this.domNode,r,n)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};u=Re([me(1,s.IInstantiationService)],u),e.SuggestDetailsWidget=u;class h{constructor(r,n){this.widget=r,this._editor=n,this._disposables=new N.DisposableStore,this._added=!1,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,t,o=0,c=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(f=>{if(l&&t){this.widget.layout(f.dimension.width,f.dimension.height);let y=!1;f.west&&(c=t.width-f.dimension.width,y=!0),f.north&&(o=t.height-f.dimension.height,y=!0),y&&this._applyTopLeft({top:l.top+o,left:l.left+c})}f.done&&(l=void 0,t=void 0,o=0,c=0,this._userSize=f.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var f;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(f=this._userSize)!==null&&f!==void 0?f:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r){var n;const l=I.getDomNodePagePosition(r);this._anchorBox=l,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(r,n){const l=I.getClientArea(document.body),t=this.widget.getLayoutInfo();let o,c,f=new I.Dimension(220,2*t.lineHeight),y=0,b=r.top,g=r.top+r.height-t.borderHeight,m,w,D=l.width-(r.left+r.width+t.borderWidth+t.horizontalPadding);y=-t.borderWidth+r.left+r.width,w=!0,o=new I.Dimension(D,l.height-r.top-t.borderHeight-t.verticalPadding),c=o.with(void 0,r.top+r.height-t.borderHeight-t.verticalPadding),n.width>D&&(r.left>D&&(D=r.left-t.borderWidth-t.horizontalPadding,w=!1,y=Math.max(t.horizontalPadding,r.left-n.width-t.borderWidth),o=o.with(D),c=o.with(void 0,c.height)),r.width>D*1.3&&l.height-(r.top+r.height)>r.height&&(D=r.width,y=r.left,b=-t.borderWidth+r.top+r.height,o=new I.Dimension(r.width-t.borderHeight,l.height-r.top-r.height-t.verticalPadding),c=o.with(void 0,r.top-t.verticalPadding),f=f.with(o.width)));let k=n.height,T=Math.max(o.height,c.height);k>T&&(k=T);let R;k<=o.height?(m=!0,R=o):(m=!1,R=c),this._applyTopLeft({left:y,top:m?b:g-k}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!m,w,m,!w),this._resizable.minSize=f,this._resizable.maxSize=R,this._resizable.layout(k,Math.min(R.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=h}),define(te[61],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class N{constructor(L){this.callback=L}report(L){this._value=L,this.callback(this._value)}}e.Progress=N,N.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,_.createDecorator)("editorProgressService")}),define(te[578],ne([0,1,14,23,2]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var L;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(L=e.TriggerAction||(e.TriggerAction={}));function S(i){const C=i;return Array.isArray(C.items)}function p(i){const C=i;return!!C.picks&&C.additionalPicks instanceof Promise}class v extends I.Disposable{constructor(C,s){super();this.prefix=C,this.options=s}provide(C,s){var a;const u=new I.DisposableStore;C.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),C.matchOnLabel=C.matchOnDescription=C.matchOnDetail=C.sortByLabel=!1;let h;const d=u.add(new I.MutableDisposable),r=()=>ke(this,void 0,void 0,function*(){const n=d.value=new I.DisposableStore;h==null||h.dispose(!0),C.busy=!1,h=new N.CancellationTokenSource(s);const l=h.token,t=C.value.substr(this.prefix.length).trim(),o=this._getPicks(t,n,l),c=(f,y)=>{var b;let g,m;if(S(f)?(g=f.items,m=f.active):g=f,g.length===0){if(y)return!1;t.length>0&&((b=this.options)===null||b===void 0?void 0:b.noResultsPick)&&(g=[this.options.noResultsPick])}return C.items=g,m&&(C.activeItems=[m]),!0};if(o!==null)if(p(o)){let f=!1,y=!1;yield Promise.all([(()=>ke(this,void 0,void 0,function*(){yield(0,_.timeout)(v.FAST_PICKS_RACE_DELAY),!l.isCancellationRequested&&(y||(f=c(o.picks,!0)))}))(),(()=>ke(this,void 0,void 0,function*(){C.busy=!0;try{const b=yield o.additionalPicks;if(l.isCancellationRequested)return;let g,m;S(o.picks)?(g=o.picks.items,m=o.picks.active):g=o.picks;let w,D;if(S(b)?(w=b.items,D=b.active):w=b,w.length>0||!f){let k;if(!m&&!D){const T=C.activeItems[0];T&&g.indexOf(T)!==-1&&(k=T)}c({items:[...g,...w],active:m||D||k})}}finally{l.isCancellationRequested||(C.busy=!1),y=!0}}))()])}else if(!(o instanceof Promise))c(o);else{C.busy=!0;try{const f=yield o;if(l.isCancellationRequested)return;c(f)}finally{l.isCancellationRequested||(C.busy=!1)}}});return u.add(C.onDidChangeValue(()=>r())),r(),u.add(C.onDidAccept(n=>{const[l]=C.selectedItems;typeof(l==null?void 0:l.accept)=="function"&&(n.inBackground||C.hide(),l.accept(C.keyMods,n))})),u.add(C.onDidTriggerItemButton(({button:n,item:l})=>ke(this,void 0,void 0,function*(){var t,o;if(typeof l.trigger=="function"){const c=(o=(t=l.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&o!==void 0?o:-1;if(c>=0){const f=l.trigger(c,C.keyMods),y=typeof f=="number"?f:yield f;if(s.isCancellationRequested)return;switch(y){case L.NO_ACTION:break;case L.CLOSE_PICKER:C.hide();break;case L.REFRESH_PICKER:r();break;case L.REMOVE_ITEM:const b=C.items.indexOf(l);if(b!==-1){const g=C.items.slice();g.splice(b,1),C.items=g}break}}}}))),u}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var vt=this&&this.__createBinding||(Object.create?function($,e,_,N){N===void 0&&(N=_),Object.defineProperty($,N,{enumerable:!0,get:function(){return e[_]}})}:function($,e,_,N){N===void 0&&(N=_),$[N]=e[_]}),bt=this&&this.__exportStar||function($,e){for(var _ in $)_!=="default"&&!Object.prototype.hasOwnProperty.call(e,_)&&vt(e,$,_)};define(te[79],ne([0,1,9,209]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,bt(N,e),e.IQuickInputService=(0,_.createDecorator)("quickInputService")}),define(te[32],ne([0,1,202,20]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class I{constructor(){this.data=new Map}add(S,p){_.ok(N.isString(S)),_.ok(N.isObject(p)),_.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,p)}as(S){return this.data.get(S)||null}}e.Registry=new I}),define(te[147],ne([0,1,478,6,18,36,32,107]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class v{constructor(){this._onDidChangeLanguages=new N.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(C){return this._languages.push(C),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let s=0,a=this._languages.length;s<a;s++)if(this._languages[s]===C){this._languages.splice(s,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=v,e.ModesRegistry=new v,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new I.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[_.localize(0,null),"text"],mimetypes:[p.Mimes.text]}),L.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(te[579],ne([0,1,47,44,147,246]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(i,C,s,a){const u=a===L.FileKind.ROOT_FOLDER?["rootfolder-icon"]:a===L.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(s){let h;if(s.scheme===_.Schemas.data?h=N.DataUri.parseMetaData(s).get(N.DataUri.META_DATA_LABEL):h=v((0,N.basenameOrAuthority)(s).toLowerCase()),a===L.FileKind.FOLDER)u.push(`${h}-name-folder-icon`);else{if(h){if(u.push(`${h}-name-file-icon`),h.length<=255){const r=h.split(".");for(let n=1;n<r.length;n++)u.push(`${r.slice(n).join(".")}-ext-file-icon`)}u.push("ext-file-icon")}const d=p(i,C,s);d&&u.push(`${v(d)}-lang-file-icon`)}}return u}e.getIconClasses=S;function p(i,C,s){if(!s)return null;let a=null;if(s.scheme===_.Schemas.data){const h=N.DataUri.parseMetaData(s).get(N.DataUri.META_DATA_MIME);h&&(a=C.getModeId(h))}else{const u=i.getModel(s);u&&(a=u.getModeId())}return a&&a!==I.PLAINTEXT_MODE_ID?a:C.getModeIdByFilepathOrFirstLine(s)}e.detectModeId=p;function v(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=v}),define(te[189],ne([0,1,6,32]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function I(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class L{constructor(){this._onDidChangeSchema=new _.Emitter,this.schemasById={}}registerSchema(v,i){this.schemasById[I(v)]=i,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const S=new L;N.Registry.add(e.Extensions.JSONContribution,S)}),define(te[99],ne([0,1,6,20,543,189,32]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const p=S.Registry.as(L.Extensions.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new _.Emitter,this._onDidUpdateConfiguration=new _.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(d,r=!0){this.registerConfigurations([d],r)}registerConfigurations(d,r=!0){const n=[];d.forEach(l=>{n.push(...this.validateAndRegisterProperties(l,r,l.extensionInfo)),this.configurationContributors.push(l),this.registerJSONConfiguration(l)}),p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(d){for(const r of d)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(d,r=!0,n,l=3){var t;l=N.isUndefinedOrNull(d.scope)?l:d.scope;let o=[],c=d.properties;if(c)for(let y in c){if(r&&u(y)){delete c[y];continue}const b=c[y];if(this.updatePropertyDefaultValue(y,b),e.OVERRIDE_PROPERTY_PATTERN.test(y)?b.scope=void 0:(b.scope=N.isUndefinedOrNull(b.scope)?l:b.scope,b.restricted=N.isUndefinedOrNull(b.restricted)?!!((t=n==null?void 0:n.restrictedConfigurations)===null||t===void 0?void 0:t.includes(y)):b.restricted),c[y].hasOwnProperty("included")&&!c[y].included){this.excludedConfigurationProperties[y]=c[y],delete c[y];continue}else this.configurationProperties[y]=c[y];!c[y].deprecationMessage&&c[y].markdownDeprecationMessage&&(c[y].deprecationMessage=c[y].markdownDeprecationMessage),o.push(y)}let f=d.allOf;if(f)for(let y of f)o.push(...this.validateAndRegisterProperties(y,r,n,l));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(d){const r=n=>{let l=n.properties;if(l)for(const o in l)this.updateSchema(o,l[o]);let t=n.allOf;t&&t.forEach(r)};r(d)}updateSchema(d,r){switch(e.allSettings.properties[d]=r,r.scope){case 1:e.applicationSettings.properties[d]=r;break;case 2:e.machineSettings.properties[d]=r;break;case 6:e.machineOverridableSettings.properties[d]=r;break;case 3:e.windowSettings.properties[d]=r;break;case 4:e.resourceSettings.properties[d]=r;break;case 5:e.resourceSettings.properties[d]=r,this.resourceLanguageSettingsSchema.properties[d]=r;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const r=`[${d}]`,n={type:"object",description:I.localize(1,null),errorMessage:I.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,n),e.allSettings.properties[r]=n,e.applicationSettings.properties[r]=n,e.machineSettings.properties[r]=n,e.machineOverridableSettings.properties[r]=n,e.windowSettings.properties[r]=n,e.resourceSettings.properties[r]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,r){let n=this.defaultValues[d];N.isUndefined(n)&&(n=r.default),N.isUndefined(n)&&(n=s(r.type)),r.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function C(h){return h.substring(1,h.length-1)}e.overrideIdentifierFromKey=C;function s(h){switch(Array.isArray(h)?h[0]:h){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=s;const a=new v;S.Registry.add(e.Extensions.Configuration,a);function u(h){return h.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(h)?I.localize(4,null,h):a.getConfigurationProperties()[h]!==void 0?I.localize(5,null,h):null:I.localize(3,null)}e.validateProperty=u}),define(te[190],ne([0,1,473,6,2,35,19,37,135,170,99,32,203]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new N.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(w){this._tabFocus!==w&&(this._tabFocus=w,this._onDidChangeTabFocus.fire(this._tabFocus))}};const u=Object.hasOwnProperty;class h{constructor(){this._values=[]}_read(D){return this._values[D]}get(D){return this._values[D]}_write(D,k){this._values[D]=k}}e.ComputedEditorOptions=h;class d{constructor(){this._values=[]}_read(D){return this._values[D]}_write(D,k){this._values[D]=k}}class r{static readOptions(D){const k=D,T=new d;for(const R of p.editorOptionsRegistry){const M=R.name==="_never_"?void 0:k[R.name];T._write(R.id,M)}return T}static validateOptions(D){const k=new p.ValidatedEditorOptions;for(const T of p.editorOptionsRegistry)k._write(T.id,T.validate(D._read(T.id)));return k}static computeOptions(D,k){const T=new h;for(const R of p.editorOptionsRegistry)T._write(R.id,R.compute(k,T,D._read(R.id)));return T}static _deepEquals(D,k){if(typeof D!="object"||typeof k!="object")return D===k;if(Array.isArray(D)||Array.isArray(k))return Array.isArray(D)&&Array.isArray(k)?S.equals(D,k):!1;for(let T in D)if(!r._deepEquals(D[T],k[T]))return!1;return!0}static checkEquals(D,k){const T=[];let R=!1;for(const M of p.editorOptionsRegistry){const A=!r._deepEquals(D._read(M.id),k._read(M.id));T[M.id]=A,A&&(R=!0)}return R?new p.ConfigurationChangedEvent(T):null}}function n(w){const D=w.wordWrap;D===!0?w.wordWrap="on":D===!1&&(w.wordWrap="off");const k=w.lineNumbers;k===!0?w.lineNumbers="on":k===!1&&(w.lineNumbers="off"),w.autoClosingBrackets===!1&&(w.autoClosingBrackets="never",w.autoClosingQuotes="never",w.autoSurround="never"),w.cursorBlinking==="visible"&&(w.cursorBlinking="solid");const M=w.renderWhitespace;M===!0?w.renderWhitespace="boundary":M===!1&&(w.renderWhitespace="none");const A=w.renderLineHighlight;A===!0?w.renderLineHighlight="line":A===!1&&(w.renderLineHighlight="none");const O=w.acceptSuggestionOnEnter;O===!0?w.acceptSuggestionOnEnter="on":O===!1&&(w.acceptSuggestionOnEnter="off");const P=w.tabCompletion;P===!1?w.tabCompletion="off":P===!0&&(w.tabCompletion="onlySnippets");const F=w.suggest;if(F&&typeof F.filteredTypes=="object"&&F.filteredTypes){const Y={};Y.method="showMethods",Y.function="showFunctions",Y.constructor="showConstructors",Y.deprecated="showDeprecated",Y.field="showFields",Y.variable="showVariables",Y.class="showClasses",Y.struct="showStructs",Y.interface="showInterfaces",Y.module="showModules",Y.property="showProperties",Y.event="showEvents",Y.operator="showOperators",Y.unit="showUnits",Y.value="showValues",Y.constant="showConstants",Y.enum="showEnums",Y.enumMember="showEnumMembers",Y.keyword="showKeywords",Y.text="showWords",Y.color="showColors",Y.file="showFiles",Y.reference="showReferences",Y.folder="showFolders",Y.typeParameter="showTypeParameters",Y.snippet="showSnippets",(0,a.forEach)(Y,se=>{const re=F.filteredTypes[se.key];re===!1&&(F[se.value]=re)})}const E=w.hover;E===!0?w.hover={enabled:!0}:E===!1&&(w.hover={enabled:!1});const x=w.parameterHints;x===!0?w.parameterHints={enabled:!0}:x===!1&&(w.parameterHints={enabled:!1});const W=w.autoIndent;W===!0?w.autoIndent="full":W===!1&&(w.autoIndent="advanced");const G=w.matchBrackets;G===!0?w.matchBrackets="always":G===!1&&(w.matchBrackets="never")}function l(w){const D=L.deepClone(w);return n(D),D}class t extends I.Disposable{constructor(D,k){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=D,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new p.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=l(k),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._register(v.EditorZoom.onDidChangeZoomLevel(T=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(T=>this._recomputeOptions()))}observeReferenceElement(D){}updatePixelRatio(){}_recomputeOptions(){const D=this.options,k=this._computeInternalOptions();if(!D)this.options=k;else{const T=r.checkEquals(D,k);if(T===null)return;this.options=k,this._onDidChangeFast.fire(T),this._onDidChange.fire(T)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const D=this._getEnvConfiguration(),k=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,D.zoomLevel,D.pixelRatio,this.isSimpleWidget),T={memory:this._computeOptionsMemory,outerWidth:D.outerWidth,outerHeight:D.outerHeight,fontInfo:this.readConfiguration(k),extraEditorClassName:D.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:D.emptySelectionClipboard,pixelRatio:D.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:D.accessibilitySupport};return r.computeOptions(this._validatedOptions,T)}static _subsetEquals(D,k){for(const T in k)if(u.call(k,T)){const R=k[T],M=D[T];if(M===R)continue;if(Array.isArray(M)&&Array.isArray(R)){if(!S.equals(M,R))return!1;continue}if(M&&typeof M=="object"&&R&&typeof R=="object"){if(!this._subsetEquals(M,R))return!1;continue}return!1}return!0}updateOptions(D){if(typeof D=="undefined")return;const k=l(D);t._subsetEquals(this._rawOptions,k)||(this._rawOptions=L.mixin(this._rawOptions,k||{}),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(D){this._isDominatedByLongLines=D,this._recomputeOptions()}setMaxLineNumber(D){const k=t._digitCount(D);this._lineNumbersDigitCount!==k&&(this._lineNumbersDigitCount=k,this._recomputeOptions())}setViewLineCount(D){this._viewLineCount!==D&&(this._viewLineCount=D,this._recomputeOptions())}static _digitCount(D){let k=0;for(;D;)D=Math.floor(D/10),k++;return k||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:_.localize(0,null),scope:5});const o=s.Registry.as(C.Extensions.Configuration),c=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:p.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:_.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:_.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:_.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:_.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:_.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:_.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[_.localize(7,null),_.localize(8,null),_.localize(9,null)],description:_.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[_.localize(11,null),_.localize(12,null),_.localize(13,null)],default:"configuredByTheme",description:_.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:_.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:_.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:_.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:_.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:_.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:_.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:_.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]}}});function f(w){return typeof w.type!="undefined"||typeof w.anyOf!="undefined"}for(const w of p.editorOptionsRegistry){const D=w.schema;if(typeof D!="undefined")if(f(D))c.properties[`editor.${w.name}`]=D;else for(let k in D)u.call(D,k)&&(c.properties[k]=D[k])}let y=null;function b(){return y===null&&(y=Object.create(null),Object.keys(c.properties).forEach(w=>{y[w]=!0})),y}function g(w){return b()[`editor.${w}`]||!1}e.isEditorConfigurationKey=g;function m(w){return b()[`diffEditor.${w}`]||!1}e.isDiffEditorConfigurationKey=m,o.registerConfiguration(c)}),define(te[65],ne([0,1,41,6,2,17,377,218,190,37,170]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class s{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const n=r.getId();return!!this._values[n]}get(r){const n=r.getId();return this._values[n]}put(r,n){const l=r.getId();this._keys[l]=r,this._values[l]=n}remove(r){const n=r.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function a(){u.INSTANCE.clearCache()}e.clearAllFontInfos=a;class u extends I.Disposable{constructor(){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new s,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new s,this._onDidChange.fire()}_writeToCache(r,n){this._cache.put(r,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let n=!1;for(const l of r)l.isTrusted||(n=!0,this._cache.remove(l));n&&this._onDidChange.fire()}readConfiguration(r){if(!this._cache.has(r)){let n=u._actualReadConfiguration(r);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new C.FontInfo({zoomLevel:_.getZoomLevel(),pixelRatio:_.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(r,n)}return this._cache.get(r)}static createRequest(r,n,l,t){const o=new S.CharWidthRequest(r,n);return l.push(o),t&&t.push(o),o}static _actualReadConfiguration(r){const n=[],l=[],t=this.createRequest("n",0,n,l),o=this.createRequest("\uFF4D",0,n,null),c=this.createRequest(" ",0,n,l),f=this.createRequest("0",0,n,l),y=this.createRequest("1",0,n,l),b=this.createRequest("2",0,n,l),g=this.createRequest("3",0,n,l),m=this.createRequest("4",0,n,l),w=this.createRequest("5",0,n,l),D=this.createRequest("6",0,n,l),k=this.createRequest("7",0,n,l),T=this.createRequest("8",0,n,l),R=this.createRequest("9",0,n,l),M=this.createRequest("\u2192",0,n,l),A=this.createRequest("\uFFEB",0,n,null),O=this.createRequest("\xB7",0,n,l),P=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,l),this.createRequest("/",0,n,l),this.createRequest("-",0,n,l),this.createRequest("_",0,n,l),this.createRequest("i",0,n,l),this.createRequest("l",0,n,l),this.createRequest("m",0,n,l),this.createRequest("|",1,n,l),this.createRequest("_",1,n,l),this.createRequest("i",1,n,l),this.createRequest("l",1,n,l),this.createRequest("m",1,n,l),this.createRequest("n",1,n,l),this.createRequest("|",2,n,l),this.createRequest("_",2,n,l),this.createRequest("i",2,n,l),this.createRequest("l",2,n,l),this.createRequest("m",2,n,l),this.createRequest("n",2,n,l),(0,S.readCharWidths)(r,n);const F=Math.max(f.width,y.width,b.width,g.width,m.width,w.width,D.width,k.width,T.width,R.width);let E=r.fontFeatureSettings===i.EditorFontLigatures.OFF;const x=l[0].width;for(let Y=1,se=l.length;E&&Y<se;Y++){const re=x-l[Y].width;if(re<-.001||re>.001){E=!1;break}}let W=!0;E&&A.width!==x&&(W=!1),A.width>M.width&&(W=!1);const G=_.getTimeSinceLastZoomLevelChanged()>2e3;return new C.FontInfo({zoomLevel:_.getZoomLevel(),pixelRatio:_.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:W,spaceWidth:c.width,middotWidth:O.width,wsmiddotWidth:P.width,maxDigitWidth:F},G)}}u.INSTANCE=new u;class h extends v.CommonEditorConfiguration{constructor(r,n,l=null,t){super(r,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new p.ElementSizeObserver(l,n.dimension,()=>this._recomputeOptions())),this._register(u.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(_.onDidChangeZoomLevel(o=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,n){r.style.fontFamily=n.getMassagedFontFamily(),r.style.fontWeight=n.fontWeight,r.style.fontSize=n.fontSize+"px",r.style.fontFeatureSettings=n.fontFeatureSettings,r.style.lineHeight=n.lineHeight+"px",r.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(r,n){r.setFontFamily(n.getMassagedFontFamily()),r.setFontWeight(n.fontWeight),r.setFontSize(n.fontSize),r.setFontFeatureSettings(n.fontFeatureSettings),r.setLineHeight(n.lineHeight),r.setLetterSpacing(n.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!_.isSafari&&!_.isWebkitWebView&&(r+="no-user-select "),_.isSafari&&(r+="no-minimap-shadow "),L.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:h._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:_.isWebKit||_.isFirefox,pixelRatio:_.getPixelRatio(),zoomLevel:_.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return u.INSTANCE.readConfiguration(r)}}e.Configuration=h}),define(te[580],ne([0,1,84,8,65,63,97]),function($,e,_,N,I,L,S){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("domLineBreaksComputer",{createHTML:d=>d});class i{static create(){return new i}constructor(){}createLineBreaksComputer(r,n,l,t){n=n|0,l=+l;let o=[],c=[];return{addRequest:(f,y,b)=>{o.push(f),c.push(y)},finalize:()=>C(o,r,n,l,t,c)}}}e.DOMLineBreaksComputerFactory=i;function C(d,r,n,l,t,o){var c;function f(F){const E=o[F];if(E){const x=S.LineInjectedText.applyInjectedText(d[F],E),W=E.map(Y=>Y.options),G=E.map(Y=>Y.column-1);return new L.LineBreakData([x.length],[],0,G,W)}else return null}if(l===-1){const F=[];for(let E=0,x=d.length;E<x;E++)F[E]=f(E);return F}const y=Math.round(l*r.typicalHalfwidthCharacterWidth);(t===2||t===3)&&(t=1);const b=document.createElement("div");I.Configuration.applyFontInfoSlow(b,r);const g=(0,_.createStringBuilder)(1e4),m=[],w=[],D=[],k=[],T=[];for(let F=0;F<d.length;F++){const E=S.LineInjectedText.applyInjectedText(d[F],o[F]);let x=0,W=0,G=y;if(t!==0)if(x=N.firstNonWhitespaceIndex(E),x===-1)x=0;else{for(let J=0;J<x;J++)W+=E.charCodeAt(J)===9?n-W%n:1;const re=Math.ceil(r.spaceWidth*W);re+r.typicalFullwidthCharacterWidth>y?(x=0,W=0):G=y-re}const Y=E.substr(x),se=s(Y,W,n,G,g);m[F]=x,w[F]=W,D[F]=Y,k[F]=se[0],T[F]=se[1]}const R=g.build(),M=(c=v==null?void 0:v.createHTML(R))!==null&&c!==void 0?c:R;b.innerHTML=M,b.style.position="absolute",b.style.top="10000",b.style.wordWrap="break-word",document.body.appendChild(b);let A=document.createRange();const O=Array.prototype.slice.call(b.children,0);let P=[];for(let F=0;F<d.length;F++){const E=O[F],x=a(A,E,D[F],k[F]);if(x===null){P[F]=f(F);continue}const W=m[F],G=w[F],Y=T[F],se=[];for(let ae=0,V=x.length;ae<V;ae++)se[ae]=Y[x[ae]];if(W!==0)for(let ae=0,V=x.length;ae<V;ae++)x[ae]+=W;let re,J;const le=o[F];le?(re=le.map(ae=>ae.options),J=le.map(ae=>ae.column-1)):(re=null,J=null),P[F]=new L.LineBreakData(x,se,G,J,re)}return document.body.removeChild(b),P}function s(d,r,n,l,t){t.appendASCIIString('<div style="width:'),t.appendASCIIString(String(l)),t.appendASCIIString('px;">');const o=d.length;let c=r,f=0,y=[],b=[],g=0<o?d.charCodeAt(0):0;t.appendASCIIString("<span>");for(let m=0;m<o;m++){m!==0&&m%16384==0&&t.appendASCIIString("</span><span>"),y[m]=f,b[m]=c;const w=g;g=m+1<o?d.charCodeAt(m+1):0;let D=1,k=1;switch(w){case 9:D=n-c%n,k=D;for(let T=1;T<=D;T++)T<D?t.write1(160):t.appendASCII(32);break;case 32:g===32?t.write1(160):t.appendASCII(32);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:N.isFullWidthCharacter(w)&&k++,w<32?t.write1(9216+w):t.write1(w)}f+=D,c+=k}return t.appendASCIIString("</span>"),y[d.length]=f,b[d.length]=c,t.appendASCIIString("</div>"),[y,b]}function a(d,r,n,l){if(n.length<=1)return null;const t=Array.prototype.slice.call(r.children,0),o=[];try{u(d,t,l,0,null,n.length-1,null,o)}catch(c){return console.log(c),null}return o.length===0?null:(o.push(n.length),o)}function u(d,r,n,l,t,o,c,f){if(l===o||(t=t||h(d,r,n[l],n[l+1]),c=c||h(d,r,n[o],n[o+1]),Math.abs(t[0].top-c[0].top)<=.1))return;if(l+1===o){f.push(o);return}const y=l+(o-l)/2|0,b=h(d,r,n[y],n[y+1]);u(d,r,n,l,t,y,b,f),u(d,r,n,y,b,o,c,f)}function h(d,r,n,l){return d.setStart(r[n/16384|0].firstChild,n%16384),d.setEnd(r[l/16384|0].firstChild,l%16384),d.getClientRects()}}),define(te[581],ne([0,1,30,65,172,48]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends L.ViewPart{constructor(s){super(s);this._visibleLines=new I.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,a=this._dynamicOverlays.length;s<a;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,a=this._dynamicOverlays.length;s<a;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const a=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=a;h<=u;h++)this._visibleLines.getVisibleLine(h).onConfigurationChanged(s);return!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const a=this._dynamicOverlays.filter(u=>u.shouldRender());for(let u=0,h=a.length;u<h;u++){const d=a[u];d.prepareRender(s),d.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=S;class p{constructor(s,a){this._configuration=s,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,_.createFastDomNode)(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(58)}renderLine(s,a,u,h){let d="";for(let r=0,n=this._dynamicOverlays.length;r<n;r++)d+=this._dynamicOverlays[r].render(u.startLineNumber,s);return this._renderedContent===d?!1:(this._renderedContent=d,h.appendASCIIString('<div style="position:absolute;top:'),h.appendASCIIString(String(a)),h.appendASCIIString("px;width:100%;height:"),h.appendASCIIString(String(this._lineHeight)),h.appendASCIIString('px;">'),h.appendASCIIString(d),h.appendASCIIString("</div>"),!0)}layoutLine(s,a){this._domNode&&(this._domNode.setTop(a),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=p;class v extends S{constructor(s){super(s);const u=this._context.configuration.options.get(130);this._contentWidth=u.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const u=this._context.configuration.options.get(130);return this._contentWidth=u.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class i extends S{constructor(s){super(s);const a=this._context.configuration.options,u=a.get(130);this._contentLeft=u.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),N.Configuration.applyFontInfo(this.domNode,a.get(42))}onConfigurationChanged(s){const a=this._context.configuration.options;N.Configuration.applyFontInfo(this.domNode,a.get(42));const u=a.get(130);return this._contentLeft=u.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const a=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(a),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(te[582],ne([0,1,7,30,8,65,37,13,3,133]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class C{constructor(u,h,d,r,n,l){this.top=u,this.left=h,this.width=d,this.height=r,this.textContent=n,this.textContentClassName=l}}class s{constructor(u){this._context=u;const h=this._context.configuration.options,d=h.get(42);this._cursorStyle=h.get(23),this._lineHeight=h.get(58),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(h.get(26),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),L.Configuration.applyFontInfo(this._domNode,d),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(u){const h=this._context.configuration.options,d=h.get(42);return this._cursorStyle=h.get(23),this._lineHeight=h.get(58),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(h.get(26),this._typicalHalfwidthCharacterWidth),L.Configuration.applyFontInfo(this._domNode,d),!0}onCursorPositionChanged(u){return this._position=u,!0}_prepareRender(u){let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const b=u.visibleRangeForPosition(this._position);if(!b||b.outsideRenderedLine)return null;let g;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(g=_.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),g>2){const D=this._context.model.getLineContent(this._position.lineNumber),k=I.nextCharLength(D,this._position.column-1);h=D.substr(this._position.column-1,k)}}else g=_.computeScreenAwareSize(1);let m=b.left;g>=2&&m>=1&&(m-=1);const w=u.getVerticalOffsetForLineNumber(this._position.lineNumber)-u.bigNumbersDelta;return new C(w,m,g,this._lineHeight,h,"")}const d=this._context.model.getLineContent(this._position.lineNumber),r=I.nextCharLength(d,this._position.column-1),n=u.linesVisibleRangesForRange(new v.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!n||n.length===0)return null;const l=n[0];if(l.outsideRenderedLine||l.ranges.length===0)return null;const t=l.ranges[0],o=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let c="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const b=this._context.model.getViewLineData(this._position.lineNumber);h=d.substr(this._position.column-1,r);const g=b.tokens.findTokenIndexAtOffset(this._position.column-1);c=b.tokens.getClassName(g)}let f=u.getVerticalOffsetForLineNumber(this._position.lineNumber)-u.bigNumbersDelta,y=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(f+=this._lineHeight-2,y=2),new C(f,t.left,o,y,h,c)}prepareRender(u){this._renderData=this._prepareRender(u)}render(u){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(te[583],ne([0,1,10,6,2,107,8,18,147,78,99,32]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const a=Object.prototype.hasOwnProperty;class u extends I.Disposable{constructor(d=!0,r=!1){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=r,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(v.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const d=v.ModesRegistry.getLanguages();this._registerLanguages(d)}_registerLanguages(d){for(const r of d)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let n=this._languages[r];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(l=>{this._lowercaseNameMap[l.toLowerCase()]=n.identifier}),n.mimetypes.forEach(l=>{this._mimeTypesMap[l]=n.identifier})}),s.Registry.as(C.Extensions.Configuration).registerOverrideIdentifiers(v.ModesRegistry.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_getLanguageId(d){if(this._languageToLanguageId[d])return this._languageToLanguageId[d];const r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=d,this._languageToLanguageId[d]=r,r}_registerLanguage(d){const r=d.id;let n;if(a.call(this._languages,r))n=this._languages[r];else{const l=this._getLanguageId(r);n={identifier:new p.LanguageIdentifier(r,l),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=n}this._mergeLanguage(n,d)}_mergeLanguage(d,r){const n=r.id;let l=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(d.mimetypes.push(...r.mimetypes),l=r.mimetypes[0]),l||(l=`text/x-${n}`,d.mimetypes.push(l)),Array.isArray(r.extensions)){r.configuration?d.extensions=r.extensions.concat(d.extensions):d.extensions=d.extensions.concat(r.extensions);for(let c of r.extensions)L.registerTextMime({id:n,mime:l,extension:c},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let c of r.filenames)L.registerTextMime({id:n,mime:l,filename:c},this._warnOnOverwrite),d.filenames.push(c);if(Array.isArray(r.filenamePatterns))for(let c of r.filenamePatterns)L.registerTextMime({id:n,mime:l,filepattern:c},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let c=r.firstLine;c.charAt(0)!=="^"&&(c="^"+c);try{let f=new RegExp(c);S.regExpLeadsToEndlessLoop(f)||L.registerTextMime({id:n,mime:l,firstline:f},this._warnOnOverwrite)}catch(f){(0,_.onUnexpectedError)(f)}}d.aliases.push(n);let t=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?t=[null]:t=r.aliases),t!==null)for(const c of t)!c||c.length===0||d.aliases.push(c);let o=t!==null&&t.length>0;if(!(o&&t[0]===null)){let c=(o?t[0]:null)||n;(o||!d.name)&&(d.name=c)}r.configuration&&d.configurationFiles.push(r.configuration)}isRegisteredMode(d){return a.call(this._mimeTypesMap,d)?!0:a.call(this._languages,d)}getModeIdForLanguageNameLowercase(d){return a.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d].language:null}extractModeIds(d){return d?d.split(",").map(r=>r.trim()).map(r=>a.call(this._mimeTypesMap,r)?this._mimeTypesMap[r].language:r).filter(r=>a.call(this._languages,r)):[]}getLanguageIdentifier(d){if(d===i.NULL_MODE_ID||d===0)return i.NULL_LANGUAGE_IDENTIFIER;let r;if(typeof d=="string")r=d;else if(r=this._languageIdToLanguage[d],!r)return null;return a.call(this._languages,r)?this._languages[r].identifier:null}getModeIdsFromFilepathOrFirstLine(d,r){if(!d&&!r)return[];let n=L.guessMimeTypes(d,r);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=u}),define(te[584],ne([0,1,6,2,391,78,583,19]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class v{constructor(s,a){this._selector=a,this.languageIdentifier=this._selector();let u;this._onDidChange=new _.Emitter({onFirstListenerAdd:()=>{u=s(()=>this._evaluate())},onLastListenerRemove:()=>{u.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let s=this._selector();s.id!==this.languageIdentifier.id&&(this.languageIdentifier=s,this._onDidChange.fire(this.languageIdentifier))}}class i extends N.Disposable{constructor(s=!1){super();this._onDidCreateMode=this._register(new _.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new _.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new S.LanguagesRegistry(!0,s)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(s){return this._registry.isRegisteredMode(s)}getModeIdForLanguageName(s){return this._registry.getModeIdForLanguageNameLowercase(s)}getModeIdByFilepathOrFirstLine(s,a){const u=this._registry.getModeIdsFromFilepathOrFirstLine(s,a);return(0,p.firstOrDefault)(u,null)}getModeId(s){const a=this._registry.extractModeIds(s);return(0,p.firstOrDefault)(a,null)}getLanguageIdentifier(s){return this._registry.getLanguageIdentifier(s)}create(s){return new v(this.onLanguagesMaybeChanged,()=>{const a=this.getModeId(s);return this._createModeAndGetLanguageIdentifier(a)})}createByFilepathOrFirstLine(s,a){return new v(this.onLanguagesMaybeChanged,()=>{const u=this.getModeIdByFilepathOrFirstLine(s,a);return this._createModeAndGetLanguageIdentifier(u)})}_createModeAndGetLanguageIdentifier(s){const a=this.getLanguageIdentifier(s||"plaintext")||L.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(a.language),a}triggerMode(s){const a=this.getModeId(s);this._getOrCreateMode(a||"plaintext")}_getOrCreateMode(s){if(!this._instantiatedModes.hasOwnProperty(s)){let a=this.getLanguageIdentifier(s)||L.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[s]=new I.FrankensteinMode(a),this._onDidCreateMode.fire(this._instantiatedModes[s])}return this._instantiatedModes[s]}}e.ModeServiceImpl=i}),define(te[40],ne([0,1,99,9,32]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,N.createDecorator)("configurationService");function L(a,u){const h=Object.create(null);for(let d in a)S(h,d,a[d],u);return h}e.toValuesTree=L;function S(a,u,h,d){const r=u.split("."),n=r.pop();let l=a;for(let t=0;t<r.length;t++){let o=r[t],c=l[o];switch(typeof c){case"undefined":c=l[o]=Object.create(null);break;case"object":break;default:d(`Ignoring ${u} as ${r.slice(0,t+1).join(".")} is ${JSON.stringify(c)}`);return}l=c}if(typeof l=="object"&&l!==null)try{l[n]=h}catch(t){d(`Ignoring ${u} as ${r.join(".")} is ${JSON.stringify(l)}`)}else d(`Ignoring ${u} as ${r.join(".")} is ${JSON.stringify(l)}`)}e.addToValueTree=S;function p(a,u){const h=u.split(".");v(a,h)}e.removeFromValueTree=p;function v(a,u){const h=u.shift();if(u.length===0){delete a[h];return}if(Object.keys(a).indexOf(h)!==-1){const d=a[h];typeof d=="object"&&!Array.isArray(d)&&(v(d,u),Object.keys(d).length===0&&delete a[h])}}function i(a,u,h){function d(l,t){let o=l;for(const c of t){if(typeof o!="object"||o===null)return;o=o[c]}return o}const r=u.split("."),n=d(a,r);return typeof n=="undefined"?h:n}e.getConfigurationValue=i;function C(){const a=I.Registry.as(_.Extensions.Configuration).getConfigurationProperties();return Object.keys(a)}e.getConfigurationKeys=C;function s(){const a=Object.create(null),u=I.Registry.as(_.Extensions.Configuration).getConfigurationProperties();for(let h in u){let d=u[h].default;S(a,h,d,r=>console.error(`Conflict in default settings: ${r}`))}return a}e.getDefaultValues=s}),define(te[585],ne([0,1,6,2,60,40,15]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let p=class extends N.Disposable{constructor(i,C){super();this._contextKeyService=i,this._configurationService=C,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new _.Emitter,this._accessibilityModeEnabledContext=I.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire())})),s(),this.onDidChangeScreenReaderOptimized(()=>s())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};p=Re([me(0,S.IContextKeyService),me(1,L.IConfigurationService)],p),e.AccessibilityService=p}),define(te[586],ne([0,1,19,49,35,20,24,40,99]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(h={},d=[],r=[]){this._contents=h,this._keys=d,this._overrides=r,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(h){return h?(0,p.getConfigurationValue)(this.contents,h):this.contents}override(h){const d=this.getContentsForOverrideIdentifer(h);if(!d||typeof d!="object"||!Object.keys(d).length)return this;let r={};for(const n of _.distinct([...Object.keys(this.contents),...Object.keys(d)])){let l=this.contents[n],t=d[n];t&&(typeof l=="object"&&typeof t=="object"?(l=I.deepClone(l),this.mergeContents(l,t)):l=t),r[n]=l}return new i(r,this.keys,this.overrides)}merge(...h){const d=I.deepClone(this.contents),r=I.deepClone(this.overrides),n=[...this.keys];for(const l of h){this.mergeContents(d,l.contents);for(const t of l.overrides){const[o]=r.filter(c=>_.equals(c.identifiers,t.identifiers));o?this.mergeContents(o.contents,t.contents):r.push(I.deepClone(t))}for(const t of l.keys)n.indexOf(t)===-1&&n.push(t)}return new i(d,n,r)}freeze(){return this.isFrozen=!0,this}mergeContents(h,d){for(const r of Object.keys(d)){if(r in h&&L.isObject(h[r])&&L.isObject(d[r])){this.mergeContents(h[r],d[r]);continue}h[r]=I.deepClone(d[r])}}checkAndFreeze(h){return this.isFrozen&&!Object.isFrozen(h)?I.deepFreeze(h):h}getContentsForOverrideIdentifer(h){for(const d of this.overrides)if(d.identifiers.indexOf(h)!==-1)return d.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(h,d){this.addKey(h),(0,p.addToValueTree)(this.contents,h,d,r=>{throw new Error(r)})}removeValue(h){this.removeKey(h)&&(0,p.removeFromValueTree)(this.contents,h)}addKey(h){let d=this.keys.length;for(let r=0;r<d;r++)h.indexOf(this.keys[r])===0&&(d=r);this.keys.splice(d,1,h)}removeKey(h){let d=this.keys.indexOf(h);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=i;class C extends i{constructor(){const h=(0,p.getDefaultValues)(),d=(0,p.getConfigurationKeys)(),r=[];for(const n of Object.keys(h))v.OVERRIDE_PROPERTY_PATTERN.test(n)&&r.push({identifiers:[(0,v.overrideIdentifierFromKey)(n).trim()],keys:Object.keys(h[n]),contents:(0,p.toValuesTree)(h[n],l=>console.error(`Conflict in default settings file: ${l}`))});super(h,d,r)}}e.DefaultConfigurationModel=C;class s{constructor(h,d,r=new i,n=new i,l=new N.ResourceMap,t=new i,o=new N.ResourceMap,c=!0){this._defaultConfiguration=h,this._localUserConfiguration=d,this._remoteUserConfiguration=r,this._workspaceConfiguration=n,this._folderConfigurations=l,this._memoryConfiguration=t,this._memoryConfigurationByResource=o,this._freeze=c,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new N.ResourceMap,this._userConfiguration=null}getValue(h,d,r){return this.getConsolidateConfigurationModel(d,r).getValue(h)}updateValue(h,d,r={}){let n;r.resource?(n=this._memoryConfigurationByResource.get(r.resource),n||(n=new i,this._memoryConfigurationByResource.set(r.resource,n))):n=this._memoryConfiguration,d===void 0?n.removeValue(h):n.setValue(h,d),r.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(h,d){let r=this.getConsolidatedConfigurationModelForResource(h,d);return h.overrideIdentifier?r.override(h.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:h},d){let r=this.getWorkspaceConsolidatedConfiguration();if(d&&h){const n=d.getFolder(h);n&&(r=this.getFolderConsolidatedConfiguration(n.uri)||r);const l=this._memoryConfigurationByResource.get(h);l&&(r=r.merge(l))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(h){let d=this._foldersConsolidatedConfigurations.get(h);if(!d){const r=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(h);n?(d=r.merge(n),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(h,d)):d=r}return d}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((h,d)=>{const{contents:r,overrides:n,keys:l}=this._folderConfigurations.get(d);return h.push([d,{contents:r,overrides:n,keys:l}]),h},[])}}static parse(h){const d=this.parseConfigurationModel(h.defaults),r=this.parseConfigurationModel(h.user),n=this.parseConfigurationModel(h.workspace),l=h.folders.reduce((t,o)=>(t.set(S.URI.revive(o[0]),this.parseConfigurationModel(o[1])),t),new N.ResourceMap);return new s(d,r,new i,n,l,new i,new N.ResourceMap,!1)}static parseConfigurationModel(h){return new i(h.contents,h.keys,h.overrides).freeze()}}e.Configuration=s;class a{constructor(h,d,r,n){this.change=h,this.previous=d,this.currentConfiguraiton=r,this.currentWorkspace=n,this._previousConfiguration=void 0;const l=new Set;h.keys.forEach(o=>l.add(o)),h.overrides.forEach(([,o])=>o.forEach(c=>l.add(c))),this.affectedKeys=[...l.values()];const t=new i;this.affectedKeys.forEach(o=>t.setValue(o,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=s.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(h,d){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,h)){if(d){const n=this.previousConfiguration?this.previousConfiguration.getValue(h,d,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,l=this.currentConfiguraiton.getValue(h,d,this.currentWorkspace);return!I.equals(n,l)}return!0}return!1}doesAffectedKeysTreeContains(h,d){let r=(0,p.toValuesTree)({[d]:!0},()=>{}),n;for(;typeof r=="object"&&(n=Object.keys(r)[0]);){if(h=h[n],!h)return!1;r=r[n]}return!0}}e.ConfigurationChangeEvent=a}),define(te[587],ne([0,1,6,54,2,49,544,26,40,15,258]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const s="data-keybinding-context";class a{constructor(b,g){this._id=b,this._parent=g,this._value=Object.create(null),this._value._contextId=b}setValue(b,g){return this._value[b]!==g?(this._value[b]=g,!0):!1}removeValue(b){return b in this._value?(delete this._value[b],!0):!1}getValue(b){const g=this._value[b];return typeof g=="undefined"&&this._parent?this._parent.getValue(b):g}}e.Context=a;class u extends a{constructor(){super(-1,null)}setValue(b,g){return!1}removeValue(b){return!1}getValue(b){}}u.INSTANCE=new u;class h extends a{constructor(b,g,m){super(b,null);this._configurationService=g,this._values=L.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(w=>{if(w.source===6){const D=Array.from(N.Iterable.map(this._values,([k])=>k));this._values.clear(),m.fire(new n(D))}else{const D=[];for(const k of w.affectedKeys){const T=`config.${k}`,R=this._values.findSuperstr(T);R!==void 0&&(D.push(...N.Iterable.map(R,([M])=>M)),this._values.deleteSuperstr(T)),this._values.has(T)&&(D.push(T),this._values.delete(T))}m.fire(new n(D))}})}dispose(){this._listener.dispose()}getValue(b){if(b.indexOf(h._keyPrefix)!==0)return super.getValue(b);if(this._values.has(b))return this._values.get(b);const g=b.substr(h._keyPrefix.length),m=this._configurationService.getValue(g);let w;switch(typeof m){case"number":case"boolean":case"string":w=m;break;default:Array.isArray(m)?w=JSON.stringify(m):w=m}return this._values.set(b,w),w}setValue(b,g){return super.setValue(b,g)}removeValue(b){return super.removeValue(b)}}h._keyPrefix="config.";class d{constructor(b,g,m){this._service=b,this._key=g,this._defaultValue=m,this.reset()}set(b){this._service.setContext(this._key,b)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class r{constructor(b){this.key=b}affectsSome(b){return b.has(this.key)}}class n{constructor(b){this.keys=b}affectsSome(b){for(const g of this.keys)if(b.has(g))return!0;return!1}}class l{constructor(b){this.events=b}affectsSome(b){for(const g of this.events)if(g.affectsSome(b))return!0;return!1}}class t{constructor(b){this._onDidChangeContext=new _.PauseableEmitter({merge:g=>new l(g)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=b}createKey(b,g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,b,g)}bufferChangeEvents(b){this._onDidChangeContext.pause();try{b()}finally{this._onDidChangeContext.resume()}}createScoped(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new c(this,b)}contextMatchesRules(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const g=this.getContextValuesContainer(this._myContextId);return C.KeybindingResolver.contextMatchesRules(g,b)}getContextKeyValue(b){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(b)}setContext(b,g){if(this._isDisposed)return;const m=this.getContextValuesContainer(this._myContextId);!m||m.setValue(b,g)&&this._onDidChangeContext.fire(new r(b))}removeContext(b){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(b)&&this._onDidChangeContext.fire(new r(b))}getContext(b){return this._isDisposed?u.INSTANCE:this.getContextValuesContainer(f(b))}}e.AbstractContextKeyService=t;let o=class extends t{constructor(b){super(0);this._contexts=new Map,this._toDispose=new I.DisposableStore,this._lastContextId=0;const g=new h(this._myContextId,b,this._onDidChangeContext);this._contexts.set(this._myContextId,g),this._toDispose.add(g)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(b){return this._isDisposed?u.INSTANCE:this._contexts.get(b)||u.INSTANCE}createChildContext(b=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let g=++this._lastContextId;return this._contexts.set(g,new a(g,this.getContextValuesContainer(b))),g}disposeContext(b){this._isDisposed||this._contexts.delete(b)}};o=Re([me(0,v.IConfigurationService)],o),e.ContextKeyService=o;class c extends t{constructor(b,g){super(b.createChildContext());if(this._parentChangeListener=new I.MutableDisposable,this._parent=b,this._updateParentChangeListener(),this._domNode=g,this._domNode.hasAttribute(s)){let m="";this._domNode.classList&&(m=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${m?": "+m:""}`)}this._domNode.setAttribute(s,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(s),this._isDisposed=!0)}getContextValuesContainer(b){return this._isDisposed?u.INSTANCE:this._parent.getContextValuesContainer(b)}createChildContext(b=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(b)}disposeContext(b){this._isDisposed||this._parent.disposeContext(b)}}function f(y){for(;y;){if(y.hasAttribute(s)){const b=y.getAttribute(s);return b?parseInt(b,10):NaN}y=y.parentElement}return 0}p.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(y,b,g){y.get(i.IContextKeyService).createKey(String(b),g)}),p.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((y,b)=>y.key.localeCompare(b.key))},description:{description:(0,S.localize)(0,null),args:[]}}),p.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const y=[],b=new Set;for(let g of i.RawContextKey.all())b.has(g.key)||(b.add(g.key),y.push(g));y.sort((g,m)=>g.key.localeCompare(m.key)),console.log(JSON.stringify(y,void 0,2))})}),define(te[80],ne([0,1,43,17,26,32]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(N.OS===1){if(i&&i.win)return i.win}else if(N.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const C=S.bindToCurrentPlatform(i);if(C&&C.primary){const s=(0,_.createKeybinding)(C.primary,N.OS);s&&this._registerDefaultKeybinding(s,i.id,i.args,i.weight,0,i.when)}if(C&&Array.isArray(C.secondary))for(let s=0,a=C.secondary.length;s<a;s++){const u=C.secondary[s],h=(0,_.createKeybinding)(u,N.OS);h&&this._registerDefaultKeybinding(h,i.id,i.args,i.weight,-s-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),I.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,C){i.ctrlKey&&i.altKey&&!i.metaKey&&S._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",C)}_registerDefaultKeybinding(i,C,s,a,u,h){N.OS===1&&this._assertNoCtrlAlt(i.parts[0],C),this._coreKeybindings.push({keybinding:i,command:C,commandArgs:s,when:h,weight1:a,weight2:u,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},L.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function p(v,i){return v.weight1!==i.weight1?v.weight1-i.weight1:v.command<i.command?-1:v.command>i.command?1:v.weight2-i.weight2}}),define(te[588],ne([0,1,452,453,15,80]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget";const S="historyNavigationForwardsEnabled",p="historyNavigationBackwardsEnabled";function v(h,d,r){new I.RawContextKey(r,d).bindTo(h)}function i(h,d){return h.createScoped(d.target)}function C(h,d){return h.getContext(document.activeElement).getValue(d)}function s(h,d){const r=i(h,d);v(r,d,e.HistoryNavigationWidgetContext);const n=new I.RawContextKey(S,!0).bindTo(r),l=new I.RawContextKey(p,!0).bindTo(r);return{scopedContextKeyService:r,historyNavigationForwardsEnablement:n,historyNavigationBackwardsEnablement:l}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=s;let a=class extends _.FindInput{constructor(d,r,n,l,t=!1){super(d,r,t,n);this._register(s(l,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};a=Re([me(3,I.IContextKeyService)],a),e.ContextScopedFindInput=a;let u=class extends N.ReplaceInput{constructor(d,r,n,l,t=!1){super(d,r,t,n);this._register(s(l,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};u=Re([me(3,I.IContextKeyService)],u),e.ContextScopedReplaceInput=u,L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:I.ContextKeyExpr.and(I.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),I.ContextKeyExpr.equals(p,!0)),primary:16,secondary:[512|16],handler:h=>{const d=C(h.get(I.IContextKeyService),e.HistoryNavigationWidgetContext);d&&d.historyNavigator.showPreviousValue()}}),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:I.ContextKeyExpr.and(I.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),I.ContextKeyExpr.equals(S,!0)),primary:18,secondary:[512|18],handler:h=>{const d=C(h.get(I.IContextKeyService),e.HistoryNavigationWidgetContext);d&&d.historyNavigator.showNextValue()}})}),define(te[100],ne([0,1,19,2,32]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var L;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(L=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((i,C)=>C.prefix.length-i.prefix.length),(0,N.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,_.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(C=>v.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,I.Registry.add(e.Extensions.Quickaccess,new S)}),define(te[589],ne([0,1,2,550,100,79,32]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let p=class ct{constructor(i){this.quickInputService=i,this.registry=S.Registry.as(I.Extensions.Quickaccess)}provide(i){const C=new _.DisposableStore;C.add(i.onDidAccept(()=>{const[u]=i.selectedItems;u&&this.quickInputService.quickAccess.show(u.prefix,{preserveValue:!0})})),C.add(i.onDidChangeValue(u=>{const h=this.registry.getQuickAccessProvider(u.substr(ct.PREFIX.length));h&&h.prefix&&h.prefix!==ct.PREFIX&&this.quickInputService.quickAccess.show(h.prefix,{preserveValue:!0})}));const{editorProviders:s,globalProviders:a}=this.getQuickAccessProviders();return i.items=s.length===0||a.length===0?[...s.length===0?a:s]:[{label:(0,N.localize)(0,null),type:"separator"},...a,{label:(0,N.localize)(1,null),type:"separator"},...s],C}getQuickAccessProviders(){const i=[],C=[];for(const s of this.registry.getQuickAccessProviders().sort((a,u)=>a.prefix.localeCompare(u.prefix)))if(s.prefix!==ct.PREFIX)for(const a of s.helpEntries){const u=a.prefix||s.prefix,h=u||"\u2026";(a.needsEditor?C:i).push({prefix:u,label:h,ariaLabel:(0,N.localize)(2,null,h,a.description),description:a.description})}return{editorProviders:C,globalProviders:i}}};p.PREFIX="?",p=Re([me(0,L.IQuickInputService)],p),e.HelpQuickAccessProvider=p}),define(te[590],ne([0,1,32,100,64,589]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),_.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:L.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:I.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(te[591],ne([0,1,23,82,2,9,100,79,32]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends I.Disposable{constructor(s,a){super();this.quickInputService=s,this.instantiationService=a,this.registry=v.Registry.as(S.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",a){this.doShowOrPick(s,!1,a)}doShowOrPick(s,a,u){var h;const[d,r]=this.getOrInstantiateProvider(s),n=this.visibleQuickAccess,l=n==null?void 0:n.descriptor;if(n&&r&&l===r){s!==r.prefix&&!(u==null?void 0:u.preserveValue)&&(n.picker.value=s),this.adjustValueSelection(n.picker,r,u);return}if(r&&!(u==null?void 0:u.preserveValue)){let b;if(n&&l&&l!==r){const g=n.value.substr(l.prefix.length);g&&(b=`${r.prefix}${g}`)}if(!b){const g=d==null?void 0:d.defaultFilterValue;g===S.DefaultQuickAccessFilterValue.LAST?b=this.lastAcceptedPickerValues.get(r):typeof g=="string"&&(b=`${r.prefix}${g}`)}typeof b=="string"&&(s=b)}const t=new I.DisposableStore,o=t.add(this.quickInputService.createQuickPick());o.value=s,this.adjustValueSelection(o,r,u),o.placeholder=r==null?void 0:r.placeholder,o.quickNavigate=u==null?void 0:u.quickNavigateConfiguration,o.hideInput=!!o.quickNavigate&&!n,(typeof(u==null?void 0:u.itemActivation)=="number"||(u==null?void 0:u.quickNavigateConfiguration))&&(o.itemActivation=(h=u==null?void 0:u.itemActivation)!==null&&h!==void 0?h:p.ItemActivation.SECOND),o.contextKey=r==null?void 0:r.contextKey,o.filterValue=b=>b.substring(r?r.prefix.length:0),(r==null?void 0:r.placeholder)&&(o.ariaLabel=r==null?void 0:r.placeholder);let c,f;a&&(c=new Promise(b=>f=b),t.add((0,N.once)(o.onWillAccept)(b=>{b.veto(),o.hide()}))),t.add(this.registerPickerListeners(o,d,r,s));const y=t.add(new _.CancellationTokenSource);if(d&&t.add(d.provide(o,y.token)),(0,N.once)(o.onDidHide)(()=>{o.selectedItems.length===0&&y.cancel(),t.dispose(),f==null||f(o.selectedItems)}),o.show(),a)return c}adjustValueSelection(s,a,u){var h;let d;(u==null?void 0:u.preserveValue)?d=[s.value.length,s.value.length]:d=[(h=a==null?void 0:a.prefix.length)!==null&&h!==void 0?h:0,s.value.length],s.valueSelection=d}registerPickerListeners(s,a,u,h){const d=new I.DisposableStore,r=this.visibleQuickAccess={picker:s,descriptor:u,value:h};return d.add((0,I.toDisposable)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(s.onDidChangeValue(n=>{const[l]=this.getOrInstantiateProvider(n);l!==a?this.show(n,{preserveValue:!0}):r.value=n})),u&&d.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(u,s.value)})),d}getOrInstantiateProvider(s){const a=this.registry.getQuickAccessProvider(s);if(!a)return[void 0,void 0];let u=this.mapProviderToDescriptor.get(a);return u||(u=this.instantiationService.createInstance(a.ctor),this.mapProviderToDescriptor.set(a,u)),[u,a]}};i=Re([me(0,p.IQuickInputService),me(1,L.IInstantiationService)],i),e.QuickAccessController=i}),define(te[71],ne([0,1,6,2,20,307,9]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const p="__$__targetStorageMarker";e.IStorageService=(0,S.createDecorator)("storageService");var v;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends N.Disposable{constructor(a={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=a,this._onDidChangeValue=this._register(new _.PauseableEmitter),this._onDidChangeTarget=this._register(new _.PauseableEmitter),this._onWillSaveState=this._register(new _.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(a,u){u===p?(a===0?this._globalKeyTargets=void 0:a===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:a})):this._onDidChangeValue.fire({scope:a,key:u,target:this.getKeyTargets(a)[u]})}get(a,u,h){var d;return(d=this.getStorage(u))===null||d===void 0?void 0:d.get(a,h)}getBoolean(a,u,h){var d;return(d=this.getStorage(u))===null||d===void 0?void 0:d.getBoolean(a,h)}getNumber(a,u,h){var d;return(d=this.getStorage(u))===null||d===void 0?void 0:d.getNumber(a,h)}store(a,u,h,d){if((0,I.isUndefinedOrNull)(u)){this.remove(a,h);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(a,h,d),(r=this.getStorage(h))===null||r===void 0||r.set(a,u)})}remove(a,u){this.withPausedEmitters(()=>{var h;this.updateKeyTarget(a,u,void 0),(h=this.getStorage(u))===null||h===void 0||h.delete(a)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,u,h){var d,r;const n=this.getKeyTargets(u);typeof h=="number"?n[a]!==h&&(n[a]=h,(d=this.getStorage(u))===null||d===void 0||d.set(p,JSON.stringify(n))):typeof n[a]=="number"&&(delete n[a],(r=this.getStorage(u))===null||r===void 0||r.set(p,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(a){return a===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(a){const u=this.get(p,a);if(u)try{return JSON.parse(u)}catch(h){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends i{constructor(){super();this.globalStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.globalStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a)))}getStorage(a){return a===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=C}),define(te[592],ne([0,1,9,76,255,49,71,3,14,82]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,_.createDecorator)("ICodeLensCache");class C{constructor(u,h){this.lineCount=u,this.data=h}}let s=class{constructor(u){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new L.LRUCache(20,.75);const h="codelens/cache";(0,v.runWhenIdle)(()=>u.remove(h,1));const d="codelens/cache2",r=u.get(d,1,"{}");this._deserialize(r),(0,i.once)(u.onWillSaveState)(n=>{n.reason===S.WillSaveStateReason.SHUTDOWN&&u.store(d,this._serialize(),1,1)})}put(u,h){const d=h.lenses.map(l=>{var t;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(t=l.symbol.command)===null||t===void 0?void 0:t.title}}}),r=new I.CodeLensModel;r.add({lenses:d,dispose:()=>{}},this._fakeProvider);const n=new C(u.getLineCount(),r);this._cache.set(u.uri.toString(),n)}get(u){const h=this._cache.get(u.uri.toString());return h&&h.lineCount===u.getLineCount()?h.data:void 0}delete(u){this._cache.delete(u.uri.toString())}_serialize(){const u=Object.create(null);for(const[h,d]of this._cache){const r=new Set;for(const n of d.data.lenses)r.add(n.symbol.range.startLineNumber);u[h]={lineCount:d.lineCount,lines:[...r.values()]}}return JSON.stringify(u)}_deserialize(u){try{const h=JSON.parse(u);for(const d in h){const r=h[d],n=[];for(const t of r.lines)n.push({range:new p.Range(t,1,t,11)});const l=new I.CodeLensModel;l.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(d,new C(r.lineCount,l))}}catch(h){}}};s=Re([me(0,S.IStorageService)],s),e.CodeLensCache=s,(0,N.registerSingleton)(e.ICodeLensCache,s)}),define(te[593],ne([0,1,49,71,18,2,14,9,40,76,56]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(n){this.name=n}select(n,l,t){if(t.length===0)return 0;let o=t[0].score[0];for(let c=0;c<t.length;c++){const{score:f,completion:y}=t[c];if(f[0]!==o)break;if(y.preselect)return c}return 0}}e.Memory=s;class a extends s{constructor(){super("first")}memorize(n,l,t){}toJSON(){}fromJSON(){}}e.NoMemory=a;class u extends s{constructor(){super("recentlyUsed");this._cache=new _.LRUCache(300,.66),this._seq=0}memorize(n,l,t){const o=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(o,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,l,t){if(t.length===0)return 0;const o=n.getLineContent(l.lineNumber).substr(l.column-10,l.column-1);if(/\s$/.test(o))return super.select(n,l,t);let c=t[0].score[0],f=-1,y=-1,b=-1;for(let g=0;g<t.length&&t[g].score[0]===c;g++){const m=`${n.getLanguageIdentifier().language}/${t[g].textLabel}`,w=this._cache.peek(m);if(w&&w.touch>b&&w.type===t[g].completion.kind&&w.insertText===t[g].completion.insertText&&(b=w.touch,y=g),t[g].completion.preselect&&f===-1)return f=g}return y!==-1?y:f!==-1?f:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let l=0;for(const[t,o]of n)o.touch=l,o.type=typeof o.type=="number"?o.type:(0,I.completionKindFromString)(o.type),this._cache.set(t,o);this._seq=this._cache.size}}e.LRUMemory=u;class h extends s{constructor(){super("recentlyUsedByPrefix");this._trie=_.TernarySearchTree.forStrings(),this._seq=0}memorize(n,l,t){const{word:o}=n.getWordUntilPosition(l),c=`${n.getLanguageIdentifier().language}/${o}`;this._trie.set(c,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,l,t){let{word:o}=n.getWordUntilPosition(l);if(!o)return super.select(n,l,t);let c=`${n.getLanguageIdentifier().language}/${o}`,f=this._trie.get(c);if(f||(f=this._trie.findSubstr(c)),f)for(let y=0;y<t.length;y++){let{kind:b,insertText:g}=t[y].completion;if(b===f.type&&g===f.insertText)return y}return super.select(n,l,t)}toJSON(){let n=[];return this._trie.forEach((l,t)=>n.push([t,l])),n.sort((l,t)=>-(l[1].touch-t[1].touch)).forEach((l,t)=>l[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[l,t]of n)t.type=typeof t.type=="number"?t.type:(0,I.completionKindFromString)(t.type),this._trie.set(l,t)}}}e.PrefixMemory=h;let d=class ht{constructor(n,l,t){this._storageService=n,this._modeService=l,this._configService=t,this._disposables=new L.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(o=>{o.reason===N.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,l,t){this._withStrategy(n,l).memorize(n,l,t),this._persistSoon.schedule()}select(n,l,t){return this._withStrategy(n,l).select(n,l,t)}_withStrategy(n,l){var t,o;const c=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(l.lineNumber,l.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==c){this._saveState();const f=ht._strategyCtors.get(c)||a;this._strategy=new f;try{const b=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,g=this._storageService.get(`${ht._storagePrefix}/${c}`,b);g&&this._strategy.fromJSON(JSON.parse(g))}catch(y){}}return this._strategy}_saveState(){if(this._strategy){const l=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${ht._storagePrefix}/${this._strategy.name}`,t,l,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",h],["recentlyUsed",u],["first",a]]),d._storagePrefix="suggest/memories",d=Re([me(0,N.IStorageService),me(1,C.IModeService),me(2,v.IConfigurationService)],d),e.SuggestMemoryService=d,e.ISuggestMemoryService=(0,p.createDecorator)("ISuggestMemories"),(0,i.registerSingleton)(e.ISuggestMemoryService,d,!0)}),define(te[90],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,_.createDecorator)("telemetryService")}),define(te[594],ne([0,1,457,10,67,2,49,74,20,549,26,40,121,9,39,578,71,90]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let l=class gt extends d.PickerQuickAccessProvider{constructor(c,f,y,b,g,m){super(gt.PREFIX,c);this.instantiationService=f,this.keybindingService=y,this.commandService=b,this.telemetryService=g,this.dialogService=m,this.commandsHistory=this._register(this.instantiationService.createInstance(t)),this.options=c}_getPicks(c,f,y){return ke(this,void 0,void 0,function*(){const b=yield this.getCommandPicks(f,y);if(y.isCancellationRequested)return[];const g=[];for(const k of b){const T=(0,v.withNullAsUndefined)(gt.WORD_FILTER(c,k.label)),R=k.commandAlias?(0,v.withNullAsUndefined)(gt.WORD_FILTER(c,k.commandAlias)):void 0;T||R?(k.highlights={label:T,detail:this.options.showAlias?R:void 0},g.push(k)):c===k.commandId&&g.push(k)}const m=new Map;for(const k of g){const T=m.get(k.label);T?(k.description=k.commandId,T.description=T.commandId):m.set(k.label,k)}g.sort((k,T)=>{const R=this.commandsHistory.peek(k.commandId),M=this.commandsHistory.peek(T.commandId);return R&&M?R>M?-1:1:R?-1:M?1:k.label.localeCompare(T.label)});const w=[];let D=!1;for(let k=0;k<g.length;k++){const T=g[k],R=this.keybindingService.lookupKeybinding(T.commandId),M=R?(0,i.localize)(0,null,T.label,R.getAriaLabel()):T.label;k===0&&this.commandsHistory.peek(T.commandId)&&(w.push({type:"separator",label:(0,i.localize)(1,null)}),D=!0),k!==0&&D&&!this.commandsHistory.peek(T.commandId)&&(w.push({type:"separator",label:(0,i.localize)(2,null)}),D=!1),w.push(Object.assign(Object.assign({},T),{ariaLabel:M,detail:this.options.showAlias&&T.commandAlias!==T.label?T.commandAlias:void 0,keybinding:R,accept:()=>ke(this,void 0,void 0,function*(){this.commandsHistory.push(T.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:T.commandId,from:"quick open"});try{yield this.commandService.executeCommand(T.commandId)}catch(A){(0,N.isPromiseCanceledError)(A)||this.dialogService.show(p.default.Error,(0,i.localize)(3,null,T.label,(0,_.toErrorMessage)(A)))}})}))}return w})}};l.PREFIX=">",l.WORD_FILTER=(0,I.or)(I.matchesPrefix,I.matchesWords,I.matchesContiguousSubString),l=Re([me(1,u.IInstantiationService),me(2,h.IKeybindingService),me(3,C.ICommandService),me(4,n.ITelemetryService),me(5,a.IDialogService)],l),e.AbstractCommandsQuickAccessProvider=l;let t=class et extends L.Disposable{constructor(c,f){super();this.storageService=c,this.configurationService=f,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=et.getConfiguredCommandHistoryLength(this.configurationService),et.cache&&et.cache.limit!==this.configuredCommandsHistoryLength&&(et.cache.limit=this.configuredCommandsHistoryLength,et.saveState(this.storageService))}load(){const c=this.storageService.get(et.PREF_KEY_CACHE,0);let f;if(c)try{f=JSON.parse(c)}catch(b){}const y=et.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(f){let b;f.usesLRU?b=f.entries:b=f.entries.sort((g,m)=>g.value-m.value),b.forEach(g=>y.set(g.key,g.value))}et.counter=this.storageService.getNumber(et.PREF_KEY_COUNTER,0,et.counter)}push(c){!et.cache||(et.cache.set(c,et.counter++),et.saveState(this.storageService))}peek(c){var f;return(f=et.cache)===null||f===void 0?void 0:f.peek(c)}static saveState(c){if(!et.cache)return;const f={usesLRU:!0,entries:[]};et.cache.forEach((y,b)=>f.entries.push({key:b,value:y})),c.store(et.PREF_KEY_CACHE,JSON.stringify(f),0,0),c.store(et.PREF_KEY_COUNTER,et.counter,0,0)}static getConfiguredCommandHistoryLength(c){var f,y;const g=(y=(f=c.getValue().workbench)===null||f===void 0?void 0:f.commandPalette)===null||y===void 0?void 0:y.history;return typeof g=="number"?g:et.DEFAULT_COMMANDS_HISTORY_LENGTH}};t.DEFAULT_COMMANDS_HISTORY_LENGTH=50,t.PREF_KEY_CACHE="commandPalette.mru.cache",t.PREF_KEY_COUNTER="commandPalette.mru.counter",t.counter=1,t=Re([me(0,r.IStorageService),me(1,s.IConfigurationService)],t),e.CommandsHistory=t}),define(te[595],ne([0,1,594,105]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class I extends _.AbstractCommandsQuickAccessProvider{constructor(S,p,v,i,C,s){super(S,p,v,i,C,s)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const p=[];for(const v of S.getSupportedActions())p.push({commandId:v.id,commandAlias:v.alias,label:(0,N.stripIcons)(v.label)||v.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=I}),define(te[22],ne([0,1,14,29,6,20,551,189,32]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkActiveForeground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new I.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(y,b,g,m=!1,w){let D={id:y,description:g,defaults:b,needsTransparency:m,deprecationMessage:w};this.colorsById[y]=D;let k={type:"string",description:g,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return w&&(k.deprecationMessage=w),this.colorSchema.properties[y]=k,this.colorReferenceSchema.enum.push(y),this.colorReferenceSchema.enumDescriptions.push(g),this._onDidChangeSchema.fire(),y}resolveDefaultColor(y,b){const g=this.colorsById[y];if(g&&g.defaults){const m=g.defaults[b.type];return t(m,b)}}getColorSchema(){return this.colorSchema}toString(){let y=(b,g)=>{let m=b.indexOf(".")===-1?0:1,w=g.indexOf(".")===-1?0:1;return m!==w?m-w:b.localeCompare(g)};return Object.keys(this.colorsById).sort(y).map(b=>`- \`${b}\`: ${this.colorsById[b].description}`).join(`
`)}}const C=new i;v.Registry.add(e.Extensions.ColorContribution,C);function s(f,y,b,g,m){return C.registerColor(f,y,b,g,m)}e.registerColor=s,e.foreground=s("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},S.localize(0,null)),e.errorForeground=s("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},S.localize(1,null)),e.iconForeground=s("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},S.localize(2,null)),e.focusBorder=s("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},S.localize(3,null)),e.contrastBorder=s("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},S.localize(4,null)),e.activeContrastBorder=s("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},S.localize(5,null)),e.textLinkForeground=s("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(6,null)),e.textLinkActiveForeground=s("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(7,null)),e.textCodeBlockBackground=s("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:N.Color.black},S.localize(8,null)),e.widgetShadow=s("widget.shadow",{dark:d(N.Color.black,.36),light:d(N.Color.black,.16),hc:null},S.localize(9,null)),e.inputBackground=s("input.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},S.localize(10,null)),e.inputForeground=s("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(11,null)),e.inputBorder=s("input.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(12,null)),e.inputActiveOptionBorder=s("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},S.localize(13,null)),e.inputActiveOptionBackground=s("inputOption.activeBackground",{dark:d(e.focusBorder,.4),light:d(e.focusBorder,.2),hc:N.Color.transparent},S.localize(14,null)),e.inputActiveOptionForeground=s("inputOption.activeForeground",{dark:N.Color.white,light:N.Color.black,hc:null},S.localize(15,null)),e.inputValidationInfoBackground=s("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:N.Color.black},S.localize(16,null)),e.inputValidationInfoForeground=s("inputValidation.infoForeground",{dark:null,light:null,hc:null},S.localize(17,null)),e.inputValidationInfoBorder=s("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},S.localize(18,null)),e.inputValidationWarningBackground=s("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:N.Color.black},S.localize(19,null)),e.inputValidationWarningForeground=s("inputValidation.warningForeground",{dark:null,light:null,hc:null},S.localize(20,null)),e.inputValidationWarningBorder=s("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},S.localize(21,null)),e.inputValidationErrorBackground=s("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:N.Color.black},S.localize(22,null)),e.inputValidationErrorForeground=s("inputValidation.errorForeground",{dark:null,light:null,hc:null},S.localize(23,null)),e.inputValidationErrorBorder=s("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(24,null)),e.selectBackground=s("dropdown.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},S.localize(25,null)),e.selectForeground=s("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:N.Color.white},S.localize(26,null)),e.buttonForeground=s("button.foreground",{dark:N.Color.white,light:N.Color.white,hc:N.Color.white},S.localize(27,null)),e.buttonBackground=s("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},S.localize(28,null)),e.buttonHoverBackground=s("button.hoverBackground",{dark:h(e.buttonBackground,.2),light:u(e.buttonBackground,.2),hc:null},S.localize(29,null)),e.badgeBackground=s("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:N.Color.black},S.localize(30,null)),e.badgeForeground=s("badge.foreground",{dark:N.Color.white,light:"#333",hc:N.Color.white},S.localize(31,null)),e.scrollbarShadow=s("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},S.localize(32,null)),e.scrollbarSliderBackground=s("scrollbarSlider.background",{dark:N.Color.fromHex("#797979").transparent(.4),light:N.Color.fromHex("#646464").transparent(.4),hc:d(e.contrastBorder,.6)},S.localize(33,null)),e.scrollbarSliderHoverBackground=s("scrollbarSlider.hoverBackground",{dark:N.Color.fromHex("#646464").transparent(.7),light:N.Color.fromHex("#646464").transparent(.7),hc:d(e.contrastBorder,.8)},S.localize(34,null)),e.scrollbarSliderActiveBackground=s("scrollbarSlider.activeBackground",{dark:N.Color.fromHex("#BFBFBF").transparent(.4),light:N.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},S.localize(35,null)),e.progressBarBackground=s("progressBar.background",{dark:N.Color.fromHex("#0E70C0"),light:N.Color.fromHex("#0E70C0"),hc:e.contrastBorder},S.localize(36,null)),e.editorErrorBackground=s("editorError.background",{dark:null,light:null,hc:null},S.localize(37,null),!0),e.editorErrorForeground=s("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},S.localize(38,null)),e.editorErrorBorder=s("editorError.border",{dark:null,light:null,hc:N.Color.fromHex("#E47777").transparent(.8)},S.localize(39,null)),e.editorWarningBackground=s("editorWarning.background",{dark:null,light:null,hc:null},S.localize(40,null),!0),e.editorWarningForeground=s("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},S.localize(41,null)),e.editorWarningBorder=s("editorWarning.border",{dark:null,light:null,hc:N.Color.fromHex("#FFCC00").transparent(.8)},S.localize(42,null)),e.editorInfoBackground=s("editorInfo.background",{dark:null,light:null,hc:null},S.localize(43,null),!0),e.editorInfoForeground=s("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},S.localize(44,null)),e.editorInfoBorder=s("editorInfo.border",{dark:null,light:null,hc:N.Color.fromHex("#3794FF").transparent(.8)},S.localize(45,null)),e.editorHintForeground=s("editorHint.foreground",{dark:N.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},S.localize(46,null)),e.editorHintBorder=s("editorHint.border",{dark:null,light:null,hc:N.Color.fromHex("#eeeeee").transparent(.8)},S.localize(47,null)),e.editorBackground=s("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:N.Color.black},S.localize(48,null)),e.editorForeground=s("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:N.Color.white},S.localize(49,null)),e.editorWidgetBackground=s("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},S.localize(50,null)),e.editorWidgetForeground=s("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(51,null)),e.editorWidgetBorder=s("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},S.localize(52,null)),e.editorWidgetResizeBorder=s("editorWidget.resizeBorder",{light:null,dark:null,hc:null},S.localize(53,null)),e.quickInputBackground=s("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(54,null)),e.quickInputForeground=s("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(55,null)),e.quickInputTitleBackground=s("quickInputTitle.background",{dark:new N.Color(new N.RGBA(255,255,255,.105)),light:new N.Color(new N.RGBA(0,0,0,.06)),hc:"#000000"},S.localize(56,null)),e.pickerGroupForeground=s("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:N.Color.white},S.localize(57,null)),e.pickerGroupBorder=s("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:N.Color.white},S.localize(58,null)),e.keybindingLabelBackground=s("keybindingLabel.background",{dark:new N.Color(new N.RGBA(128,128,128,.17)),light:new N.Color(new N.RGBA(221,221,221,.4)),hc:N.Color.transparent},S.localize(59,null)),e.keybindingLabelForeground=s("keybindingLabel.foreground",{dark:N.Color.fromHex("#CCCCCC"),light:N.Color.fromHex("#555555"),hc:N.Color.white},S.localize(60,null)),e.keybindingLabelBorder=s("keybindingLabel.border",{dark:new N.Color(new N.RGBA(51,51,51,.6)),light:new N.Color(new N.RGBA(204,204,204,.4)),hc:new N.Color(new N.RGBA(111,195,223))},S.localize(61,null)),e.keybindingLabelBottomBorder=s("keybindingLabel.bottomBorder",{dark:new N.Color(new N.RGBA(68,68,68,.6)),light:new N.Color(new N.RGBA(187,187,187,.4)),hc:new N.Color(new N.RGBA(111,195,223))},S.localize(62,null)),e.editorSelectionBackground=s("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},S.localize(63,null)),e.editorSelectionForeground=s("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},S.localize(64,null)),e.editorInactiveSelection=s("editor.inactiveSelectionBackground",{light:d(e.editorSelectionBackground,.5),dark:d(e.editorSelectionBackground,.5),hc:d(e.editorSelectionBackground,.5)},S.localize(65,null),!0),e.editorSelectionHighlight=s("editor.selectionHighlightBackground",{light:l(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:l(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},S.localize(66,null),!0),e.editorSelectionHighlightBorder=s("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(67,null)),e.editorFindMatch=s("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},S.localize(68,null)),e.editorFindMatchHighlight=s("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},S.localize(69,null),!0),e.editorFindRangeHighlight=s("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},S.localize(70,null),!0),e.editorFindMatchBorder=s("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(71,null)),e.editorFindMatchHighlightBorder=s("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(72,null)),e.editorFindRangeHighlightBorder=s("editor.findRangeHighlightBorder",{dark:null,light:null,hc:d(e.activeContrastBorder,.4)},S.localize(73,null),!0),e.editorHoverHighlight=s("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},S.localize(74,null),!0),e.editorHoverBackground=s("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(75,null)),e.editorHoverForeground=s("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(76,null)),e.editorHoverBorder=s("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},S.localize(77,null)),e.editorHoverStatusBarBackground=s("editorHoverWidget.statusBarBackground",{dark:h(e.editorHoverBackground,.2),light:u(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},S.localize(78,null)),e.editorActiveLinkForeground=s("editorLink.activeForeground",{dark:"#4E94CE",light:N.Color.blue,hc:N.Color.cyan},S.localize(79,null)),e.editorInlayHintForeground=s("editorInlayHint.foreground",{dark:d(e.badgeForeground,.8),light:d(e.badgeForeground,.8),hc:e.badgeForeground},S.localize(80,null)),e.editorInlayHintBackground=s("editorInlayHint.background",{dark:d(e.badgeBackground,.6),light:d(e.badgeBackground,.3),hc:e.badgeBackground},S.localize(81,null)),e.editorLightBulbForeground=s("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},S.localize(82,null)),e.editorLightBulbAutoFixForeground=s("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(83,null)),e.defaultInsertColor=new N.Color(new N.RGBA(155,185,85,.2)),e.defaultRemoveColor=new N.Color(new N.RGBA(255,0,0,.2)),e.diffInserted=s("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},S.localize(84,null),!0),e.diffRemoved=s("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},S.localize(85,null),!0),e.diffInsertedOutline=s("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},S.localize(86,null)),e.diffRemovedOutline=s("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},S.localize(87,null)),e.diffBorder=s("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(88,null)),e.diffDiagonalFill=s("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},S.localize(89,null)),e.listFocusBackground=s("list.focusBackground",{dark:null,light:null,hc:null},S.localize(90,null)),e.listFocusForeground=s("list.focusForeground",{dark:null,light:null,hc:null},S.localize(91,null)),e.listFocusOutline=s("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},S.localize(92,null)),e.listActiveSelectionBackground=s("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},S.localize(93,null)),e.listActiveSelectionForeground=s("list.activeSelectionForeground",{dark:N.Color.white,light:N.Color.white,hc:null},S.localize(94,null)),e.listActiveSelectionIconForeground=s("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(95,null)),e.listInactiveSelectionBackground=s("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},S.localize(96,null)),e.listInactiveSelectionForeground=s("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},S.localize(97,null)),e.listInactiveSelectionIconForeground=s("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(98,null)),e.listInactiveFocusBackground=s("list.inactiveFocusBackground",{dark:null,light:null,hc:null},S.localize(99,null)),e.listInactiveFocusOutline=s("list.inactiveFocusOutline",{dark:null,light:null,hc:null},S.localize(100,null)),e.listHoverBackground=s("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},S.localize(101,null)),e.listHoverForeground=s("list.hoverForeground",{dark:null,light:null,hc:null},S.localize(102,null)),e.listDropBackground=s("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},S.localize(103,null)),e.listHighlightForeground=s("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},S.localize(104,null)),e.listFocusHighlightForeground=s("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:n(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},S.localize(105,null)),e.listFilterWidgetBackground=s("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:N.Color.black},S.localize(106,null)),e.listFilterWidgetOutline=s("listFilterWidget.outline",{dark:N.Color.transparent,light:N.Color.transparent,hc:"#f38518"},S.localize(107,null)),e.listFilterWidgetNoMatchesOutline=s("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(108,null)),e.treeIndentGuidesStroke=s("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},S.localize(109,null)),e.tableColumnsBorder=s("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},S.localize(110,null)),e._deprecatedQuickInputListFocusBackground=s("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,S.localize(111,null)),e.quickInputListFocusForeground=s("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(112,null)),e.quickInputListFocusIconForeground=s("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},S.localize(113,null)),e.quickInputListFocusBackground=s("quickInputList.focusBackground",{dark:r(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:r(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},S.localize(114,null)),e.menuBorder=s("menu.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(115,null)),e.menuForeground=s("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},S.localize(116,null)),e.menuBackground=s("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},S.localize(117,null)),e.menuSelectionForeground=s("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(118,null)),e.menuSelectionBackground=s("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},S.localize(119,null)),e.menuSelectionBorder=s("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},S.localize(120,null)),e.menuSeparatorBackground=s("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},S.localize(121,null)),e.toolbarHoverBackground=s("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},S.localize(122,null)),e.snippetTabstopHighlightBackground=s("editor.snippetTabstopHighlightBackground",{dark:new N.Color(new N.RGBA(124,124,124,.3)),light:new N.Color(new N.RGBA(10,50,100,.2)),hc:new N.Color(new N.RGBA(124,124,124,.3))},S.localize(123,null)),e.snippetTabstopHighlightBorder=s("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},S.localize(124,null)),e.snippetFinalTabstopHighlightBackground=s("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},S.localize(125,null)),e.snippetFinalTabstopHighlightBorder=s("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new N.Color(new N.RGBA(10,50,100,.5)),hc:"#525252"},S.localize(126,null)),e.overviewRulerFindMatchForeground=s("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},S.localize(127,null),!0),e.overviewRulerSelectionHighlightForeground=s("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},S.localize(128,null),!0),e.minimapFindMatch=s("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},S.localize(129,null),!0),e.minimapSelection=s("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},S.localize(130,null),!0),e.minimapError=s("minimap.errorHighlight",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},S.localize(131,null)),e.minimapWarning=s("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},S.localize(132,null)),e.minimapBackground=s("minimap.background",{dark:null,light:null,hc:null},S.localize(133,null)),e.minimapSliderBackground=s("minimapSlider.background",{light:d(e.scrollbarSliderBackground,.5),dark:d(e.scrollbarSliderBackground,.5),hc:d(e.scrollbarSliderBackground,.5)},S.localize(134,null)),e.minimapSliderHoverBackground=s("minimapSlider.hoverBackground",{light:d(e.scrollbarSliderHoverBackground,.5),dark:d(e.scrollbarSliderHoverBackground,.5),hc:d(e.scrollbarSliderHoverBackground,.5)},S.localize(135,null)),e.minimapSliderActiveBackground=s("minimapSlider.activeBackground",{light:d(e.scrollbarSliderActiveBackground,.5),dark:d(e.scrollbarSliderActiveBackground,.5),hc:d(e.scrollbarSliderActiveBackground,.5)},S.localize(136,null)),e.problemsErrorIconForeground=s("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},S.localize(137,null)),e.problemsWarningIconForeground=s("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},S.localize(138,null)),e.problemsInfoIconForeground=s("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},S.localize(139,null));function a(f,y){var b,g,m;switch(f.op){case 0:return(b=t(f.value,y))===null||b===void 0?void 0:b.darken(f.factor);case 1:return(g=t(f.value,y))===null||g===void 0?void 0:g.lighten(f.factor);case 2:return(m=t(f.value,y))===null||m===void 0?void 0:m.transparent(f.factor);case 3:for(const k of f.values){const T=t(k,y);if(T)return T}return;case 5:return t(y.defines(f.if)?f.then:f.else,y);case 4:const w=t(f.value,y);if(!w)return;const D=t(f.background,y);return D?w.isDarkerThan(D)?N.Color.getLighterColor(w,D,f.factor).transparent(f.transparency):N.Color.getDarkerColor(w,D,f.factor).transparent(f.transparency):w.transparent(f.factor*f.transparency);default:throw(0,L.assertNever)(f)}}e.executeTransform=a;function u(f,y){return{op:0,value:f,factor:y}}e.darken=u;function h(f,y){return{op:1,value:f,factor:y}}e.lighten=h;function d(f,y){return{op:2,value:f,factor:y}}e.transparent=d;function r(...f){return{op:3,values:f}}e.oneOf=r;function n(f,y,b){return{op:5,if:f,then:y,else:b}}e.ifDefinedThenElse=n;function l(f,y,b,g){return{op:4,value:f,background:y,factor:b,transparency:g}}function t(f,y){if(f!==null){if(typeof f=="string")return f[0]==="#"?N.Color.fromHex(f):y.getColor(f);if(f instanceof N.Color)return f;if(typeof f=="object")return a(f,y)}}e.resolveColorValue=t,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let o=v.Registry.as(p.Extensions.JSONContribution);o.registerSchema(e.workbenchColorsSchemaId,C.getColorSchema());const c=new _.RunOnceScheduler(()=>o.notifySchemaChanged(e.workbenchColorsSchemaId),200);C.onDidChangeSchema(()=>{c.isScheduled()||c.schedule()})}),define(te[124],ne([0,1,22]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function N(v,i){const C=Object.create(null);for(let s in i){const a=i[s];a&&(C[s]=(0,_.resolveColorValue)(a,v))}return C}e.computeStyles=N;function I(v,i,C){function s(){const a=N(v.getColorTheme(),i);typeof C=="function"?C(a):C.style(a)}return s(),v.onDidColorThemeChange(s)}e.attachStyler=I;function L(v,i,C){return I(i,{badgeBackground:(C==null?void 0:C.badgeBackground)||_.badgeBackground,badgeForeground:(C==null?void 0:C.badgeForeground)||_.badgeForeground,badgeBorder:_.contrastBorder},v)}e.attachBadgeStyler=L;function S(v,i,C){return I(i,Object.assign(Object.assign({},e.defaultListStyles),C||{}),v)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:_.listFocusBackground,listFocusForeground:_.listFocusForeground,listFocusOutline:_.listFocusOutline,listActiveSelectionBackground:_.listActiveSelectionBackground,listActiveSelectionForeground:_.listActiveSelectionForeground,listActiveSelectionIconForeground:_.listActiveSelectionIconForeground,listFocusAndSelectionBackground:_.listActiveSelectionBackground,listFocusAndSelectionForeground:_.listActiveSelectionForeground,listInactiveSelectionBackground:_.listInactiveSelectionBackground,listInactiveSelectionIconForeground:_.listInactiveSelectionIconForeground,listInactiveSelectionForeground:_.listInactiveSelectionForeground,listInactiveFocusBackground:_.listInactiveFocusBackground,listInactiveFocusOutline:_.listInactiveFocusOutline,listHoverBackground:_.listHoverBackground,listHoverForeground:_.listHoverForeground,listDropBackground:_.listDropBackground,listSelectionOutline:_.activeContrastBorder,listHoverOutline:_.activeContrastBorder,listFilterWidgetBackground:_.listFilterWidgetBackground,listFilterWidgetOutline:_.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:_.listFilterWidgetNoMatchesOutline,listMatchesShadow:_.widgetShadow,treeIndentGuidesStroke:_.treeIndentGuidesStroke,tableColumnsBorder:_.tableColumnsBorder},e.defaultMenuStyles={shadowColor:_.widgetShadow,borderColor:_.menuBorder,foregroundColor:_.menuForeground,backgroundColor:_.menuBackground,selectionForegroundColor:_.menuSelectionForeground,selectionBackgroundColor:_.menuSelectionBackground,selectionBorderColor:_.menuSelectionBorder,separatorColor:_.menuSeparatorBackground};function p(v,i,C){return I(i,Object.assign(Object.assign({},e.defaultMenuStyles),C),v)}e.attachMenuStyler=p}),define(te[596],ne([0,1,7,55,454,50,10,2,124,376]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class i{constructor(s,a,u,h,d){this.contextViewService=s,this.telemetryService=a,this.notificationService=u,this.keybindingService=h,this.themeService=d,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const a=s.getActions();if(!a.length)return;this.focusToReturn=document.activeElement;let u,h=(0,_.isHTMLElement)(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:d=>{let r=s.getMenuClassName?s.getMenuClassName():"";r&&(d.className+=" "+r),this.options.blockMouse&&(this.block=d.appendChild((0,_.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,_.addDisposableListener)(this.block,_.EventType.MOUSE_DOWN,t=>t.stopPropagation()));const n=new p.DisposableStore,l=s.actionRunner||new L.ActionRunner;return l.onBeforeRun(this.onActionRun,this,n),l.onDidRun(this.onDidActionRun,this,n),u=new I.Menu(d,a,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:l,getKeyBinding:s.getKeyBinding?s.getKeyBinding:t=>this.keybindingService.lookupKeybinding(t.id)}),n.add((0,v.attachMenuStyler)(u,this.themeService)),u.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,n),u.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,n),n.add((0,_.addDisposableListener)(window,_.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),n.add((0,_.addDisposableListener)(window,_.EventType.MOUSE_DOWN,t=>{if(t.defaultPrevented)return;let o=new N.StandardMouseEvent(t),c=o.target;if(!o.rightButton){for(;c;){if(c===d)return;c=c.parentElement}this.contextViewService.hideContextView(!0)}})),(0,p.combinedDisposable)(n,u)},focus:()=>{u&&u.focus(!!s.autoSelectFirstItem)},onHide:d=>{s.onHide&&s.onHide(!!d),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},h,!!h)}onActionRun(s){this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(s){s.error&&!(0,S.isPromiseCanceledError)(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=i}),define(te[101],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var _;(function(N){N.DARK="dark",N.LIGHT="light",N.HIGH_CONTRAST="hc"})(_=e.ColorScheme||(e.ColorScheme={}))}),define(te[262],ne([0,1,41,30,17,402,114,139,115,101,37]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const s=function(){return I.isNative?!0:!(I.isLinux||_.isFirefox||_.isSafari)}();let a=!0;class u{constructor(y,b){this._domNode=y,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=b}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=u;class h{constructor(y,b){this.themeType=b;const g=y.options,m=g.get(42);this.renderWhitespace=g.get(88),this.renderControlCharacters=g.get(82),this.spaceWidth=m.spaceWidth,this.middotWidth=m.middotWidth,this.wsmiddotWidth=m.wsmiddotWidth,this.useMonospaceOptimizations=m.isMonospace&&!g.get(28),this.canUseHalfwidthRightwardsArrow=m.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(58),this.stopRenderingLineAfter=g.get(105),this.fontLigatures=g.get(43)}equals(y){return this.themeType===y.themeType&&this.renderWhitespace===y.renderWhitespace&&this.renderControlCharacters===y.renderControlCharacters&&this.spaceWidth===y.spaceWidth&&this.middotWidth===y.middotWidth&&this.wsmiddotWidth===y.wsmiddotWidth&&this.useMonospaceOptimizations===y.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===y.canUseHalfwidthRightwardsArrow&&this.lineHeight===y.lineHeight&&this.stopRenderingLineAfter===y.stopRenderingLineAfter&&this.fontLigatures===y.fontLigatures}}e.ViewLineOptions=h;class d{constructor(y){this._options=y,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(y){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,N.createFastDomNode)(y);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(y){this._isMaybeInvalid=!0,this._options=y}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(y,b,g,m){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const w=g.getViewLineRenderingData(y),D=this._options,k=p.LineDecoration.filter(w.inlineDecorations,y,w.minColumn,w.maxColumn);let T=null;if(D.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const O=g.selections;for(const P of O){if(P.endLineNumber<y||P.startLineNumber>y)continue;const F=P.startLineNumber===y?P.startColumn:w.minColumn,E=P.endLineNumber===y?P.endColumn:w.maxColumn;F<E&&(D.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?k.push(new p.LineDecoration(F,E,"inline-selected-text",0)):(T||(T=[]),T.push(new v.LineRange(F-1,E-1))))}}const R=new v.RenderLineInput(D.useMonospaceOptimizations,D.canUseHalfwidthRightwardsArrow,w.content,w.continuesWithWrappedLine,w.isBasicASCII,w.containsRTL,w.minColumn-1,w.tokens,k,w.tabSize,w.startVisibleColumn,D.spaceWidth,D.middotWidth,D.wsmiddotWidth,D.stopRenderingLineAfter,D.renderWhitespace,D.renderControlCharacters,D.fontLigatures!==C.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;m.appendASCIIString('<div style="top:'),m.appendASCIIString(String(b)),m.appendASCIIString("px;height:"),m.appendASCIIString(String(this._options.lineHeight)),m.appendASCIIString('px;" class="'),m.appendASCIIString(d.CLASS_NAME),m.appendASCIIString('">');const M=(0,v.renderViewLine)(R,m);m.appendASCIIString("</div>");let A=null;return a&&s&&w.isBasicASCII&&D.useMonospaceOptimizations&&M.containsForeignElements===0&&w.content.length<300&&R.lineTokens.getCount()<100&&(A=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,R,M.characterMapping)),A||(A=t(this._renderedViewLine?this._renderedViewLine.domNode:null,R,M.characterMapping,M.containsRTL,M.containsForeignElements)),this._renderedViewLine=A,!0}layoutLine(y,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():a}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(y,b,g,m){if(!this._renderedViewLine)return null;b=b|0,g=g|0,b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b)),g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g));const w=this._renderedViewLine.input.stopRenderingLineAfter|0;let D=!1;w!==-1&&b>w+1&&g>w+1&&(D=!0),w!==-1&&b>w+1&&(b=w+1),w!==-1&&g>w+1&&(g=w+1);const k=this._renderedViewLine.getVisibleRangesForRange(y,b,g,m);return k&&k.length>0?new S.VisibleRanges(D,k):null}getColumnOfNodeOffset(y,b,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(y,b,g):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class r{constructor(y,b,g){this.domNode=y,this.input=b,this._characterMapping=g,this._charWidth=b.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return a;const y=this.getWidth(),b=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(y-b)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),a=!1),a}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(y,b,g,m){const w=this._getCharPosition(b),D=this._getCharPosition(g);return[new S.FloatHorizontalRange(w,D-w)]}_getCharPosition(y){const b=this._characterMapping.getAbsoluteOffset(y);return this._charWidth*b}getColumnOfNodeOffset(y,b,g){const m=b.textContent.length;let w=-1;for(;b;)b=b.previousSibling,w++;return this._characterMapping.getColumn(new v.DomPosition(w,g),m)}}class n{constructor(y,b,g,m,w){if(this.domNode=y,this.input=b,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(b.lineContent),this._containsForeignElements=w,this._cachedWidth=-1,this._pixelOffsetCache=null,!m||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let D=0,k=this._characterMapping.length;D<=k;D++)this._pixelOffsetCache[D]=-1}}_getReadingTarget(y){return y.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(y,b,g,m){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const w=this._readPixelOffset(this.domNode,y,b,m);if(w===-1)return null;const D=this._readPixelOffset(this.domNode,y,g,m);return D===-1?null:[new S.FloatHorizontalRange(w,D-w)]}return this._readVisibleRangesForRange(this.domNode,y,b,g,m)}_readVisibleRangesForRange(y,b,g,m,w){if(g===m){const D=this._readPixelOffset(y,b,g,w);return D===-1?null:[new S.FloatHorizontalRange(D,0)]}else return this._readRawVisibleRangesForRange(y,g,m,w)}_readPixelOffset(y,b,g,m){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const w=this._getReadingTarget(y);return w.firstChild?w.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const w=this._pixelOffsetCache[g];if(w!==-1)return w;const D=this._actualReadPixelOffset(y,b,g,m);return this._pixelOffsetCache[g]=D,D}return this._actualReadPixelOffset(y,b,g,m)}_actualReadPixelOffset(y,b,g,m){if(this._characterMapping.length===0){const T=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),0,0,0,0,m.clientRectDeltaLeft,m.endNode);return!T||T.length===0?-1:T[0].left}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const w=this._characterMapping.getDomPosition(g),D=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),w.partIndex,w.charIndex,w.partIndex,w.charIndex,m.clientRectDeltaLeft,m.endNode);if(!D||D.length===0)return-1;const k=D[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getAbsoluteOffset(g),R=Math.round(this.input.spaceWidth*T);if(Math.abs(R-k)<=1)return R}return k}_readRawVisibleRangesForRange(y,b,g,m){if(b===1&&g===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth())];const w=this._characterMapping.getDomPosition(b),D=this._characterMapping.getDomPosition(g);return L.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),w.partIndex,w.charIndex,D.partIndex,D.charIndex,m.clientRectDeltaLeft,m.endNode)}getColumnOfNodeOffset(y,b,g){const m=b.textContent.length;let w=-1;for(;b;)b=b.previousSibling,w++;return this._characterMapping.getColumn(new v.DomPosition(w,g),m)}}class l extends n{_readVisibleRangesForRange(y,b,g,m,w){const D=super._readVisibleRangesForRange(y,b,g,m,w);if(!D||D.length===0||g===m||g===1&&m===this._characterMapping.length)return D;if(!this.input.containsRTL){const k=this._readPixelOffset(y,b,m,w);if(k!==-1){const T=D[D.length-1];T.left<k&&(T.width=k-T.left)}}return D}}const t=function(){return _.isWebKit?o:c}();function o(f,y,b,g,m){return new l(f,y,b,g,m)}function c(f,y,b,g,m){return new n(f,y,b,g,m)}}),define(te[597],ne([0,1,17,14,65,172,48,262,13,3,114,133,338]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class a{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class u{constructor(n,l,t,o,c,f){this.lineNumber=n,this.startColumn=l,this.endColumn=t,this.startScrollTop=o,this.stopScrollTop=c,this.scrollType=f,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class h{constructor(n,l,t,o){this.selections=n,this.startScrollTop=l,this.stopScrollTop=t,this.scrollType=o,this.type="selections";let c=n[0].startLineNumber,f=n[0].endLineNumber;for(let y=1,b=n.length;y<b;y++){const g=n[y];c=Math.min(c,g.startLineNumber),f=Math.max(f,g.endLineNumber)}this.minLineNumber=c,this.maxLineNumber=f}}class d extends S.ViewPart{constructor(n,l){super(n);this._linesContent=l,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new L.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,o=this._context.configuration.options,c=o.get(42),f=o.get(131);this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._isViewportWrapping=f.isViewportWrapping,this._revealHorizontalRightPadding=o.get(89),this._cursorSurroundingLines=o.get(24),this._cursorSurroundingLinesStyle=o.get(25),this._canUseLayerHinting=!o.get(27),this._viewLineOptions=new p.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),I.Configuration.applyFontInfo(this.domNode,c),this._maxLineWidth=0,this._asyncUpdateLineWidths=new N.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new N.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new a,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new p.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(131)&&(this._maxLineWidth=0);const l=this._context.configuration.options,t=l.get(42),o=l.get(131);return this._lineHeight=l.get(58),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=l.get(89),this._cursorSurroundingLines=l.get(24),this._cursorSurroundingLinesStyle=l.get(25),this._canUseLayerHinting=!l.get(27),I.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(130)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,l=new p.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(l)){this._viewLineOptions=l;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=t;c<=o;c++)this._visibleLines.getVisibleLine(c).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=!1;for(let c=l;c<=t;c++)o=this._visibleLines.getVisibleLine(c).onSelectionChanged()||o;return o}onDecorationsChanged(n){{const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=l;o<=t;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(n){const l=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,l}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const l=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(l===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:l});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new u(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new h(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const c=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,c),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const l=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<l||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,l){const t=this._getViewLineDomNode(n);if(t===null)return null;const o=this._getLineNumberFor(t);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new v.Position(o,1);const c=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();if(o<c||o>f)return null;let y=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,n,l);const b=this._context.model.getLineMinColumn(o);return y<b&&(y=b),new v.Position(o,y)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===p.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=l;o<=t;o++){const c=this._visibleLines.getVisibleLine(o);if(n===c.getDomNode())return o}return-1}getLineWidth(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<l||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,l){if(this.shouldRender())return null;const t=n.endLineNumber,o=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;let c=[],f=0;const y=new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let b=0;l&&(b=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(o.startLineNumber,1)).lineNumber);const g=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();for(let w=o.startLineNumber;w<=o.endLineNumber;w++){if(w<g||w>m)continue;const D=w===o.startLineNumber?o.startColumn:1,k=w===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(w),T=this._visibleLines.getVisibleLine(w).getVisibleRangesForRange(w,D,k,y);if(!!T){if(l&&w<t){const R=b;b=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(w+1,1)).lineNumber,R!==b&&(T.ranges[T.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}c[f++]=new C.LineVisibleRanges(T.outsideRenderedLine,w,C.HorizontalRange.from(T.ranges))}}return f===0?null:c}_visibleRangesForLineRange(n,l,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(n,l,t,new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const l=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return l?new C.HorizontalPosition(l.outsideRenderedLine,l.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=1,c=!0;for(let f=l;f<=t;f++){const y=this._visibleLines.getVisibleLine(f);if(n&&!y.getWidthIsFast()){c=!1;continue}o=Math.max(o,y.getWidth())}return c&&l===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),c}_checkMonospaceFontAssumptions(){let n=-1,l=-1;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=t;c<=o;c++){const f=this._visibleLines.getVisibleLine(c);if(f.needsMonospaceFontCheck()){const y=f.getWidth();y>l&&(l=y,n=c)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let c=t;c<=o;c++)this._visibleLines.getVisibleLine(c).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const o=this._computeScrollLeftToReveal(t);o&&(this._isViewportWrapping||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:o.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),_.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=t;c<=o;c++)if(this._visibleLines.getVisibleLine(c).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const l=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const l=Math.ceil(n);this._maxLineWidth<l&&(this._maxLineWidth=l,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,l,t,o,c){const f=n.top,y=n.height,b=f+y;let g,m,w;if(o&&o.length>0){let T=o[0].startLineNumber,R=o[0].endLineNumber;for(let M=1,A=o.length;M<A;M++){const O=o[M];T=Math.min(T,O.startLineNumber),R=Math.max(R,O.endLineNumber)}g=!1,m=this._context.viewLayout.getVerticalOffsetForLineNumber(T),w=this._context.viewLayout.getVerticalOffsetForLineNumber(R)+this._lineHeight}else if(t)g=!0,m=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),w=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(l==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const T=Math.min(y/this._lineHeight/2,this._cursorSurroundingLines);m-=T*this._lineHeight,w+=Math.max(0,T-1)*this._lineHeight}(c===0||c===4)&&(w+=this._lineHeight);let k;if(w-m>y){if(!g)return-1;k=m}else if(c===5||c===6)if(c===6&&f<=m&&w<=b)k=f;else{const T=Math.max(5*this._lineHeight,y*.2),R=m-T,M=w-y;k=Math.max(M,R)}else if(c===1||c===2)if(c===2&&f<=m&&w<=b)k=f;else{const T=(m+w)/2;k=Math.max(0,T-y/2)}else k=this._computeMinimumScrolling(f,b,m,w,c===3,c===4);return k}_computeScrollLeftToReveal(n){const l=this._context.viewLayout.getCurrentViewport(),t=l.left,o=t+l.width;let c=1073741824,f=0;if(n.type==="range"){const b=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!b)return null;for(const g of b.ranges)c=Math.min(c,Math.round(g.left)),f=Math.max(f,Math.round(g.left+g.width))}else for(const b of n.selections){if(b.startLineNumber!==b.endLineNumber)return null;const g=this._visibleRangesForLineRange(b.startLineNumber,b.startColumn,b.endColumn);if(!g)return null;for(const m of g.ranges)c=Math.min(c,Math.round(m.left)),f=Math.max(f,Math.round(m.left+m.width))}return c=Math.max(0,c-d.HORIZONTAL_EXTRA_PX),f+=this._revealHorizontalRightPadding,n.type==="selections"&&f-c>l.width?null:{scrollLeft:this._computeMinimumScrolling(t,o,c,f),maxHorizontalOffset:f}}_computeMinimumScrolling(n,l,t,o,c,f){n=n|0,l=l|0,t=t|0,o=o|0,c=!!c,f=!!f;const y=l-n;if(o-t<y){if(c)return t;if(f)return Math.max(0,o-y);if(t<n)return t;if(o>l)return Math.max(0,o-y)}else return t;return n}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(te[12],ne([0,1,27,6,2,9,32,101]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,L.createDecorator)("themeService");var v;(function(r){function n(l){return l&&typeof l=="object"&&typeof l.id=="string"}r.isThemeColor=n})(v=e.ThemeColor||(e.ThemeColor={}));function i(r){return{id:r}}e.themeColorFromId=i;var C;(function(r){function n(y){return y&&typeof y=="object"&&typeof y.id=="string"&&(typeof y.color=="undefined"||v.isThemeColor(y.color))}r.isThemeIcon=n;const l=new RegExp(`^\\$\\((${_.CSSIcon.iconNameExpression}(?:${_.CSSIcon.iconModifierExpression})?)\\)$`);function t(y){const b=l.exec(y);if(!b)return;let[,g]=b;return{id:g}}r.fromString=t;function o(y,b){let g=y.id;const m=g.lastIndexOf("~");return m!==-1&&(g=g.substring(0,m)),b&&(g=`${g}~${b}`),{id:g}}r.modify=o;function c(y,b){var g,m;return y.id===b.id&&((g=y.color)===null||g===void 0?void 0:g.id)===((m=b.color)===null||m===void 0?void 0:m.id)}r.isEqual=c;function f(y,b){return{id:y.id,color:b?i(b):void 0}}r.asThemeIcon=f,r.asClassNameArray=_.CSSIcon.asClassNameArray,r.asClassName=_.CSSIcon.asClassName,r.asCSSSelector=_.CSSIcon.asCSSSelector})(C=e.ThemeIcon||(e.ThemeIcon={}));function s(r){switch(r){case p.ColorScheme.DARK:return"vs-dark";case p.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=s,e.Extensions={ThemingContribution:"base.contributions.theming"};class a{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,I.toDisposable)(()=>{const l=this.themingParticipants.indexOf(n);this.themingParticipants.splice(l,1)})}getThemingParticipants(){return this.themingParticipants}}let u=new a;S.Registry.add(e.Extensions.ThemingContribution,u);function h(r){return u.onColorThemeChange(r)}e.registerThemingParticipant=h;class d extends I.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(l=>this.onThemeChange(l)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(te[598],ne([0,1,7,2,8,24,378,111,53,12]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class C{constructor(l,t,o){this._parent=l,this._editorId=t,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var l;this._refCount--,this._refCount===0&&((l=this._styleSheet.parentNode)===null||l===void 0||l.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(l,t){this._styleSheet.sheet.insertRule(l,t)}removeRulesContainingSelector(l){_.removeCSSRulesContainingSelector(l,this._styleSheet)}}e.RefCountedStyleSheet=C;class s{constructor(l){this._styleSheet=l}ref(){}unref(){}insertRule(l,t){this._styleSheet.sheet.insertRule(l,t)}removeRulesContainingSelector(l){_.removeCSSRulesContainingSelector(l,this._styleSheet)}}e.GlobalStyleSheet=s;let a=class extends S.AbstractCodeEditorService{constructor(l,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=l||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new s(_.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(l){if(!l)return this._getOrCreateGlobalStyleSheet();const t=l.getContainerDomNode();if(!_.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const o=l.getId();if(!this._editorStyleSheets.has(o)){const c=new C(this,o,_.createStyleSheet(t));this._editorStyleSheets.set(o,c)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(l){this._editorStyleSheets.delete(l)}registerDecorationType(l,t,o,c,f){let y=this._decorationOptionProviders.get(t);if(!y){const b=this._getOrCreateStyleSheet(f),g={styleSheet:b,key:t,parentTypeKey:c,options:o||Object.create(null)};c?y=new u(this._themeService,b,g):y=new h(l,this._themeService,b,g),this._decorationOptionProviders.set(t,y),this._onDecorationTypeRegistered.fire(t)}y.refCount++}removeDecorationType(l){const t=this._decorationOptionProviders.get(l);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(l),t.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(l))))}resolveDecorationOptions(l,t){const o=this._decorationOptionProviders.get(l);if(!o)throw new Error("Unknown decoration type key: "+l);return o.getOptions(this,t)}};a=Re([me(1,i.IThemeService)],a),e.CodeEditorServiceImpl=a;class u{constructor(l,t,o){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new d(3,o,l),this._afterContentRules=new d(4,o,l)}getOptions(l,t){const o=l.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=u;class h{constructor(l,t,o,c){this._disposables=new N.DisposableStore,this.description=l,this._styleSheet=o,this._styleSheet.ref(),this.refCount=0;const f=D=>{const k=new d(D,c,t);if(this._disposables.add(k),k.hasContent)return k.className},y=D=>{const k=new d(D,c,t);return this._disposables.add(k),k.hasContent?{className:k.className,hasLetterSpacing:k.hasLetterSpacing}:null};this.className=f(0);const b=y(1);if(b&&(this.inlineClassName=b.className,this.inlineClassNameAffectsLetterSpacing=b.hasLetterSpacing),this.beforeContentClassName=f(3),this.afterContentClassName=f(4),c.options.beforeInjectedText&&c.options.beforeInjectedText.contentText){const D=y(5);this.beforeInjectedText={content:c.options.beforeInjectedText.contentText,inlineClassName:D==null?void 0:D.className,inlineClassNameAffectsLetterSpacing:(D==null?void 0:D.hasLetterSpacing)||c.options.beforeInjectedText.affectsLetterSpacing}}if(c.options.afterInjectedText&&c.options.afterInjectedText.contentText){const D=y(6);this.afterInjectedText={content:c.options.afterInjectedText.contentText,inlineClassName:D==null?void 0:D.className,inlineClassNameAffectsLetterSpacing:(D==null?void 0:D.hasLetterSpacing)||c.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=f(2);const g=c.options;this.isWholeLine=Boolean(g.isWholeLine),this.stickiness=g.rangeBehavior;const m=g.light&&g.light.overviewRulerColor||g.overviewRulerColor,w=g.dark&&g.dark.overviewRulerColor||g.overviewRulerColor;(typeof m!="undefined"||typeof w!="undefined")&&(this.overviewRuler={color:m||w,darkColor:w||m,position:g.overviewRulerLane||v.OverviewRulerLane.Center})}getOptions(l,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=h,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class d{constructor(l,t,o){this._theme=o.getColorTheme(),this._ruleType=l,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let c=r.getClassName(this._providerArgs.key,l);this._providerArgs.parentTypeKey&&(c=c+" "+r.getClassName(this._providerArgs.parentTypeKey,l)),this._className=c,this._unThemedSelector=r.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,l),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(f=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const l=this._providerArgs.options;let t,o,c;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(l),o=this.getCSSTextForModelDecorationClassName(l.light),c=this.getCSSTextForModelDecorationClassName(l.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(l),o=this.getCSSTextForModelDecorationInlineClassName(l.light),c=this.getCSSTextForModelDecorationInlineClassName(l.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(l),o=this.getCSSTextForModelDecorationGlyphMarginClassName(l.light),c=this.getCSSTextForModelDecorationGlyphMarginClassName(l.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(l.before),o=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.before),c=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(l.after),o=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.after),c=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(l.beforeInjectedText),o=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.beforeInjectedText),c=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(l.afterInjectedText),o=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.afterInjectedText),c=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const f=this._providerArgs.styleSheet;let y=!1;t.length>0&&(f.insertRule(`${this._unThemedSelector} {${t}}`,0),y=!0),o.length>0&&(f.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),y=!0),c.length>0&&(f.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${c}}`,0),y=!0),this._hasContent=y}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(l){if(!l)return"";const t=[];return this.collectCSSText(l,["backgroundColor"],t),this.collectCSSText(l,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(l,t),t.join("")}getCSSTextForModelDecorationInlineClassName(l){if(!l)return"";const t=[];return this.collectCSSText(l,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),l.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(l){if(!l)return"";const t=[];if(typeof l!="undefined"){if(this.collectBorderSettingsCSSText(l,t),typeof l.contentIconPath!="undefined"&&t.push(I.format(e._CSS_MAP.contentIconPath,_.asCSSUrl(L.URI.revive(l.contentIconPath)))),typeof l.contentText=="string"){const c=l.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(I.format(e._CSS_MAP.contentText,c))}this.collectCSSText(l,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(l,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(l){if(!l)return"";const t=[];return typeof l.gutterIconPath!="undefined"&&(t.push(I.format(e._CSS_MAP.gutterIconPath,_.asCSSUrl(L.URI.revive(l.gutterIconPath)))),typeof l.gutterIconSize!="undefined"&&t.push(I.format(e._CSS_MAP.gutterIconSize,l.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(l,t){return this.collectCSSText(l,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(I.format("box-sizing: border-box;")),!0):!1}collectCSSText(l,t,o){const c=o.length;for(let f of t){const y=this.resolveValue(l[f]);typeof y=="string"&&o.push(I.format(e._CSS_MAP[f],y))}return o.length!==c}resolveValue(l){if((0,p.isThemeColor)(l)){this._usesThemeColors=!0;const t=this._theme.getColor(l.id);return t?t.toString():"transparent"}return l}}class r{static getClassName(l,t){return"ced-"+l+"-"+t}static getSelector(l,t,o){let c=".monaco-editor ."+this.getClassName(l,o);return t&&(c=c+"."+this.getClassName(t,o)),o===3?c+="::before":o===4&&(c+="::after"),c}}}),define(te[599],ne([0,1,7,30,62,48,12]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends L.ViewPart{constructor(i,C,s,a){super(i);const u=this._context.configuration.options,h=u.get(92),d=u.get(66),r=u.get(33),n=u.get(95),l={listenOnDomNode:s.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:h.vertical,horizontal:h.horizontal,verticalHasArrows:h.verticalHasArrows,horizontalHasArrows:h.horizontalHasArrows,verticalScrollbarSize:h.verticalScrollbarSize,verticalSliderSize:h.verticalSliderSize,horizontalScrollbarSize:h.horizontalScrollbarSize,horizontalSliderSize:h.horizontalSliderSize,handleMouseWheel:h.handleMouseWheel,alwaysConsumeMouseWheel:h.alwaysConsumeMouseWheel,arrowSize:h.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:r,scrollPredominantAxis:n,scrollByPage:h.scrollByPage};this.scrollbar=this._register(new I.SmoothScrollableElement(C.domNode,l,this._context.viewLayout.getScrollable())),L.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,N.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(o,c,f)=>{const y={};if(c){const b=o.scrollTop;b&&(y.scrollTop=this._context.viewLayout.getCurrentScrollTop()+b,o.scrollTop=0)}if(f){const b=o.scrollLeft;b&&(y.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+b,o.scrollLeft=0)}this._context.model.setScrollPosition(y,1)};this._register(_.addDisposableListener(s.domNode,"scroll",o=>t(s.domNode,!0,!0))),this._register(_.addDisposableListener(C.domNode,"scroll",o=>t(C.domNode,!0,!1))),this._register(_.addDisposableListener(a.domNode,"scroll",o=>t(a.domNode,!0,!1))),this._register(_.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,C=i.get(130);this.scrollbarDomNode.setLeft(C.contentLeft),i.get(64).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(92)||i.hasChanged(66)||i.hasChanged(33)){const C=this._context.configuration.options,s=C.get(92),a=C.get(66),u=C.get(33),h=C.get(95),d={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:a,fastScrollSensitivity:u,scrollPredominantAxis:h};this.scrollbar.updateOptions(d)}return i.hasChanged(130)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(te[600],ne([0,1,7,30,94,2,17,8,172,48,37,3,222,251,63,22,12,21,58,381,53,82,341]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const f=140,y=2;class b{constructor(A,O,P){const F=A.options,E=F.get(128),x=F.get(130),W=x.minimap,G=F.get(42),Y=F.get(64);this.renderMinimap=W.renderMinimap,this.size=Y.size,this.minimapHeightIsEditorHeight=W.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(94),this.showSlider=Y.showSlider,this.pixelRatio=E,this.typicalHalfwidthCharacterWidth=G.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(58),this.minimapLeft=W.minimapLeft,this.minimapWidth=W.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=W.minimapCanvasInnerWidth,this.canvasInnerHeight=W.minimapCanvasInnerHeight,this.canvasOuterWidth=W.minimapCanvasOuterWidth,this.canvasOuterHeight=W.minimapCanvasOuterHeight,this.isSampling=W.minimapIsSampling,this.editorHeight=x.height,this.fontScale=W.minimapScale,this.minimapLineHeight=W.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,c.once)(()=>t.MinimapCharRendererFactory.create(this.fontScale,G.fontFamily)),this.backgroundColor=b._getMinimapBackground(O,P)}static _getMinimapBackground(A,O){const P=A.getColor(d.minimapBackground);return P?new a.RGBA8(P.rgba.r,P.rgba.g,P.rgba.b,P.rgba.a):O.getColor(2)}equals(A){return this.renderMinimap===A.renderMinimap&&this.size===A.size&&this.minimapHeightIsEditorHeight===A.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===A.scrollBeyondLastLine&&this.showSlider===A.showSlider&&this.pixelRatio===A.pixelRatio&&this.typicalHalfwidthCharacterWidth===A.typicalHalfwidthCharacterWidth&&this.lineHeight===A.lineHeight&&this.minimapLeft===A.minimapLeft&&this.minimapWidth===A.minimapWidth&&this.minimapHeight===A.minimapHeight&&this.canvasInnerWidth===A.canvasInnerWidth&&this.canvasInnerHeight===A.canvasInnerHeight&&this.canvasOuterWidth===A.canvasOuterWidth&&this.canvasOuterHeight===A.canvasOuterHeight&&this.isSampling===A.isSampling&&this.editorHeight===A.editorHeight&&this.fontScale===A.fontScale&&this.minimapLineHeight===A.minimapLineHeight&&this.minimapCharWidth===A.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(A.backgroundColor)}}class g{constructor(A,O,P,F,E,x,W,G){this.scrollTop=A,this.scrollHeight=O,this.sliderNeeded=P,this._computedSliderRatio=F,this.sliderTop=E,this.sliderHeight=x,this.startLineNumber=W,this.endLineNumber=G}getDesiredScrollTopFromDelta(A){return Math.round(this.scrollTop+A/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(A){return Math.round((A-this.sliderHeight/2)/this._computedSliderRatio)}static create(A,O,P,F,E,x,W,G,Y,se,re){const J=A.pixelRatio,le=A.minimapLineHeight,ae=Math.floor(A.canvasInnerHeight/le),V=A.lineHeight;if(A.minimapHeightIsEditorHeight){const ce=G*A.lineHeight+(A.scrollBeyondLastLine?E-A.lineHeight:0),K=Math.max(1,Math.floor(E*E/ce)),Q=Math.max(0,A.minimapHeight-K),U=Q/(se-E),ee=Y*U,de=Q>0,j=Math.floor(A.canvasInnerHeight/A.minimapLineHeight);return new g(Y,se,de,U,ee,K,1,Math.min(W,j))}let B;if(x&&P!==W){const ce=P-O+1;B=Math.floor(ce*le/J)}else{const ce=E/V;B=Math.floor(ce*le/J)}let Z;A.scrollBeyondLastLine?Z=(W-1)*le/J:Z=Math.max(0,W*le/J-B),Z=Math.min(A.minimapHeight-B,Z);const H=Z/(se-E),z=Y*H;let ie=0;if(A.scrollBeyondLastLine&&(ie=E/V-1),ae>=W+ie){const ce=1,K=W,Q=Z>0;return new g(Y,se,Q,H,z,B,ce,K)}else{let ce=Math.max(1,Math.floor(O-z*J/le));re&&re.scrollHeight===se&&(re.scrollTop>Y&&(ce=Math.min(ce,re.startLineNumber)),re.scrollTop<Y&&(ce=Math.max(ce,re.startLineNumber)));const K=Math.min(W,ce+ae-1),Q=(Y-F)/V,U=(O-ce+Q)*le/J;return new g(Y,se,!0,H,U,B,ce,K)}}}class m{constructor(A){this.dy=A}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}m.INVALID=new m(-1);class w{constructor(A,O,P){this.renderedLayout=A,this._imageData=O,this._renderedLines=new v.RenderedLinesCollection(()=>m.INVALID),this._renderedLines._set(A.startLineNumber,P)}linesEquals(A){if(!this.scrollEquals(A))return!1;const P=this._renderedLines._get().lines;for(let F=0,E=P.length;F<E;F++)if(P[F].dy===-1)return!1;return!0}scrollEquals(A){return this.renderedLayout.startLineNumber===A.startLineNumber&&this.renderedLayout.endLineNumber===A.endLineNumber}_get(){const A=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:A.rendLineNumberStart,lines:A.lines}}onLinesChanged(A,O){return this._renderedLines.onLinesChanged(A,O)}onLinesDeleted(A,O){this._renderedLines.onLinesDeleted(A,O)}onLinesInserted(A,O){this._renderedLines.onLinesInserted(A,O)}onTokensChanged(A){return this._renderedLines.onTokensChanged(A)}}class D{constructor(A,O,P,F){this._backgroundFillData=D._createBackgroundFillData(O,P,F),this._buffers=[A.createImageData(O,P),A.createImageData(O,P)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const A=this._buffers[this._lastUsedBuffer];return A.data.set(this._backgroundFillData),A}static _createBackgroundFillData(A,O,P){const F=P.r,E=P.g,x=P.b,W=new Uint8ClampedArray(A*O*4);let G=0;for(let Y=0;Y<O;Y++)for(let se=0;se<A;se++)W[G]=F,W[G+1]=E,W[G+2]=x,W[G+3]=255,G+=4;return W}}class k{constructor(A,O){this.samplingRatio=A,this.minimapLines=O}static compute(A,O,P){if(A.renderMinimap===0||!A.isSampling)return[null,[]];const F=A.pixelRatio,E=A.lineHeight,x=A.scrollBeyondLastLine,{minimapLineCount:W}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:O,scrollBeyondLastLine:x,height:A.editorHeight,lineHeight:E,pixelRatio:F}),G=O/W,Y=G/2;if(!P||P.minimapLines.length===0){let z=[];if(z[0]=1,W>1){for(let ie=0,ce=W-1;ie<ce;ie++)z[ie]=Math.round(ie*G+Y);z[W-1]=O}return[new k(G,z),[]]}const se=P.minimapLines,re=se.length;let J=[],le=0,ae=0,V=1;const B=10;let Z=[],H=null;for(let z=0;z<W;z++){const ie=Math.max(V,Math.round(z*G)),ce=Math.max(ie,Math.round((z+1)*G));for(;le<re&&se[le]<ie;){if(Z.length<B){const Q=le+1+ae;H&&H.type==="deleted"&&H._oldIndex===le-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:le,deleteFromLineNumber:Q,deleteToLineNumber:Q},Z.push(H)),ae--}le++}let K;if(le<re&&se[le]<=ce)K=se[le],le++;else if(z===0?K=1:z+1===W?K=O:K=Math.round(z*G+Y),Z.length<B){const Q=le+1+ae;H&&H.type==="inserted"&&H._i===z-1?H.insertToLineNumber++:(H={type:"inserted",_i:z,insertFromLineNumber:Q,insertToLineNumber:Q},Z.push(H)),ae++}J[z]=K,V=K}if(Z.length<B)for(;le<re;){const z=le+1+ae;H&&H.type==="deleted"&&H._oldIndex===le-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:le,deleteFromLineNumber:z,deleteToLineNumber:z},Z.push(H)),ae--,le++}else Z=[{type:"flush"}];return[new k(G,J),Z]}modelLineToMinimapLine(A){return Math.min(this.minimapLines.length,Math.max(1,Math.round(A/this.samplingRatio)))}modelLineRangeToMinimapLineRange(A,O){let P=this.modelLineToMinimapLine(A)-1;for(;P>0&&this.minimapLines[P-1]>=A;)P--;let F=this.modelLineToMinimapLine(O)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=O;)F++;if(P===F){const E=this.minimapLines[P];if(E<A||E>O)return null}return[P+1,F+1]}decorationLineRangeToMinimapLineRange(A,O){let P=this.modelLineToMinimapLine(A),F=this.modelLineToMinimapLine(O);return A!==O&&F===P&&(F===this.minimapLines.length?P>1&&P--:F++),[P,F]}onLinesDeleted(A){const O=A.toLineNumber-A.fromLineNumber+1;let P=this.minimapLines.length,F=0;for(let E=this.minimapLines.length-1;E>=0&&!(this.minimapLines[E]<A.fromLineNumber);E--)this.minimapLines[E]<=A.toLineNumber?(this.minimapLines[E]=Math.max(1,A.fromLineNumber-1),P=Math.min(P,E),F=Math.max(F,E)):this.minimapLines[E]-=O;return[P,F]}onLinesInserted(A){const O=A.toLineNumber-A.fromLineNumber+1;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<A.fromLineNumber);P--)this.minimapLines[P]+=O}}class T extends i.ViewPart{constructor(A){super(A);this.tokensColorTracker=u.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new b(this._context.configuration,this._context.theme,this.tokensColorTracker);const[O]=k.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=O,this._shouldCheckSampling=!1,this._actual=new R(A.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const A=new b(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(A)?!1:(this.options=A,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(A){return this._onOptionsMaybeChanged()}onCursorStateChanged(A){return this._selections=A.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(A){return A.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(A){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(A){if(this._samplingState){const O=this._samplingState.modelLineRangeToMinimapLineRange(A.fromLineNumber,A.toLineNumber);return O?this._actual.onLinesChanged(O[0],O[1]):!1}else return this._actual.onLinesChanged(A.fromLineNumber,A.toLineNumber)}onLinesDeleted(A){if(this._samplingState){const[O,P]=this._samplingState.onLinesDeleted(A);return O<=P&&this._actual.onLinesChanged(O+1,P+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(A.fromLineNumber,A.toLineNumber)}onLinesInserted(A){return this._samplingState?(this._samplingState.onLinesInserted(A),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(A.fromLineNumber,A.toLineNumber)}onScrollChanged(A){return this._actual.onScrollChanged()}onThemeChanged(A){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(A){if(this._samplingState){let O=[];for(const P of A.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.toLineNumber);F&&O.push({fromLineNumber:F[0],toLineNumber:F[1]})}return O.length?this._actual.onTokensChanged(O):!1}else return this._actual.onTokensChanged(A.ranges)}onTokensColorsChanged(A){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(A){return this._actual.onZonesChanged()}prepareRender(A){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(A){let O=A.visibleRange.startLineNumber,P=A.visibleRange.endLineNumber;this._samplingState&&(O=this._samplingState.modelLineToMinimapLine(O),P=this._samplingState.modelLineToMinimapLine(P));const F={viewportContainsWhitespaceGaps:A.viewportData.whitespaceViewportData.length>0,scrollWidth:A.scrollWidth,scrollHeight:A.scrollHeight,viewportStartLineNumber:O,viewportEndLineNumber:P,viewportStartLineNumberVerticalOffset:A.getVerticalOffsetForLineNumber(O),scrollTop:A.scrollTop,scrollLeft:A.scrollLeft,viewportWidth:A.viewportWidth,viewportHeight:A.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const A=Boolean(this._samplingState),[O,P]=k.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=O,A&&this._samplingState)for(const F of P)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(A){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[A-1]):this._context.model.getLineContent(A)}getMinimapLinesRenderingData(A,O,P){if(this._samplingState){let F=[];for(let E=0,x=O-A+1;E<x;E++)P[E]?F[E]=this._context.model.getViewLineData(this._samplingState.minimapLines[A+E-1]):F[E]=null;return F}return this._context.model.getMinimapLinesRenderingData(A,O,P).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const A of this._selections){const[O,P]=this._samplingState.decorationLineRangeToMinimapLineRange(A.startLineNumber,A.endLineNumber);this._minimapSelections.push(new n.Selection(O,A.startColumn,P,A.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(A,O){let P;if(this._samplingState){const E=this._samplingState.minimapLines[A-1],x=this._samplingState.minimapLines[O-1];P=new s.Range(E,1,x,this._context.model.getLineMaxColumn(x))}else P=new s.Range(A,1,O,this._context.model.getLineMaxColumn(O));const F=this._context.model.getDecorationsInViewport(P);if(this._samplingState){let E=[];for(const x of F){if(!x.options.minimap)continue;const W=x.range,G=this._samplingState.modelLineToMinimapLine(W.startLineNumber),Y=this._samplingState.modelLineToMinimapLine(W.endLineNumber);E.push(new h.ViewModelDecoration(new s.Range(G,W.startColumn,Y,W.endColumn),x.options))}return E}return F}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(A){this._samplingState&&(A=this._samplingState.minimapLines[A-1]),this._context.model.revealRange("mouse",!1,new s.Range(A,1,A,1),1,0)}setScrollTop(A){this._context.model.setScrollPosition({scrollTop:A},1)}}e.Minimap=T;class R extends L.Disposable{constructor(A,O){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=A,this._model=O,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,N.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,N.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,N.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=_.addStandardDisposableListener(this._domNode.domNode,"mousedown",P=>{if(P.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(P.leftButton&&this._lastRenderData){const Y=_.getDomNodePagePosition(this._slider.domNode),se=Y.top+Y.height/2;this._startSliderDragging(P.buttons,P.posx,se,P.posy,this._lastRenderData.renderedLayout)}return}const E=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*P.browserEvent.offsetY;let G=Math.floor(x/E)+this._lastRenderData.renderedLayout.startLineNumber;G=Math.min(G,this._model.getLineCount()),this._model.revealLineNumber(G)}),this._sliderMouseMoveMonitor=new I.GlobalMouseMoveMonitor,this._sliderMouseDownListener=_.addStandardDisposableListener(this._slider.domNode,"mousedown",P=>{P.preventDefault(),P.stopPropagation(),P.leftButton&&this._lastRenderData&&this._startSliderDragging(P.buttons,P.posx,P.posy,P.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=l.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=_.addDisposableListener(this._domNode.domNode,l.EventType.Start,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(P))},{passive:!1}),this._sliderTouchMoveListener=_.addDisposableListener(this._domNode.domNode,l.EventType.Change,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(P)},{passive:!1}),this._sliderTouchEndListener=_.addStandardDisposableListener(this._domNode.domNode,l.EventType.End,P=>{P.preventDefault(),P.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(A,O,P,F,E){this._slider.toggleClassName("active",!0);const x=(W,G)=>{const Y=Math.abs(G-O);if(S.isWindows&&Y>f){this._model.setScrollTop(E.scrollTop);return}const se=W-P;this._model.setScrollTop(E.getDesiredScrollTopFromDelta(se))};F!==P&&x(F,O),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,A,I.standardMouseMoveMerger,W=>x(W.posy,W.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(A){const O=this._domNode.domNode.getBoundingClientRect().top,P=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(A.pageY-O);this._model.setScrollTop(P)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new D(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(A,O){return this._lastRenderData?this._lastRenderData.onLinesChanged(A,O):!1}onLinesDeleted(A,O){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(A,O),!0}onLinesInserted(A,O){return this._lastRenderData&&this._lastRenderData.onLinesInserted(A,O),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(A){return this._lastRenderData?this._lastRenderData.onTokensChanged(A):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(A){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}A.scrollLeft+A.viewportWidth>=A.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const P=g.create(this._model.options,A.viewportStartLineNumber,A.viewportEndLineNumber,A.viewportStartLineNumberVerticalOffset,A.viewportHeight,A.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),A.scrollTop,A.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(P.sliderNeeded?"block":"none"),this._slider.setTop(P.sliderTop),this._slider.setHeight(P.sliderHeight);const F=A.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,E=Math.min(this._model.options.minimapWidth,Math.round(F*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(E),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-E),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(P.sliderHeight),this.renderDecorations(P),this._lastRenderData=this.renderLines(P)}renderDecorations(A){if(this._renderDecorations){this._renderDecorations=!1;const O=this._model.getSelections(),P=this._model.getMinimapDecorationsInViewport(A.startLineNumber,A.endLineNumber),{canvasInnerWidth:F,canvasInnerHeight:E}=this._model.options,x=this._model.options.minimapLineHeight,W=this._model.options.minimapCharWidth,G=this._model.getOptions().tabSize,Y=this._decorationsCanvas.domNode.getContext("2d");Y.clearRect(0,0,F,E);const se=new Map;for(let re=0;re<O.length;re++){const J=O[re];for(let le=J.startLineNumber;le<=J.endLineNumber;le++)this.renderDecorationOnLine(Y,se,J,this._selectionColor,A,le,x,x,G,W)}for(let re=0;re<P.length;re++){const J=P[re];if(!J.options.minimap)continue;const le=J.options.minimap.getColor(this._theme);for(let ae=J.range.startLineNumber;ae<=J.range.endLineNumber;ae++)switch(J.options.minimap.position){case o.MinimapPosition.Inline:this.renderDecorationOnLine(Y,se,J.range,le,A,ae,x,x,G,W);continue;case o.MinimapPosition.Gutter:const V=(ae-A.startLineNumber)*x,B=2;this.renderDecoration(Y,le,B,V,y,x);continue}}}}renderDecorationOnLine(A,O,P,F,E,x,W,G,Y,se){const re=(x-E.startLineNumber)*G;if(re+W<0||re>this._model.options.canvasInnerHeight)return;let J=O.get(x);const le=!J;if(!J){const ie=this._model.getLineContent(x);J=[C.MINIMAP_GUTTER_WIDTH];for(let ce=1;ce<ie.length+1;ce++){const K=ie.charCodeAt(ce-1),Q=K===9?Y*se:p.isFullWidthCharacter(K)?2*se:se;J[ce]=J[ce-1]+Q}O.set(x,J)}const{startColumn:ae,endColumn:V,startLineNumber:B,endLineNumber:Z}=P,H=B===x?J[ae-1]:C.MINIMAP_GUTTER_WIDTH,z=Z>x?J.length-1:V-1;if(z>0){const ie=J[z]-H||2;this.renderDecoration(A,F,H,re,ie,W)}le&&this.renderLineHighlight(A,F,re,W)}renderLineHighlight(A,O,P,F){A.fillStyle=O&&O.transparent(.5).toString()||"",A.fillRect(C.MINIMAP_GUTTER_WIDTH,P,A.canvas.width,F)}renderDecoration(A,O,P,F,E,x){A.fillStyle=O&&O.toString()||"",A.fillRect(P,F,E,x)}renderLines(A){const O=A.startLineNumber,P=A.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(A)){const j=this._lastRenderData._get();return new w(A,j.imageData,j.lines)}const E=this._getBuffer();if(!E)return null;let[x,W,G]=R._renderUntouchedLines(E,O,P,F,this._lastRenderData);const Y=this._model.getMinimapLinesRenderingData(O,P,G),se=this._model.getOptions().tabSize,re=this._model.options.backgroundColor,J=this._model.tokensColorTracker,le=J.backgroundIsLight(),ae=this._model.options.renderMinimap,V=this._model.options.charRenderer(),B=this._model.options.fontScale,Z=this._model.options.minimapCharWidth,z=(ae===1?2:2+1)*B,ie=F>z?Math.floor((F-z)/2):0;let ce=0;const K=[];for(let j=0,ue=P-O+1;j<ue;j++)G[j]&&R._renderLine(E,re,le,ae,Z,J,V,ce,ie,se,Y[j],B,F),K[j]=new m(ce),ce+=F;const Q=x===-1?0:x,ee=(W===-1?E.height:W)-Q;return this._canvas.domNode.getContext("2d").putImageData(E,0,0,0,Q,E.width,ee),new w(A,E,K)}static _renderUntouchedLines(A,O,P,F,E){const x=[];if(!E){for(let U=0,ee=P-O+1;U<ee;U++)x[U]=!0;return[-1,-1,x]}const W=E._get(),G=W.imageData.data,Y=W.rendLineNumberStart,se=W.lines,re=se.length,J=A.width,le=A.data,ae=(P-O+1)*F*J*4;let V=-1,B=-1,Z=-1,H=-1,z=-1,ie=-1,ce=0;for(let U=O;U<=P;U++){const ee=U-O,de=U-Y,j=de>=0&&de<re?se[de].dy:-1;if(j===-1){x[ee]=!0,ce+=F;continue}const ue=j*J*4,X=(j+F)*J*4,q=ce*J*4,oe=(ce+F)*J*4;H===ue&&ie===q?(H=X,ie=oe):(Z!==-1&&(le.set(G.subarray(Z,H),z),V===-1&&Z===0&&Z===z&&(V=H),B===-1&&H===ae&&Z===z&&(B=Z)),Z=ue,H=X,z=q,ie=oe),x[ee]=!1,ce+=F}Z!==-1&&(le.set(G.subarray(Z,H),z),V===-1&&Z===0&&Z===z&&(V=H),B===-1&&H===ae&&Z===z&&(B=Z));const K=V===-1?-1:V/(J*4),Q=B===-1?-1:B/(J*4);return[K,Q,x]}static _renderLine(A,O,P,F,E,x,W,G,Y,se,re,J,le){const ae=re.content,V=re.tokens,B=A.width-E,Z=le===1;let H=C.MINIMAP_GUTTER_WIDTH,z=0,ie=0;for(let ce=0,K=V.getCount();ce<K;ce++){const Q=V.getEndOffset(ce),U=V.getForeground(ce),ee=x.getColor(U);for(;z<Q;z++){if(H>B)return;const de=ae.charCodeAt(z);if(de===9){const j=se-(z+ie)%se;ie+=j-1,H+=j*E}else if(de===32)H+=E;else{const j=p.isFullWidthCharacter(de)?2:1;for(let ue=0;ue<j;ue++)if(F===2?W.blockRenderChar(A,H,G+Y,ee,O,P,Z):W.renderChar(A,H,G+Y,de,ee,O,J,P,Z),H+=E,H>B)return}}}}}(0,r.registerThemingParticipant)((M,A)=>{const O=M.getColor(d.minimapBackground);O&&A.addRule(`.monaco-editor .minimap > canvas { opacity: ${O.rgba.a}; will-change: opacity; }`);const P=M.getColor(d.minimapSliderBackground);P&&A.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${P}; }`);const F=M.getColor(d.minimapSliderHoverBackground);F&&A.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${F}; }`);const E=M.getColor(d.minimapSliderActiveBackground);E&&A.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${E}; }`);const x=M.getColor(d.scrollbarShadow);x&&A.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${x} -6px 0 6px -6px inset; }`)})}),define(te[601],ne([0,1,30,48,22,12,344]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends N.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const C=this._context.configuration.options.get(92);this._useShadows=C.useShadows,this._domNode=(0,_.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(130);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(v){const C=this._context.configuration.options.get(92);return this._useShadows=C.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,L.registerThemingParticipant)((p,v)=>{const i=p.getColor(I.scrollbarShadow);i&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(te[602],ne([0,1,98,22,12,345]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class L{constructor(a){this.left=a.left,this.width=a.width,this.startStyle=null,this.endStyle=null}}class S{constructor(a,u){this.lineNumber=a,this.ranges=u}}function p(s){return new L(s)}function v(s){return new S(s.lineNumber,s.ranges.map(p))}class i extends _.DynamicViewOverlay{constructor(a){super();this._previousFrameVisibleRangesWithStyle=[],this._context=a;const u=this._context.configuration.options;this._lineHeight=u.get(58),this._roundedSelection=u.get(90),this._typicalHalfwidthCharacterWidth=u.get(42).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(a){const u=this._context.configuration.options;return this._lineHeight=u.get(58),this._roundedSelection=u.get(90),this._typicalHalfwidthCharacterWidth=u.get(42).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(a){return this._selections=a.selections.slice(0),!0}onDecorationsChanged(a){return!0}onFlushed(a){return!0}onLinesChanged(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollTopChanged}onZonesChanged(a){return!0}_visibleRangesHaveGaps(a){for(let u=0,h=a.length;u<h;u++)if(a[u].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(a,u,h){const d=this._typicalHalfwidthCharacterWidth/4;let r=null,n=null;if(h&&h.length>0&&u.length>0){const l=u[0].lineNumber;if(l===a.startLineNumber)for(let o=0;!r&&o<h.length;o++)h[o].lineNumber===l&&(r=h[o].ranges[0]);const t=u[u.length-1].lineNumber;if(t===a.endLineNumber)for(let o=h.length-1;!n&&o>=0;o--)h[o].lineNumber===t&&(n=h[o].ranges[0]);r&&!r.startStyle&&(r=null),n&&!n.startStyle&&(n=null)}for(let l=0,t=u.length;l<t;l++){const o=u[l].ranges[0],c=o.left,f=o.left+o.width,y={top:0,bottom:0},b={top:0,bottom:0};if(l>0){const g=u[l-1].ranges[0].left,m=u[l-1].ranges[0].left+u[l-1].ranges[0].width;C(c-g)<d?y.top=2:c>g&&(y.top=1),C(f-m)<d?b.top=2:g<f&&f<m&&(b.top=1)}else r&&(y.top=r.startStyle.top,b.top=r.endStyle.top);if(l+1<t){const g=u[l+1].ranges[0].left,m=u[l+1].ranges[0].left+u[l+1].ranges[0].width;C(c-g)<d?y.bottom=2:g<c&&c<m&&(y.bottom=1),C(f-m)<d?b.bottom=2:f<m&&(b.bottom=1)}else n&&(y.bottom=n.startStyle.bottom,b.bottom=n.endStyle.bottom);o.startStyle=y,o.endStyle=b}}_getVisibleRangesWithStyle(a,u,h){const r=(u.linesVisibleRangesForRange(a,!0)||[]).map(v);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(u.visibleRange,r,h),r}_createSelectionPiece(a,u,h,d,r){return'<div class="cslr '+h+'" style="top:'+a.toString()+"px;left:"+d.toString()+"px;width:"+r.toString()+"px;height:"+u+'px;"></div>'}_actualRenderOneSelection(a,u,h,d){if(d.length===0)return;const r=!!d[0].ranges[0].startStyle,n=this._lineHeight.toString(),l=(this._lineHeight-1).toString(),t=d[0].lineNumber,o=d[d.length-1].lineNumber;for(let c=0,f=d.length;c<f;c++){const y=d[c],b=y.lineNumber,g=b-u,m=h&&(b===o||b===t)?l:n,w=h&&b===t?1:0;let D="",k="";for(let T=0,R=y.ranges.length;T<R;T++){const M=y.ranges[T];if(r){const O=M.startStyle,P=M.endStyle;if(O.top===1||O.bottom===1){D+=this._createSelectionPiece(w,m,i.SELECTION_CLASS_NAME,M.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(F+=" "+i.SELECTION_TOP_RIGHT),O.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_RIGHT),D+=this._createSelectionPiece(w,m,F,M.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(P.top===1||P.bottom===1){D+=this._createSelectionPiece(w,m,i.SELECTION_CLASS_NAME,M.left+M.width,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;P.top===1&&(F+=" "+i.SELECTION_TOP_LEFT),P.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_LEFT),D+=this._createSelectionPiece(w,m,F,M.left+M.width,i.ROUNDED_PIECE_WIDTH)}}let A=i.SELECTION_CLASS_NAME;if(r){const O=M.startStyle,P=M.endStyle;O.top===0&&(A+=" "+i.SELECTION_TOP_LEFT),O.bottom===0&&(A+=" "+i.SELECTION_BOTTOM_LEFT),P.top===0&&(A+=" "+i.SELECTION_TOP_RIGHT),P.bottom===0&&(A+=" "+i.SELECTION_BOTTOM_RIGHT)}k+=this._createSelectionPiece(w,m,A,M.left,M.width)}a[g][0]+=D,a[g][1]+=k}}prepareRender(a){const u=[],h=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber;for(let n=h;n<=d;n++){const l=n-h;u[l]=["",""]}const r=[];for(let n=0,l=this._selections.length;n<l;n++){const t=this._selections[n];if(t.isEmpty()){r[n]=null;continue}const o=this._getVisibleRangesWithStyle(t,a,this._previousFrameVisibleRangesWithStyle[n]);r[n]=o,this._actualRenderOneSelection(u,h,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=u.map(([n,l])=>n+l)}render(a,u){if(!this._renderResult)return"";const h=u-a;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,(0,I.registerThemingParticipant)((s,a)=>{const u=s.getColor(N.editorSelectionBackground);u&&a.addRule(`.monaco-editor .focused .selected-text { background-color: ${u}; }`);const h=s.getColor(N.editorInactiveSelection);h&&a.addRule(`.monaco-editor .selected-text { background-color: ${h}; }`);const d=s.getColor(N.editorSelectionForeground);d&&!d.isTransparent()&&a.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function C(s){return s<0?-s:s}}),define(te[46],ne([0,1,480,29,22,12]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,I.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},_.localize(0,null)),e.editorLineHighlightBorder=(0,I.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},_.localize(1,null)),e.editorRangeHighlight=(0,I.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},_.localize(2,null),!0),e.editorRangeHighlightBorder=(0,I.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:I.activeContrastBorder},_.localize(3,null),!0),e.editorSymbolHighlight=(0,I.registerColor)("editor.symbolHighlightBackground",{dark:I.editorFindMatchHighlight,light:I.editorFindMatchHighlight,hc:null},_.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,I.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:I.activeContrastBorder},_.localize(5,null),!0),e.editorCursorForeground=(0,I.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:N.Color.black,hc:N.Color.white},_.localize(6,null)),e.editorCursorBackground=(0,I.registerColor)("editorCursor.background",null,_.localize(7,null)),e.editorWhitespaces=(0,I.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},_.localize(8,null)),e.editorIndentGuides=(0,I.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},_.localize(9,null)),e.editorActiveIndentGuides=(0,I.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},_.localize(10,null)),e.editorLineNumbers=(0,I.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:N.Color.white},_.localize(11,null));const S=(0,I.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:I.activeContrastBorder},_.localize(12,null),!1,_.localize(13,null));e.editorActiveLineNumber=(0,I.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},_.localize(14,null)),e.editorRuler=(0,I.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:N.Color.lightgrey,hc:N.Color.white},_.localize(15,null)),e.editorCodeLensForeground=(0,I.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},_.localize(16,null)),e.editorBracketMatchBackground=(0,I.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},_.localize(17,null)),e.editorBracketMatchBorder=(0,I.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:I.contrastBorder},_.localize(18,null)),e.editorOverviewRulerBorder=(0,I.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},_.localize(19,null)),e.editorOverviewRulerBackground=(0,I.registerColor)("editorOverviewRuler.background",null,_.localize(20,null)),e.editorGutter=(0,I.registerColor)("editorGutter.background",{dark:I.editorBackground,light:I.editorBackground,hc:I.editorBackground},_.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,I.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},_.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,I.registerColor)("editorUnnecessaryCode.opacity",{dark:N.Color.fromHex("#000a"),light:N.Color.fromHex("#0007"),hc:null},_.localize(23,null)),e.ghostTextBorder=(0,I.registerColor)("editorGhostText.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},_.localize(24,null)),e.ghostTextForeground=(0,I.registerColor)("editorGhostText.foreground",{dark:N.Color.fromHex("#ffffff56"),light:N.Color.fromHex("#0007"),hc:null},_.localize(25,null));const p=new N.Color(new N.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,I.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hc:p},_.localize(26,null),!0),e.overviewRulerError=(0,I.registerColor)("editorOverviewRuler.errorForeground",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},_.localize(27,null)),e.overviewRulerWarning=(0,I.registerColor)("editorOverviewRuler.warningForeground",{dark:I.editorWarningForeground,light:I.editorWarningForeground,hc:I.editorWarningBorder},_.localize(28,null)),e.overviewRulerInfo=(0,I.registerColor)("editorOverviewRuler.infoForeground",{dark:I.editorInfoForeground,light:I.editorInfoForeground,hc:I.editorInfoBorder},_.localize(29,null)),e.editorBracketHighlightingForeground1=(0,I.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},_.localize(30,null)),e.editorBracketHighlightingForeground2=(0,I.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},_.localize(31,null)),e.editorBracketHighlightingForeground3=(0,I.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},_.localize(32,null)),e.editorBracketHighlightingForeground4=(0,I.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.localize(33,null)),e.editorBracketHighlightingForeground5=(0,I.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.localize(34,null)),e.editorBracketHighlightingForeground6=(0,I.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.localize(35,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,I.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new N.Color(new N.RGBA(255,18,18,.8)),light:new N.Color(new N.RGBA(255,18,18,.8)),hc:new N.Color(new N.RGBA(255,50,50,1))},_.localize(36,null)),(0,L.registerThemingParticipant)((v,i)=>{const C=v.getColor(I.editorBackground);C&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${C}; }`);const s=v.getColor(I.editorForeground);s&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${s}; }`);const a=v.getColor(e.editorGutter);a&&i.addRule(`.monaco-editor .margin { background-color: ${a}; }`);const u=v.getColor(e.editorRangeHighlight);u&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${u}; }`);const h=v.getColor(e.editorRangeHighlightBorder);h&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${h}; }`);const d=v.getColor(e.editorSymbolHighlight);d&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${d}; }`);const r=v.getColor(e.editorSymbolHighlightBorder);r&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${r}; }`);const n=v.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(te[603],ne([0,1,98,46,19,12,21,333]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let p=!0;class v extends _.DynamicViewOverlay{constructor(a){super();this._context=a;const u=this._context.configuration.options,h=u.get(130);this._lineHeight=u.get(58),this._renderLineHighlight=u.get(85),this._renderLineHighlightOnlyWhenFocus=u.get(86),this._contentLeft=h.contentLeft,this._contentWidth=h.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let a=!1;const u=p?this._selections.slice(0,1):this._selections,h=u.map(r=>r.positionLineNumber);h.sort((r,n)=>r-n),I.equals(this._cursorLineNumbers,h)||(this._cursorLineNumbers=h,a=!0);const d=u.every(r=>r.isEmpty());return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,a=!0),a}onThemeChanged(a){return this._readFromSelections()}onConfigurationChanged(a){const u=this._context.configuration.options,h=u.get(130);return this._lineHeight=u.get(58),this._renderLineHighlight=u.get(85),this._renderLineHighlightOnlyWhenFocus=u.get(86),this._contentLeft=h.contentLeft,this._contentWidth=h.contentWidth,!0}onCursorStateChanged(a){return this._selections=a.selections,this._readFromSelections()}onFlushed(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollWidthChanged||a.scrollTopChanged}onZonesChanged(a){return!0}onFocusChanged(a){return this._renderLineHighlightOnlyWhenFocus?(this._focused=a.isFocused,!0):!1}prepareRender(a){if(!this._shouldRenderThis()){this._renderData=null;return}const u=this._renderOne(a),h=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let n=0;const l=[];for(let t=h;t<=d;t++){const o=t-h;for(;n<r&&this._cursorLineNumbers[n]<t;)n++;n<r&&this._cursorLineNumbers[n]===t?l[o]=u:l[o]=""}this._renderData=l}render(a,u){if(!this._renderData)return"";const h=u-a;return h>=this._renderData.length?"":this._renderData[h]}}e.AbstractLineHighlightOverlay=v;class i extends v{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(a.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class C extends v{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=C,(0,L.registerThemingParticipant)((s,a)=>{p=!1;const u=s.getColor(N.editorLineHighlight);if(u&&(a.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${u}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${u}; border: none; }`)),!u||u.isTransparent()||s.defines(N.editorLineHighlightBorder)){const h=s.getColor(N.editorLineHighlightBorder);h&&(p=!0,a.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${h}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${h}; }`),s.type==="hc"&&(a.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(te[604],ne([0,1,98,13,46,12,336]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends _.DynamicViewOverlay{constructor(v){super();this._context=v,this._primaryLineNumber=0;const i=this._context.configuration.options,C=i.get(131),s=i.get(42);this._lineHeight=i.get(58),this._spaceWidth=s.spaceWidth,this._enabled=i.get(83),this._activeIndentEnabled=i.get(51),this._maxIndentLeft=C.wrappingColumn===-1?-1:C.wrappingColumn*s.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const i=this._context.configuration.options,C=i.get(131),s=i.get(42);return this._lineHeight=i.get(58),this._spaceWidth=s.spaceWidth,this._enabled=i.get(83),this._activeIndentEnabled=i.get(51),this._maxIndentLeft=C.wrappingColumn===-1?-1:C.wrappingColumn*s.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(v){const i=v.selections[0],C=i.isEmpty()?i.positionLineNumber:0;return this._primaryLineNumber!==C?(this._primaryLineNumber=C,!0):!1}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}onLanguageConfigurationChanged(v){return!0}prepareRender(v){if(!this._enabled){this._renderResult=null;return}const i=v.visibleRange.startLineNumber,C=v.visibleRange.endLineNumber,{indentSize:s}=this._context.model.getTextModelOptions(),a=s*this._spaceWidth,u=v.scrollWidth,h=this._lineHeight,d=this._context.model.getLinesIndentGuides(i,C);let r=0,n=0,l=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const o=this._context.model.getActiveIndentGuide(this._primaryLineNumber,i,C);r=o.startLineNumber,n=o.endLineNumber,l=o.indent}const t=[];for(let o=i;o<=C;o++){const c=r<=o&&o<=n,f=o-i,y=d[f];let b="";if(y>=1){const g=v.visibleRangeForPosition(new N.Position(o,1));let m=g?g.left:0;for(let w=1;w<=y&&(b+=`<div class="${c&&w===l?"cigra":"cigr"}" style="left:${m}px;height:${h}px;width:${a}px"></div>`,m+=a,!(m>u||this._maxIndentLeft>0&&m>this._maxIndentLeft));w++);}t[f]=b}this._renderResult=t}render(v,i){if(!this._renderResult)return"";const C=i-v;return C<0||C>=this._renderResult.length?"":this._renderResult[C]}}e.IndentGuidesOverlay=S,(0,L.registerThemingParticipant)((p,v)=>{const i=p.getColor(I.editorIndentGuides);i&&v.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const C=p.getColor(I.editorActiveIndentGuides)||i;C&&v.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${C} inset; }`)})}),define(te[263],ne([0,1,17,98,13,46,12,337]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class p extends N.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new I.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(58);const C=i.get(59);this._renderLineNumbers=C.renderType,this._renderCustomLineNumbers=C.renderFn,this._renderFinalNewline=i.get(84);const s=i.get(130);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const C=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(C);let s=!1;return this._activeLineNumber!==C.lineNumber&&(this._activeLineNumber=C.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const C=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new I.Position(i,1));if(C.column!==1)return"";const s=C.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const a=Math.abs(this._lastCursorModelPosition.lineNumber-s);return a===0?'<span class="relative-current-line-number">'+s+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10==0?String(s):"":String(s)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const C=_.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",s=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,u='<div class="'+p.CLASS_NAME+C+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',h=this._context.model.getLineCount(),d=[];for(let r=s;r<=a;r++){const n=r-s;if(!this._renderFinalNewline&&r===h&&this._context.model.getLineLength(r)===0){d[n]="";continue}const l=this._getLineRenderLineNumber(r);l?r===this._activeLineNumber?d[n]='<div class="active-line-number '+p.CLASS_NAME+C+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+l+"</div>":d[n]=u+l+"</div>":d[n]=""}this._renderResult=d}render(i,C){if(!this._renderResult)return"";const s=C-i;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=p,p.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((v,i)=>{const C=v.getColor(L.editorLineNumbers);C&&i.addRule(`.monaco-editor .line-numbers { color: ${C}; }`);const s=v.getColor(L.editorActiveLineNumber);s&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${s}; }`)})}),define(te[605],ne([0,1,465,41,30,17,8,65,171,220,48,263,230,37,110,13,3,21,133,332]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(m,w,D){this._visibleTextAreaBrand=void 0,this.top=m,this.left=w,this.width=D}setWidth(m){return new t(this.top,this.left,m)}}const o=N.isFirefox;class c extends C.ViewPart{constructor(m,w,D){super(m);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=w,this._viewHelper=D,this._scrollLeft=0,this._scrollTop=0;const k=this._context.configuration.options,T=k.get(130);this._setAccessibilityOptions(k),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=k.get(42),this._lineHeight=k.get(58),this._emptySelectionClipboard=k.get(31),this._copyWithSyntaxHighlighting=k.get(20),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,I.createFastDomNode)(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(k)),this.textArea.setAttribute("tabindex",String(k.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",_.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),k.get(29)&&k.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,I.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:A=>this._context.model.getLineMaxColumn(A),getValueInRange:(A,O)=>this._context.model.getValueInRange(A,O)},M={getDataToCopy:A=>{const O=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,L.isWindows),P=this._context.model.getEOL(),F=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),E=Array.isArray(O)?O:null,x=Array.isArray(O)?O.join(P):O;let W,G=null;if(A&&(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&x.length<65536)){const Y=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Y&&(W=Y.html,G=Y.mode)}return{isFromEmptySelection:F,multicursorText:E,text:x,html:W,mode:G}},getScreenReaderContent:A=>{if(this._accessibilitySupport===1){if(L.isMacintosh){const O=this._selections[0];if(O.isEmpty()){const P=O.getStartPosition();let F=this._getWordBeforePosition(P);if(F.length===0&&(F=this._getCharacterBeforePosition(P)),F.length>0)return new i.TextAreaState(F,F.length,F.length,P,P)}}return i.TextAreaState.EMPTY}if(N.isAndroid){const O=this._selections[0];if(O.isEmpty()){const P=O.getStartPosition(),[F,E]=this._getAndroidWordAtPosition(P);if(F.length>0)return new i.TextAreaState(F,E,E,P,P)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(A,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(A,O,P)=>this._context.model.deduceModelPositionRelativeToViewPosition(A,O,P)};this._textAreaInput=this._register(new v.TextAreaInput(M,this.textArea)),this._register(this._textAreaInput.onKeyDown(A=>{this._viewController.emitKeyDown(A)})),this._register(this._textAreaInput.onKeyUp(A=>{this._viewController.emitKeyUp(A)})),this._register(this._textAreaInput.onPaste(A=>{let O=!1,P=null,F=null;A.metadata&&(O=this._emptySelectionClipboard&&!!A.metadata.isFromEmptySelection,P=typeof A.metadata.multicursorText!="undefined"?A.metadata.multicursorText:null,F=A.metadata.mode),this._viewController.paste(A.text,O,P,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(A=>{A.replacePrevCharCnt||A.replaceNextCharCnt||A.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${A.text}>>, ${A.replacePrevCharCnt}, ${A.replaceNextCharCnt}, ${A.positionDelta}`),this._viewController.compositionType(A.text,A.replacePrevCharCnt,A.replaceNextCharCnt,A.positionDelta)):(i._debugComposition&&console.log(` => type: <<${A.text}>>`),this._viewController.type(A.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(A=>{this._viewController.setSelection(A)})),this._register(this._textAreaInput.onCompositionStart(A=>{const O=this._selections[0].startLineNumber,P=this._selections[0].startColumn+A.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new r.Range(O,P,O,P),0,1);const F=this._viewHelper.visibleRangeForPositionRelativeToEditor(O,P);F&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(O),F.left,o?0:1),this._render()),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(A=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(f(A.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(m){const w='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',D=this._context.model.getLineContent(m.lineNumber),k=(0,h.getMapForWordSeparators)(w);let T=!0,R=m.column,M=!0,A=m.column,O=0;for(;O<50&&(T||M);){if(T&&R<=1&&(T=!1),T){const P=D.charCodeAt(R-2);k.get(P)!==0?T=!1:R--}if(M&&A>D.length&&(M=!1),M){const P=D.charCodeAt(A-1);k.get(P)!==0?M=!1:A++}O++}return[D.substring(R-1,A-1),m.column-R]}_getWordBeforePosition(m){const w=this._context.model.getLineContent(m.lineNumber),D=(0,h.getMapForWordSeparators)(this._context.configuration.options.get(116));let k=m.column,T=0;for(;k>1;){const R=w.charCodeAt(k-2);if(D.get(R)!==0||T>50)return w.substring(k-1,m.column-1);T++,k--}return w.substring(0,m.column-1)}_getCharacterBeforePosition(m){if(m.column>1){const D=this._context.model.getLineContent(m.lineNumber).charAt(m.column-2);if(!S.isHighSurrogate(D.charCodeAt(0)))return D}return""}_getAriaLabel(m){return m.get(2)===1?_.localize(1,null,L.isLinux?"Shift+Alt+F1":"Alt+F1"):m.get(4)}_setAccessibilityOptions(m){this._accessibilitySupport=m.get(2);const w=m.get(3);this._accessibilitySupport===2&&w===u.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=w}onConfigurationChanged(m){const w=this._context.configuration.options,D=w.get(130);return this._setAccessibilityOptions(w),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=w.get(42),this._lineHeight=w.get(58),this._emptySelectionClipboard=w.get(31),this._copyWithSyntaxHighlighting=w.get(20),this.textArea.setAttribute("aria-label",this._getAriaLabel(w)),this.textArea.setAttribute("tabindex",String(w.get(112))),(m.hasChanged(29)||m.hasChanged(80))&&(w.get(29)&&w.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),m.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(m){return this._selections=m.selections.slice(0),this._modelSelections=m.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return this._scrollLeft=m.scrollLeft,this._scrollTop=m.scrollTop,!0}onZonesChanged(m){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(m){m.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",m.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),m.role&&this.textArea.setAttribute("role",m.role)}prepareRender(m){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=m.visibleRangeForPosition(this._primaryCursorPosition)}render(m){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const m=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(m<this._contentLeft||m>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const w=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(w<0||w>this._contentHeight){this._renderAtTopLeft();return}if(L.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,w,m,o?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,w,m,o?0:1,o?0:1)}_renderInsideEditor(m,w,D,k,T){this._lastRenderPosition=m;const R=this.textArea,M=this.textAreaCover;p.Configuration.applyFontInfo(R,this._fontInfo),R.setTop(w),R.setLeft(D),R.setWidth(k),R.setHeight(T),M.setTop(0),M.setLeft(0),M.setWidth(0),M.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const m=this.textArea,w=this.textAreaCover;if(p.Configuration.applyFontInfo(m,this._fontInfo),m.setTop(0),m.setLeft(0),w.setTop(0),w.setLeft(0),o){m.setWidth(0),m.setHeight(0),w.setWidth(0),w.setHeight(0);return}m.setWidth(1),m.setHeight(1),w.setWidth(1),w.setHeight(1);const D=this._context.configuration.options;D.get(48)?w.setClassName("monaco-editor-background textAreaCover "+a.Margin.OUTER_CLASS_NAME):D.get(59).renderType!==0?w.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):w.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=c;function f(g,m){const D=document.createElement("canvas").getContext("2d");D.font=y(m);const k=D.measureText(g);return N.isFirefox?k.width+2:k.width}function y(g){return b("normal",g.fontWeight,g.fontSize,g.lineHeight,g.fontFamily)}function b(g,m,w,D,k){return`${g} normal ${m} ${w}px / ${D}px ${k}`}}),define(te[606],ne([0,1,30,29,48,13,18,46]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class v{constructor(s,a){const u=s.options;this.lineHeight=u.get(58),this.pixelRatio=u.get(128),this.overviewRulerLanes=u.get(73),this.renderBorder=u.get(72);const h=a.getColor(p.editorOverviewRulerBorder);this.borderColor=h?h.toString():null,this.hideCursor=u.get(50);const d=a.getColor(p.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=a.type;const r=u.get(64),n=r.enabled,l=r.side,t=n?a.getColor(p.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||l==="left"?this.backgroundColor=null:this.backgroundColor=N.Color.Format.CSS.formatHex(t);const c=u.get(130).overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[f,y]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=f,this.w=y}_initLanes(s,a,u){const h=a-s;if(u>=3){const d=Math.floor(h/3),r=Math.floor(h/3),n=h-d-r,l=s,t=l+d,o=l+d+n;return[[0,l,t,l,o,l,t,l],[0,d,n,d+n,r,d+n+r,n+r,d+n+r]]}else if(u===2){const d=Math.floor(h/2),r=h-d,n=s,l=n+d;return[[0,n,n,n,l,n,n,n],[0,d,d,d,r,d+r,d+r,d+r]]}else{const d=s,r=h;return[[0,d,d,d,d,d,d,d],[0,r,r,r,r,r,r,r]]}}equals(s){return this.lineHeight===s.lineHeight&&this.pixelRatio===s.pixelRatio&&this.overviewRulerLanes===s.overviewRulerLanes&&this.renderBorder===s.renderBorder&&this.borderColor===s.borderColor&&this.hideCursor===s.hideCursor&&this.cursorColor===s.cursorColor&&this.themeType===s.themeType&&this.backgroundColor===s.backgroundColor&&this.top===s.top&&this.right===s.right&&this.domWidth===s.domWidth&&this.domHeight===s.domHeight&&this.canvasWidth===s.canvasWidth&&this.canvasHeight===s.canvasHeight}}class i extends I.ViewPart{constructor(s){super(s);this._domNode=(0,_.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(a=>{a.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(s){const a=new v(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(a)?!1:(this._settings=a,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,s&&this._render(),!0)}onConfigurationChanged(s){return this._updateSettings(!1)}onCursorStateChanged(s){this._cursorPositions=[];for(let a=0,u=s.selections.length;a<u;a++)this._cursorPositions[a]=s.selections[a].getPosition();return this._cursorPositions.sort(L.Position.compare),!0}onDecorationsChanged(s){return!!s.affectsOverviewRuler}onFlushed(s){return!0}onScrollChanged(s){return s.scrollHeightChanged}onZonesChanged(s){return!0}onThemeChanged(s){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(s){}render(s){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const s=this._settings.canvasWidth,a=this._settings.canvasHeight,u=this._settings.lineHeight,h=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=a/d,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,t=l/2|0,o=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?o.clearRect(0,0,s,a):(o.fillStyle=this._settings.backgroundColor,o.fillRect(0,0,s,a));const c=this._settings.x,f=this._settings.w,y=Object.keys(n);y.sort();for(let b=0,g=y.length;b<g;b++){const m=y[b],w=n[m];o.fillStyle=m;let D=0,k=0,T=0;for(let R=0,M=w.length;R<M;R++){const A=w[3*R],O=w[3*R+1],P=w[3*R+2];let F=h.getVerticalOffsetForLineNumber(O)*r|0,E=(h.getVerticalOffsetForLineNumber(P)+u)*r|0;if(E-F<l){let W=(F+E)/2|0;W<t?W=t:W+t>a&&(W=a-t),F=W-t,E=W+t}F>T+1||A!==D?(R!==0&&o.fillRect(c[D],k,f[D],T-k),D=A,k=F,T=E):E>T&&(T=E)}o.fillRect(c[D],k,f[D],T-k)}if(!this._settings.hideCursor&&this._settings.cursorColor){const b=2*this._settings.pixelRatio|0,g=b/2|0,m=this._settings.x[7],w=this._settings.w[7];o.fillStyle=this._settings.cursorColor;let D=-100,k=-100;for(let T=0,R=this._cursorPositions.length;T<R;T++){const M=this._cursorPositions[T];let A=h.getVerticalOffsetForLineNumber(M.lineNumber)*r|0;A<g?A=g:A+g>a&&(A=a-g);const O=A-g,P=O+b;O>k+1?(T!==0&&o.fillRect(m,D,w,k-D),D=O,k=P):P>k&&(k=P)}o.fillRect(m,D,w,k-D)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(o.beginPath(),o.lineWidth=1,o.strokeStyle=this._settings.borderColor,o.moveTo(0,0),o.lineTo(0,a),o.stroke(),o.moveTo(0,0),o.lineTo(s,0),o.stroke())}}e.DecorationsOverviewRuler=i}),define(te[607],ne([0,1,30,48,46,12,343]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends N.ViewPart{constructor(v){super(v);this.domNode=(0,_.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(91),this._typicalHalfwidthCharacterWidth=i.get(42).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const i=this._context.configuration.options;return this._rulers=i.get(91),this._typicalHalfwidthCharacterWidth=i.get(42).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,i=this._rulers.length;if(v===i)return;if(v<i){const{tabSize:s}=this._context.model.getTextModelOptions(),a=s;let u=i-v;for(;u>0;){const h=(0,_.createFastDomNode)(document.createElement("div"));h.setClassName("view-ruler"),h.setWidth(a),this.domNode.appendChild(h),this._renderedRulers.push(h),u--}return}let C=v-i;for(;C>0;){const s=this._renderedRulers.pop();this.domNode.removeChild(s),C--}}render(v){this._ensureRulersCount();for(let i=0,C=this._rulers.length;i<C;i++){const s=this._renderedRulers[i],a=this._rulers[i];s.setBoxShadow(a.color?`1px 0 0 0 ${a.color} inset`:""),s.setHeight(Math.min(v.scrollHeight,1e6)),s.setLeft(a.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,L.registerThemingParticipant)((p,v)=>{const i=p.getColor(I.editorRuler);i&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(te[608],ne([0,1,30,14,48,582,37,46,12,346]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends I.ViewPart{constructor(s){super(s);const a=this._context.configuration.options;this._readOnly=a.get(80),this._cursorBlinking=a.get(21),this._cursorStyle=a.get(23),this._cursorSmoothCaretAnimation=a.get(22),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new L.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,_.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new N.TimeoutTimer,this._cursorFlatBlinkInterval=new N.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(s){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(s){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(s){const a=this._context.configuration.options;this._readOnly=a.get(80),this._cursorBlinking=a.get(21),this._cursorStyle=a.get(23),this._cursorSmoothCaretAnimation=a.get(22),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(s);for(let u=0,h=this._secondaryCursors.length;u<h;u++)this._secondaryCursors[u].onConfigurationChanged(s);return!0}_onCursorPositionChanged(s,a){if(this._primaryCursor.onCursorPositionChanged(s),this._updateBlinking(),this._secondaryCursors.length<a.length){const u=a.length-this._secondaryCursors.length;for(let h=0;h<u;h++){const d=new L.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>a.length){const u=this._secondaryCursors.length-a.length;for(let h=0;h<u;h++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let u=0;u<a.length;u++)this._secondaryCursors[u].onCursorPositionChanged(a[u])}onCursorStateChanged(s){const a=[];for(let h=0,d=s.selections.length;h<d;h++)a[h]=s.selections[h].getPosition();this._onCursorPositionChanged(a[0],a.slice(1));const u=s.selections[0].isEmpty();return this._selectionIsEmpty!==u&&(this._selectionIsEmpty=u,this._updateDomClassName()),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onFocusChanged(s){return this._editorHasFocus=s.isFocused,this._updateBlinking(),!1}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return!0}onTokensChanged(s){const a=u=>{for(let h=0,d=s.ranges.length;h<d;h++)if(s.ranges[h].fromLineNumber<=u.lineNumber&&u.lineNumber<=s.ranges[h].toLineNumber)return!0;return!1};if(a(this._primaryCursor.getPosition()))return!0;for(const u of this._secondaryCursors)if(a(u.getPosition()))return!0;return!1}onZonesChanged(s){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const s=this._getCursorBlinking(),a=s===0,u=s===5;a?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!a&&!u&&(s===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let s="cursors-layer";switch(this._selectionIsEmpty||(s+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:s+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:s+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:s+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:s+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:s+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:s+=" cursor-underline-thin-style";break;default:s+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:s+=" cursor-blink";break;case 2:s+=" cursor-smooth";break;case 3:s+=" cursor-phase";break;case 4:s+=" cursor-expand";break;case 5:s+=" cursor-solid";break;default:s+=" cursor-solid"}else s+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(s+=" cursor-smooth-caret-animation"),s}_show(){this._primaryCursor.show();for(let s=0,a=this._secondaryCursors.length;s<a;s++)this._secondaryCursors[s].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let s=0,a=this._secondaryCursors.length;s<a;s++)this._secondaryCursors[s].hide();this._isVisible=!1}prepareRender(s){this._primaryCursor.prepareRender(s);for(let a=0,u=this._secondaryCursors.length;a<u;a++)this._secondaryCursors[a].prepareRender(s)}render(s){let a=[],u=0;const h=this._primaryCursor.render(s);h&&(a[u++]=h);for(let d=0,r=this._secondaryCursors.length;d<r;d++){const n=this._secondaryCursors[d].render(s);n&&(a[u++]=n)}this._renderData=a}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,(0,v.registerThemingParticipant)((C,s)=>{const a=C.getColor(p.editorCursorForeground);if(a){let u=C.getColor(p.editorCursorBackground);u||(u=a.opposite()),s.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${a}; border-color: ${a}; color: ${u}; }`),C.type==="hc"&&s.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${u}; border-right: 1px solid ${u}; }`)}})}),define(te[609],ne([0,1,6,2,3,173,36,46,12,224,558,85,387,248]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketInfo=e.BracketPairColorizer=void 0;class h extends N.Disposable{constructor(c){super();this.textModel=c,this.didChangeDecorationsEmitter=new _.Emitter,this.cache=this._register(new N.MutableDisposable),this._register(S.LanguageConfigurationRegistry.onDidChange(f=>{var y;((y=this.cache.value)===null||y===void 0?void 0:y.object.didLanguageChange(f.languageIdentifier.id))&&(this.cache.clear(),this.updateCache())})),this._register(c.onDidChangeOptions(f=>{this.cache.clear(),this.updateCache()})),this._register(c.onDidChangeAttached(()=>{this.updateCache()}))}get isDocumentSupported(){const c=5e4*100;return this.textModel.getValueLength()<=c}updateCache(){const c=this.textModel.getOptions().bracketPairColorizationOptions;if(this.textModel.isAttachedToEditor()&&this.isDocumentSupported&&c.enabled){if(!this.cache.value){const f=new N.DisposableStore;this.cache.value=d(f.add(new r(this.textModel)),f),f.add(this.cache.value.object.onDidChangeDecorations(y=>this.didChangeDecorationsEmitter.fire(y))),this.didChangeDecorationsEmitter.fire()}}else this.cache.clear(),this.didChangeDecorationsEmitter.fire()}handleContentChanged(c){var f;(f=this.cache.value)===null||f===void 0||f.object.handleContentChanged(c)}getDecorationsInRange(c,f,y){var b;return f===void 0?[]:((b=this.cache.value)===null||b===void 0?void 0:b.object.getDecorationsInRange(c,f,y))||[]}getAllDecorations(c,f){var y;return c===void 0?[]:((y=this.cache.value)===null||y===void 0?void 0:y.object.getAllDecorations(c,f))||[]}onDidChangeDecorations(c){return this.didChangeDecorationsEmitter.event(c)}}e.BracketPairColorizer=h;function d(o,c){return{object:o,dispose:()=>c==null?void 0:c.dispose()}}class r extends N.Disposable{constructor(c){super();if(this.textModel=c,this.didChangeDecorationsEmitter=new _.Emitter,this.colorProvider=new t,this.brackets=new C.LanguageAgnosticBracketTokens([]),this.denseKeyProvider=new L.DenseKeyProvider,this.onDidChangeDecorations=this.didChangeDecorationsEmitter.event,this._register(c.onBackgroundTokenizationStateChanged(()=>{if(c.backgroundTokenizationState===2){const f=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,f||this.didChangeDecorationsEmitter.fire()}})),this._register(c.onDidChangeTokens(({ranges:f})=>{const y=f.map(b=>new i.TextEditInfo((0,s.toLength)(b.fromLineNumber-1,0),(0,s.toLength)(b.toLineNumber,0),(0,s.toLength)(b.toLineNumber-b.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(y,this.astWithTokens),this.initialAstWithoutTokens||this.didChangeDecorationsEmitter.fire()})),c.backgroundTokenizationState===0){const f=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageIdentifier().id),y=new u.FastTokenizer(this.textModel.getValue(),f);this.initialAstWithoutTokens=(0,a.parseDocument)(y,[],void 0,this.denseKeyProvider),this.astWithTokens=this.initialAstWithoutTokens.clone()}else c.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0)):c.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0),this.astWithTokens=this.initialAstWithoutTokens.clone())}didLanguageChange(c){return this.brackets.didLanguageChange(c)}handleContentChanged(c){const f=c.changes.map(y=>{const b=I.Range.lift(y.range);return new i.TextEditInfo((0,s.positionToLength)(b.getStartPosition()),(0,s.positionToLength)(b.getEndPosition()),(0,s.lengthOfString)(y.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(f,this.astWithTokens),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(f,this.initialAstWithoutTokens))}parseDocumentFromTextBuffer(c,f){const b=!1?f==null?void 0:f.clone():f,g=new u.TextBufferTokenizer(this.textModel,this.brackets);return(0,a.parseDocument)(g,c,b,this.denseKeyProvider)}getBracketsInRange(c){const f=(0,s.toLength)(c.startLineNumber-1,c.startColumn-1),y=(0,s.toLength)(c.endLineNumber-1,c.endColumn-1),b=new Array,g=this.initialAstWithoutTokens||this.astWithTokens;return n(g,s.lengthZero,g.length,f,y,b),b}getDecorationsInRange(c,f,y){const b=new Array,g=this.getBracketsInRange(c);for(const m of g)b.push({id:`bracket${m.hash()}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(m)},ownerId:0,range:m.range});return b}getAllDecorations(c,f){return this.getDecorationsInRange(new I.Range(1,1,this.textModel.getLineCount(),1),c,f)}}function n(o,c,f,y,b,g,m=0){if(o.kind===1){const w=(0,s.lengthsToRange)(c,f);g.push(new l(w,m-1,!1))}else if(o.kind===3){const w=(0,s.lengthsToRange)(c,f);g.push(new l(w,m-1,!0))}else{o.kind===2&&m++;for(const w of o.children)f=(0,s.lengthAdd)(c,w.length),(0,s.lengthLessThanEqual)(c,b)&&(0,s.lengthGreaterThanEqual)(f,y)&&n(w,c,f,y,b,g,m),c=f}}class l{constructor(c,f,y){this.range=c,this.level=f,this.isInvalid=y}hash(){return`${this.range.toString()}-${this.level}`}}e.BracketInfo=l;class t{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(c){return c.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(c.level)}getInlineClassNameOfLevel(c){return`bracket-highlighting-${c%30}`}}(0,v.registerThemingParticipant)((o,c)=>{const f=[p.editorBracketHighlightingForeground1,p.editorBracketHighlightingForeground2,p.editorBracketHighlightingForeground3,p.editorBracketHighlightingForeground4,p.editorBracketHighlightingForeground5,p.editorBracketHighlightingForeground6],y=new t;c.addRule(`.monaco-editor .${y.unexpectedClosingBracketClassName} { color: ${o.getColor(p.editorBracketHighlightingUnexpectedBracketForeground)}; }`);let b=f.map(g=>o.getColor(g)).filter(g=>!!g).filter(g=>!g.isTransparent());for(let g=0;g<30;g++){const m=b[g%b.length];c.addRule(`.monaco-editor .${y.getInlineClassNameOfLevel(g)} { color: ${m}; }`)}})}),define(te[31],ne([0,1,10,6,2,8,24,37,13,3,21,53,245,388,389,559,97,174,560,138,36,78,175,176,143,29,249,19,609]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function k(){return new d.PieceTreeTextBufferBuilder}function T(ce){const K=k();return K.acceptChunk(ce),K.finish()}e.createTextBufferFactory=T;function R(ce,K){return(typeof ce=="string"?T(ce):ce).create(K)}e.createTextBuffer=R;let M=0;const A=999;e.LONG_LINE_BOUNDARY=1e4;class O{constructor(K){this._source=K,this._eos=!1}read(){if(this._eos)return null;let K=[],Q=0,U=0;do{let ee=this._source.read();if(ee===null)return this._eos=!0,Q===0?null:K.join("");if(ee.length>0&&(K[Q++]=ee,U+=ee.length),U>=64*1024)return K.join("")}while(!0)}}const P=()=>{throw new Error("Invalid change accessor")};class F{constructor(){this._searchCanceledBrand=void 0}}F.INSTANCE=new F;function E(ce){return ce instanceof F?null:ce}class x extends I.Disposable{constructor(K,Q,U,ee=null,de){super();this._onWillDispose=this._register(new N.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new z(oe=>this.handleBeforeFireDecorationsChangedEvent(oe))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new N.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new N.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new N.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new N.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new N.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new N.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new ie),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new N.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(oe=>{this._onDidChangeContentOrInjectedText.fire(oe.rawContentChangedEvent)})),M++,this.id="$model"+M,this.isForSimpleWidget=Q.isForSimpleWidget,typeof ee=="undefined"||ee===null?this._associatedResource=S.URI.parse("inmemory://model/"+M):this._associatedResource=ee,this._undoRedoService=de,this._attachedEditorCount=0;const{textBuffer:j,disposable:ue}=R(K,Q.defaultEOL);this._buffer=j,this._bufferDisposable=ue,this._options=x.resolveOptions(this._buffer,Q);const X=this._buffer.getLineCount(),q=this._buffer.getValueLengthInRange(new i.Range(1,1,X,this._buffer.getLineLength(X)+1),0);Q.largeFileOptimizations?this._isTooLargeForTokenization=q>x.LARGE_FILE_SIZE_THRESHOLD||X>x.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=q>x.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=U||c.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=o.LanguageConfigurationRegistry.onDidChange(oe=>{oe.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=L.singleLetterHash(M),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new se,this._commandManager=new a.EditStack(this,de),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new b.TokensStore,this._tokens2=new b.TokensStore2,this._tokenization=new l.TextModelTokenization(this),this._bracketPairColorizer=this._register(new D.BracketPairColorizer(this)),this._decorationProvider=this._bracketPairColorizer,this._register(this._decorationProvider.onDidChangeDecorations(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(K,Q){if(Q.detectIndentation){const U=(0,u.guessIndentation)(K,Q.tabSize,Q.insertSpaces);return new s.TextModelResolvedOptions({tabSize:U.tabSize,indentSize:U.tabSize,insertSpaces:U.insertSpaces,trimAutoWhitespace:Q.trimAutoWhitespace,defaultEOL:Q.defaultEOL,bracketPairColorizationOptions:Q.bracketPairColorizationOptions})}return new s.TextModelResolvedOptions({tabSize:Q.tabSize,indentSize:Q.indentSize,insertSpaces:Q.insertSpaces,trimAutoWhitespace:Q.trimAutoWhitespace,defaultEOL:Q.defaultEOL,bracketPairColorizationOptions:Q.bracketPairColorizationOptions})}onDidChangeContentFast(K){return this._eventEmitter.fastEvent(Q=>K(Q.contentChangedEvent))}onDidChangeContent(K){return this._eventEmitter.slowEvent(Q=>K(Q.contentChangedEvent))}get backgroundTokenizationState(){return this._backgroundTokenizationState}setBackgroundTokenizationState(K){this._backgroundTokenizationState!==K&&(this._backgroundTokenizationState=K,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const K=new m.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);K.dispose(),this._buffer=K}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(K,Q){this._bracketPairColorizer.handleContentChanged(Q),!this._isDisposing&&this._eventEmitter.fire(new r.InternalModelContentChangeEvent(K,Q))}setValue(K){if(this._assertNotDisposed(),K===null)return;const{textBuffer:Q,disposable:U}=R(K,this._options.defaultEOL);this._setValueFromTextBuffer(Q,U)}_createContentChanged2(K,Q,U,ee,de,j,ue){return{changes:[{range:K,rangeOffset:Q,rangeLength:U,text:ee}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:de,isRedoing:j,isFlush:ue}}_setValueFromTextBuffer(K,Q){this._assertNotDisposed();const U=this.getFullModelRange(),ee=this.getValueLengthInRange(U),de=this.getLineCount(),j=this.getLineMaxColumn(de);this._buffer=K,this._bufferDisposable.dispose(),this._bufferDisposable=Q,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new se,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,j),0,ee,this.getValue(),!1,!1,!0))}setEOL(K){this._assertNotDisposed();const Q=K===1?`\r
`:`
`;if(this._buffer.getEOL()===Q)return;const U=this.getFullModelRange(),ee=this.getValueLengthInRange(U),de=this.getLineCount(),j=this.getLineMaxColumn(de);this._onBeforeEOLChange(),this._buffer.setEOL(Q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,j),0,ee,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const K=this.getVersionId(),Q=this._decorationsTree.collectNodesPostOrder();for(let U=0,ee=Q.length;U<ee;U++){const de=Q[U],j=de.range,ue=de.cachedAbsoluteStart-de.start,X=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),q=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);de.cachedAbsoluteStart=X,de.cachedAbsoluteEnd=q,de.cachedVersionId=K,de.start=X-ue,de.end=q-ue,(0,h.recomputeMaxEnd)(de)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let K=0,Q=0;const U=this._buffer.getLineCount();for(let ee=1;ee<=U;ee++){const de=this._buffer.getLineLength(ee);de>=e.LONG_LINE_BOUNDARY?Q+=de:K+=de}return Q>K}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(K){this._assertNotDisposed();let Q=typeof K.tabSize!="undefined"?K.tabSize:this._options.tabSize,U=typeof K.indentSize!="undefined"?K.indentSize:this._options.indentSize,ee=typeof K.insertSpaces!="undefined"?K.insertSpaces:this._options.insertSpaces,de=typeof K.trimAutoWhitespace!="undefined"?K.trimAutoWhitespace:this._options.trimAutoWhitespace,j=typeof K.bracketColorizationOptions!="undefined"?K.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ue=new s.TextModelResolvedOptions({tabSize:Q,indentSize:U,insertSpaces:ee,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:de,bracketPairColorizationOptions:j});if(this._options.equals(ue))return;let X=this._options.createChangeEvent(ue);this._options=ue,this._onDidChangeOptions.fire(X)}detectIndentation(K,Q){this._assertNotDisposed();let U=(0,u.guessIndentation)(this._buffer,Q,K);this.updateOptions({insertSpaces:U.insertSpaces,tabSize:U.tabSize,indentSize:U.tabSize})}static _normalizeIndentationFromWhitespace(K,Q,U){let ee=0;for(let j=0;j<K.length;j++)K.charAt(j)==="	"?ee+=Q:ee++;let de="";if(!U){let j=Math.floor(ee/Q);ee=ee%Q;for(let ue=0;ue<j;ue++)de+="	"}for(let j=0;j<ee;j++)de+=" ";return de}static normalizeIndentation(K,Q,U){let ee=L.firstNonWhitespaceIndex(K);return ee===-1&&(ee=K.length),x._normalizeIndentationFromWhitespace(K.substring(0,ee),Q,U)+K.substring(ee)}normalizeIndentation(K){return this._assertNotDisposed(),x.normalizeIndentation(K,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(K=null){const Q=this.findMatches(L.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(K,Q.map(U=>({range:U.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(K){this._assertNotDisposed();let Q=this._validatePosition(K.lineNumber,K.column,0);return this._buffer.getOffsetAt(Q.lineNumber,Q.column)}getPositionAt(K){this._assertNotDisposed();let Q=Math.min(this._buffer.getLength(),Math.max(0,K));return this._buffer.getPositionAt(Q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(K){this._versionId=K}_overwriteAlternativeVersionId(K){this._alternativeVersionId=K}_overwriteInitialUndoRedoSnapshot(K){this._initialUndoRedoSnapshot=K}getValue(K,Q=!1){this._assertNotDisposed();const U=this.getFullModelRange(),ee=this.getValueInRange(U,K);return Q?this._buffer.getBOM()+ee:ee}createSnapshot(K=!1){return new O(this._buffer.createSnapshot(K))}getValueLength(K,Q=!1){this._assertNotDisposed();const U=this.getFullModelRange(),ee=this.getValueLengthInRange(U,K);return Q?this._buffer.getBOM().length+ee:ee}getValueInRange(K,Q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(K),Q)}getValueLengthInRange(K,Q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(K),Q)}getCharacterCountInRange(K,Q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(K),Q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(K)}getLineLength(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(K)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(K){return this._assertNotDisposed(),1}getLineMaxColumn(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(K)+1}getLineFirstNonWhitespaceColumn(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(K)}getLineLastNonWhitespaceColumn(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(K)}_validateRangeRelaxedNoAllocations(K){const Q=this._buffer.getLineCount(),U=K.startLineNumber,ee=K.startColumn;let de=Math.floor(typeof U=="number"&&!isNaN(U)?U:1),j=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1);if(de<1)de=1,j=1;else if(de>Q)de=Q,j=this.getLineMaxColumn(de);else if(j<=1)j=1;else{const he=this.getLineMaxColumn(de);j>=he&&(j=he)}const ue=K.endLineNumber,X=K.endColumn;let q=Math.floor(typeof ue=="number"&&!isNaN(ue)?ue:1),oe=Math.floor(typeof X=="number"&&!isNaN(X)?X:1);if(q<1)q=1,oe=1;else if(q>Q)q=Q,oe=this.getLineMaxColumn(q);else if(oe<=1)oe=1;else{const he=this.getLineMaxColumn(q);oe>=he&&(oe=he)}return U===de&&ee===j&&ue===q&&X===oe&&K instanceof i.Range&&!(K instanceof C.Selection)?K:new i.Range(de,j,q,oe)}_isValidPosition(K,Q,U){if(typeof K!="number"||typeof Q!="number"||isNaN(K)||isNaN(Q)||K<1||Q<1||(K|0)!==K||(Q|0)!==Q)return!1;const ee=this._buffer.getLineCount();if(K>ee)return!1;if(Q===1)return!0;const de=this.getLineMaxColumn(K);if(Q>de)return!1;if(U===1){const j=this._buffer.getLineCharCode(K,Q-2);if(L.isHighSurrogate(j))return!1}return!0}_validatePosition(K,Q,U){const ee=Math.floor(typeof K=="number"&&!isNaN(K)?K:1),de=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),j=this._buffer.getLineCount();if(ee<1)return new v.Position(1,1);if(ee>j)return new v.Position(j,this.getLineMaxColumn(j));if(de<=1)return new v.Position(ee,1);const ue=this.getLineMaxColumn(ee);if(de>=ue)return new v.Position(ee,ue);if(U===1){const X=this._buffer.getLineCharCode(ee,de-2);if(L.isHighSurrogate(X))return new v.Position(ee,de-1)}return new v.Position(ee,de)}validatePosition(K){const Q=1;return this._assertNotDisposed(),K instanceof v.Position&&this._isValidPosition(K.lineNumber,K.column,Q)?K:this._validatePosition(K.lineNumber,K.column,Q)}_isValidRange(K,Q){const U=K.startLineNumber,ee=K.startColumn,de=K.endLineNumber,j=K.endColumn;if(!this._isValidPosition(U,ee,0)||!this._isValidPosition(de,j,0))return!1;if(Q===1){const ue=ee>1?this._buffer.getLineCharCode(U,ee-2):0,X=j>1&&j<=this._buffer.getLineLength(de)?this._buffer.getLineCharCode(de,j-2):0,q=L.isHighSurrogate(ue),oe=L.isHighSurrogate(X);return!q&&!oe}return!0}validateRange(K){const Q=1;if(this._assertNotDisposed(),K instanceof i.Range&&!(K instanceof C.Selection)&&this._isValidRange(K,Q))return K;const U=this._validatePosition(K.startLineNumber,K.startColumn,0),ee=this._validatePosition(K.endLineNumber,K.endColumn,0),de=U.lineNumber,j=U.column,ue=ee.lineNumber,X=ee.column;if(Q===1){const q=j>1?this._buffer.getLineCharCode(de,j-2):0,oe=X>1&&X<=this._buffer.getLineLength(ue)?this._buffer.getLineCharCode(ue,X-2):0,he=L.isHighSurrogate(q),ge=L.isHighSurrogate(oe);return!he&&!ge?new i.Range(de,j,ue,X):de===ue&&j===X?new i.Range(de,j-1,ue,X-1):he&&ge?new i.Range(de,j-1,ue,X+1):he?new i.Range(de,j-1,ue,X):new i.Range(de,j,ue,X+1)}return new i.Range(de,j,ue,X)}modifyPosition(K,Q){this._assertNotDisposed();let U=this.getOffsetAt(K)+Q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,U)))}getFullModelRange(){this._assertNotDisposed();const K=this.getLineCount();return new i.Range(1,1,K,this.getLineMaxColumn(K))}findMatchesLineByLine(K,Q,U,ee){return this._buffer.findMatchesLineByLine(K,Q,U,ee)}findMatches(K,Q,U,ee,de,j,ue=A){this._assertNotDisposed();let X=null;Q!==null&&(Array.isArray(Q)||(Q=[Q]),Q.every(he=>i.Range.isIRange(he))&&(X=Q.map(he=>this.validateRange(he)))),X===null&&(X=[this.getFullModelRange()]),X=X.sort((he,ge)=>he.startLineNumber-ge.startLineNumber||he.startColumn-ge.startColumn);const q=[];q.push(X.reduce((he,ge)=>i.Range.areIntersecting(he,ge)?he.plusRange(ge):(q.push(he),ge)));let oe;if(!U&&K.indexOf(`
`)<0){const ge=new n.SearchParams(K,U,ee,de).parseSearchRequest();if(!ge)return[];oe=pe=>this.findMatchesLineByLine(pe,ge,j,ue)}else oe=he=>n.TextModelSearch.findMatches(this,new n.SearchParams(K,U,ee,de),he,j,ue);return q.map(oe).reduce((he,ge)=>he.concat(ge),[])}findNextMatch(K,Q,U,ee,de,j){this._assertNotDisposed();const ue=this.validatePosition(Q);if(!U&&K.indexOf(`
`)<0){const q=new n.SearchParams(K,U,ee,de).parseSearchRequest();if(!q)return null;const oe=this.getLineCount();let he=new i.Range(ue.lineNumber,ue.column,oe,this.getLineMaxColumn(oe)),ge=this.findMatchesLineByLine(he,q,j,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(K,U,ee,de),ue,j),ge.length>0||(he=new i.Range(1,1,ue.lineNumber,this.getLineMaxColumn(ue.lineNumber)),ge=this.findMatchesLineByLine(he,q,j,1),ge.length>0)?ge[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(K,U,ee,de),ue,j)}findPreviousMatch(K,Q,U,ee,de,j){this._assertNotDisposed();const ue=this.validatePosition(Q);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(K,U,ee,de),ue,j)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(K){if((this.getEOL()===`
`?0:1)!==K)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(K)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(K){return K instanceof s.ValidAnnotatedEditOperation?K:new s.ValidAnnotatedEditOperation(K.identifier||null,this.validateRange(K.range),K.text,K.forceMoveMarkers||!1,K.isAutoWhitespaceEdit||!1,K._isTracked||!1)}_validateEditOperations(K){const Q=[];for(let U=0,ee=K.length;U<ee;U++)Q[U]=this._validateEditOperation(K[U]);return Q}pushEditOperations(K,Q,U){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(K,this._validateEditOperations(Q),U)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(K,Q,U){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let ee=Q.map(j=>({range:this.validateRange(j.range),text:j.text})),de=!0;if(K)for(let j=0,ue=K.length;j<ue;j++){let X=K[j],q=!1;for(let oe=0,he=ee.length;oe<he;oe++){let ge=ee[oe].range,pe=ge.startLineNumber>X.endLineNumber,ve=X.startLineNumber>ge.endLineNumber;if(!pe&&!ve){q=!0;break}}if(!q){de=!1;break}}if(de)for(let j=0,ue=this._trimAutoWhitespaceLines.length;j<ue;j++){let X=this._trimAutoWhitespaceLines[j],q=this.getLineMaxColumn(X),oe=!0;for(let he=0,ge=ee.length;he<ge;he++){let pe=ee[he].range,ve=ee[he].text;if(!(X<pe.startLineNumber||X>pe.endLineNumber)&&!(X===pe.startLineNumber&&pe.startColumn===q&&pe.isEmpty()&&ve&&ve.length>0&&ve.charAt(0)===`
`)&&!(X===pe.startLineNumber&&pe.startColumn===1&&pe.isEmpty()&&ve&&ve.length>0&&ve.charAt(ve.length-1)===`
`)){oe=!1;break}}if(oe){const he=new i.Range(X,1,X,q);Q.push(new s.ValidAnnotatedEditOperation(null,he,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(K,Q,U)}_applyUndo(K,Q,U,ee){const de=K.map(j=>{const ue=this.getPositionAt(j.newPosition),X=this.getPositionAt(j.newEnd);return{range:new i.Range(ue.lineNumber,ue.column,X.lineNumber,X.column),text:j.oldText}});this._applyUndoRedoEdits(de,Q,!0,!1,U,ee)}_applyRedo(K,Q,U,ee){const de=K.map(j=>{const ue=this.getPositionAt(j.oldPosition),X=this.getPositionAt(j.oldEnd);return{range:new i.Range(ue.lineNumber,ue.column,X.lineNumber,X.column),text:j.newText}});this._applyUndoRedoEdits(de,Q,!1,!0,U,ee)}_applyUndoRedoEdits(K,Q,U,ee,de,j){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=U,this._isRedoing=ee,this.applyEdits(K,!1),this.setEOL(Q),this._overwriteAlternativeVersionId(de)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(j),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(K,Q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const U=this._validateEditOperations(K);return this._doApplyEdits(U,Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(K,Q){const U=this._buffer.getLineCount(),ee=this._buffer.applyEdits(K,this._options.trimAutoWhitespace,Q),de=this._buffer.getLineCount(),j=ee.changes;if(this._trimAutoWhitespaceLines=ee.trimAutoWhitespaceLineNumbers,j.length!==0){for(let q=0,oe=j.length;q<oe;q++){const he=j[q],[ge,pe,ve]=(0,b.countEOL)(he.text);this._tokens.acceptEdit(he.range,ge,pe),this._tokens2.acceptEdit(he.range,ge,pe,ve,he.text.length>0?he.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(he.rangeOffset,he.rangeLength,he.text.length,he.forceMoveMarkers)}let ue=[];this._increaseVersionId();let X=U;for(let q=0,oe=j.length;q<oe;q++){const he=j[q],[ge]=(0,b.countEOL)(he.text);this._onDidChangeDecorations.fire();const pe=he.range.startLineNumber,ve=he.range.endLineNumber,Le=ve-pe,Te=ge,Ne=Math.min(Le,Te),Ae=Te-Le,Oe=de-X-Ae+pe,We=Oe,Ve=Oe+Te,Ke=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new v.Position(We,1)),this.getOffsetAt(new v.Position(Ve,this.getLineMaxColumn(Ve))),0),Ye=r.LineInjectedText.fromDecorations(Ke),be=new w.ArrayQueue(Ye);for(let _e=Ne;_e>=0;_e--){const Me=pe+_e,ze=Oe+_e;be.takeFromEndWhile(qe=>qe.lineNumber>ze);const Fe=be.takeFromEndWhile(qe=>qe.lineNumber===ze);ue.push(new r.ModelRawLineChanged(Me,this.getLineContent(ze),Fe))}if(Ne<Le){const _e=pe+Ne;ue.push(new r.ModelRawLinesDeleted(_e+1,ve))}if(Ne<Te){const _e=new w.ArrayQueue(Ye),Me=pe+Ne,ze=Te-Ne,Fe=de-X-ze+Me+1;let qe=[],De=[];for(let Ee=0;Ee<ze;Ee++){let ye=Fe+Ee;De[Ee]=this.getLineContent(ye),_e.takeWhile(fe=>fe.lineNumber<ye),qe[Ee]=_e.takeWhile(fe=>fe.lineNumber===ye)}ue.push(new r.ModelRawLinesInserted(Me+1,pe+Te,De,qe))}X+=Ae}this._emitContentChangedEvent(new r.ModelRawContentChangedEvent(ue,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:j,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ee.reverseEdits===null?void 0:ee.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(K){if(K===null||K.size===0)return;const U=[...K].map(ee=>new r.ModelRawLineChanged(ee,this.getLineContent(ee),this._getInjectedTextInLine(ee)));this._onDidChangeContentOrInjectedText.fire(new r.ModelInjectedTextChangedEvent(U))}changeDecorations(K,Q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(Q,K)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(K,Q){let U={addDecoration:(de,j)=>this._deltaDecorationsImpl(K,[],[{range:de,options:j}])[0],changeDecoration:(de,j)=>{this._changeDecorationImpl(de,j)},changeDecorationOptions:(de,j)=>{this._changeDecorationOptionsImpl(de,H(j))},removeDecoration:de=>{this._deltaDecorationsImpl(K,[de],[])},deltaDecorations:(de,j)=>de.length===0&&j.length===0?[]:this._deltaDecorationsImpl(K,de,j)},ee=null;try{ee=Q(U)}catch(de){(0,_.onUnexpectedError)(de)}return U.addDecoration=P,U.changeDecoration=P,U.changeDecorationOptions=P,U.removeDecoration=P,U.deltaDecorations=P,ee}deltaDecorations(K,Q,U=0){if(this._assertNotDisposed(),K||(K=[]),K.length===0&&Q.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(U,K,Q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(K){return this.getDecorationRange(K)}_setTrackedRange(K,Q,U){const ee=K?this._decorations[K]:null;if(!ee)return Q?this._deltaDecorationsImpl(0,[],[{range:Q,options:Z[U]}])[0]:null;if(!Q)return this._decorationsTree.delete(ee),delete this._decorations[ee.id],null;const de=this._validateRangeRelaxedNoAllocations(Q),j=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),ue=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);return this._decorationsTree.delete(ee),ee.reset(this.getVersionId(),j,ue,de),ee.setOptions(Z[U]),this._decorationsTree.insert(ee),ee.id}removeAllDecorationsWithOwnerId(K){if(this._isDisposed)return;const Q=this._decorationsTree.collectNodesFromOwner(K);for(let U=0,ee=Q.length;U<ee;U++){const de=Q[U];this._decorationsTree.delete(de),delete this._decorations[de.id]}}getDecorationOptions(K){const Q=this._decorations[K];return Q?Q.options:null}getDecorationRange(K){const Q=this._decorations[K];return Q?this._decorationsTree.getNodeRange(this,Q):null}getLineDecorations(K,Q=0,U=!1){return K<1||K>this.getLineCount()?[]:this.getLinesDecorations(K,K,Q,U)}getLinesDecorations(K,Q,U=0,ee=!1){let de=this.getLineCount(),j=Math.min(de,Math.max(1,K)),ue=Math.min(de,Math.max(1,Q)),X=this.getLineMaxColumn(ue);const q=new i.Range(j,1,ue,X),oe=this._getDecorationsInRange(q,U,ee);return oe.push(...this._decorationProvider.getDecorationsInRange(q,U,ee)),oe}getDecorationsInRange(K,Q=0,U=!1){let ee=this.validateRange(K);const de=this._getDecorationsInRange(ee,Q,U);return de.push(...this._decorationProvider.getDecorationsInRange(ee,Q,U)),de}getOverviewRulerDecorations(K=0,Q=!1){return this._decorationsTree.getAll(this,K,Q,!0)}getInjectedTextDecorations(K=0){return this._decorationsTree.getAllInjectedText(this,K)}_getInjectedTextInLine(K){const Q=this._buffer.getOffsetAt(K,1),U=Q+this._buffer.getLineLength(K),ee=this._decorationsTree.getInjectedTextInInterval(this,Q,U,0);return r.LineInjectedText.fromDecorations(ee).filter(de=>de.lineNumber===K)}getAllDecorations(K=0,Q=!1){const U=this._decorationsTree.getAll(this,K,Q,!1);return U.push(...this._decorationProvider.getAllDecorations(K,Q)),U}_getDecorationsInRange(K,Q,U){const ee=this._buffer.getOffsetAt(K.startLineNumber,K.startColumn),de=this._buffer.getOffsetAt(K.endLineNumber,K.endColumn);return this._decorationsTree.getAllInInterval(this,ee,de,Q,U)}getRangeAt(K,Q){return this._buffer.getRangeAt(K,Q-K)}_changeDecorationImpl(K,Q){const U=this._decorations[K];if(!U)return;if(U.options.after){const ue=this.getDecorationRange(K);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber)}if(U.options.before){const ue=this.getDecorationRange(K);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber)}const ee=this._validateRangeRelaxedNoAllocations(Q),de=this._buffer.getOffsetAt(ee.startLineNumber,ee.startColumn),j=this._buffer.getOffsetAt(ee.endLineNumber,ee.endColumn);this._decorationsTree.delete(U),U.reset(this.getVersionId(),de,j,ee),this._decorationsTree.insert(U),this._onDidChangeDecorations.checkAffectedAndFire(U.options),U.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.endLineNumber),U.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.startLineNumber)}_changeDecorationOptionsImpl(K,Q){const U=this._decorations[K];if(!U)return;const ee=!!(U.options.overviewRuler&&U.options.overviewRuler.color),de=!!(Q.overviewRuler&&Q.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(U.options),this._onDidChangeDecorations.checkAffectedAndFire(Q),U.options.after||Q.after){const j=this._decorationsTree.getNodeRange(this,U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.endLineNumber)}if(U.options.before||Q.before){const j=this._decorationsTree.getNodeRange(this,U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.startLineNumber)}ee!==de?(this._decorationsTree.delete(U),U.setOptions(Q),this._decorationsTree.insert(U)):U.setOptions(Q)}_deltaDecorationsImpl(K,Q,U){const ee=this.getVersionId(),de=Q.length;let j=0;const ue=U.length;let X=0,q=new Array(ue);for(;j<de||X<ue;){let oe=null;if(j<de){do oe=this._decorations[Q[j++]];while(!oe&&j<de);if(oe){if(oe.options.after){const he=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(oe.options.before){const he=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}this._decorationsTree.delete(oe),this._onDidChangeDecorations.checkAffectedAndFire(oe.options)}}if(X<ue){if(!oe){const Te=++this._lastDecorationId,Ne=`${this._instanceId};${Te}`;oe=new h.IntervalNode(Ne,0,0),this._decorations[Ne]=oe}const he=U[X],ge=this._validateRangeRelaxedNoAllocations(he.range),pe=H(he.options),ve=this._buffer.getOffsetAt(ge.startLineNumber,ge.startColumn),Le=this._buffer.getOffsetAt(ge.endLineNumber,ge.endColumn);oe.ownerId=K,oe.reset(ee,ve,Le,ge),oe.setOptions(pe),oe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber),oe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(pe),this._decorationsTree.insert(oe),q[X]=oe.id,X++}else oe&&delete this._decorations[oe.id]}return q}setTokens(K,Q=!1){if(K.length!==0){let U=[];for(let ee=0,de=K.length;ee<de;ee++){const j=K[ee];let ue=0,X=0,q=!1;for(let oe=0,he=j.tokens.length;oe<he;oe++){const ge=j.startLineNumber+oe;q?(this._tokens.setTokens(this._languageIdentifier.id,ge-1,this._buffer.getLineLength(ge),j.tokens[oe],!1),X=ge):this._tokens.setTokens(this._languageIdentifier.id,ge-1,this._buffer.getLineLength(ge),j.tokens[oe],!0)&&(q=!0,ue=ge,X=ge)}q&&U.push({fromLineNumber:ue,toLineNumber:X})}U.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:U})}this.setBackgroundTokenizationState(Q?2:1)}setSemanticTokens(K,Q){this._tokens2.set(K,Q),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:K!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(K,Q){if(this.hasCompleteSemanticTokens())return;const U=this._tokens2.setPartial(K,Q);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:U.startLineNumber,toLineNumber:U.endLineNumber}]})}tokenizeViewport(K,Q){K=Math.max(1,K),Q=Math.min(this._buffer.getLineCount(),Q),this._tokenization.tokenizeViewport(K,Q)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(K){this._isDisposing||this._onDidChangeTokens.fire(K)}resetTokenization(){this._tokenization.reset()}forceTokenization(K){if(K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(K)}isCheapToTokenize(K){return this._tokenization.isCheapToTokenize(K)}tokenizeIfCheap(K){this.isCheapToTokenize(K)&&this.forceTokenization(K)}getLineTokens(K){if(K<1||K>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(K)}_getLineTokens(K){const Q=this.getLineContent(K),U=this._tokens.getTokens(this._languageIdentifier.id,K-1,Q);return this._tokens2.addSemanticTokens(K,U)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(K){if(this._languageIdentifier.id===K.id)return;let Q={oldLanguage:this._languageIdentifier.language,newLanguage:K.language};this._languageIdentifier=K,this._onDidChangeLanguage.fire(Q),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(K,Q){const U=this.validatePosition(new v.Position(K,Q)),ee=this.getLineTokens(U.lineNumber);return ee.getLanguageId(ee.findTokenIndexAtOffset(U.column-1))}getWordAtPosition(K){this._assertNotDisposed();const Q=this.validatePosition(K),U=this.getLineContent(Q.lineNumber),ee=this._getLineTokens(Q.lineNumber),de=ee.findTokenIndexAtOffset(Q.column-1),[j,ue]=x._findLanguageBoundaries(ee,de),X=(0,t.getWordAtText)(Q.column,o.LanguageConfigurationRegistry.getWordDefinition(ee.getLanguageId(de)),U.substring(j,ue),j);if(X&&X.startColumn<=K.column&&K.column<=X.endColumn)return X;if(de>0&&j===Q.column-1){const[q,oe]=x._findLanguageBoundaries(ee,de-1),he=(0,t.getWordAtText)(Q.column,o.LanguageConfigurationRegistry.getWordDefinition(ee.getLanguageId(de-1)),U.substring(q,oe),q);if(he&&he.startColumn<=K.column&&K.column<=he.endColumn)return he}return null}static _findLanguageBoundaries(K,Q){const U=K.getLanguageId(Q);let ee=0;for(let j=Q;j>=0&&K.getLanguageId(j)===U;j--)ee=K.getStartOffset(j);let de=K.getLineContent().length;for(let j=Q,ue=K.getCount();j<ue&&K.getLanguageId(j)===U;j++)de=K.getEndOffset(j);return[ee,de]}getWordUntilPosition(K){const Q=this.getWordAtPosition(K);return Q?{word:Q.word.substr(0,K.column-Q.startColumn),startColumn:Q.startColumn,endColumn:K.column}:{word:"",startColumn:K.column,endColumn:K.column}}findMatchingBracketUp(K,Q){let U=K.toLowerCase(),ee=this.validatePosition(Q),de=this._getLineTokens(ee.lineNumber),j=de.getLanguageId(de.findTokenIndexAtOffset(ee.column-1)),ue=o.LanguageConfigurationRegistry.getBracketsSupport(j);if(!ue)return null;let X=ue.textIsBracket[U];return X?E(this._findMatchingBracketUp(X,ee,null)):null}matchBracket(K){return this._matchBracket(this.validatePosition(K))}_establishBracketSearchOffsets(K,Q,U,ee){const de=Q.getCount(),j=Q.getLanguageId(ee);let ue=Math.max(0,K.column-1-U.maxBracketLength);for(let q=ee-1;q>=0;q--){const oe=Q.getEndOffset(q);if(oe<=ue)break;if((0,f.ignoreBracketsInToken)(Q.getStandardTokenType(q))||Q.getLanguageId(q)!==j){ue=oe;break}}let X=Math.min(Q.getLineContent().length,K.column-1+U.maxBracketLength);for(let q=ee+1;q<de;q++){const oe=Q.getStartOffset(q);if(oe>=X)break;if((0,f.ignoreBracketsInToken)(Q.getStandardTokenType(q))||Q.getLanguageId(q)!==j){X=oe;break}}return{searchStartOffset:ue,searchEndOffset:X}}_matchBracket(K){const Q=K.lineNumber,U=this._getLineTokens(Q),ee=this._buffer.getLineContent(Q),de=U.findTokenIndexAtOffset(K.column-1);if(de<0)return null;const j=o.LanguageConfigurationRegistry.getBracketsSupport(U.getLanguageId(de));if(j&&!(0,f.ignoreBracketsInToken)(U.getStandardTokenType(de))){let{searchStartOffset:ue,searchEndOffset:X}=this._establishBracketSearchOffsets(K,U,j,de),q=null;for(;;){const oe=y.BracketsUtils.findNextBracketInRange(j.forwardRegex,Q,ee,ue,X);if(!oe)break;if(oe.startColumn<=K.column&&K.column<=oe.endColumn){const he=ee.substring(oe.startColumn-1,oe.endColumn-1).toLowerCase(),ge=this._matchFoundBracket(oe,j.textIsBracket[he],j.textIsOpenBracket[he],null);if(ge){if(ge instanceof F)return null;q=ge}}ue=oe.endColumn-1}if(q)return q}if(de>0&&U.getStartOffset(de)===K.column-1){const ue=de-1,X=o.LanguageConfigurationRegistry.getBracketsSupport(U.getLanguageId(ue));if(X&&!(0,f.ignoreBracketsInToken)(U.getStandardTokenType(ue))){let{searchStartOffset:q,searchEndOffset:oe}=this._establishBracketSearchOffsets(K,U,X,ue);const he=y.BracketsUtils.findPrevBracketInRange(X.reversedRegex,Q,ee,q,oe);if(he&&he.startColumn<=K.column&&K.column<=he.endColumn){const ge=ee.substring(he.startColumn-1,he.endColumn-1).toLowerCase(),pe=this._matchFoundBracket(he,X.textIsBracket[ge],X.textIsOpenBracket[ge],null);if(pe)return pe instanceof F?null:pe}}}return null}_matchFoundBracket(K,Q,U,ee){if(!Q)return null;const de=U?this._findMatchingBracketDown(Q,K.getEndPosition(),ee):this._findMatchingBracketUp(Q,K.getStartPosition(),ee);return de?de instanceof F?de:[K,de]:null}_findMatchingBracketUp(K,Q,U){const ee=K.languageIdentifier.id,de=K.reversedRegex;let j=-1,ue=0;const X=(q,oe,he,ge)=>{for(;;){if(U&&++ue%100==0&&!U())return F.INSTANCE;const pe=y.BracketsUtils.findPrevBracketInRange(de,q,oe,he,ge);if(!pe)break;const ve=oe.substring(pe.startColumn-1,pe.endColumn-1).toLowerCase();if(K.isOpen(ve)?j++:K.isClose(ve)&&j--,j===0)return pe;ge=pe.startColumn-1}return null};for(let q=Q.lineNumber;q>=1;q--){const oe=this._getLineTokens(q),he=oe.getCount(),ge=this._buffer.getLineContent(q);let pe=he-1,ve=ge.length,Le=ge.length;q===Q.lineNumber&&(pe=oe.findTokenIndexAtOffset(Q.column-1),ve=Q.column-1,Le=Q.column-1);let Te=!0;for(;pe>=0;pe--){const Ne=oe.getLanguageId(pe)===ee&&!(0,f.ignoreBracketsInToken)(oe.getStandardTokenType(pe));if(Ne)Te?ve=oe.getStartOffset(pe):(ve=oe.getStartOffset(pe),Le=oe.getEndOffset(pe));else if(Te&&ve!==Le){const Ae=X(q,ge,ve,Le);if(Ae)return Ae}Te=Ne}if(Te&&ve!==Le){const Ne=X(q,ge,ve,Le);if(Ne)return Ne}}return null}_findMatchingBracketDown(K,Q,U){const ee=K.languageIdentifier.id,de=K.forwardRegex;let j=1,ue=0;const X=(oe,he,ge,pe)=>{for(;;){if(U&&++ue%100==0&&!U())return F.INSTANCE;const ve=y.BracketsUtils.findNextBracketInRange(de,oe,he,ge,pe);if(!ve)break;const Le=he.substring(ve.startColumn-1,ve.endColumn-1).toLowerCase();if(K.isOpen(Le)?j++:K.isClose(Le)&&j--,j===0)return ve;ge=ve.endColumn-1}return null},q=this.getLineCount();for(let oe=Q.lineNumber;oe<=q;oe++){const he=this._getLineTokens(oe),ge=he.getCount(),pe=this._buffer.getLineContent(oe);let ve=0,Le=0,Te=0;oe===Q.lineNumber&&(ve=he.findTokenIndexAtOffset(Q.column-1),Le=Q.column-1,Te=Q.column-1);let Ne=!0;for(;ve<ge;ve++){const Ae=he.getLanguageId(ve)===ee&&!(0,f.ignoreBracketsInToken)(he.getStandardTokenType(ve));if(Ae)Ne||(Le=he.getStartOffset(ve)),Te=he.getEndOffset(ve);else if(Ne&&Le!==Te){const Oe=X(oe,pe,Le,Te);if(Oe)return Oe}Ne=Ae}if(Ne&&Le!==Te){const Ae=X(oe,pe,Le,Te);if(Ae)return Ae}}return null}findPrevBracket(K){const Q=this.validatePosition(K);let U=-1,ee=null;for(let de=Q.lineNumber;de>=1;de--){const j=this._getLineTokens(de),ue=j.getCount(),X=this._buffer.getLineContent(de);let q=ue-1,oe=X.length,he=X.length;if(de===Q.lineNumber){q=j.findTokenIndexAtOffset(Q.column-1),oe=Q.column-1,he=Q.column-1;const pe=j.getLanguageId(q);U!==pe&&(U=pe,ee=o.LanguageConfigurationRegistry.getBracketsSupport(U))}let ge=!0;for(;q>=0;q--){const pe=j.getLanguageId(q);if(U!==pe){if(ee&&ge&&oe!==he){const Le=y.BracketsUtils.findPrevBracketInRange(ee.reversedRegex,de,X,oe,he);if(Le)return this._toFoundBracket(ee,Le);ge=!1}U=pe,ee=o.LanguageConfigurationRegistry.getBracketsSupport(U)}const ve=!!ee&&!(0,f.ignoreBracketsInToken)(j.getStandardTokenType(q));if(ve)ge?oe=j.getStartOffset(q):(oe=j.getStartOffset(q),he=j.getEndOffset(q));else if(ee&&ge&&oe!==he){const Le=y.BracketsUtils.findPrevBracketInRange(ee.reversedRegex,de,X,oe,he);if(Le)return this._toFoundBracket(ee,Le)}ge=ve}if(ee&&ge&&oe!==he){const pe=y.BracketsUtils.findPrevBracketInRange(ee.reversedRegex,de,X,oe,he);if(pe)return this._toFoundBracket(ee,pe)}}return null}findNextBracket(K){const Q=this.validatePosition(K),U=this.getLineCount();let ee=-1,de=null;for(let j=Q.lineNumber;j<=U;j++){const ue=this._getLineTokens(j),X=ue.getCount(),q=this._buffer.getLineContent(j);let oe=0,he=0,ge=0;if(j===Q.lineNumber){oe=ue.findTokenIndexAtOffset(Q.column-1),he=Q.column-1,ge=Q.column-1;const ve=ue.getLanguageId(oe);ee!==ve&&(ee=ve,de=o.LanguageConfigurationRegistry.getBracketsSupport(ee))}let pe=!0;for(;oe<X;oe++){const ve=ue.getLanguageId(oe);if(ee!==ve){if(de&&pe&&he!==ge){const Te=y.BracketsUtils.findNextBracketInRange(de.forwardRegex,j,q,he,ge);if(Te)return this._toFoundBracket(de,Te);pe=!1}ee=ve,de=o.LanguageConfigurationRegistry.getBracketsSupport(ee)}const Le=!!de&&!(0,f.ignoreBracketsInToken)(ue.getStandardTokenType(oe));if(Le)pe||(he=ue.getStartOffset(oe)),ge=ue.getEndOffset(oe);else if(de&&pe&&he!==ge){const Te=y.BracketsUtils.findNextBracketInRange(de.forwardRegex,j,q,he,ge);if(Te)return this._toFoundBracket(de,Te)}pe=Le}if(de&&pe&&he!==ge){const ve=y.BracketsUtils.findNextBracketInRange(de.forwardRegex,j,q,he,ge);if(ve)return this._toFoundBracket(de,ve)}}return null}findEnclosingBrackets(K,Q){let U;if(typeof Q=="undefined")U=null;else{const pe=Date.now();U=()=>Date.now()-pe<=Q}const ee=this.validatePosition(K),de=this.getLineCount(),j=new Map;let ue=[];const X=(pe,ve)=>{if(!j.has(pe)){let Le=[];for(let Te=0,Ne=ve?ve.brackets.length:0;Te<Ne;Te++)Le[Te]=0;j.set(pe,Le)}ue=j.get(pe)};let q=0;const oe=(pe,ve,Le,Te,Ne)=>{for(;;){if(U&&++q%100==0&&!U())return F.INSTANCE;const Ae=y.BracketsUtils.findNextBracketInRange(pe.forwardRegex,ve,Le,Te,Ne);if(!Ae)break;const Oe=Le.substring(Ae.startColumn-1,Ae.endColumn-1).toLowerCase(),We=pe.textIsBracket[Oe];if(We&&(We.isOpen(Oe)?ue[We.index]++:We.isClose(Oe)&&ue[We.index]--,ue[We.index]===-1))return this._matchFoundBracket(Ae,We,!1,U);Te=Ae.endColumn-1}return null};let he=-1,ge=null;for(let pe=ee.lineNumber;pe<=de;pe++){const ve=this._getLineTokens(pe),Le=ve.getCount(),Te=this._buffer.getLineContent(pe);let Ne=0,Ae=0,Oe=0;if(pe===ee.lineNumber){Ne=ve.findTokenIndexAtOffset(ee.column-1),Ae=ee.column-1,Oe=ee.column-1;const Ve=ve.getLanguageId(Ne);he!==Ve&&(he=Ve,ge=o.LanguageConfigurationRegistry.getBracketsSupport(he),X(he,ge))}let We=!0;for(;Ne<Le;Ne++){const Ve=ve.getLanguageId(Ne);if(he!==Ve){if(ge&&We&&Ae!==Oe){const Ye=oe(ge,pe,Te,Ae,Oe);if(Ye)return E(Ye);We=!1}he=Ve,ge=o.LanguageConfigurationRegistry.getBracketsSupport(he),X(he,ge)}const Ke=!!ge&&!(0,f.ignoreBracketsInToken)(ve.getStandardTokenType(Ne));if(Ke)We||(Ae=ve.getStartOffset(Ne)),Oe=ve.getEndOffset(Ne);else if(ge&&We&&Ae!==Oe){const Ye=oe(ge,pe,Te,Ae,Oe);if(Ye)return E(Ye)}We=Ke}if(ge&&We&&Ae!==Oe){const Ve=oe(ge,pe,Te,Ae,Oe);if(Ve)return E(Ve)}}return null}_toFoundBracket(K,Q){if(!Q)return null;let U=this.getValueInRange(Q);U=U.toLowerCase();let ee=K.textIsBracket[U];return ee?{range:Q,open:ee.open,close:ee.close,isOpen:K.textIsOpenBracket[U]}:null}static computeIndentLevel(K,Q){let U=0,ee=0,de=K.length;for(;ee<de;){let j=K.charCodeAt(ee);if(j===32)U++;else if(j===9)U=U-U%Q+Q;else break;ee++}return ee===de?-1:U}_computeIndentLevel(K){return x.computeIndentLevel(this._buffer.getLineContent(K+1),this._options.tabSize)}getActiveIndentGuide(K,Q,U){this._assertNotDisposed();const ee=this.getLineCount();if(K<1||K>ee)throw new Error("Illegal value for lineNumber");const de=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),j=Boolean(de&&de.offSide);let ue=-2,X=-1,q=-2,oe=-1;const he=Ye=>{if(ue!==-1&&(ue===-2||ue>Ye-1)){ue=-1,X=-1;for(let be=Ye-2;be>=0;be--){let _e=this._computeIndentLevel(be);if(_e>=0){ue=be,X=_e;break}}}if(q===-2){q=-1,oe=-1;for(let be=Ye;be<ee;be++){let _e=this._computeIndentLevel(be);if(_e>=0){q=be,oe=_e;break}}}};let ge=-2,pe=-1,ve=-2,Le=-1;const Te=Ye=>{if(ge===-2){ge=-1,pe=-1;for(let be=Ye-2;be>=0;be--){let _e=this._computeIndentLevel(be);if(_e>=0){ge=be,pe=_e;break}}}if(ve!==-1&&(ve===-2||ve<Ye-1)){ve=-1,Le=-1;for(let be=Ye;be<ee;be++){let _e=this._computeIndentLevel(be);if(_e>=0){ve=be,Le=_e;break}}}};let Ne=0,Ae=!0,Oe=0,We=!0,Ve=0,Ke=0;for(let Ye=0;Ae||We;Ye++){const be=K-Ye,_e=K+Ye;Ye>1&&(be<1||be<Q)&&(Ae=!1),Ye>1&&(_e>ee||_e>U)&&(We=!1),Ye>5e4&&(Ae=!1,We=!1);let Me=-1;if(Ae){const Fe=this._computeIndentLevel(be-1);Fe>=0?(q=be-1,oe=Fe,Me=Math.ceil(Fe/this._options.indentSize)):(he(be),Me=this._getIndentLevelForWhitespaceLine(j,X,oe))}let ze=-1;if(We){const Fe=this._computeIndentLevel(_e-1);Fe>=0?(ge=_e-1,pe=Fe,ze=Math.ceil(Fe/this._options.indentSize)):(Te(_e),ze=this._getIndentLevelForWhitespaceLine(j,pe,Le))}if(Ye===0){Ke=Me;continue}if(Ye===1){if(_e<=ee&&ze>=0&&Ke+1===ze){Ae=!1,Ne=_e,Oe=_e,Ve=ze;continue}if(be>=1&&Me>=0&&Me-1===Ke){We=!1,Ne=be,Oe=be,Ve=Me;continue}if(Ne=K,Oe=K,Ve=Ke,Ve===0)return{startLineNumber:Ne,endLineNumber:Oe,indent:Ve}}Ae&&(Me>=Ve?Ne=be:Ae=!1),We&&(ze>=Ve?Oe=_e:We=!1)}return{startLineNumber:Ne,endLineNumber:Oe,indent:Ve}}getLinesIndentGuides(K,Q){this._assertNotDisposed();const U=this.getLineCount();if(K<1||K>U)throw new Error("Illegal value for startLineNumber");if(Q<1||Q>U)throw new Error("Illegal value for endLineNumber");const ee=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),de=Boolean(ee&&ee.offSide);let j=new Array(Q-K+1),ue=-2,X=-1,q=-2,oe=-1;for(let he=K;he<=Q;he++){let ge=he-K;const pe=this._computeIndentLevel(he-1);if(pe>=0){ue=he-1,X=pe,j[ge]=Math.ceil(pe/this._options.indentSize);continue}if(ue===-2){ue=-1,X=-1;for(let ve=he-2;ve>=0;ve--){let Le=this._computeIndentLevel(ve);if(Le>=0){ue=ve,X=Le;break}}}if(q!==-1&&(q===-2||q<he-1)){q=-1,oe=-1;for(let ve=he;ve<U;ve++){let Le=this._computeIndentLevel(ve);if(Le>=0){q=ve,oe=Le;break}}}j[ge]=this._getIndentLevelForWhitespaceLine(de,X,oe)}return j}_getIndentLevelForWhitespaceLine(K,Q,U){return Q===-1||U===-1?0:Q<U?1+Math.floor(Q/this._options.indentSize):Q===U?Math.ceil(U/this._options.indentSize):K?Math.ceil(U/this._options.indentSize):1+Math.floor(U/this._options.indentSize)}normalizePosition(K,Q){return K}getLineIndentColumn(K){return W(this.getLineContent(K))+1}}e.TextModel=x,x.MODEL_SYNC_LIMIT=50*1024*1024,x.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,x.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,x.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:p.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:p.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:p.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions};function W(ce){let K=0;for(const Q of ce)if(Q===" "||Q==="	")K++;else break;return K}function G(ce){return!!(ce.options.overviewRuler&&ce.options.overviewRuler.color)}function Y(ce){return!!ce.options.after||!!ce.options.before}class se{constructor(){this._decorationsTree0=new h.IntervalTree,this._decorationsTree1=new h.IntervalTree,this._injectedTextDecorationsTree=new h.IntervalTree}ensureAllNodesHaveRanges(K){this.getAll(K,0,!1,!1)}_ensureNodesHaveRanges(K,Q){for(const U of Q)U.range===null&&(U.range=K.getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd));return Q}getAllInInterval(K,Q,U,ee,de){const j=K.getVersionId(),ue=this._intervalSearch(Q,U,ee,de,j);return this._ensureNodesHaveRanges(K,ue)}_intervalSearch(K,Q,U,ee,de){const j=this._decorationsTree0.intervalSearch(K,Q,U,ee,de),ue=this._decorationsTree1.intervalSearch(K,Q,U,ee,de),X=this._injectedTextDecorationsTree.intervalSearch(K,Q,U,ee,de);return j.concat(ue).concat(X)}getInjectedTextInInterval(K,Q,U,ee){const de=K.getVersionId(),j=this._injectedTextDecorationsTree.intervalSearch(Q,U,ee,!1,de);return this._ensureNodesHaveRanges(K,j)}getAllInjectedText(K,Q){const U=K.getVersionId(),ee=this._injectedTextDecorationsTree.search(Q,!1,U);return this._ensureNodesHaveRanges(K,ee)}getAll(K,Q,U,ee){const de=K.getVersionId(),j=this._search(Q,U,ee,de);return this._ensureNodesHaveRanges(K,j)}_search(K,Q,U,ee){if(U)return this._decorationsTree1.search(K,Q,ee);{const de=this._decorationsTree0.search(K,Q,ee),j=this._decorationsTree1.search(K,Q,ee),ue=this._injectedTextDecorationsTree.search(K,Q,ee);return de.concat(j).concat(ue)}}collectNodesFromOwner(K){const Q=this._decorationsTree0.collectNodesFromOwner(K),U=this._decorationsTree1.collectNodesFromOwner(K),ee=this._injectedTextDecorationsTree.collectNodesFromOwner(K);return Q.concat(U).concat(ee)}collectNodesPostOrder(){const K=this._decorationsTree0.collectNodesPostOrder(),Q=this._decorationsTree1.collectNodesPostOrder(),U=this._injectedTextDecorationsTree.collectNodesPostOrder();return K.concat(Q).concat(U)}insert(K){Y(K)?this._injectedTextDecorationsTree.insert(K):G(K)?this._decorationsTree1.insert(K):this._decorationsTree0.insert(K)}delete(K){Y(K)?this._injectedTextDecorationsTree.delete(K):G(K)?this._decorationsTree1.delete(K):this._decorationsTree0.delete(K)}getNodeRange(K,Q){const U=K.getVersionId();return Q.cachedVersionId!==U&&this._resolveNode(Q,U),Q.range===null&&(Q.range=K.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd)),Q.range}_resolveNode(K,Q){Y(K)?this._injectedTextDecorationsTree.resolveNode(K,Q):G(K)?this._decorationsTree1.resolveNode(K,Q):this._decorationsTree0.resolveNode(K,Q)}acceptReplace(K,Q,U,ee){this._decorationsTree0.acceptReplace(K,Q,U,ee),this._decorationsTree1.acceptReplace(K,Q,U,ee),this._injectedTextDecorationsTree.acceptReplace(K,Q,U,ee)}}function re(ce){return ce.replace(/[^a-z0-9\-_]/gi," ")}class J{constructor(K){this.color=K.color||"",this.darkColor=K.darkColor||""}}class le extends J{constructor(K){super(K);this._resolvedColor=null,this.position=typeof K.position=="number"?K.position:s.OverviewRulerLane.Center}getColor(K){return this._resolvedColor||(K.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,K):this._resolvedColor=this._resolveColor(this.color,K)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(K,Q){if(typeof K=="string")return K;let U=K?Q.getColor(K.id):null;return U?U.toString():""}}e.ModelDecorationOverviewRulerOptions=le;class ae extends J{constructor(K){super(K);this.position=K.position}getColor(K){return this._resolvedColor||(K.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,K):this._resolvedColor=this._resolveColor(this.color,K)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(K,Q){return typeof K=="string"?g.Color.fromHex(K):Q.getColor(K.id)}}e.ModelDecorationMinimapOptions=ae;class V{constructor(K){this.content=K.content||"",this.inlineClassName=K.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=K.inlineClassNameAffectsLetterSpacing||!1}static from(K){return K instanceof V?K:new V(K)}}e.ModelDecorationInjectedTextOptions=V;class B{constructor(K){this.description=K.description,this.stickiness=K.stickiness||0,this.zIndex=K.zIndex||0,this.className=K.className?re(K.className):null,this.hoverMessage=K.hoverMessage||null,this.glyphMarginHoverMessage=K.glyphMarginHoverMessage||null,this.isWholeLine=K.isWholeLine||!1,this.showIfCollapsed=K.showIfCollapsed||!1,this.collapseOnReplaceEdit=K.collapseOnReplaceEdit||!1,this.overviewRuler=K.overviewRuler?new le(K.overviewRuler):null,this.minimap=K.minimap?new ae(K.minimap):null,this.glyphMarginClassName=K.glyphMarginClassName?re(K.glyphMarginClassName):null,this.linesDecorationsClassName=K.linesDecorationsClassName?re(K.linesDecorationsClassName):null,this.firstLineDecorationClassName=K.firstLineDecorationClassName?re(K.firstLineDecorationClassName):null,this.marginClassName=K.marginClassName?re(K.marginClassName):null,this.inlineClassName=K.inlineClassName?re(K.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=K.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=K.beforeContentClassName?re(K.beforeContentClassName):null,this.afterContentClassName=K.afterContentClassName?re(K.afterContentClassName):null,this.after=K.after?V.from(K.after):null,this.before=K.before?V.from(K.before):null}static register(K){return new B(K)}static createDynamic(K){return new B(K)}}e.ModelDecorationOptions=B,B.EMPTY=B.register({description:"empty"});const Z=[B.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),B.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),B.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),B.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function H(ce){return ce instanceof B?ce:B.createDynamic(ce)}class z extends I.Disposable{constructor(K){super();this.handleBeforeFire=K,this._actual=this._register(new N.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var K;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const Q={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(Q)}(K=this._affectedInjectedTextLines)===null||K===void 0||K.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(K){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(K)}checkAffectedAndFire(K){this._affectsMinimap||(this._affectsMinimap=!!(K.minimap&&K.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(K.overviewRuler&&K.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=z;class ie extends I.Disposable{constructor(){super();this._fastEmitter=this._register(new N.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new N.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(K=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=K;const Q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(Q),this._slowEmitter.fire(Q)}}fire(K){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(K):this._deferredEvent=K;return}this._fastEmitter.fire(K),this._slowEmitter.fire(K)}}e.DidChangeContentEmitter=ie}),define(te[42],ne([0,1,10,8,13,3,21,31,36]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const i=()=>!0,C=()=>!1,s=c=>c===" "||c==="	";class a{constructor(f,y,b){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=f;const g=b.options,m=g.get(130);this.readOnly=g.get(80),this.tabSize=y.tabSize,this.indentSize=y.indentSize,this.insertSpaces=y.insertSpaces,this.stickyTabStops=g.get(104),this.lineHeight=g.get(58),this.pageSize=Math.max(1,Math.floor(m.height/this.lineHeight)-2),this.useTabStops=g.get(115),this.wordSeparators=g.get(116),this.emptySelectionClipboard=g.get(31),this.copyWithSyntaxHighlighting=g.get(20),this.multiCursorMergeOverlapping=g.get(68),this.multiCursorPaste=g.get(70),this.autoClosingBrackets=g.get(5),this.autoClosingQuotes=g.get(8),this.autoClosingDelete=g.get(6),this.autoClosingOvertype=g.get(7),this.autoSurround=g.get(11),this.autoIndent=g.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:a._getShouldAutoClose(f,this.autoClosingQuotes),bracket:a._getShouldAutoClose(f,this.autoClosingBrackets)},this.autoClosingPairs=v.LanguageConfigurationRegistry.getAutoClosingPairs(f.id);let w=a._getSurroundingPairs(f);if(w)for(const D of w)this.surroundingPairs[D.open]=D.close}static shouldRecreate(f){return f.hasChanged(130)||f.hasChanged(116)||f.hasChanged(31)||f.hasChanged(68)||f.hasChanged(70)||f.hasChanged(5)||f.hasChanged(8)||f.hasChanged(6)||f.hasChanged(7)||f.hasChanged(11)||f.hasChanged(115)||f.hasChanged(58)||f.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let f=a._getElectricCharacters(this._languageIdentifier);if(f)for(const y of f)this._electricChars[y]=!0}return this._electricChars}normalizeIndentation(f){return p.TextModel.normalizeIndentation(f,this.indentSize,this.insertSpaces)}static _getElectricCharacters(f){try{return v.LanguageConfigurationRegistry.getElectricCharacters(f.id)}catch(y){return(0,_.onUnexpectedError)(y),null}}static _getShouldAutoClose(f,y){switch(y){case"beforeWhitespace":return s;case"languageDefined":return a._getLanguageDefinedShouldAutoClose(f);case"always":return i;case"never":return C}}static _getLanguageDefinedShouldAutoClose(f){try{const y=v.LanguageConfigurationRegistry.getAutoCloseBeforeSet(f.id);return b=>y.indexOf(b)!==-1}catch(y){return(0,_.onUnexpectedError)(y),C}}static _getSurroundingPairs(f){try{return v.LanguageConfigurationRegistry.getSurroundingPairs(f.id)}catch(y){return(0,_.onUnexpectedError)(y),null}}}e.CursorConfiguration=a;class u{constructor(f,y,b,g){this._singleCursorStateBrand=void 0,this.selectionStart=f,this.selectionStartLeftoverVisibleColumns=y,this.position=b,this.leftoverVisibleColumns=g,this.selection=u._computeSelection(this.selectionStart,this.position)}equals(f){return this.selectionStartLeftoverVisibleColumns===f.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===f.leftoverVisibleColumns&&this.position.equals(f.position)&&this.selectionStart.equalsRange(f.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(f,y,b,g){return f?new u(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new I.Position(y,b),g):new u(new L.Range(y,b,y,b),g,new I.Position(y,b),g)}static _computeSelection(f,y){let b,g,m,w;return f.isEmpty()?(b=f.startLineNumber,g=f.startColumn,m=y.lineNumber,w=y.column):y.isBeforeOrEqual(f.getStartPosition())?(b=f.endLineNumber,g=f.endColumn,m=y.lineNumber,w=y.column):(b=f.startLineNumber,g=f.startColumn,m=y.lineNumber,w=y.column),new S.Selection(b,g,m,w)}}e.SingleCursorState=u;class h{constructor(f,y,b,g){this._cursorContextBrand=void 0,this.model=f,this.viewModel=y,this.coordinatesConverter=b,this.cursorConfig=g}}e.CursorContext=h;class d{constructor(f){this.modelState=f,this.viewState=null}}e.PartialModelCursorState=d;class r{constructor(f){this.modelState=null,this.viewState=f}}e.PartialViewCursorState=r;class n{constructor(f,y){this._cursorStateBrand=void 0,this.modelState=f,this.viewState=y}static fromModelState(f){return new d(f)}static fromViewState(f){return new r(f)}static fromModelSelection(f){const y=f.selectionStartLineNumber,b=f.selectionStartColumn,g=f.positionLineNumber,m=f.positionColumn,w=new u(new L.Range(y,b,y,b),0,new I.Position(g,m),0);return n.fromModelState(w)}static fromModelSelections(f){let y=[];for(let b=0,g=f.length;b<g;b++)y[b]=this.fromModelSelection(f[b]);return y}equals(f){return this.viewState.equals(f.viewState)&&this.modelState.equals(f.modelState)}}e.CursorState=n;class l{constructor(f,y,b){this._editOperationResultBrand=void 0,this.type=f,this.commands=y,this.shouldPushStackElementBefore=b.shouldPushStackElementBefore,this.shouldPushStackElementAfter=b.shouldPushStackElementAfter}}e.EditOperationResult=l;class t{static visibleColumnFromColumn(f,y,b){const g=f.length,m=y-1<g?y-1:g;let w=0,D=0;for(;D<m;){const k=N.getNextCodePoint(f,m,D);if(D+=k>=65536?2:1,k===9)w=t.nextRenderTabStop(w,b);else{let T=N.getGraphemeBreakType(k);for(;D<m;){const R=N.getNextCodePoint(f,m,D),M=N.getGraphemeBreakType(R);if(N.breakBetweenGraphemeBreakType(T,M))break;D+=R>=65536?2:1,T=M}N.isFullWidthCharacter(k)||N.isEmojiImprecise(k)?w=w+2:w=w+1}}return w}static visibleColumnsByColumns(f,y){const b=f.length;let g=new Array;g.push(-1);let m=0,w=0;for(;w<b;){const D=N.getNextCodePoint(f,b,w);if(w+=D>=65536?2:1,g.push(m),D>=65536&&g.push(m),D===9)m=t.nextRenderTabStop(m,y);else{let k=N.getGraphemeBreakType(D);for(;w<b;){const T=N.getNextCodePoint(f,b,w),R=N.getGraphemeBreakType(T);if(N.breakBetweenGraphemeBreakType(k,R))break;w+=T>=65536?2:1,g.push(m),D>=65536&&g.push(m),k=R}N.isFullWidthCharacter(D)||N.isEmojiImprecise(D)?m=m+2:m=m+1}}return g.push(m),g}static visibleColumnFromColumn2(f,y,b){return this.visibleColumnFromColumn(y.getLineContent(b.lineNumber),b.column,f.tabSize)}static columnFromVisibleColumn(f,y,b){if(y<=0)return 1;const g=f.length;let m=0,w=1,D=0;for(;D<g;){const k=N.getNextCodePoint(f,g,D);D+=k>=65536?2:1;let T;if(k===9)T=t.nextRenderTabStop(m,b);else{let M=N.getGraphemeBreakType(k);for(;D<g;){const A=N.getNextCodePoint(f,g,D),O=N.getGraphemeBreakType(A);if(N.breakBetweenGraphemeBreakType(M,O))break;D+=A>=65536?2:1,M=O}N.isFullWidthCharacter(k)||N.isEmojiImprecise(k)?T=m+2:T=m+1}const R=D+1;if(T>=y){const M=y-m;return T-y<M?R:w}m=T,w=R}return g+1}static columnFromVisibleColumn2(f,y,b,g){let m=this.columnFromVisibleColumn(y.getLineContent(b),g,f.tabSize),w=y.getLineMinColumn(b);if(m<w)return w;let D=y.getLineMaxColumn(b);return m>D?D:m}static nextRenderTabStop(f,y){return f+y-f%y}static nextIndentTabStop(f,y){return f+y-f%y}static prevRenderTabStop(f,y){return Math.max(0,f-1-(f-1)%y)}static prevIndentTabStop(f,y){return Math.max(0,f-1-(f-1)%y)}}e.CursorColumns=t;function o(c){return c==="'"||c==='"'||c==="`"}e.isQuote=o}),define(te[191],ne([0,1,8,42,3,21,36]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const p=Object.create(null);function v(C,s){if(s<=0)return"";p[C]||(p[C]=["",C]);const a=p[C];for(let u=a.length;u<=s;u++)a[u]=a[u-1]+C;return a[s]}e.cachedStringRepeat=v;class i{constructor(s,a){this._opts=a,this._selection=s,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(s,a,u,h,d){const r=N.CursorColumns.visibleColumnFromColumn(s,a,u);if(d){const n=v(" ",h),t=N.CursorColumns.prevIndentTabStop(r,h)/h;return v(n,t)}else{const n="	",t=N.CursorColumns.prevRenderTabStop(r,u)/u;return v(n,t)}}static shiftIndent(s,a,u,h,d){const r=N.CursorColumns.visibleColumnFromColumn(s,a,u);if(d){const n=v(" ",h),t=N.CursorColumns.nextIndentTabStop(r,h)/h;return v(n,t)}else{const n="	",t=N.CursorColumns.nextRenderTabStop(r,u)/u;return v(n,t)}}_addEditOperation(s,a,u){this._useLastEditRangeForCursorEndPosition?s.addTrackedEditOperation(a,u):s.addEditOperation(a,u)}getEditOperations(s,a){const u=this._selection.startLineNumber;let h=this._selection.endLineNumber;this._selection.endColumn===1&&u!==h&&(h=h-1);const{tabSize:d,indentSize:r,insertSpaces:n}=this._opts,l=u===h;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(s.getLineContent(u))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,o=0;for(let c=u;c<=h;c++,t=o){o=0;let f=s.getLineContent(c),y=_.firstNonWhitespaceIndex(f);if(this._opts.isUnshift&&(f.length===0||y===0)||!l&&!this._opts.isUnshift&&f.length===0)continue;if(y===-1&&(y=f.length),c>1&&N.CursorColumns.visibleColumnFromColumn(f,y+1,d)%r!=0&&s.isCheapToTokenize(c-1)){let m=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,s,new I.Range(c-1,s.getLineMaxColumn(c-1),c-1,s.getLineMaxColumn(c-1)));if(m){if(o=t,m.appendText)for(let w=0,D=m.appendText.length;w<D&&o<r&&m.appendText.charCodeAt(w)===32;w++)o++;m.removeText&&(o=Math.max(0,o-m.removeText));for(let w=0;w<o&&!(y===0||f.charCodeAt(y-1)!==32);w++)y--}}if(this._opts.isUnshift&&y===0)continue;let b;this._opts.isUnshift?b=i.unshiftIndent(f,y+1,d,r,n):b=i.shiftIndent(f,y+1,d,r,n),this._addEditOperation(a,new I.Range(c,1,c,y+1),b),c===u&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=y+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&s.getLineLength(u)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?v(" ",r):"	";for(let o=u;o<=h;o++){const c=s.getLineContent(o);let f=_.firstNonWhitespaceIndex(c);if(!(this._opts.isUnshift&&(c.length===0||f===0))&&!(!l&&!this._opts.isUnshift&&c.length===0)&&(f===-1&&(f=c.length),!(this._opts.isUnshift&&f===0)))if(this._opts.isUnshift){f=Math.min(f,r);for(let y=0;y<f;y++)if(c.charCodeAt(y)===9){f=y+1;break}this._addEditOperation(a,new I.Range(o,1,o,f+1),"")}else this._addEditOperation(a,new I.Range(o,1,o,1),t),o===u&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=a.trackSelection(this._selection)}computeCursorState(s,a){if(this._useLastEditRangeForCursorEndPosition){let h=a.getInverseEditOperations()[0];return new L.Selection(h.range.endLineNumber,h.range.endColumn,h.range.endLineNumber,h.range.endColumn)}const u=a.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let h=this._selection.startColumn;return u.startColumn<=h?u:u.getDirection()===0?new L.Selection(u.startLineNumber,h,u.endLineNumber,u.endColumn):new L.Selection(u.endLineNumber,u.endColumn,u.startLineNumber,h)}return u}}e.ShiftCommand=i}),define(te[264],ne([0,1,42]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class N{static whitespaceVisibleColumn(L,S,p){const v=L.length;let i=0,C=-1,s=-1;for(let a=0;a<v;a++){if(a===S)return[C,s,i];switch(i%p==0&&(C=a,s=i),L.charCodeAt(a)){case 32:i+=1;break;case 9:i=_.CursorColumns.nextRenderTabStop(i,p);break;default:return[-1,-1,-1]}}return S===v?[C,s,i]:[-1,-1,-1]}static atomicPosition(L,S,p,v){const i=L.length,[C,s,a]=N.whitespaceVisibleColumn(L,S,p);if(a===-1)return-1;let u;switch(v){case 0:u=!0;break;case 1:u=!1;break;case 2:if(a%p==0)return S;u=a%p<=p/2;break}if(u){if(C===-1)return-1;let r=s;for(let n=C;n<i;++n){if(r===s+p)return C;switch(L.charCodeAt(n)){case 32:r+=1;break;case 9:r=_.CursorColumns.nextRenderTabStop(r,p);break;default:return-1}}return r===s+p?C:-1}const h=_.CursorColumns.nextRenderTabStop(a,p);let d=a;for(let r=S;r<i;r++){if(d===h)return r;switch(L.charCodeAt(r)){case 32:d+=1;break;case 9:d=_.CursorColumns.nextRenderTabStop(d,p);break;default:return-1}}return d===h?i:-1}}e.AtomicTabMoveOperations=N}),define(te[192],ne([0,1,169,48,262,13,3,42,7,264]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class C{constructor(g=null){this.hitTarget=g,this.type=0}}class s{constructor(g,m,w){this.position=g,this.spanNode=m,this.injectedText=w,this.type=1}}var a;(function(b){function g(m,w,D){const k=m.getPositionFromDOMInfo(w,D);return k?new s(k,w,null):new C(w)}b.createFromDOMInfo=g})(a||(a={}));class u{constructor(g,m){this.lastViewCursorsRenderData=g,this.lastTextareaPosition=m}}e.PointerHandlerLastRenderData=u;class h{constructor(g,m,w=0,D=null,k=null,T=null){this.element=g,this.type=m,this.mouseColumn=w,this.position=D,!k&&D&&(k=new S.Range(D.lineNumber,D.column,D.lineNumber,D.column)),this.range=k,this.detail=T}static _typeToString(g){return g===1?"TEXTAREA":g===2?"GUTTER_GLYPH_MARGIN":g===3?"GUTTER_LINE_NUMBERS":g===4?"GUTTER_LINE_DECORATIONS":g===5?"GUTTER_VIEW_ZONE":g===6?"CONTENT_TEXT":g===7?"CONTENT_EMPTY":g===8?"CONTENT_VIEW_ZONE":g===9?"CONTENT_WIDGET":g===10?"OVERVIEW_RULER":g===11?"SCROLLBAR":g===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(g){return this._typeToString(g.type)+": "+g.position+" - "+g.range+" - "+g.detail}toString(){return h.toString(this)}}e.MouseTarget=h;class d{static isTextArea(g){return g.length===2&&g[0]===3&&g[1]===6}static isChildOfViewLines(g){return g.length>=4&&g[0]===3&&g[3]===7}static isStrictChildOfViewLines(g){return g.length>4&&g[0]===3&&g[3]===7}static isChildOfScrollableElement(g){return g.length>=2&&g[0]===3&&g[1]===5}static isChildOfMinimap(g){return g.length>=2&&g[0]===3&&g[1]===8}static isChildOfContentWidgets(g){return g.length>=4&&g[0]===3&&g[3]===1}static isChildOfOverflowingContentWidgets(g){return g.length>=1&&g[0]===2}static isChildOfOverlayWidgets(g){return g.length>=2&&g[0]===3&&g[1]===4}}class r{constructor(g,m,w){this.model=g.model;const D=g.configuration.options;this.layoutInfo=D.get(130),this.viewDomNode=m.viewDomNode,this.lineHeight=D.get(58),this.stickyTabStops=D.get(104),this.typicalHalfwidthCharacterWidth=D.get(42).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=g,this._viewHelper=m}getZoneAtCoord(g){return r.getZoneAtCoord(this._context,g)}static getZoneAtCoord(g,m){const w=g.viewLayout.getWhitespaceAtVerticalOffset(m);if(w){const D=w.verticalOffset+w.height/2,k=g.model.getLineCount();let T=null,R,M=null;return w.afterLineNumber!==k&&(M=new L.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(T=new L.Position(w.afterLineNumber,g.model.getLineMaxColumn(w.afterLineNumber))),M===null?R=T:T===null?R=M:m<D?R=T:R=M,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:T,positionAfter:M,position:R}}return null}getFullLineRangeAtCoord(g){if(this._context.viewLayout.isAfterLines(g)){const D=this._context.model.getLineCount(),k=this._context.model.getLineMaxColumn(D);return{range:new S.Range(D,k,D,k),isAfterLines:!0}}const m=this._context.viewLayout.getLineNumberAtVerticalOffset(g),w=this._context.model.getLineMaxColumn(m);return{range:new S.Range(m,1,m,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(g){return this._context.viewLayout.getLineNumberAtVerticalOffset(g)}isAfterLines(g){return this._context.viewLayout.isAfterLines(g)}isInTopPadding(g){return this._context.viewLayout.isInTopPadding(g)}isInBottomPadding(g){return this._context.viewLayout.isInBottomPadding(g)}getVerticalOffsetForLineNumber(g){return this._context.viewLayout.getVerticalOffsetForLineNumber(g)}findAttribute(g,m){return r._findAttribute(g,m,this._viewHelper.viewDomNode)}static _findAttribute(g,m,w){for(;g&&g!==document.body;){if(g.hasAttribute&&g.hasAttribute(m))return g.getAttribute(m);if(g===w)return null;g=g.parentNode}return null}getLineWidth(g){return this._viewHelper.getLineWidth(g)}visibleRangeForPosition(g,m){return this._viewHelper.visibleRangeForPosition(g,m)}getPositionFromDOMInfo(g,m){return this._viewHelper.getPositionFromDOMInfo(g,m)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=r;class n{constructor(g,m,w){this.editorPos=m,this.pos=w,this.mouseVerticalOffset=Math.max(0,g.getCurrentScrollTop()+w.y-m.y),this.mouseContentHorizontalOffset=g.getCurrentScrollLeft()+w.x-m.x-g.layoutInfo.contentLeft,this.isInMarginArea=w.x-m.x<g.layoutInfo.contentLeft&&w.x-m.x>=g.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,c._getMouseColumn(this.mouseContentHorizontalOffset,g.typicalHalfwidthCharacterWidth))}}class l extends n{constructor(g,m,w,D){super(g,m,w);this._ctx=g,D?(this.target=D,this.targetPath=N.PartFingerprints.collect(D,g.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(g,m=null,w=null,D=null){let k=this.mouseColumn;return m&&m.column<this._ctx.model.getLineMaxColumn(m.lineNumber)&&(k=p.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(m.lineNumber),m.column,this._ctx.model.getTextModelOptions().tabSize)+1),new h(this.target,g,k,m,w,D)}withTarget(g){return new l(this._ctx,this.editorPos,this.pos,g)}}const t={isAfterLines:!0};function o(b){return{isAfterLines:!1,horizontalDistanceToText:b}}class c{constructor(g,m){this._context=g,this._viewHelper=m}mouseTargetIsWidget(g){const m=g.target,w=N.PartFingerprints.collect(m,this._viewHelper.viewDomNode);return!!(d.isChildOfContentWidgets(w)||d.isChildOfOverflowingContentWidgets(w)||d.isChildOfOverlayWidgets(w))}createMouseTarget(g,m,w,D){const k=new r(this._context,this._viewHelper,g),T=new l(k,m,w,D);try{return c._createMouseTarget(k,T,!1)}catch(R){return T.fulfill(0)}}static _createMouseTarget(g,m,w){if(m.target===null){if(w)return m.fulfill(0);const T=c._doHitTest(g,m);return T.type===1?c.createMouseTargetFromHitTestPosition(g,m,T.spanNode,T.position,T.injectedText):this._createMouseTarget(g,m.withTarget(T.hitTarget),!0)}const D=m;let k=null;return k=k||c._hitTestContentWidget(g,D),k=k||c._hitTestOverlayWidget(g,D),k=k||c._hitTestMinimap(g,D),k=k||c._hitTestScrollbarSlider(g,D),k=k||c._hitTestViewZone(g,D),k=k||c._hitTestMargin(g,D),k=k||c._hitTestViewCursor(g,D),k=k||c._hitTestTextArea(g,D),k=k||c._hitTestViewLines(g,D,w),k=k||c._hitTestScrollbar(g,D),k||m.fulfill(0)}static _hitTestContentWidget(g,m){if(d.isChildOfContentWidgets(m.targetPath)||d.isChildOfOverflowingContentWidgets(m.targetPath)){const w=g.findAttribute(m.target,"widgetId");return w?m.fulfill(9,null,null,w):m.fulfill(0)}return null}static _hitTestOverlayWidget(g,m){if(d.isChildOfOverlayWidgets(m.targetPath)){const w=g.findAttribute(m.target,"widgetId");return w?m.fulfill(12,null,null,w):m.fulfill(0)}return null}static _hitTestViewCursor(g,m){if(m.target){const w=g.lastRenderData.lastViewCursorsRenderData;for(const D of w)if(m.target===D.domNode)return m.fulfill(6,D.position,null,{mightBeForeignElement:!1})}if(m.isInContentArea){const w=g.lastRenderData.lastViewCursorsRenderData,D=m.mouseContentHorizontalOffset,k=m.mouseVerticalOffset;for(const T of w){if(D<T.contentLeft||D>T.contentLeft+T.width)continue;const R=g.getVerticalOffsetForLineNumber(T.position.lineNumber);if(R<=k&&k<=R+T.height)return m.fulfill(6,T.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(g,m){const w=g.getZoneAtCoord(m.mouseVerticalOffset);if(w){const D=m.isInContentArea?8:5;return m.fulfill(D,w.position,null,w)}return null}static _hitTestTextArea(g,m){return d.isTextArea(m.targetPath)?g.lastRenderData.lastTextareaPosition?m.fulfill(6,g.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):m.fulfill(1,g.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(g,m){if(m.isInMarginArea){const w=g.getFullLineRangeAtCoord(m.mouseVerticalOffset),D=w.range.getStartPosition();let k=Math.abs(m.pos.x-m.editorPos.x);const T={isAfterLines:w.isAfterLines,glyphMarginLeft:g.layoutInfo.glyphMarginLeft,glyphMarginWidth:g.layoutInfo.glyphMarginWidth,lineNumbersWidth:g.layoutInfo.lineNumbersWidth,offsetX:k};return k-=g.layoutInfo.glyphMarginLeft,k<=g.layoutInfo.glyphMarginWidth?m.fulfill(2,D,w.range,T):(k-=g.layoutInfo.glyphMarginWidth,k<=g.layoutInfo.lineNumbersWidth?m.fulfill(3,D,w.range,T):(k-=g.layoutInfo.lineNumbersWidth,m.fulfill(4,D,w.range,T)))}return null}static _hitTestViewLines(g,m,w){if(!d.isChildOfViewLines(m.targetPath))return null;if(g.isInTopPadding(m.mouseVerticalOffset))return m.fulfill(7,new L.Position(1,1),null,t);if(g.isAfterLines(m.mouseVerticalOffset)||g.isInBottomPadding(m.mouseVerticalOffset)){const k=g.model.getLineCount(),T=g.model.getLineMaxColumn(k);return m.fulfill(7,new L.Position(k,T),null,t)}if(w){if(d.isStrictChildOfViewLines(m.targetPath)){const k=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset);if(g.model.getLineLength(k)===0){const R=g.getLineWidth(k),M=o(m.mouseContentHorizontalOffset-R);return m.fulfill(7,new L.Position(k,1),null,M)}const T=g.getLineWidth(k);if(m.mouseContentHorizontalOffset>=T){const R=o(m.mouseContentHorizontalOffset-T),M=new L.Position(k,g.model.getLineMaxColumn(k));return m.fulfill(7,M,null,R)}}return m.fulfill(0)}const D=c._doHitTest(g,m);return D.type===1?c.createMouseTargetFromHitTestPosition(g,m,D.spanNode,D.position,D.injectedText):this._createMouseTarget(g,m.withTarget(D.hitTarget),!0)}static _hitTestMinimap(g,m){if(d.isChildOfMinimap(m.targetPath)){const w=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),D=g.model.getLineMaxColumn(w);return m.fulfill(11,new L.Position(w,D))}return null}static _hitTestScrollbarSlider(g,m){if(d.isChildOfScrollableElement(m.targetPath)&&m.target&&m.target.nodeType===1){const w=m.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const D=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),k=g.model.getLineMaxColumn(D);return m.fulfill(11,new L.Position(D,k))}}return null}static _hitTestScrollbar(g,m){if(d.isChildOfScrollableElement(m.targetPath)){const w=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),D=g.model.getLineMaxColumn(w);return m.fulfill(11,new L.Position(w,D))}return null}getMouseColumn(g,m){const w=this._context.configuration.options,D=w.get(130),k=this._context.viewLayout.getCurrentScrollLeft()+m.x-g.x-D.contentLeft;return c._getMouseColumn(k,w.get(42).typicalHalfwidthCharacterWidth)}static _getMouseColumn(g,m){return g<0?1:Math.round(g/m)+1}static createMouseTargetFromHitTestPosition(g,m,w,D,k){const T=D.lineNumber,R=D.column,M=g.getLineWidth(T);if(m.mouseContentHorizontalOffset>M){const G=o(m.mouseContentHorizontalOffset-M);return m.fulfill(7,D,null,G)}const A=g.visibleRangeForPosition(T,R);if(!A)return m.fulfill(0,D);const O=A.left;if(m.mouseContentHorizontalOffset===O)return m.fulfill(6,D,null,{mightBeForeignElement:!!k});const P=[];if(P.push({offset:A.left,column:R}),R>1){const G=g.visibleRangeForPosition(T,R-1);G&&P.push({offset:G.left,column:R-1})}const F=g.model.getLineMaxColumn(T);if(R<F){const G=g.visibleRangeForPosition(T,R+1);G&&P.push({offset:G.left,column:R+1})}P.sort((G,Y)=>G.offset-Y.offset);const E=m.pos.toClientCoordinates(),x=w.getBoundingClientRect(),W=x.left<=E.clientX&&E.clientX<=x.right;for(let G=1;G<P.length;G++){const Y=P[G-1],se=P[G];if(Y.offset<=m.mouseContentHorizontalOffset&&m.mouseContentHorizontalOffset<=se.offset){const re=new S.Range(T,Y.column,T,se.column);return m.fulfill(6,D,re,{mightBeForeignElement:!W||!!k})}}return m.fulfill(6,D,null,{mightBeForeignElement:!W||!!k})}static _doHitTestWithCaretRangeFromPoint(g,m){const w=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),k=g.getVerticalOffsetForLineNumber(w)+Math.floor(g.lineHeight/2);let T=m.pos.y+(k-m.mouseVerticalOffset);T<=m.editorPos.y&&(T=m.editorPos.y+1),T>=m.editorPos.y+g.layoutInfo.height&&(T=m.editorPos.y+g.layoutInfo.height-1);const R=new _.PageCoordinates(m.pos.x,T),M=this._actualDoHitTestWithCaretRangeFromPoint(g,R.toClientCoordinates());return M.type===1?M:this._actualDoHitTestWithCaretRangeFromPoint(g,m.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(g,m){const w=v.getShadowRoot(g.viewDomNode);let D;if(w?typeof w.caretRangeFromPoint=="undefined"?D=f(w,m.clientX,m.clientY):D=w.caretRangeFromPoint(m.clientX,m.clientY):D=document.caretRangeFromPoint(m.clientX,m.clientY),!D||!D.startContainer)return new C;const k=D.startContainer;if(k.nodeType===k.TEXT_NODE){const T=k.parentNode,R=T?T.parentNode:null,M=R?R.parentNode:null;return(M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===I.ViewLine.CLASS_NAME?a.createFromDOMInfo(g,T,D.startOffset):new C(k.parentNode)}else if(k.nodeType===k.ELEMENT_NODE){const T=k.parentNode,R=T?T.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===I.ViewLine.CLASS_NAME?a.createFromDOMInfo(g,k,k.textContent.length):new C(k)}return new C}static _doHitTestWithCaretPositionFromPoint(g,m){const w=document.caretPositionFromPoint(m.clientX,m.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const D=w.offsetNode.parentNode,k=D?D.parentNode:null,T=k?k.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===I.ViewLine.CLASS_NAME?a.createFromDOMInfo(g,w.offsetNode.parentNode,w.offset):new C(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const D=w.offsetNode.parentNode,k=D&&D.nodeType===D.ELEMENT_NODE?D.className:null,T=D?D.parentNode:null,R=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(k===I.ViewLine.CLASS_NAME){const M=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(M)return a.createFromDOMInfo(g,M,0)}else if(R===I.ViewLine.CLASS_NAME)return a.createFromDOMInfo(g,w.offsetNode,0)}return new C(w.offsetNode)}static _snapToSoftTabBoundary(g,m){const w=m.getLineContent(g.lineNumber),{tabSize:D}=m.getTextModelOptions(),k=i.AtomicTabMoveOperations.atomicPosition(w,g.column-1,D,2);return k!==-1?new L.Position(g.lineNumber,k+1):g}static _doHitTest(g,m){let w=new C;if(typeof document.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(g,m):document.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(g,m.pos.toClientCoordinates())),w.type===1){const D=g.model.getInjectedTextAt(w.position),k=g.model.normalizePosition(w.position,2);(D||!k.equals(w.position))&&(w=new s(k,w.spanNode,D))}return w.type===1&&g.stickyTabStops&&(w=new s(this._snapToSoftTabBoundary(w.position,g.model),w.spanNode,w.injectedText)),w}}e.MouseTargetFactory=c;function f(b,g,m){const w=document.createRange();let D=b.elementFromPoint(g,m);if(D!==null){for(;D&&D.firstChild&&D.firstChild.nodeType!==D.firstChild.TEXT_NODE&&D.lastChild&&D.lastChild.firstChild;)D=D.lastChild;const k=D.getBoundingClientRect(),T=window.getComputedStyle(D,null).getPropertyValue("font"),R=D.innerText;let M=k.left,A=0,O;if(g>k.left+k.width)A=R.length;else{const P=y.getInstance();for(let F=0;F<R.length+1;F++){if(O=P.getCharWidth(R.charAt(F),T)/2,M+=O,g<M){A=F;break}M+=O}}w.setStart(D.firstChild,A),w.setEnd(D.firstChild,A)}return w}e.shadowCaretRangeFromPoint=f;class y{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return y._INSTANCE||(y._INSTANCE=new y),y._INSTANCE}getCharWidth(g,m){const w=g+m;if(this._cache[w])return this._cache[w];const D=this._canvas.getContext("2d");D.font=m;const T=D.measureText(g).width;return this._cache[w]=T,T}}y._INSTANCE=null}),define(te[610],ne([0,1,7,55,14,2,17,192,169,135,13,21,116]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function u(n){return function(l,t){let o=!1;return n&&(o=n.mouseTargetIsWidget(t)),o||t.preventDefault(),t}}e.createMouseMoveEventMerger=u;class h extends a.ViewEventHandler{constructor(l,t,o){super();this._context=l,this.viewController=t,this.viewHelper=o,this.mouseTargetFactory=new p.MouseTargetFactory(this._context,o),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(y,b)=>this._createMouseTarget(y,b),y=>this._getMouseColumn(y))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(130).height;const c=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(c.onContextMenu(this.viewHelper.viewDomNode,y=>this._onContextMenu(y,!0))),this._register(c.onMouseMoveThrottled(this.viewHelper.viewDomNode,y=>this._onMouseMove(y),u(this.mouseTargetFactory),h.MOUSE_MOVE_MINIMUM_TIME)),this._register(c.onMouseUp(this.viewHelper.viewDomNode,y=>this._onMouseUp(y))),this._register(c.onMouseLeave(this.viewHelper.viewDomNode,y=>this._onMouseLeave(y))),this._register(c.onMouseDown(this.viewHelper.viewDomNode,y=>this._onMouseDown(y)));const f=y=>{if(this.viewController.emitMouseWheel(y),!this._context.configuration.options.get(67))return;const b=new N.StandardWheelEvent(y);if(S.isMacintosh?(y.metaKey||y.ctrlKey)&&!y.shiftKey&&!y.altKey:y.ctrlKey&&!y.metaKey&&!y.shiftKey&&!y.altKey){const m=i.EditorZoom.getZoomLevel(),w=b.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(m+w),b.preventDefault(),b.stopPropagation()}};this._register(_.addDisposableListener(this.viewHelper.viewDomNode,_.EventType.MOUSE_WHEEL,f,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(l){if(l.hasChanged(130)){const t=this._context.configuration.options.get(130).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(l){return this._mouseDownOperation.onCursorStateChanged(l),!1}onFocusChanged(l){return!1}onScrollChanged(l){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(l,t){const c=new v.ClientCoordinates(l,t).toPageCoordinates(),f=(0,v.createEditorPagePosition)(this.viewHelper.viewDomNode);return c.y<f.y||c.y>f.y+f.height||c.x<f.x||c.x>f.x+f.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),f,c,null)}_createMouseTarget(l,t){let o=l.target;if(!this.viewHelper.viewDomNode.contains(o)){const c=_.getShadowRoot(this.viewHelper.viewDomNode);c&&(o=c.elementsFromPoint(l.posx,l.posy).find(f=>this.viewHelper.viewDomNode.contains(f)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),l.editorPos,l.pos,t?o:null)}_getMouseColumn(l){return this.mouseTargetFactory.getMouseColumn(l.editorPos,l.pos)}_onContextMenu(l,t){this.viewController.emitContextMenu({event:l,target:this._createMouseTarget(l,t)})}_onMouseMove(l){this._mouseDownOperation.isActive()||l.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:l,target:this._createMouseTarget(l,!0)})}_onMouseLeave(l){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:l,target:null})}_onMouseUp(l){this.viewController.emitMouseUp({event:l,target:this._createMouseTarget(l,!0)})}_onMouseDown(l){const t=this._createMouseTarget(l,!0),o=t.type===6||t.type===7,c=t.type===2||t.type===3||t.type===4,f=t.type===3,y=this._context.configuration.options.get(98),b=t.type===8||t.type===5,g=t.type===9;let m=l.leftButton||l.middleButton;S.isMacintosh&&l.leftButton&&l.ctrlKey&&(m=!1);const w=()=>{l.preventDefault(),this.viewHelper.focusTextArea()};if(m&&(o||f&&y))w(),this._mouseDownOperation.start(t.type,l);else if(c)l.preventDefault();else if(b){const D=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(D.viewZoneId)&&(w(),this._mouseDownOperation.start(t.type,l),l.preventDefault())}else g&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(w(),l.preventDefault());this.viewController.emitMouseDown({event:l,target:t})}}e.MouseHandler=h,h.MOUSE_MOVE_MINIMUM_TIME=100;class d extends L.Disposable{constructor(l,t,o,c,f){super();this._context=l,this._viewController=t,this._viewHelper=o,this._createMouseTarget=c,this._getMouseColumn=f,this._mouseMoveMonitor=this._register(new v.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new I.TimeoutTimer),this._mouseState=new r,this._currentSelection=new s.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(l){this._lastMouseEvent=l,this._mouseState.setModifiers(l);const t=this._findMousePosition(l,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:l,target:t}):this._dispatchMouse(t,!0))}start(l,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(l===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!0);if(!o||!o.position)return;this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;const c=this._context.configuration.options;if(!c.get(80)&&c.get(30)&&!c.get(17)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,u(null),f=>this._onMouseDownThenMove(f),f=>{const y=this._findMousePosition(this._lastMouseEvent,!0);f&&f instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:y?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,u(null),f=>this._onMouseDownThenMove(f),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const l=this._findMousePosition(this._lastMouseEvent,!1);!l||this._mouseState.isDragAndDrop||this._dispatchMouse(l,!0)},10)}onCursorStateChanged(l){this._currentSelection=l.selections[0]}_getPositionOutsideEditor(l){const t=l.editorPos,o=this._context.model,c=this._context.viewLayout,f=this._getMouseColumn(l);if(l.posy<t.y){const b=Math.max(c.getCurrentScrollTop()-(t.y-l.posy),0),g=p.HitTestContext.getZoneAtCoord(this._context,b);if(g){const w=this._helpPositionJumpOverViewZone(g);if(w)return new p.MouseTarget(null,13,f,w)}const m=c.getLineNumberAtVerticalOffset(b);return new p.MouseTarget(null,13,f,new C.Position(m,1))}if(l.posy>t.y+t.height){const b=c.getCurrentScrollTop()+(l.posy-t.y),g=p.HitTestContext.getZoneAtCoord(this._context,b);if(g){const w=this._helpPositionJumpOverViewZone(g);if(w)return new p.MouseTarget(null,13,f,w)}const m=c.getLineNumberAtVerticalOffset(b);return new p.MouseTarget(null,13,f,new C.Position(m,o.getLineMaxColumn(m)))}const y=c.getLineNumberAtVerticalOffset(c.getCurrentScrollTop()+(l.posy-t.y));return l.posx<t.x?new p.MouseTarget(null,13,f,new C.Position(y,1)):l.posx>t.x+t.width?new p.MouseTarget(null,13,f,new C.Position(y,o.getLineMaxColumn(y))):null}_findMousePosition(l,t){const o=this._getPositionOutsideEditor(l);if(o)return o;const c=this._createMouseTarget(l,t);if(!c.position)return null;if(c.type===8||c.type===5){const y=this._helpPositionJumpOverViewZone(c.detail);if(y)return new p.MouseTarget(c.element,c.type,c.mouseColumn,y,null,c.detail)}return c}_helpPositionJumpOverViewZone(l){const t=new C.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=l.positionBefore,c=l.positionAfter;return o&&c?o.isBefore(t)?o:c:null}_dispatchMouse(l,t){!l.position||this._viewController.dispatchMouse({position:l.position,mouseColumn:l.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(l){this._altKey=l.altKey,this._ctrlKey=l.ctrlKey,this._metaKey=l.metaKey,this._shiftKey=l.shiftKey}setStartButtons(l){this._leftButton=l.leftButton,this._middleButton=l.middleButton}setStartedOnLineNumbers(l){this._startedOnLineNumbers=l}trySetCount(l,t){const o=new Date().getTime();o-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(l=1),this._lastSetMouseDownCountTime=o,l>this._lastMouseDownCount+1&&(l=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(l,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(te[611],ne([0,1,7,17,58,2,610,169,158,171]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class C extends S.MouseHandler{constructor(h,d,r){super(h,d,r);this._register(I.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,I.EventType.Tap,l=>this.onTap(l))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,I.EventType.Change,l=>this.onChange(l))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,I.EventType.Contextmenu,l=>this._onContextMenu(new p.EditorMouseEvent(l,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",l=>{const t=l.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new p.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,l=>this._onMouseMove(l),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,l=>this._onMouseUp(l))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,l=>this._onMouseLeave(l))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,l=>this._onMouseDown(l)))}onTap(h){if(!h.initialTarget||!this.viewHelper.linesContentDomNode.contains(h.initialTarget))return;h.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new p.EditorMouseEvent(h,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:h.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(h){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-h.translationX,-h.translationY)}_onMouseDown(h){h.browserEvent.pointerType!=="touch"&&super._onMouseDown(h)}}e.PointerEventHandler=C;class s extends S.MouseHandler{constructor(h,d,r){super(h,d,r);this._register(I.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,I.EventType.Tap,n=>this.onTap(n))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,I.EventType.Change,n=>this.onChange(n))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,I.EventType.Contextmenu,n=>this._onContextMenu(new p.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(h){h.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new p.EditorMouseEvent(h,this.viewHelper.viewDomNode),!1);if(d.position){const r=document.createEvent("CustomEvent");r.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(r),this.viewController.moveTo(d.position)}}onChange(h){this._context.model.deltaScrollNow(-h.translationX,-h.translationY)}}class a extends L.Disposable{constructor(h,d,r){super();N.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new C(h,d,r)):window.TouchEvent?this.handler=this._register(new s(h,d,r)):this.handler=this._register(new S.MouseHandler(h,d,r))}getTargetAtClientPoint(h,d){return this.handler.getTargetAtClientPoint(h,d)}}e.PointerHandler=a}),define(te[265],ne([0,1,192]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class N{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return N.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,p){return new I(S.element,S.type,S.mouseColumn,S.position?p.convertViewPositionToModelPosition(S.position):null,S.range?p.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=N;class I{constructor(S,p,v,i,C,s){this.element=S,this.type=p,this.mouseColumn=v,this.position=i,this.range=C,this.detail=s}toString(){return _.MouseTarget.toString(this)}}}),define(te[612],ne([0,1,42,13,3]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class L{static columnSelect(p,v,i,C,s,a){let u=Math.abs(s-i)+1,h=i>s,d=C>a,r=C<a,n=[];for(let l=0;l<u;l++){let t=i+(h?-l:l),o=_.CursorColumns.columnFromVisibleColumn2(p,v,t,C),c=_.CursorColumns.columnFromVisibleColumn2(p,v,t,a),f=_.CursorColumns.visibleColumnFromColumn2(p,v,new N.Position(t,o)),y=_.CursorColumns.visibleColumnFromColumn2(p,v,new N.Position(t,c));r&&(f>a||y<C)||d&&(y>C||f<a)||n.push(new _.SingleCursorState(new I.Range(t,o,t,o),0,new N.Position(t,c),0))}if(n.length===0)for(let l=0;l<u;l++){const t=i+(h?-l:l),o=v.getLineMaxColumn(t);n.push(new _.SingleCursorState(new I.Range(t,o,t,o),0,new N.Position(t,o),0))}return{viewStates:n,reversed:h,fromLineNumber:i,fromVisualColumn:C,toLineNumber:s,toVisualColumn:a}}static columnSelectLeft(p,v,i){let C=i.toViewVisualColumn;return C>0&&C--,L.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,C)}static columnSelectRight(p,v,i){let C=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),a=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let h=s;h<=a;h++){const d=v.getLineMaxColumn(h),r=_.CursorColumns.visibleColumnFromColumn2(p,v,new N.Position(h,d));C=Math.max(C,r)}let u=i.toViewVisualColumn;return u<C&&u++,this.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,u)}static columnSelectUp(p,v,i,C){const s=C?p.pageSize:1,a=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}static columnSelectDown(p,v,i,C){const s=C?p.pageSize:1,a=Math.min(v.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}}e.ColumnSelection=L}),define(te[193],ne([0,1,42,13,3,8,264]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class p{constructor(C,s,a){this._cursorPositionBrand=void 0,this.lineNumber=C,this.column=s,this.leftoverVisibleColumns=a}}e.CursorPosition=p;class v{static leftPosition(C,s){if(s.column>C.getLineMinColumn(s.lineNumber))return s.delta(void 0,-L.prevCharLength(C.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const a=s.lineNumber-1;return new N.Position(a,C.getLineMaxColumn(a))}else return s}static leftPositionAtomicSoftTabs(C,s,a){if(s.column<=C.getLineIndentColumn(s.lineNumber)){const u=C.getLineMinColumn(s.lineNumber),h=C.getLineContent(s.lineNumber),d=S.AtomicTabMoveOperations.atomicPosition(h,s.column-1,a,0);if(d!==-1&&d+1>=u)return new N.Position(s.lineNumber,d+1)}return this.leftPosition(C,s)}static left(C,s,a){const u=C.stickyTabStops?v.leftPositionAtomicSoftTabs(s,a,C.tabSize):v.leftPosition(s,a);return new p(u.lineNumber,u.column,0)}static moveLeft(C,s,a,u,h){let d,r;if(a.hasSelection()&&!u)d=a.selection.startLineNumber,r=a.selection.startColumn;else{const n=a.position.delta(void 0,-(h-1)),l=s.normalizePosition(v.clipPositionColumn(n,s),0),t=v.left(C,s,l);d=t.lineNumber,r=t.column}return a.move(u,d,r,0)}static clipPositionColumn(C,s){return new N.Position(C.lineNumber,v.clipRange(C.column,s.getLineMinColumn(C.lineNumber),s.getLineMaxColumn(C.lineNumber)))}static clipRange(C,s,a){return C<s?s:C>a?a:C}static rightPosition(C,s,a){return a<C.getLineMaxColumn(s)?a=a+L.nextCharLength(C.getLineContent(s),a-1):s<C.getLineCount()&&(s=s+1,a=C.getLineMinColumn(s)),new N.Position(s,a)}static rightPositionAtomicSoftTabs(C,s,a,u,h){if(a<C.getLineIndentColumn(s)){const d=C.getLineContent(s),r=S.AtomicTabMoveOperations.atomicPosition(d,a-1,u,1);if(r!==-1)return new N.Position(s,r+1)}return this.rightPosition(C,s,a)}static right(C,s,a){const u=C.stickyTabStops?v.rightPositionAtomicSoftTabs(s,a.lineNumber,a.column,C.tabSize,C.indentSize):v.rightPosition(s,a.lineNumber,a.column);return new p(u.lineNumber,u.column,0)}static moveRight(C,s,a,u,h){let d,r;if(a.hasSelection()&&!u)d=a.selection.endLineNumber,r=a.selection.endColumn;else{const n=a.position.delta(void 0,h-1),l=s.normalizePosition(v.clipPositionColumn(n,s),1),t=v.right(C,s,l);d=t.lineNumber,r=t.column}return a.move(u,d,r,0)}static down(C,s,a,u,h,d,r){const n=_.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,C.tabSize)+h,l=s.getLineCount(),t=a===l&&u===s.getLineMaxColumn(a);return a=a+d,a>l?(a=l,r?u=s.getLineMaxColumn(a):u=Math.min(s.getLineMaxColumn(a),u)):u=_.CursorColumns.columnFromVisibleColumn2(C,s,a,n),t?h=0:h=n-_.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,C.tabSize),new p(a,u,h)}static moveDown(C,s,a,u,h){let d,r;a.hasSelection()&&!u?(d=a.selection.endLineNumber,r=a.selection.endColumn):(d=a.position.lineNumber,r=a.position.column);let n=v.down(C,s,d,r,a.leftoverVisibleColumns,h,!0);return a.move(u,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(C,s,a){let u=a.selection,h=v.down(C,s,u.selectionStartLineNumber,u.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=v.down(C,s,u.positionLineNumber,u.positionColumn,a.leftoverVisibleColumns,1,!1);return new _.SingleCursorState(new I.Range(h.lineNumber,h.column,h.lineNumber,h.column),h.leftoverVisibleColumns,new N.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(C,s,a,u,h,d,r){const n=_.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,C.tabSize)+h,l=a===1&&u===1;return a=a-d,a<1?(a=1,r?u=s.getLineMinColumn(a):u=Math.min(s.getLineMaxColumn(a),u)):u=_.CursorColumns.columnFromVisibleColumn2(C,s,a,n),l?h=0:h=n-_.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,C.tabSize),new p(a,u,h)}static moveUp(C,s,a,u,h){let d,r;a.hasSelection()&&!u?(d=a.selection.startLineNumber,r=a.selection.startColumn):(d=a.position.lineNumber,r=a.position.column);let n=v.up(C,s,d,r,a.leftoverVisibleColumns,h,!0);return a.move(u,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(C,s,a){let u=a.selection,h=v.up(C,s,u.selectionStartLineNumber,u.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=v.up(C,s,u.positionLineNumber,u.positionColumn,a.leftoverVisibleColumns,1,!1);return new _.SingleCursorState(new I.Range(h.lineNumber,h.column,h.lineNumber,h.column),h.leftoverVisibleColumns,new N.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(C,s){return C.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(C,s,a,u){let h=a.position.lineNumber;for(;h>1&&this._isBlankLine(s,h);)h--;for(;h>1&&!this._isBlankLine(s,h);)h--;return a.move(u,h,s.getLineMinColumn(h),0)}static moveToNextBlankLine(C,s,a,u){const h=s.getLineCount();let d=a.position.lineNumber;for(;d<h&&this._isBlankLine(s,d);)d++;for(;d<h&&!this._isBlankLine(s,d);)d++;return a.move(u,d,s.getLineMinColumn(d),0)}static moveToBeginningOfLine(C,s,a,u){let h=a.position.lineNumber,d=s.getLineMinColumn(h),r=s.getLineFirstNonWhitespaceColumn(h)||d,n;return a.position.column===r?n=d:n=r,a.move(u,h,n,0)}static moveToEndOfLine(C,s,a,u,h){let d=a.position.lineNumber,r=s.getLineMaxColumn(d);return a.move(u,d,r,h?1073741824-r:0)}static moveToBeginningOfBuffer(C,s,a,u){return a.move(u,1,1,0)}static moveToEndOfBuffer(C,s,a,u){let h=s.getLineCount(),d=s.getLineMaxColumn(h);return a.move(u,h,d,0)}}e.MoveOperations=v}),define(te[194],ne([0,1,8,96,42,193,3,13]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(C,s,a,u){let h=[],d=C!==3;for(let r=0,n=u.length;r<n;r++){const l=u[r];let t=l;if(t.isEmpty()){let o=l.getPosition(),c=L.MoveOperations.right(s,a,o);t=new S.Range(c.lineNumber,c.column,o.lineNumber,o.column)}if(t.isEmpty()){h[r]=null;continue}t.startLineNumber!==t.endLineNumber&&(d=!0),h[r]=new N.ReplaceCommand(t,"")}return[d,h]}static isAutoClosingPairDelete(C,s,a,u,h,d,r){if(s==="never"&&a==="never"||C==="never")return!1;for(let n=0,l=d.length;n<l;n++){const t=d[n],o=t.getPosition();if(!t.isEmpty())return!1;const c=h.getLineContent(o.lineNumber);if(o.column<2||o.column>=c.length+1)return!1;const f=c.charAt(o.column-2),y=u.get(f);if(!y)return!1;if((0,I.isQuote)(f)){if(a==="never")return!1}else if(s==="never")return!1;const b=c.charAt(o.column-1);let g=!1;for(const m of y)m.open===f&&m.close===b&&(g=!0);if(!g)return!1;if(C==="auto"){let m=!1;for(let w=0,D=r.length;w<D;w++){const k=r[w];if(o.lineNumber===k.startLineNumber&&o.column===k.startColumn){m=!0;break}}if(!m)return!1}}return!0}static _runAutoClosingPairDelete(C,s,a){let u=[];for(let h=0,d=a.length;h<d;h++){const r=a[h].getPosition(),n=new S.Range(r.lineNumber,r.column-1,r.lineNumber,r.column+1);u[h]=new N.ReplaceCommand(n,"")}return[!0,u]}static deleteLeft(C,s,a,u,h){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,a,u,h))return this._runAutoClosingPairDelete(s,a,u);const d=[];let r=C!==2;for(let n=0,l=u.length;n<l;n++){let t=v.getDeleteRange(u[n],a,s);if(t.isEmpty()){d[n]=null;continue}t.startLineNumber!==t.endLineNumber&&(r=!0),d[n]=new N.ReplaceCommand(t,"")}return[r,d]}static getDeleteRange(C,s,a){if(!C.isEmpty())return C;const u=C.getPosition();if(a.useTabStops&&u.column>1){const h=s.getLineContent(u.lineNumber),d=_.firstNonWhitespaceIndex(h),r=d===-1?h.length+1:d+1;if(u.column<=r){const n=I.CursorColumns.visibleColumnFromColumn2(a,s,u),l=I.CursorColumns.prevIndentTabStop(n,a.indentSize),t=I.CursorColumns.columnFromVisibleColumn2(a,s,u.lineNumber,l);return new S.Range(u.lineNumber,t,u.lineNumber,u.column)}}return S.Range.fromPositions(v.getPositionAfterDeleteLeft(u,s),u)}static getPositionAfterDeleteLeft(C,s){if(C.column>1){const a=_.getLeftDeleteOffset(C.column-1,s.getLineContent(C.lineNumber));return C.with(void 0,a+1)}else if(C.lineNumber>1){const a=C.lineNumber-1;return new p.Position(a,s.getLineMaxColumn(a))}else return C}static cut(C,s,a){let u=[];for(let h=0,d=a.length;h<d;h++){const r=a[h];if(r.isEmpty())if(C.emptySelectionClipboard){let n=r.getPosition(),l,t,o,c;n.lineNumber<s.getLineCount()?(l=n.lineNumber,t=1,o=n.lineNumber+1,c=1):n.lineNumber>1?(l=n.lineNumber-1,t=s.getLineMaxColumn(n.lineNumber-1),o=n.lineNumber,c=s.getLineMaxColumn(n.lineNumber)):(l=n.lineNumber,t=1,o=n.lineNumber,c=s.getLineMaxColumn(n.lineNumber));let f=new S.Range(l,t,o,c);f.isEmpty()?u[h]=null:u[h]=new N.ReplaceCommand(f,"")}else u[h]=null;else u[h]=new N.ReplaceCommand(r,"")}return new I.EditOperationResult(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(te[195],ne([0,1,10,8,96,191,383,42,110,3,21,113,36]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class u{static indent(o,c,f){if(c===null||f===null)return[];let y=[];for(let b=0,g=f.length;b<g;b++)y[b]=new L.ShiftCommand(f[b],{isUnshift:!1,tabSize:o.tabSize,indentSize:o.indentSize,insertSpaces:o.insertSpaces,useTabStops:o.useTabStops,autoIndent:o.autoIndent});return y}static outdent(o,c,f){let y=[];for(let b=0,g=f.length;b<g;b++)y[b]=new L.ShiftCommand(f[b],{isUnshift:!0,tabSize:o.tabSize,indentSize:o.indentSize,insertSpaces:o.insertSpaces,useTabStops:o.useTabStops,autoIndent:o.autoIndent});return y}static shiftIndent(o,c,f){return f=f||1,L.ShiftCommand.shiftIndent(c,c.length+f,o.tabSize,o.indentSize,o.insertSpaces)}static unshiftIndent(o,c,f){return f=f||1,L.ShiftCommand.unshiftIndent(c,c.length+f,o.tabSize,o.indentSize,o.insertSpaces)}static _distributedPaste(o,c,f,y){let b=[];for(let g=0,m=f.length;g<m;g++)b[g]=new I.ReplaceCommand(f[g],y[g]);return new p.EditOperationResult(0,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(o,c,f,y,b){let g=[];for(let m=0,w=f.length;m<w;m++){const D=f[m];let k=D.getPosition();if(b&&!D.isEmpty()&&(b=!1),b&&y.indexOf(`
`)!==y.length-1&&(b=!1),b){let T=new i.Range(k.lineNumber,1,k.lineNumber,1);g[m]=new I.ReplaceCommandThatPreservesSelection(T,y,D,!0)}else g[m]=new I.ReplaceCommand(D,y)}return new p.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(o,c,f,y,b){if(y||c.length===1)return null;if(b&&b.length===c.length)return b;if(o.multiCursorPaste==="spread"){f.charCodeAt(f.length-1)===10&&(f=f.substr(0,f.length-1)),f.charCodeAt(f.length-1)===13&&(f=f.substr(0,f.length-1));let g=N.splitLines(f);if(g.length===c.length)return g}return null}static paste(o,c,f,y,b,g){const m=this._distributePasteToCursors(o,f,y,b,g);return m?(f=f.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(o,c,f,m)):this._simplePaste(o,c,f,y,b)}static _goodIndentForLine(o,c,f){let y=null,b="";const g=a.LanguageConfigurationRegistry.getInheritIndentForLine(o.autoIndent,c,f,!1);if(g)y=g.action,b=g.indentation;else if(f>1){let m;for(m=f-1;m>=1;m--){const k=c.getLineContent(m);if(N.lastNonWhitespaceIndex(k)>=0)break}if(m<1)return null;const w=c.getLineMaxColumn(m),D=a.LanguageConfigurationRegistry.getEnterAction(o.autoIndent,c,new i.Range(m,w,m,w));D&&(b=D.indentation+D.appendText)}return y&&(y===s.IndentAction.Indent&&(b=u.shiftIndent(o,b)),y===s.IndentAction.Outdent&&(b=u.unshiftIndent(o,b)),b=o.normalizeIndentation(b)),b||null}static _replaceJumpToNextIndent(o,c,f,y){let b="",g=f.getStartPosition();if(o.insertSpaces){let m=p.CursorColumns.visibleColumnFromColumn2(o,c,g),w=o.indentSize,D=w-m%w;for(let k=0;k<D;k++)b+=" "}else b="	";return new I.ReplaceCommand(f,b,y)}static tab(o,c,f){let y=[];for(let b=0,g=f.length;b<g;b++){const m=f[b];if(m.isEmpty()){let w=c.getLineContent(m.startLineNumber);if(/^\s*$/.test(w)&&c.isCheapToTokenize(m.startLineNumber)){let D=this._goodIndentForLine(o,c,m.startLineNumber);D=D||"	";let k=o.normalizeIndentation(D);if(!w.startsWith(k)){y[b]=new I.ReplaceCommand(new i.Range(m.startLineNumber,1,m.startLineNumber,w.length+1),k,!0);continue}}y[b]=this._replaceJumpToNextIndent(o,c,m,!0)}else{if(m.startLineNumber===m.endLineNumber){let w=c.getLineMaxColumn(m.startLineNumber);if(m.startColumn!==1||m.endColumn!==w){y[b]=this._replaceJumpToNextIndent(o,c,m,!1);continue}}y[b]=new L.ShiftCommand(m,{isUnshift:!1,tabSize:o.tabSize,indentSize:o.indentSize,insertSpaces:o.insertSpaces,useTabStops:o.useTabStops,autoIndent:o.autoIndent})}}return y}static compositionType(o,c,f,y,b,g,m,w){const D=y.map(k=>this._compositionType(f,k,b,g,m,w));return new p.EditOperationResult(4,D,{shouldPushStackElementBefore:r(o,4),shouldPushStackElementAfter:!1})}static _compositionType(o,c,f,y,b,g){if(!c.isEmpty())return null;const m=c.getPosition(),w=Math.max(1,m.column-y),D=Math.min(o.getLineMaxColumn(m.lineNumber),m.column+b),k=new i.Range(m.lineNumber,w,m.lineNumber,D);return o.getValueInRange(k)===f&&g===0?null:new I.ReplaceCommandWithOffsetCursorState(k,f,0,g)}static _typeCommand(o,c,f){return f?new I.ReplaceCommandWithoutChangingPosition(o,c,!0):new I.ReplaceCommand(o,c,!0)}static _enter(o,c,f,y){if(o.autoIndent===0)return u._typeCommand(y,`
`,f);if(!c.isCheapToTokenize(y.getStartPosition().lineNumber)||o.autoIndent===1){let w=c.getLineContent(y.startLineNumber),D=N.getLeadingWhitespace(w).substring(0,y.startColumn-1);return u._typeCommand(y,`
`+o.normalizeIndentation(D),f)}const b=a.LanguageConfigurationRegistry.getEnterAction(o.autoIndent,c,y);if(b){if(b.indentAction===s.IndentAction.None)return u._typeCommand(y,`
`+o.normalizeIndentation(b.indentation+b.appendText),f);if(b.indentAction===s.IndentAction.Indent)return u._typeCommand(y,`
`+o.normalizeIndentation(b.indentation+b.appendText),f);if(b.indentAction===s.IndentAction.IndentOutdent){const w=o.normalizeIndentation(b.indentation),D=o.normalizeIndentation(b.indentation+b.appendText),k=`
`+D+`
`+w;return f?new I.ReplaceCommandWithoutChangingPosition(y,k,!0):new I.ReplaceCommandWithOffsetCursorState(y,k,-1,D.length-w.length,!0)}else if(b.indentAction===s.IndentAction.Outdent){const w=u.unshiftIndent(o,b.indentation);return u._typeCommand(y,`
`+o.normalizeIndentation(w+b.appendText),f)}}const g=c.getLineContent(y.startLineNumber),m=N.getLeadingWhitespace(g).substring(0,y.startColumn-1);if(o.autoIndent>=4){const w=a.LanguageConfigurationRegistry.getIndentForEnter(o.autoIndent,c,y,{unshiftIndent:D=>u.unshiftIndent(o,D),shiftIndent:D=>u.shiftIndent(o,D),normalizeIndentation:D=>o.normalizeIndentation(D)});if(w){let D=p.CursorColumns.visibleColumnFromColumn2(o,c,y.getEndPosition());const k=y.endColumn,T=c.getLineContent(y.endLineNumber),R=N.firstNonWhitespaceIndex(T);if(R>=0?y=y.setEndPosition(y.endLineNumber,Math.max(y.endColumn,R+1)):y=y.setEndPosition(y.endLineNumber,c.getLineMaxColumn(y.endLineNumber)),f)return new I.ReplaceCommandWithoutChangingPosition(y,`
`+o.normalizeIndentation(w.afterEnter),!0);{let M=0;return k<=R+1&&(o.insertSpaces||(D=Math.ceil(D/o.indentSize)),M=Math.min(D+1-o.normalizeIndentation(w.afterEnter).length-1,0)),new I.ReplaceCommandWithOffsetCursorState(y,`
`+o.normalizeIndentation(w.afterEnter),0,M,!0)}}}return u._typeCommand(y,`
`+o.normalizeIndentation(m),f)}static _isAutoIndentType(o,c,f){if(o.autoIndent<4)return!1;for(let y=0,b=f.length;y<b;y++)if(!c.isCheapToTokenize(f[y].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(o,c,f,y){const b=a.LanguageConfigurationRegistry.getIndentationAtPosition(c,f.startLineNumber,f.startColumn),g=a.LanguageConfigurationRegistry.getIndentActionForType(o.autoIndent,c,f,y,{shiftIndent:m=>u.shiftIndent(o,m),unshiftIndent:m=>u.unshiftIndent(o,m)});if(g===null)return null;if(g!==o.normalizeIndentation(b)){const m=c.getLineFirstNonWhitespaceColumn(f.startLineNumber);return m===0?u._typeCommand(new i.Range(f.startLineNumber,1,f.endLineNumber,f.endColumn),o.normalizeIndentation(g)+y,!1):u._typeCommand(new i.Range(f.startLineNumber,1,f.endLineNumber,f.endColumn),o.normalizeIndentation(g)+c.getLineContent(f.startLineNumber).substring(m-1,f.startColumn-1)+y,!1)}return null}static _isAutoClosingOvertype(o,c,f,y,b){if(o.autoClosingOvertype==="never"||!o.autoClosingPairs.autoClosingPairsCloseSingleChar.has(b))return!1;for(let g=0,m=f.length;g<m;g++){const w=f[g];if(!w.isEmpty())return!1;const D=w.getPosition(),k=c.getLineContent(D.lineNumber);if(k.charAt(D.column-1)!==b)return!1;const R=(0,p.isQuote)(b);if((D.column>2?k.charCodeAt(D.column-2):0)===92&&R)return!1;if(o.autoClosingOvertype==="auto"){let A=!1;for(let O=0,P=y.length;O<P;O++){const F=y[O];if(D.lineNumber===F.startLineNumber&&D.column===F.startColumn){A=!0;break}}if(!A)return!1}}return!0}static _runAutoClosingOvertype(o,c,f,y,b){let g=[];for(let m=0,w=y.length;m<w;m++){const k=y[m].getPosition(),T=new i.Range(k.lineNumber,k.column,k.lineNumber,k.column+1);g[m]=new I.ReplaceCommand(T,b)}return new p.EditOperationResult(4,g,{shouldPushStackElementBefore:r(o,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(o,c){const f=c.charAt(0),y=o.autoClosingPairs.autoClosingPairsOpenByStart.get(f)||[],b=o.autoClosingPairs.autoClosingPairsCloseByStart.get(f)||[],g=y.some(w=>c.startsWith(w.open)),m=b.some(w=>c.startsWith(w.close));return!g&&m}static _findAutoClosingPairOpen(o,c,f,y){const b=o.autoClosingPairs.autoClosingPairsOpenByEnd.get(y);if(!b)return null;let g=null;for(const m of b)if(g===null||m.open.length>g.open.length){let w=!0;for(const D of f)if(c.getValueInRange(new i.Range(D.lineNumber,D.column-m.open.length+1,D.lineNumber,D.column))+y!==m.open){w=!1;break}w&&(g=m)}return g}static _findSubAutoClosingPairClose(o,c){if(c.open.length<=1)return"";const f=c.close.charAt(c.close.length-1),y=o.autoClosingPairs.autoClosingPairsCloseByEnd.get(f)||[];let b=null;for(const g of y)g.open!==c.open&&c.open.includes(g.open)&&c.close.endsWith(g.close)&&(!b||g.open.length>b.open.length)&&(b=g);return b?b.close:""}static _getAutoClosingPairClose(o,c,f,y,b){const g=(0,p.isQuote)(y),m=g?o.autoClosingQuotes:o.autoClosingBrackets;if(m==="never")return null;const w=this._findAutoClosingPairOpen(o,c,f.map(R=>R.getPosition()),y);if(!w)return null;const D=this._findSubAutoClosingPairClose(o,w);let k=!0;const T=g?o.shouldAutoCloseBefore.quote:o.shouldAutoCloseBefore.bracket;for(let R=0,M=f.length;R<M;R++){const A=f[R];if(!A.isEmpty())return null;const O=A.getPosition(),P=c.getLineContent(O.lineNumber),F=P.substring(O.column-1);if(F.startsWith(D)||(k=!1),P.length>O.column-1){const W=P.charAt(O.column-1);if(!u._isBeforeClosingBrace(o,F)&&!T(W))return null}if(!c.isCheapToTokenize(O.lineNumber))return null;if(w.open.length===1&&g&&m!=="always"){const W=(0,v.getMapForWordSeparators)(o.wordSeparators);if(b&&O.column>1&&W.get(P.charCodeAt(O.column-2))===0||!b&&O.column>2&&W.get(P.charCodeAt(O.column-3))===0)return null}c.forceTokenization(O.lineNumber);const E=c.getLineTokens(O.lineNumber);let x=!1;try{x=a.LanguageConfigurationRegistry.shouldAutoClosePair(w,E,b?O.column:O.column-1)}catch(W){(0,_.onUnexpectedError)(W)}if(!x)return null}return k?w.close.substring(0,w.close.length-D.length):w.close}static _runAutoClosingOpenCharType(o,c,f,y,b,g,m){let w=[];for(let D=0,k=y.length;D<k;D++){const T=y[D];w[D]=new h(T,b,g,m)}return new p.EditOperationResult(4,w,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(o,c){return(0,p.isQuote)(c)?o.autoSurround==="quotes"||o.autoSurround==="languageDefined":o.autoSurround==="brackets"||o.autoSurround==="languageDefined"}static _isSurroundSelectionType(o,c,f,y){if(!u._shouldSurroundChar(o,y)||!o.surroundingPairs.hasOwnProperty(y))return!1;const b=(0,p.isQuote)(y);for(let g=0,m=f.length;g<m;g++){const w=f[g];if(w.isEmpty())return!1;let D=!0;for(let k=w.startLineNumber;k<=w.endLineNumber;k++){const T=c.getLineContent(k),R=k===w.startLineNumber?w.startColumn-1:0,M=k===w.endLineNumber?w.endColumn-1:T.length,A=T.substring(R,M);if(/[^ \t]/.test(A)){D=!1;break}}if(D)return!1;if(b&&w.startLineNumber===w.endLineNumber&&w.startColumn+1===w.endColumn){const k=c.getValueInRange(w);if((0,p.isQuote)(k))return!1}}return!0}static _runSurroundSelectionType(o,c,f,y,b){let g=[];for(let m=0,w=y.length;m<w;m++){const D=y[m],k=c.surroundingPairs[b];g[m]=new S.SurroundSelectionCommand(D,b,k)}return new p.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(o,c,f){return!!(f.length===1&&c.isCheapToTokenize(f[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(o,c,f,y,b){if(!c.electricChars.hasOwnProperty(b)||!y.isEmpty())return null;let g=y.getPosition();f.forceTokenization(g.lineNumber);let m=f.getLineTokens(g.lineNumber),w;try{w=a.LanguageConfigurationRegistry.onElectricCharacter(b,m,g.column)}catch(D){return(0,_.onUnexpectedError)(D),null}if(!w)return null;if(w.matchOpenBracket){let D=(m.getLineContent()+b).lastIndexOf(w.matchOpenBracket)+1,k=f.findMatchingBracketUp(w.matchOpenBracket,{lineNumber:g.lineNumber,column:D});if(k){if(k.startLineNumber===g.lineNumber)return null;let T=f.getLineContent(k.startLineNumber),R=N.getLeadingWhitespace(T),M=c.normalizeIndentation(R),A=f.getLineContent(g.lineNumber),O=f.getLineFirstNonWhitespaceColumn(g.lineNumber)||g.column,P=A.substring(O-1,g.column-1),F=M+P+b,E=new i.Range(g.lineNumber,1,g.lineNumber,g.column);const x=new I.ReplaceCommand(E,F);return new p.EditOperationResult(d(F,o),[x],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(o,c,f,y,b,g){if(!y||C.Selection.selectionsArrEqual(y,b))return null;let m=null;for(const D of b){if(!D.isEmpty())return null;const k=D.getPosition(),T=f.getValueInRange(new i.Range(k.lineNumber,k.column-1,k.lineNumber,k.column));if(m===null)m=T;else if(m!==T)return null}if(!m)return null;if(this._isAutoClosingOvertype(c,f,b,g,m)){const D=b.map(k=>new I.ReplaceCommand(new i.Range(k.positionLineNumber,k.positionColumn,k.positionLineNumber,k.positionColumn+1),"",!1));return new p.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const w=this._getAutoClosingPairClose(c,f,b,m,!1);return w!==null?this._runAutoClosingOpenCharType(o,c,f,b,m,!1,w):null}static typeWithInterceptors(o,c,f,y,b,g,m){if(!o&&m===`
`){let k=[];for(let T=0,R=b.length;T<R;T++)k[T]=u._enter(f,y,!1,b[T]);return new p.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!o&&this._isAutoIndentType(f,y,b)){let k=[],T=!1;for(let R=0,M=b.length;R<M;R++)if(k[R]=this._runAutoIndentType(f,y,b[R],m),!k[R]){T=!0;break}if(!T)return new p.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!o&&this._isAutoClosingOvertype(f,y,b,g,m))return this._runAutoClosingOvertype(c,f,y,b,m);if(!o){const k=this._getAutoClosingPairClose(f,y,b,m,!0);if(k)return this._runAutoClosingOpenCharType(c,f,y,b,m,!0,k)}if(this._isSurroundSelectionType(f,y,b,m))return this._runSurroundSelectionType(c,f,y,b,m);if(!o&&this._isTypeInterceptorElectricChar(f,y,b)){const k=this._typeInterceptorElectricChar(c,f,y,b[0],m);if(k)return k}let w=[];for(let k=0,T=b.length;k<T;k++)w[k]=new I.ReplaceCommand(b[k],m);const D=d(m,c);return new p.EditOperationResult(D,w,{shouldPushStackElementBefore:r(c,D),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(o,c,f,y,b){let g=[];for(let w=0,D=y.length;w<D;w++)g[w]=new I.ReplaceCommand(y[w],b);const m=d(b,o);return new p.EditOperationResult(m,g,{shouldPushStackElementBefore:r(o,m),shouldPushStackElementAfter:!1})}static lineInsertBefore(o,c,f){if(c===null||f===null)return[];let y=[];for(let b=0,g=f.length;b<g;b++){let m=f[b].positionLineNumber;if(m===1)y[b]=new I.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{m--;let w=c.getLineMaxColumn(m);y[b]=this._enter(o,c,!1,new i.Range(m,w,m,w))}}return y}static lineInsertAfter(o,c,f){if(c===null||f===null)return[];let y=[];for(let b=0,g=f.length;b<g;b++){const m=f[b].positionLineNumber;let w=c.getLineMaxColumn(m);y[b]=this._enter(o,c,!1,new i.Range(m,w,m,w))}return y}static lineBreakInsert(o,c,f){let y=[];for(let b=0,g=f.length;b<g;b++)y[b]=this._enter(o,c,!0,f[b]);return y}}e.TypeOperations=u;class h extends I.ReplaceCommandWithOffsetCursorState{constructor(o,c,f,y){super(o,(f?c:"")+y,0,-y.length);this._openCharacter=c,this._closeCharacter=y,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(o,c){let y=c.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(y.startLineNumber,y.endColumn-this._closeCharacter.length,y.endLineNumber,y.endColumn),this.enclosingRange=new i.Range(y.startLineNumber,y.endColumn-this._openCharacter.length-this._closeCharacter.length,y.endLineNumber,y.endColumn),super.computeCursorState(o,c)}}e.TypeWithAutoClosingCommand=h;function d(t,o){return t===" "?o===5||o===6?6:5:4}function r(t,o){return l(t)&&!l(o)?!0:t===5?!1:n(t)!==n(o)}function n(t){return t===6||t===5?"space":t}function l(t){return t===4||t===5||t===6}}),define(te[148],ne([0,1,8,42,194,110,13,3]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(a,u,h,d,r){return{start:d,end:r,wordType:u,nextCharClass:h}}static _findPreviousWordOnLine(a,u,h){let d=u.getLineContent(h.lineNumber);return this._doFindPreviousWordOnLine(d,a,h)}static _doFindPreviousWordOnLine(a,u,h){let d=0;for(let r=h.column-2;r>=0;r--){let n=a.charCodeAt(r),l=u.get(n);if(l===0){if(d===2)return this._createWord(a,d,l,r+1,this._findEndOfWord(a,u,d,r+1));d=1}else if(l===2){if(d===1)return this._createWord(a,d,l,r+1,this._findEndOfWord(a,u,d,r+1));d=2}else if(l===1&&d!==0)return this._createWord(a,d,l,r+1,this._findEndOfWord(a,u,d,r+1))}return d!==0?this._createWord(a,d,1,0,this._findEndOfWord(a,u,d,0)):null}static _findEndOfWord(a,u,h,d){let r=a.length;for(let n=d;n<r;n++){let l=a.charCodeAt(n),t=u.get(l);if(t===1||h===1&&t===2||h===2&&t===0)return n}return r}static _findNextWordOnLine(a,u,h){let d=u.getLineContent(h.lineNumber);return this._doFindNextWordOnLine(d,a,h)}static _doFindNextWordOnLine(a,u,h){let d=0,r=a.length;for(let n=h.column-1;n<r;n++){let l=a.charCodeAt(n),t=u.get(l);if(t===0){if(d===2)return this._createWord(a,d,t,this._findStartOfWord(a,u,d,n-1),n);d=1}else if(t===2){if(d===1)return this._createWord(a,d,t,this._findStartOfWord(a,u,d,n-1),n);d=2}else if(t===1&&d!==0)return this._createWord(a,d,t,this._findStartOfWord(a,u,d,n-1),n)}return d!==0?this._createWord(a,d,1,this._findStartOfWord(a,u,d,r-1),r):null}static _findStartOfWord(a,u,h,d){for(let r=d;r>=0;r--){let n=a.charCodeAt(r),l=u.get(n);if(l===1||h===1&&l===2||h===2&&l===0)return r+1}return 0}static moveWordLeft(a,u,h,d){let r=h.lineNumber,n=h.column;n===1&&r>1&&(r=r-1,n=u.getLineMaxColumn(r));let l=v._findPreviousWordOnLine(a,u,new S.Position(r,n));if(d===0)return new S.Position(r,l?l.start+1:1);if(d===1)return l&&l.wordType===2&&l.end-l.start==1&&l.nextCharClass===0&&(l=v._findPreviousWordOnLine(a,u,new S.Position(r,l.start+1))),new S.Position(r,l?l.start+1:1);if(d===3){for(;l&&l.wordType===2;)l=v._findPreviousWordOnLine(a,u,new S.Position(r,l.start+1));return new S.Position(r,l?l.start+1:1)}return l&&n<=l.end+1&&(l=v._findPreviousWordOnLine(a,u,new S.Position(r,l.start+1))),new S.Position(r,l?l.end+1:1)}static _moveWordPartLeft(a,u){const h=u.lineNumber,d=a.getLineMaxColumn(h);if(u.column===1)return h>1?new S.Position(h-1,a.getLineMaxColumn(h-1)):u;const r=a.getLineContent(h);for(let n=u.column-1;n>1;n--){const l=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(l===95&&t!==95)return new S.Position(h,n);if(_.isLowerAsciiLetter(l)&&_.isUpperAsciiLetter(t))return new S.Position(h,n);if(_.isUpperAsciiLetter(l)&&_.isUpperAsciiLetter(t)&&n+1<d){const o=r.charCodeAt(n);if(_.isLowerAsciiLetter(o))return new S.Position(h,n)}}return new S.Position(h,1)}static moveWordRight(a,u,h,d){let r=h.lineNumber,n=h.column,l=!1;n===u.getLineMaxColumn(r)&&r<u.getLineCount()&&(l=!0,r=r+1,n=1);let t=v._findNextWordOnLine(a,u,new S.Position(r,n));if(d===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=v._findNextWordOnLine(a,u,new S.Position(r,t.end+1))),t?n=t.end+1:n=u.getLineMaxColumn(r);else if(d===3){for(l&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=v._findNextWordOnLine(a,u,new S.Position(r,t.end+1));t?n=t.start+1:n=u.getLineMaxColumn(r)}else t&&!l&&n>=t.start+1&&(t=v._findNextWordOnLine(a,u,new S.Position(r,t.end+1))),t?n=t.start+1:n=u.getLineMaxColumn(r);return new S.Position(r,n)}static _moveWordPartRight(a,u){const h=u.lineNumber,d=a.getLineMaxColumn(h);if(u.column===d)return h<a.getLineCount()?new S.Position(h+1,1):u;const r=a.getLineContent(h);for(let n=u.column+1;n<d;n++){const l=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(l!==95&&t===95)return new S.Position(h,n);if(_.isLowerAsciiLetter(l)&&_.isUpperAsciiLetter(t))return new S.Position(h,n);if(_.isUpperAsciiLetter(l)&&_.isUpperAsciiLetter(t)&&n+1<d){const o=r.charCodeAt(n);if(_.isLowerAsciiLetter(o))return new S.Position(h,n)}}return new S.Position(h,d)}static _deleteWordLeftWhitespace(a,u){const h=a.getLineContent(u.lineNumber),d=u.column-2,r=_.lastNonWhitespaceIndex(h,d);return r+1<d?new p.Range(u.lineNumber,r+2,u.lineNumber,u.column):null}static deleteWordLeft(a,u){const h=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;if(I.DeleteOperations.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const f=a.selection.getPosition();return new p.Range(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const l=new S.Position(r.positionLineNumber,r.positionColumn);let t=l.lineNumber,o=l.column;if(t===1&&o===1)return null;if(n){let f=this._deleteWordLeftWhitespace(d,l);if(f)return f}let c=v._findPreviousWordOnLine(h,d,l);return u===0?c?o=c.start+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t)):(c&&o<=c.end+1&&(c=v._findPreviousWordOnLine(h,d,new S.Position(t,c.start+1))),c?o=c.end+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t))),new p.Range(t,o,l.lineNumber,l.column)}static deleteInsideWord(a,u,h){if(!h.isEmpty())return h;const d=new S.Position(h.positionLineNumber,h.positionColumn);let r=this._deleteInsideWordWhitespace(u,d);return r||this._deleteInsideWordDetermineDeleteRange(a,u,d)}static _charAtIsWhitespace(a,u){const h=a.charCodeAt(u);return h===32||h===9}static _deleteInsideWordWhitespace(a,u){const h=a.getLineContent(u.lineNumber),d=h.length;if(d===0)return null;let r=Math.max(u.column-2,0);if(!this._charAtIsWhitespace(h,r))return null;let n=Math.min(u.column-1,d-1);if(!this._charAtIsWhitespace(h,n))return null;for(;r>0&&this._charAtIsWhitespace(h,r-1);)r--;for(;n+1<d&&this._charAtIsWhitespace(h,n+1);)n++;return new p.Range(u.lineNumber,r+1,u.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(a,u,h){const d=u.getLineContent(h.lineNumber),r=d.length;if(r===0)return h.lineNumber>1?new p.Range(h.lineNumber-1,u.getLineMaxColumn(h.lineNumber-1),h.lineNumber,1):h.lineNumber<u.getLineCount()?new p.Range(h.lineNumber,1,h.lineNumber+1,1):new p.Range(h.lineNumber,1,h.lineNumber,1);const n=f=>f.start+1<=h.column&&h.column<=f.end+1,l=(f,y)=>(f=Math.min(f,h.column),y=Math.max(y,h.column),new p.Range(h.lineNumber,f,h.lineNumber,y)),t=f=>{let y=f.start+1,b=f.end+1,g=!1;for(;b-1<r&&this._charAtIsWhitespace(d,b-1);)g=!0,b++;if(!g)for(;y>1&&this._charAtIsWhitespace(d,y-2);)y--;return l(y,b)},o=v._findPreviousWordOnLine(a,u,h);if(o&&n(o))return t(o);const c=v._findNextWordOnLine(a,u,h);return c&&n(c)?t(c):o&&c?l(o.end+1,c.start+1):o?l(o.start+1,o.end+1):c?l(c.start+1,c.end+1):l(1,r+1)}static _deleteWordPartLeft(a,u){if(!u.isEmpty())return u;const h=u.getPosition(),d=v._moveWordPartLeft(a,h);return new p.Range(h.lineNumber,h.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(a,u){let h=a.length;for(let d=u;d<h;d++){let r=a.charAt(d);if(r!==" "&&r!=="	")return d}return h}static _deleteWordRightWhitespace(a,u){const h=a.getLineContent(u.lineNumber),d=u.column-1,r=this._findFirstNonWhitespaceChar(h,d);return d+1<r?new p.Range(u.lineNumber,u.column,u.lineNumber,r+1):null}static deleteWordRight(a,u){const h=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;const l=new S.Position(r.positionLineNumber,r.positionColumn);let t=l.lineNumber,o=l.column;const c=d.getLineCount(),f=d.getLineMaxColumn(t);if(t===c&&o===f)return null;if(n){let b=this._deleteWordRightWhitespace(d,l);if(b)return b}let y=v._findNextWordOnLine(h,d,l);return u===2?y?o=y.end+1:o<f||t===c?o=f:(t++,y=v._findNextWordOnLine(h,d,new S.Position(t,1)),y?o=y.start+1:o=d.getLineMaxColumn(t)):(y&&o>=y.start+1&&(y=v._findNextWordOnLine(h,d,new S.Position(t,y.end+1))),y?o=y.start+1:o<f||t===c?o=f:(t++,y=v._findNextWordOnLine(h,d,new S.Position(t,1)),y?o=y.start+1:o=d.getLineMaxColumn(t))),new p.Range(t,o,l.lineNumber,l.column)}static _deleteWordPartRight(a,u){if(!u.isEmpty())return u;const h=u.getPosition(),d=v._moveWordPartRight(a,h);return new p.Range(h.lineNumber,h.column,d.lineNumber,d.column)}static _createWordAtPosition(a,u,h){const d=new p.Range(u,h.start+1,u,h.end+1);return{word:a.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(a,u,h){const d=(0,L.getMapForWordSeparators)(u),r=v._findPreviousWordOnLine(d,a,h);if(r&&r.wordType===1&&r.start<=h.column-1&&h.column-1<=r.end)return v._createWordAtPosition(a,h.lineNumber,r);const n=v._findNextWordOnLine(d,a,h);return n&&n.wordType===1&&n.start<=h.column-1&&h.column-1<=n.end?v._createWordAtPosition(a,h.lineNumber,n):null}static word(a,u,h,d,r){const n=(0,L.getMapForWordSeparators)(a.wordSeparators);let l=v._findPreviousWordOnLine(n,u,r),t=v._findNextWordOnLine(n,u,r);if(!d){let b,g;return l&&l.wordType===1&&l.start<=r.column-1&&r.column-1<=l.end?(b=l.start+1,g=l.end+1):t&&t.wordType===1&&t.start<=r.column-1&&r.column-1<=t.end?(b=t.start+1,g=t.end+1):(l?b=l.end+1:b=1,t?g=t.start+1:g=u.getLineMaxColumn(r.lineNumber)),new N.SingleCursorState(new p.Range(r.lineNumber,b,r.lineNumber,g),0,new S.Position(r.lineNumber,g),0)}let o,c;l&&l.wordType===1&&l.start<r.column-1&&r.column-1<l.end?(o=l.start+1,c=l.end+1):t&&t.wordType===1&&t.start<r.column-1&&r.column-1<t.end?(o=t.start+1,c=t.end+1):(o=r.column,c=r.column);let f=r.lineNumber,y;if(h.selectionStart.containsPosition(r))y=h.selectionStart.endColumn;else if(r.isBeforeOrEqual(h.selectionStart.getStartPosition())){y=o;let b=new S.Position(f,y);h.selectionStart.containsPosition(b)&&(y=h.selectionStart.endColumn)}else{y=c;let b=new S.Position(f,y);h.selectionStart.containsPosition(b)&&(y=h.selectionStart.startColumn)}return h.move(!0,f,y,0)}}e.WordOperations=v;class i extends v{static deleteWordPartLeft(a){const u=C([v.deleteWordLeft(a,0),v.deleteWordLeft(a,2),v._deleteWordPartLeft(a.model,a.selection)]);return u.sort(p.Range.compareRangesUsingEnds),u[2]}static deleteWordPartRight(a){const u=C([v.deleteWordRight(a,0),v.deleteWordRight(a,2),v._deleteWordPartRight(a.model,a.selection)]);return u.sort(p.Range.compareRangesUsingStarts),u[0]}static moveWordPartLeft(a,u,h){const d=C([v.moveWordLeft(a,u,h,0),v.moveWordLeft(a,u,h,2),v._moveWordPartLeft(u,h)]);return d.sort(S.Position.compare),d[2]}static moveWordPartRight(a,u,h){const d=C([v.moveWordRight(a,u,h,0),v.moveWordRight(a,u,h,2),v._moveWordPartRight(u,h)]);return d.sort(S.Position.compare),d[0]}}e.WordPartOperations=i;function C(s){return s.filter(a=>Boolean(a))}}),define(te[266],ne([0,1,20,42,193,148,13,3]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(s,a,u){let h=[],d=0;for(let r=0,n=a.length;r<n;r++){const l=a[r];h[d++]=new N.CursorState(l.modelState,l.viewState),u?h[d++]=N.CursorState.fromModelState(I.MoveOperations.translateDown(s.cursorConfig,s.model,l.modelState)):h[d++]=N.CursorState.fromViewState(I.MoveOperations.translateDown(s.cursorConfig,s,l.viewState))}return h}static addCursorUp(s,a,u){let h=[],d=0;for(let r=0,n=a.length;r<n;r++){const l=a[r];h[d++]=new N.CursorState(l.modelState,l.viewState),u?h[d++]=N.CursorState.fromModelState(I.MoveOperations.translateUp(s.cursorConfig,s.model,l.modelState)):h[d++]=N.CursorState.fromViewState(I.MoveOperations.translateUp(s.cursorConfig,s,l.viewState))}return h}static moveToBeginningOfLine(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];h[d]=this._moveToLineStart(s,n,u)}return h}static _moveToLineStart(s,a,u){const h=a.viewState.position.column,d=a.modelState.position.column,r=h===d,n=a.viewState.position.lineNumber,l=s.getLineFirstNonWhitespaceColumn(n);return!r&&!(h===l)?this._moveToLineStartByView(s,a,u):this._moveToLineStartByModel(s,a,u)}static _moveToLineStartByView(s,a,u){return N.CursorState.fromViewState(I.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,a.viewState,u))}static _moveToLineStartByModel(s,a,u){return N.CursorState.fromModelState(I.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,a.modelState,u))}static moveToEndOfLine(s,a,u,h){let d=[];for(let r=0,n=a.length;r<n;r++){const l=a[r];d[r]=this._moveToLineEnd(s,l,u,h)}return d}static _moveToLineEnd(s,a,u,h){const d=a.viewState.position,r=s.getLineMaxColumn(d.lineNumber),n=d.column===r,l=a.modelState.position,t=s.model.getLineMaxColumn(l.lineNumber),o=r-d.column==t-l.column;return n||o?this._moveToLineEndByModel(s,a,u,h):this._moveToLineEndByView(s,a,u,h)}static _moveToLineEndByView(s,a,u,h){return N.CursorState.fromViewState(I.MoveOperations.moveToEndOfLine(s.cursorConfig,s,a.viewState,u,h))}static _moveToLineEndByModel(s,a,u,h){return N.CursorState.fromModelState(I.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,a.modelState,u,h))}static expandLineSelection(s,a){let u=[];for(let h=0,d=a.length;h<d;h++){const r=a[h],n=r.modelState.selection.startLineNumber,l=s.model.getLineCount();let t=r.modelState.selection.endLineNumber,o;t===l?o=s.model.getLineMaxColumn(l):(t++,o=1),u[h]=N.CursorState.fromModelState(new N.SingleCursorState(new p.Range(n,1,n,1),0,new S.Position(t,o),0))}return u}static moveToBeginningOfBuffer(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];h[d]=N.CursorState.fromModelState(I.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,n.modelState,u))}return h}static moveToEndOfBuffer(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];h[d]=N.CursorState.fromModelState(I.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,n.modelState,u))}return h}static selectAll(s,a){const u=s.model.getLineCount(),h=s.model.getLineMaxColumn(u);return N.CursorState.fromModelState(new N.SingleCursorState(new p.Range(1,1,1,1),0,new S.Position(u,h),0))}static line(s,a,u,h,d){const r=s.model.validatePosition(h),n=d?s.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),r):s.coordinatesConverter.convertModelPositionToViewPosition(r);if(!u||!a.modelState.hasSelection()){const t=s.model.getLineCount();let o=r.lineNumber+1,c=1;return o>t&&(o=t,c=s.model.getLineMaxColumn(o)),N.CursorState.fromModelState(new N.SingleCursorState(new p.Range(r.lineNumber,1,o,c),0,new S.Position(o,c),0))}const l=a.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<l)return N.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),n.lineNumber,1,0));if(r.lineNumber>l){const t=s.getLineCount();let o=n.lineNumber+1,c=1;return o>t&&(o=t,c=s.getLineMaxColumn(o)),N.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),o,c,0))}else{const t=a.modelState.selectionStart.getEndPosition();return N.CursorState.fromModelState(a.modelState.move(a.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(s,a,u,h){const d=s.model.validatePosition(h);return N.CursorState.fromModelState(L.WordOperations.word(s.cursorConfig,s.model,a.modelState,u,d))}static cancelSelection(s,a){if(!a.modelState.hasSelection())return new N.CursorState(a.modelState,a.viewState);const u=a.viewState.position.lineNumber,h=a.viewState.position.column;return N.CursorState.fromViewState(new N.SingleCursorState(new p.Range(u,h,u,h),0,new S.Position(u,h),0))}static moveTo(s,a,u,h,d){const r=s.model.validatePosition(h),n=d?s.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),r):s.coordinatesConverter.convertModelPositionToViewPosition(r);return N.CursorState.fromViewState(a.viewState.move(u,n.lineNumber,n.column,0))}static simpleMove(s,a,u,h,d,r){switch(u){case 0:return r===4?this._moveHalfLineLeft(s,a,h):this._moveLeft(s,a,h,d);case 1:return r===4?this._moveHalfLineRight(s,a,h):this._moveRight(s,a,h,d);case 2:return r===2?this._moveUpByViewLines(s,a,h,d):this._moveUpByModelLines(s,a,h,d);case 3:return r===2?this._moveDownByViewLines(s,a,h,d):this._moveDownByModelLines(s,a,h,d);case 4:return r===2?a.map(n=>N.CursorState.fromViewState(I.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,n.viewState,h))):a.map(n=>N.CursorState.fromModelState(I.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,n.modelState,h)));case 5:return r===2?a.map(n=>N.CursorState.fromViewState(I.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,n.viewState,h))):a.map(n=>N.CursorState.fromModelState(I.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,n.modelState,h)));case 6:return this._moveToViewMinColumn(s,a,h);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,a,h);case 8:return this._moveToViewCenterColumn(s,a,h);case 9:return this._moveToViewMaxColumn(s,a,h);case 10:return this._moveToViewLastNonWhitespaceColumn(s,a,h);default:return null}}static viewportMove(s,a,u,h,d){const r=s.getCompletelyVisibleViewRange(),n=s.coordinatesConverter.convertViewRangeToModelRange(r);switch(u){case 11:{const l=this._firstLineNumberInRange(s.model,n,d),t=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,a[0],h,l,t)]}case 13:{const l=this._lastLineNumberInRange(s.model,n,d),t=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,a[0],h,l,t)]}case 12:{const l=Math.round((n.startLineNumber+n.endLineNumber)/2),t=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,a[0],h,l,t)]}case 14:{let l=[];for(let t=0,o=a.length;t<o;t++){const c=a[t];l[t]=this.findPositionInViewportIfOutside(s,c,r,h)}return l}default:return null}}static findPositionInViewportIfOutside(s,a,u,h){let d=a.viewState.position.lineNumber;if(u.startLineNumber<=d&&d<=u.endLineNumber-1)return new N.CursorState(a.modelState,a.viewState);{d>u.endLineNumber-1&&(d=u.endLineNumber-1),d<u.startLineNumber&&(d=u.startLineNumber);const r=s.getLineFirstNonWhitespaceColumn(d);return this._moveToViewPosition(s,a,h,d,r)}}static _firstLineNumberInRange(s,a,u){let h=a.startLineNumber;return a.startColumn!==s.getLineMinColumn(h)&&h++,Math.min(a.endLineNumber,h+u-1)}static _lastLineNumberInRange(s,a,u){let h=a.startLineNumber;return a.startColumn!==s.getLineMinColumn(h)&&h++,Math.max(h,a.endLineNumber-u+1)}static _moveLeft(s,a,u,h){return a.map(d=>N.CursorState.fromViewState(I.MoveOperations.moveLeft(s.cursorConfig,s,d.viewState,u,h)))}static _moveHalfLineLeft(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=Math.round(s.getLineContent(l).length/2);h[d]=N.CursorState.fromViewState(I.MoveOperations.moveLeft(s.cursorConfig,s,n.viewState,u,t))}return h}static _moveRight(s,a,u,h){return a.map(d=>N.CursorState.fromViewState(I.MoveOperations.moveRight(s.cursorConfig,s,d.viewState,u,h)))}static _moveHalfLineRight(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=Math.round(s.getLineContent(l).length/2);h[d]=N.CursorState.fromViewState(I.MoveOperations.moveRight(s.cursorConfig,s,n.viewState,u,t))}return h}static _moveDownByViewLines(s,a,u,h){let d=[];for(let r=0,n=a.length;r<n;r++){const l=a[r];d[r]=N.CursorState.fromViewState(I.MoveOperations.moveDown(s.cursorConfig,s,l.viewState,u,h))}return d}static _moveDownByModelLines(s,a,u,h){let d=[];for(let r=0,n=a.length;r<n;r++){const l=a[r];d[r]=N.CursorState.fromModelState(I.MoveOperations.moveDown(s.cursorConfig,s.model,l.modelState,u,h))}return d}static _moveUpByViewLines(s,a,u,h){let d=[];for(let r=0,n=a.length;r<n;r++){const l=a[r];d[r]=N.CursorState.fromViewState(I.MoveOperations.moveUp(s.cursorConfig,s,l.viewState,u,h))}return d}static _moveUpByModelLines(s,a,u,h){let d=[];for(let r=0,n=a.length;r<n;r++){const l=a[r];d[r]=N.CursorState.fromModelState(I.MoveOperations.moveUp(s.cursorConfig,s.model,l.modelState,u,h))}return d}static _moveToViewPosition(s,a,u,h,d){return N.CursorState.fromViewState(a.viewState.move(u,h,d,0))}static _moveToModelPosition(s,a,u,h,d){return N.CursorState.fromModelState(a.modelState.move(u,h,d,0))}static _moveToViewMinColumn(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=s.getLineMinColumn(l);h[d]=this._moveToViewPosition(s,n,u,l,t)}return h}static _moveToViewFirstNonWhitespaceColumn(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=s.getLineFirstNonWhitespaceColumn(l);h[d]=this._moveToViewPosition(s,n,u,l,t)}return h}static _moveToViewCenterColumn(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=Math.round((s.getLineMaxColumn(l)+s.getLineMinColumn(l))/2);h[d]=this._moveToViewPosition(s,n,u,l,t)}return h}static _moveToViewMaxColumn(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=s.getLineMaxColumn(l);h[d]=this._moveToViewPosition(s,n,u,l,t)}return h}static _moveToViewLastNonWhitespaceColumn(s,a,u){let h=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],l=n.viewState.position.lineNumber,t=s.getLineLastNonWhitespaceColumn(l);h[d]=this._moveToViewPosition(s,n,u,l,t)}return h}}e.CursorMoveCommands=v;var i;(function(C){const s=function(u){if(!_.isObject(u))return!1;let h=u;return!(!_.isString(h.to)||!_.isUndefined(h.select)&&!_.isBoolean(h.select)||!_.isUndefined(h.by)&&!_.isString(h.by)||!_.isUndefined(h.value)&&!_.isNumber(h.value))};C.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(u){if(!u.to)return null;let h;switch(u.to){case C.RawDirection.Left:h=0;break;case C.RawDirection.Right:h=1;break;case C.RawDirection.Up:h=2;break;case C.RawDirection.Down:h=3;break;case C.RawDirection.PrevBlankLine:h=4;break;case C.RawDirection.NextBlankLine:h=5;break;case C.RawDirection.WrappedLineStart:h=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:h=7;break;case C.RawDirection.WrappedLineColumnCenter:h=8;break;case C.RawDirection.WrappedLineEnd:h=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:h=10;break;case C.RawDirection.ViewPortTop:h=11;break;case C.RawDirection.ViewPortBottom:h=13;break;case C.RawDirection.ViewPortCenter:h=12;break;case C.RawDirection.ViewPortIfOutside:h=14;break;default:return null}let d=0;switch(u.by){case C.RawUnit.Line:d=1;break;case C.RawUnit.WrappedLine:d=2;break;case C.RawUnit.Character:d=3;break;case C.RawUnit.HalfLine:d=4;break}return{direction:h,unit:d,select:!!u.select,value:u.value||1}}C.parse=a})(i=e.CursorMove||(e.CursorMove={}))}),define(te[613],ne([0,1,42,13,3,21]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new _.SingleCursorState(new I.Range(1,1,1,1),0,new N.Position(1,1),0),new _.SingleCursorState(new I.Range(1,1,1,1),0,new N.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new _.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const i=v.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new L.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new L.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,i,C){this._setState(v,i,C)}static _validatePositionWithCache(v,i,C,s){return i.equals(C)?s:v.normalizePosition(i,2)}static _validateViewState(v,i){const C=i.position,s=i.selectionStart.getStartPosition(),a=i.selectionStart.getEndPosition(),u=v.normalizePosition(C,2),h=this._validatePositionWithCache(v,s,C,u),d=this._validatePositionWithCache(v,a,s,h);return C.equals(u)&&s.equals(h)&&a.equals(d)?i:new _.SingleCursorState(I.Range.fromPositions(h,d),i.selectionStartLeftoverVisibleColumns+s.column-h.column,u,i.leftoverVisibleColumns+C.column-u.column)}_setState(v,i,C){if(C&&(C=S._validateViewState(v.viewModel,C)),i){const s=v.model.validateRange(i.selectionStart),a=i.selectionStart.equalsRange(s)?i.selectionStartLeftoverVisibleColumns:0,u=v.model.validatePosition(i.position),h=i.position.equals(u)?i.leftoverVisibleColumns:0;i=new _.SingleCursorState(s,a,u,h)}else{if(!C)return;const s=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),a=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(C.position));i=new _.SingleCursorState(s,C.selectionStartLeftoverVisibleColumns,a,C.leftoverVisibleColumns)}if(C){const s=v.coordinatesConverter.validateViewRange(C.selectionStart,i.selectionStart),a=v.coordinatesConverter.validateViewPosition(C.position,i.position);C=new _.SingleCursorState(s,i.selectionStartLeftoverVisibleColumns,a,i.leftoverVisibleColumns)}else{const s=v.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),a=v.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),u=new I.Range(s.lineNumber,s.column,a.lineNumber,a.column),h=v.coordinatesConverter.convertModelPositionToViewPosition(i.position);C=new _.SingleCursorState(u,i.selectionStartLeftoverVisibleColumns,h,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=C,this._updateTrackedRange(v)}}e.Cursor=S}),define(te[614],ne([0,1,42,613,21]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class L{constructor(p){this.context=p,this.primaryCursor=new N.Cursor(p),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let p=0,v=this.secondaryCursors.length;p<v;p++)this.secondaryCursors[p].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let p=0,v=this.secondaryCursors.length;p<v;p++)this.secondaryCursors[p].stopTrackingSelection(this.context)}updateContext(p){this.context=p}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let p=0,v=this.secondaryCursors.length;p<v;p++)this.secondaryCursors[p].ensureValidState(this.context)}readSelectionFromMarkers(){let p=[];p[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].readSelectionFromMarkers(this.context);return p}getAll(){let p=[];p[0]=this.primaryCursor.asCursorState();for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].asCursorState();return p}getViewPositions(){let p=[];p[0]=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].viewState.position;return p}getTopMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++){const C=this.secondaryCursors[v].viewState.position;C.isBefore(p)&&(p=C)}return p}getBottomMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++){const C=this.secondaryCursors[v].viewState.position;p.isBeforeOrEqual(C)&&(p=C)}return p}getSelections(){let p=[];p[0]=this.primaryCursor.modelState.selection;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].modelState.selection;return p}getViewSelections(){let p=[];p[0]=this.primaryCursor.viewState.selection;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].viewState.selection;return p}setSelections(p){this.setStates(_.CursorState.fromModelSelections(p))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(p){p!==null&&(this.primaryCursor.setState(this.context,p[0].modelState,p[0].viewState),this._setSecondaryStates(p.slice(1)))}_setSecondaryStates(p){const v=this.secondaryCursors.length,i=p.length;if(v<i){let C=i-v;for(let s=0;s<C;s++)this._addSecondaryCursor()}else if(v>i){let C=v-i;for(let s=0;s<C;s++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let C=0;C<i;C++)this.secondaryCursors[C].setState(this.context,p[C].modelState,p[C].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(p){this.lastAddedCursorIndex>=p+1&&this.lastAddedCursorIndex--,this.secondaryCursors[p].dispose(this.context),this.secondaryCursors.splice(p,1)}_getAll(){let p=[];p[0]=this.primaryCursor;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v];return p}normalize(){if(this.secondaryCursors.length===0)return;let p=this._getAll(),v=[];for(let i=0,C=p.length;i<C;i++)v.push({index:i,selection:p[i].modelState.selection});v.sort((i,C)=>i.selection.startLineNumber===C.selection.startLineNumber?i.selection.startColumn-C.selection.startColumn:i.selection.startLineNumber-C.selection.startLineNumber);for(let i=0;i<v.length-1;i++){const C=v[i],s=v[i+1],a=C.selection,u=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let h;if(u.isEmpty()||a.isEmpty()?h=u.getStartPosition().isBeforeOrEqual(a.getEndPosition()):h=u.getStartPosition().isBefore(a.getEndPosition()),h){const d=C.index<s.index?i:i+1,r=C.index<s.index?i+1:i,n=v[r].index,l=v[d].index,t=v[r].selection,o=v[d].selection;if(!t.equalsSelection(o)){const c=t.plusRange(o),f=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,y=o.selectionStartLineNumber===o.startLineNumber&&o.selectionStartColumn===o.startColumn;let b;n===this.lastAddedCursorIndex?(b=f,this.lastAddedCursorIndex=l):b=y;let g;b?g=new I.Selection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn):g=new I.Selection(c.endLineNumber,c.endColumn,c.startLineNumber,c.startColumn),v[d].selection=g;const m=_.CursorState.fromModelSelection(g);p[l].setState(this.context,m.modelState,m.viewState)}for(const c of v)c.index>n&&c.index--;p.splice(n,1),v.splice(r,1),this._removeSecondaryCursor(n-1),i--}}}}e.CursorCollection=L}),define(te[267],ne([0,1,10,8,614,42,194,195,3,21,97,178,2,180]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=e.CursorModelState=void 0;class h{constructor(t,o){this.modelVersionId=t.getVersionId(),this.cursorState=o.getCursorStates()}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let o=0,c=this.cursorState.length;o<c;o++)if(!this.cursorState[o].equals(t.cursorState[o]))return!1;return!0}}e.CursorModelState=h;class d{constructor(t,o,c){this._model=t,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=c}static getAllAutoClosedCharacters(t){let o=[];for(const c of t)o=o.concat(c.getAutoClosedCharactersRanges());return o}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let t=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const c=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);c&&t.push(c)}return t}isValid(t){let o=[];for(let c=0;c<this._autoClosedEnclosingDecorations.length;c++){const f=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[c]);if(f&&(o.push(f),f.startLineNumber!==f.endLineNumber))return!1}o.sort(v.Range.compareRangesUsingStarts),t.sort(v.Range.compareRangesUsingStarts);for(let c=0;c<t.length;c++)if(c>=o.length||!o[c].strictContainsRange(t[c]))return!1;return!0}}class r extends a.Disposable{constructor(t,o,c,f){super();this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=c,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,f),this._cursors=new I.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,a.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let t=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const c=this._autoClosedActions[o];c.isValid(t)||(c.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,o,c,f){let y=!1;f!==null&&f.length>r.MAX_CURSOR_COUNT&&(f=f.slice(0,r.MAX_CURSOR_COUNT),y=!0);const b=new h(this._model,this);return this._cursors.setStates(f),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,o,c,b,y)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,o,c,f){const y=this._cursors.getViewPositions();if(y.length>1){this._emitCursorRevealRange(t,o,null,this._cursors.getViewSelections(),0,c,f);return}else{const b=y[0],g=new v.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._emitCursorRevealRange(t,o,g,null,0,c,f)}}_revealPrimaryCursor(t,o,c,f,y){const b=this._cursors.getViewPositions();if(b.length>1)this._emitCursorRevealRange(t,o,null,this._cursors.getViewSelections(),c,f,y);else{const g=b[0],m=new v.Range(g.lineNumber,g.column,g.lineNumber,g.column);this._emitCursorRevealRange(t,o,m,null,c,f,y)}}_emitCursorRevealRange(t,o,c,f,y,b,g){t.emitViewEvent(new s.ViewRevealRangeRequestEvent(o,c,f,y,b,g))}saveState(){let t=[];const o=this._cursors.getSelections();for(let c=0,f=o.length;c<f;c++){const y=o[c];t.push({inSelectionMode:!y.isEmpty(),selectionStart:{lineNumber:y.selectionStartLineNumber,column:y.selectionStartColumn},position:{lineNumber:y.positionLineNumber,column:y.positionColumn}})}return t}restoreState(t,o){let c=[];for(let f=0,y=o.length;f<y;f++){const b=o[f];let g=1,m=1;b.position&&b.position.lineNumber&&(g=b.position.lineNumber),b.position&&b.position.column&&(m=b.position.column);let w=g,D=m;b.selectionStart&&b.selectionStart.lineNumber&&(w=b.selectionStart.lineNumber),b.selectionStart&&b.selectionStart.column&&(D=b.selectionStart.column),c.push({selectionStartLineNumber:w,selectionStartColumn:D,positionLineNumber:g,positionColumn:m})}this.setStates(t,"restoreState",0,L.CursorState.fromModelSelections(c)),this.revealPrimary(t,"restoreState",!0,1)}onModelContentChanged(t,o){if(o instanceof C.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=o.versionId,this._isHandling)return;const c=o.containsEvent(1);if(this._prevEditOperationType=0,c)this._cursors.dispose(),this._cursors=new I.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&o.resultingSelection&&o.resultingSelection.length>0){const f=L.CursorState.fromModelSelections(o.resultingSelection);this.setStates(t,"modelChange",o.isUndoing?5:o.isRedoing?6:2,f)&&this._revealPrimaryCursor(t,"modelChange",0,!0,0)}else{const f=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,L.CursorState.fromModelSelections(f))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),o=t.viewState.selectionStart.getStartPosition(),c=t.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:L.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o),toViewLineNumber:c.lineNumber,toViewVisualColumn:L.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,c)}}getSelections(){return this._cursors.getSelections()}setSelections(t,o,c,f){this.setStates(t,o,f,L.CursorState.fromModelSelections(c))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,o){let c=[],f=[];for(let g=0,m=t.length;g<m;g++)c.push({range:t[g],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),f.push({range:o[g],options:{description:"auto-closed-enclosing",stickiness:1}});const y=this._model.deltaDecorations([],c),b=this._model.deltaDecorations([],f);this._autoClosedActions.push(new d(this._model,y,b))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const o=n.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(o){this._interpretCommandResult(o);let c=[],f=[];for(let y=0;y<t.commands.length;y++){const b=t.commands[y];b instanceof p.TypeWithAutoClosingCommand&&b.enclosingRange&&b.closeCharacterRange&&(c.push(b.closeCharacterRange),f.push(b.enclosingRange))}c.length>0&&this._pushAutoClosedAction(c,f),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,o,c,f,y){const b=new h(this._model,this);if(b.equals(f))return!1;const g=this._cursors.getSelections(),m=this._cursors.getViewSelections();if(t.emitViewEvent(new s.ViewCursorStateChangedEvent(m,g)),!f||f.cursorState.length!==b.cursorState.length||b.cursorState.some((w,D)=>!w.modelState.equals(f.cursorState[D].modelState))){const w=f?f.cursorState.map(k=>k.modelState.selection):null,D=f?f.modelVersionId:0;t.emitOutgoingEvent(new u.CursorStateChangedEvent(w,g,D,b.modelVersionId,o||"keyboard",c,y))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;let o=[];for(let c=0,f=t.length;c<f;c++){const y=t[c];if(!y.text||y.text.indexOf(`
`)>=0)return null;const b=y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!b)return null;const g=b[1],m=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(g);if(!m||m.length!==1)return null;const w=m[0].open,D=y.text.length-b[2].length-1,k=y.text.lastIndexOf(w,D-1);if(k===-1)return null;o.push([k,D])}return o}executeEdits(t,o,c,f){let y=null;o==="snippet"&&(y=this._findAutoClosingPairs(c)),y&&(c[0]._isTracked=!0);let b=[],g=[];const m=this._model.pushEditOperations(this.getSelections(),c,w=>{if(y)for(let k=0,T=y.length;k<T;k++){const[R,M]=y[k],A=w[k],O=A.range.startLineNumber,P=A.range.startColumn-1+R,F=A.range.startColumn-1+M;b.push(new v.Range(O,F+1,O,F+2)),g.push(new v.Range(O,P+1,O,F+2))}const D=f(w);return D&&(this._isHandling=!0),D});m&&(this._isHandling=!1,this.setSelections(t,o,m,0)),b.length>0&&this._pushAutoClosedAction(b,g)}_executeEdit(t,o,c,f=0){if(this.context.cursorConfig.readOnly)return;const y=new h(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(b){(0,_.onUnexpectedError)(b)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,c,f,y,!1)&&this._revealPrimaryCursor(o,c,0,!0,0)}setIsDoingComposition(t){this._isDoingComposition=t}getAutoClosedCharacters(){return d.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(t,o){this._executeEdit(()=>{o==="keyboard"&&(this._executeEditOperation(p.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},t,o)}type(t,o,c){this._executeEdit(()=>{if(c==="keyboard"){const f=o.length;let y=0;for(;y<f;){const b=N.nextCharLength(o,y),g=o.substr(y,b);this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),g)),y+=b}}else this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},t,c)}compositionType(t,o,c,f,y,b){if(o.length===0&&c===0&&f===0){if(y!==0){const g=this.getSelections().map(m=>{const w=m.getPosition();return new i.Selection(w.lineNumber,w.column+y,w.lineNumber,w.column+y)});this.setSelections(t,b,g,0)}return}this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,c,f,y))},t,b)}paste(t,o,c,f,y){this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),o,c,f||[]))},t,y,4)}cut(t,o){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,o)}executeCommand(t,o,c){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new L.EditOperationResult(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,c)}executeCommands(t,o,c){this._executeEdit(()=>{this._executeEditOperation(new L.EditOperationResult(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,c)}}e.CursorsController=r,r.MAX_CURSOR_COUNT=1e4;class n{static executeCommands(t,o,c){const f={model:t,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},y=this._innerExecuteCommands(f,c);for(let b=0,g=f.trackedRanges.length;b<g;b++)f.model._setTrackedRange(f.trackedRanges[b],null,0);return y}static _innerExecuteCommands(t,o){if(this._arrayIsEmpty(o))return null;const c=this._getEditOperations(t,o);if(c.operations.length===0)return null;const f=c.operations,y=this._getLoserCursorMap(f);if(y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let b=[];for(let w=0,D=f.length;w<D;w++)y.hasOwnProperty(f[w].identifier.major.toString())||b.push(f[w]);c.hadTrackedEditOperation&&b.length>0&&(b[0]._isTracked=!0);let g=t.model.pushEditOperations(t.selectionsBefore,b,w=>{let D=[];for(let R=0;R<t.selectionsBefore.length;R++)D[R]=[];for(const R of w)!R.identifier||D[R.identifier.major].push(R);const k=(R,M)=>R.identifier.minor-M.identifier.minor;let T=[];for(let R=0;R<t.selectionsBefore.length;R++)D[R].length>0?(D[R].sort(k),T[R]=o[R].computeCursorState(t.model,{getInverseEditOperations:()=>D[R],getTrackedSelection:M=>{const A=parseInt(M,10),O=t.model._getTrackedRange(t.trackedRanges[A]);return t.trackedRangesDirection[A]===0?new i.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new i.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):T[R]=t.selectionsBefore[R];return T});g||(g=t.selectionsBefore);let m=[];for(let w in y)y.hasOwnProperty(w)&&m.push(parseInt(w,10));m.sort((w,D)=>D-w);for(const w of m)g.splice(w,1);return g}static _arrayIsEmpty(t){for(let o=0,c=t.length;o<c;o++)if(t[o])return!1;return!0}static _getEditOperations(t,o){let c=[],f=!1;for(let y=0,b=o.length;y<b;y++){const g=o[y];if(g){const m=this._getEditOperationsFromCommand(t,y,g);c=c.concat(m.operations),f=f||m.hadTrackedEditOperation}}return{operations:c,hadTrackedEditOperation:f}}static _getEditOperationsFromCommand(t,o,c){let f=[],y=0;const b=(k,T,R=!1)=>{v.Range.isEmpty(k)&&T===""||f.push({identifier:{major:o,minor:y++},range:k,text:T,forceMoveMarkers:R,isAutoWhitespaceEdit:c.insertsAutoWhitespace})};let g=!1;const D={addEditOperation:b,addTrackedEditOperation:(k,T,R)=>{g=!0,b(k,T,R)},trackSelection:(k,T)=>{const R=i.Selection.liftSelection(k);let M;if(R.isEmpty())if(typeof T=="boolean")T?M=2:M=3;else{const P=t.model.getLineMaxColumn(R.startLineNumber);R.startColumn===P?M=2:M=3}else M=1;const A=t.trackedRanges.length,O=t.model._setTrackedRange(null,R,M);return t.trackedRanges[A]=O,t.trackedRangesDirection[A]=R.getDirection(),A.toString()}};try{c.getEditOperations(t.model,D)}catch(k){return(0,_.onUnexpectedError)(k),{operations:[],hadTrackedEditOperation:!1}}return{operations:f,hadTrackedEditOperation:g}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((c,f)=>-v.Range.compareRangesUsingEnds(c.range,f.range));let o={};for(let c=1;c<t.length;c++){const f=t[c-1],y=t[c];if(v.Range.getStartPosition(f.range).isBefore(v.Range.getEndPosition(y.range))){let b;f.identifier.major>y.identifier.major?b=f.identifier.major:b=y.identifier.major,o[b.toString()]=!0;for(let g=0;g<t.length;g++)t[g].identifier.major===b&&(t.splice(g,1),g<c&&c--,g--);c>0&&c--}}return o}}}),define(te[615],ne([0,1,89,2,53,12,46,38,3,47,6,22,49]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class u extends N.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register((0,N.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,n){const l=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(l,n);for(let o=0;o<t.length;o++)this._markersData.set(t[o],r[o]);return l.length!==0||t.length!==0}getMarker(r){return this._markersData.get(r.id)}}let h=class extends N.Disposable{constructor(r,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new a.ResourceMap,r.getModels().forEach(l=>this._onModelAdded(l)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,n){const l=this._markerDecorations.get(r);return l&&l.getMarker(n)||null}_handleMarkerChange(r){r.forEach(n=>{const l=this._markerDecorations.get(n);l&&this._updateDecorations(l)})}_onModelAdded(r){const n=new u(r);this._markerDecorations.set(r.uri,n),this._updateDecorations(n)}_onModelRemoved(r){const n=this._markerDecorations.get(r.uri);n&&(n.dispose(),this._markerDecorations.delete(r.uri)),(r.uri.scheme===i.Schemas.inMemory||r.uri.scheme===i.Schemas.internal||r.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(l=>l.owner).forEach(l=>this._markerService.remove(l,[r.uri]))}_updateDecorations(r){const n=this._markerService.read({resource:r.model.uri,take:500});let l=n.map(t=>({range:this._createDecorationRange(r.model,t),options:this._createDecorationOption(t)}));r.update(n,l)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,n){let l=v.Range.lift(n);if(n.severity===_.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(l=l.setEndPosition(l.startLineNumber,l.startColumn+2)),l=r.validateRange(l),l.isEmpty()){let t=r.getWordAtPosition(l.getStartPosition());if(t)l=new v.Range(l.startLineNumber,t.startColumn,l.endLineNumber,t.endColumn);else{let o=r.getLineLastNonWhitespaceColumn(l.startLineNumber)||r.getLineMaxColumn(l.startLineNumber);o===1||(l.endColumn>=o?l=new v.Range(l.startLineNumber,o-1,l.endLineNumber,o):l=new v.Range(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&l.startLineNumber===l.endLineNumber){let t=r.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<l.endColumn&&(l=new v.Range(l.startLineNumber,t,l.endLineNumber,l.endColumn),n.startColumn=t)}return l}_createDecorationOption(r){let n,l,t,o,c;switch(r.severity){case _.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?n=void 0:this._hasMarkerTag(r,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case _.MarkerSeverity.Warning:n="squiggly-warning",l=(0,L.themeColorFromId)(S.overviewRulerWarning),t=20,c={color:(0,L.themeColorFromId)(s.minimapWarning),position:I.MinimapPosition.Inline};break;case _.MarkerSeverity.Info:n="squiggly-info",l=(0,L.themeColorFromId)(S.overviewRulerInfo),t=10;break;case _.MarkerSeverity.Error:default:n="squiggly-error",l=(0,L.themeColorFromId)(S.overviewRulerError),t=30,c={color:(0,L.themeColorFromId)(s.minimapError),position:I.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:l,position:I.OverviewRulerLane.Right},minimap:c,zIndex:t,inlineClassName:o}}_hasMarkerTag(r,n){return r.tags?r.tags.indexOf(n)>=0:!1}};h=Re([me(0,p.IModelService),me(1,_.IMarkerService)],h),e.MarkerDecorationsService=h}),define(te[616],ne([0,1,19,87,13,3,31,178,229,63,97]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class s{constructor(g){this._lines=g}convertViewPositionToModelPosition(g){return this._lines.convertViewPositionToModelPosition(g.lineNumber,g.column)}convertViewRangeToModelRange(g){return this._lines.convertViewRangeToModelRange(g)}validateViewPosition(g,m){return this._lines.validateViewPosition(g.lineNumber,g.column,m)}validateViewRange(g,m){return this._lines.validateViewRange(g,m)}convertModelPositionToViewPosition(g,m){return this._lines.convertModelPositionToViewPosition(g.lineNumber,g.column,m)}convertModelRangeToViewRange(g,m){return this._lines.convertModelRangeToViewRange(g,m)}modelPositionIsVisible(g){return this._lines.modelPositionIsVisible(g.lineNumber,g.column)}getModelLineViewLineCount(g){return this._lines.getModelLineViewLineCount(g)}}e.CoordinatesConverter=s;class a{constructor(g){this._counts=g,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(g){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,g-1)}_ensureValid(){if(!this._isValid){for(let g=this._validEndIndex+1,m=this._counts.length;g<m;g++){const w=this._counts[g],D=g>0?this._modelToView[g-1]:0;this._modelToView[g]=D+w;for(let k=0;k<w;k++)this._viewToModel[D+k]=g}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(g,m){this._counts[g]!==m&&(this._counts[g]=m,this._invalidate(g))}removeValues(g,m){this._counts.splice(g,m),this._invalidate(g)}insertValues(g,m){this._counts=_.arrayInsert(this._counts,g,m),this._invalidate(g)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(g){return this._ensureValid(),this._modelToView[g]}getIndexOf(g){this._ensureValid();const m=this._viewToModel[g],w=m>0?this._modelToView[m-1]:0;return new v.PrefixSumIndexOfResult(m,g-w)}}class u{constructor(g,m,w,D,k,T,R,M,A){this._editorId=g,this.model=m,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=w,this._monospaceLineBreaksComputerFactory=D,this.fontInfo=k,this.tabSize=T,this.wrappingStrategy=R,this.wrappingColumn=M,this.wrappingIndent=A,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new s(this)}_constructLines(g,m){this.lines=[],g&&(this.hiddenAreasIds=[]);const w=this.model.getLinesContent(),D=this.model.getInjectedTextDecorations(this._editorId),k=w.length,T=this.createLineBreaksComputer(),R=new _.ArrayQueue(C.LineInjectedText.fromDecorations(D));for(let W=0;W<k;W++){const G=R.takeWhile(Y=>Y.lineNumber===W+1);T.addRequest(w[W],G,m?m[W]:null)}const M=T.finalize();let A=[],O=this.hiddenAreasIds.map(W=>this.model.getDecorationRange(W)).sort(L.Range.compareRangesUsingStarts),P=1,F=0,E=-1,x=E+1<O.length?F+1:k+2;for(let W=0;W<k;W++){let G=W+1;G===x&&(E++,P=O[E].startLineNumber,F=O[E].endLineNumber,x=E+1<O.length?F+1:k+2);let Y=G>=P&&G<=F,se=o(M[W],!Y);A[W]=se.getViewLineCount(),this.lines[W]=se}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new a(A)}getHiddenAreas(){return this.hiddenAreasIds.map(g=>this.model.getDecorationRange(g))}_reduceRanges(g){if(g.length===0)return[];let m=g.map(T=>this.model.validateRange(T)).sort(L.Range.compareRangesUsingStarts),w=[],D=m[0].startLineNumber,k=m[0].endLineNumber;for(let T=1,R=m.length;T<R;T++){let M=m[T];M.startLineNumber>k+1?(w.push(new L.Range(D,1,k,1)),D=M.startLineNumber,k=M.endLineNumber):M.endLineNumber>k&&(k=M.endLineNumber)}return w.push(new L.Range(D,1,k,1)),w}setHiddenAreas(g){let m=this._reduceRanges(g),w=this.hiddenAreasIds.map(P=>this.model.getDecorationRange(P)).sort(L.Range.compareRangesUsingStarts);if(m.length===w.length){let P=!1;for(let F=0;F<m.length;F++)if(!m[F].equalsRange(w[F])){P=!0;break}if(!P)return!1}let D=[];for(const P of m)D.push({range:P,options:S.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,D);let k=m,T=1,R=0,M=-1,A=M+1<k.length?R+1:this.lines.length+2,O=!1;for(let P=0;P<this.lines.length;P++){let F=P+1;F===A&&(M++,T=k[M].startLineNumber,R=k[M].endLineNumber,A=M+1<k.length?R+1:this.lines.length+2);let E=!1;if(F>=T&&F<=R?this.lines[P].isVisible()&&(this.lines[P]=this.lines[P].setVisible(!1),E=!0):(O=!0,this.lines[P].isVisible()||(this.lines[P]=this.lines[P].setVisible(!0),E=!0)),E){let x=this.lines[P].getViewLineCount();this.prefixSumComputer.changeValue(P,x)}}return O||this.setHiddenAreas([]),!0}modelPositionIsVisible(g,m){return g<1||g>this.lines.length?!1:this.lines[g-1].isVisible()}getModelLineViewLineCount(g){return g<1||g>this.lines.length?1:this.lines[g-1].getViewLineCount()}setTabSize(g){return this.tabSize===g?!1:(this.tabSize=g,this._constructLines(!1,null),!0)}setWrappingSettings(g,m,w,D){const k=this.fontInfo.equals(g),T=this.wrappingStrategy===m,R=this.wrappingColumn===w,M=this.wrappingIndent===D;if(k&&T&&R&&M)return!1;const A=k&&T&&!R&&M;this.fontInfo=g,this.wrappingStrategy=m,this.wrappingColumn=w,this.wrappingIndent=D;let O=null;if(A){O=[];for(let P=0,F=this.lines.length;P<F;P++)O[P]=this.lines[P].getLineBreakData()}return this._constructLines(!1,O),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(g,m,w){if(!g||g<=this._validModelVersionId)return null;let D=m===1?1:this.prefixSumComputer.getAccumulatedValue(m-2)+1,k=this.prefixSumComputer.getAccumulatedValue(w-1);return this.lines.splice(m-1,w-m+1),this.prefixSumComputer.removeValues(m-1,w-m+1),new p.ViewLinesDeletedEvent(D,k)}onModelLinesInserted(g,m,w,D){if(!g||g<=this._validModelVersionId)return null;const k=m>2&&!this.lines[m-2].isVisible();let T=m===1?1:this.prefixSumComputer.getAccumulatedValue(m-2)+1,R=0,M=[],A=[];for(let O=0,P=D.length;O<P;O++){let F=o(D[O],!k);M.push(F);let E=F.getViewLineCount();R+=E,A[O]=E}return this.lines=this.lines.slice(0,m-1).concat(M).concat(this.lines.slice(m-1)),this.prefixSumComputer.insertValues(m-1,A),new p.ViewLinesInsertedEvent(T,T+R-1)}onModelLineChanged(g,m,w){if(g!==null&&g<=this._validModelVersionId)return[!1,null,null,null];let D=m-1,k=this.lines[D].getViewLineCount(),T=this.lines[D].isVisible(),R=o(w,T);this.lines[D]=R;let M=this.lines[D].getViewLineCount(),A=!1,O=0,P=-1,F=0,E=-1,x=0,W=-1;k>M?(O=m===1?1:this.prefixSumComputer.getAccumulatedValue(m-2)+1,P=O+M-1,x=P+1,W=x+(k-M)-1,A=!0):k<M?(O=m===1?1:this.prefixSumComputer.getAccumulatedValue(m-2)+1,P=O+k-1,F=P+1,E=F+(M-k)-1,A=!0):(O=m===1?1:this.prefixSumComputer.getAccumulatedValue(m-2)+1,P=O+M-1),this.prefixSumComputer.changeValue(D,M);const G=O<=P?new p.ViewLinesChangedEvent(O,P):null,Y=F<=E?new p.ViewLinesInsertedEvent(F,E):null,se=x<=W?new p.ViewLinesDeletedEvent(x,W):null;return[A,G,Y,se]}acceptVersionId(g){this._validModelVersionId=g,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(g){if(g<1)return 1;const m=this.getViewLineCount();return g>m?m:g|0}getActiveIndentGuide(g,m,w){g=this._toValidViewLineNumber(g),m=this._toValidViewLineNumber(m),w=this._toValidViewLineNumber(w);const D=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),k=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),T=this.convertViewPositionToModelPosition(w,this.getViewLineMinColumn(w)),R=this.model.getActiveIndentGuide(D.lineNumber,k.lineNumber,T.lineNumber),M=this.convertModelPositionToViewPosition(R.startLineNumber,1),A=this.convertModelPositionToViewPosition(R.endLineNumber,this.model.getLineMaxColumn(R.endLineNumber));return{startLineNumber:M.lineNumber,endLineNumber:A.lineNumber,indent:R.indent}}getViewLinesIndentGuides(g,m){g=this._toValidViewLineNumber(g),m=this._toValidViewLineNumber(m);const w=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),D=this.convertViewPositionToModelPosition(m,this.getViewLineMaxColumn(m));let k=[],T=[],R=[];const M=w.lineNumber-1,A=D.lineNumber-1;let O=null;for(let x=M;x<=A;x++){const W=this.lines[x];if(W.isVisible()){let G=W.getViewLineNumberOfModelPosition(0,x===M?w.column:1),Y=W.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(x+1)),se=Y-G+1,re=0;se>1&&W.getViewLineMinColumn(this.model,x+1,Y)===1&&(re=G===0?1:2),T.push(se),R.push(re),O===null&&(O=new I.Position(x+1,0))}else O!==null&&(k=k.concat(this.model.getLinesIndentGuides(O.lineNumber,x)),O=null)}O!==null&&(k=k.concat(this.model.getLinesIndentGuides(O.lineNumber,D.lineNumber)),O=null);const P=m-g+1;let F=new Array(P),E=0;for(let x=0,W=k.length;x<W;x++){let G=k[x],Y=Math.min(P-E,T[x]),se=R[x],re;se===2?re=0:se===1?re=1:re=Y;for(let J=0;J<Y;J++)J===re&&(G=0),F[E++]=G}return F}getViewLineContent(g){g=this._toValidViewLineNumber(g);let m=this.prefixSumComputer.getIndexOf(g-1),w=m.index,D=m.remainder;return this.lines[w].getViewLineContent(this.model,w+1,D)}getViewLineLength(g){g=this._toValidViewLineNumber(g);let m=this.prefixSumComputer.getIndexOf(g-1),w=m.index,D=m.remainder;return this.lines[w].getViewLineLength(this.model,w+1,D)}getViewLineMinColumn(g){g=this._toValidViewLineNumber(g);let m=this.prefixSumComputer.getIndexOf(g-1),w=m.index,D=m.remainder;return this.lines[w].getViewLineMinColumn(this.model,w+1,D)}getViewLineMaxColumn(g){g=this._toValidViewLineNumber(g);let m=this.prefixSumComputer.getIndexOf(g-1),w=m.index,D=m.remainder;return this.lines[w].getViewLineMaxColumn(this.model,w+1,D)}getViewLineData(g){g=this._toValidViewLineNumber(g);let m=this.prefixSumComputer.getIndexOf(g-1),w=m.index,D=m.remainder;return this.lines[w].getViewLineData(this.model,w+1,D)}getViewLinesData(g,m,w){g=this._toValidViewLineNumber(g),m=this._toValidViewLineNumber(m);let D=this.prefixSumComputer.getIndexOf(g-1),k=g,T=D.index,R=D.remainder,M=[];for(let A=T,O=this.model.getLineCount();A<O;A++){let P=this.lines[A];if(!P.isVisible())continue;let F=A===T?R:0,E=P.getViewLineCount()-F,x=!1;k+E>m&&(x=!0,E=m-k+1);let W=F+E;if(P.getViewLinesData(this.model,A+1,F,W,k-g,w,M),k+=E,x)break}return M}validateViewPosition(g,m,w){g=this._toValidViewLineNumber(g);let D=this.prefixSumComputer.getIndexOf(g-1),k=D.index,T=D.remainder,R=this.lines[k],M=R.getViewLineMinColumn(this.model,k+1,T),A=R.getViewLineMaxColumn(this.model,k+1,T);m<M&&(m=M),m>A&&(m=A);let O=R.getModelColumnOfViewPosition(T,m);return this.model.validatePosition(new I.Position(k+1,O)).equals(w)?new I.Position(g,m):this.convertModelPositionToViewPosition(w.lineNumber,w.column)}validateViewRange(g,m){const w=this.validateViewPosition(g.startLineNumber,g.startColumn,m.getStartPosition()),D=this.validateViewPosition(g.endLineNumber,g.endColumn,m.getEndPosition());return new L.Range(w.lineNumber,w.column,D.lineNumber,D.column)}convertViewPositionToModelPosition(g,m){g=this._toValidViewLineNumber(g);let w=this.prefixSumComputer.getIndexOf(g-1),D=w.index,k=w.remainder,T=this.lines[D].getModelColumnOfViewPosition(k,m);return this.model.validatePosition(new I.Position(D+1,T))}convertViewRangeToModelRange(g){const m=this.convertViewPositionToModelPosition(g.startLineNumber,g.startColumn),w=this.convertViewPositionToModelPosition(g.endLineNumber,g.endColumn);return new L.Range(m.lineNumber,m.column,w.lineNumber,w.column)}convertModelPositionToViewPosition(g,m,w=2){const D=this.model.validatePosition(new I.Position(g,m)),k=D.lineNumber,T=D.column;let R=k-1,M=!1;for(;R>0&&!this.lines[R].isVisible();)R--,M=!0;if(R===0&&!this.lines[R].isVisible())return new I.Position(1,1);const A=1+(R===0?0:this.prefixSumComputer.getAccumulatedValue(R-1));let O;return M?O=this.lines[R].getViewPositionOfModelPosition(A,this.model.getLineMaxColumn(R+1),w):O=this.lines[k-1].getViewPositionOfModelPosition(A,T,w),O}convertModelRangeToViewRange(g,m=0){if(g.isEmpty()){const w=this.convertModelPositionToViewPosition(g.startLineNumber,g.startColumn,m);return L.Range.fromPositions(w)}else{const w=this.convertModelPositionToViewPosition(g.startLineNumber,g.startColumn,1),D=this.convertModelPositionToViewPosition(g.endLineNumber,g.endColumn,0);return new L.Range(w.lineNumber,w.column,D.lineNumber,D.column)}}_getViewLineNumberForModelPosition(g,m){let w=g-1;if(this.lines[w].isVisible()){const k=1+(w===0?0:this.prefixSumComputer.getAccumulatedValue(w-1));return this.lines[w].getViewLineNumberOfModelPosition(k,m)}for(;w>0&&!this.lines[w].isVisible();)w--;if(w===0&&!this.lines[w].isVisible())return 1;const D=1+(w===0?0:this.prefixSumComputer.getAccumulatedValue(w-1));return this.lines[w].getViewLineNumberOfModelPosition(D,this.model.getLineMaxColumn(w+1))}getAllOverviewRulerDecorations(g,m,w){const D=this.model.getOverviewRulerDecorations(g,m),k=new y;for(const T of D){const R=T.options.overviewRuler,M=R?R.position:0;if(M===0)continue;const A=R.getColor(w),O=this._getViewLineNumberForModelPosition(T.range.startLineNumber,T.range.startColumn),P=this._getViewLineNumberForModelPosition(T.range.endLineNumber,T.range.endColumn);k.accept(A,O,P,M)}return k.result}getDecorationsInRange(g,m,w){const D=this.convertViewPositionToModelPosition(g.startLineNumber,g.startColumn),k=this.convertViewPositionToModelPosition(g.endLineNumber,g.endColumn);if(k.lineNumber-D.lineNumber<=g.endLineNumber-g.startLineNumber)return this.model.getDecorationsInRange(new L.Range(D.lineNumber,1,k.lineNumber,k.column),m,w);let T=[];const R=D.lineNumber-1,M=k.lineNumber-1;let A=null;for(let E=R;E<=M;E++)if(this.lines[E].isVisible())A===null&&(A=new I.Position(E+1,E===R?D.column:1));else if(A!==null){const W=this.model.getLineMaxColumn(E);T=T.concat(this.model.getDecorationsInRange(new L.Range(A.lineNumber,A.column,E,W),m,w)),A=null}A!==null&&(T=T.concat(this.model.getDecorationsInRange(new L.Range(A.lineNumber,A.column,k.lineNumber,k.column),m,w)),A=null),T.sort((E,x)=>{const W=L.Range.compareRangesUsingStarts(E.range,x.range);return W===0?E.id<x.id?-1:E.id>x.id?1:0:W});let O=[],P=0,F=null;for(const E of T){const x=E.id;F!==x&&(F=x,O[P++]=E)}return O}getInjectedTextAt(g){const m=this._toValidViewLineNumber(g.lineNumber),w=this.prefixSumComputer.getIndexOf(m-1),D=w.index,k=w.remainder;return this.lines[D].getInjectedTextAt(k,g.column)}normalizePosition(g,m){const w=this._toValidViewLineNumber(g.lineNumber),D=this.prefixSumComputer.getIndexOf(w-1),k=D.index,T=D.remainder;return this.lines[k].normalizePosition(this.model,k+1,T,g,m)}getLineIndentColumn(g){const m=this._toValidViewLineNumber(g),w=this.prefixSumComputer.getIndexOf(m-1),D=w.index;return w.remainder===0?this.model.getLineIndentColumn(D+1):0}}e.SplitLinesCollection=u;class h{constructor(){}isVisible(){return!0}setVisible(g){return g?this:d.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(g,m,w){return g.getLineContent(m)}getViewLineLength(g,m,w){return g.getLineLength(m)}getViewLineMinColumn(g,m,w){return g.getLineMinColumn(m)}getViewLineMaxColumn(g,m,w){return g.getLineMaxColumn(m)}getViewLineData(g,m,w){let D=g.getLineTokens(m),k=D.getLineContent();return new i.ViewLineData(k,!1,1,k.length+1,0,D.inflate(),null)}getViewLinesData(g,m,w,D,k,T,R){if(!T[k]){R[k]=null;return}R[k]=this.getViewLineData(g,m,0)}getModelColumnOfViewPosition(g,m){return m}getViewPositionOfModelPosition(g,m){return new I.Position(g,m)}getViewLineNumberOfModelPosition(g,m){return g}normalizePosition(g,m,w,D,k){return D}getInjectedTextAt(g,m){return null}}h.INSTANCE=new h;class d{constructor(){}isVisible(){return!1}setVisible(g){return g?h.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(g,m,w){throw new Error("Not supported")}getViewLineLength(g,m,w){throw new Error("Not supported")}getViewLineMinColumn(g,m,w){throw new Error("Not supported")}getViewLineMaxColumn(g,m,w){throw new Error("Not supported")}getViewLineData(g,m,w){throw new Error("Not supported")}getViewLinesData(g,m,w,D,k,T,R){throw new Error("Not supported")}getModelColumnOfViewPosition(g,m){throw new Error("Not supported")}getViewPositionOfModelPosition(g,m){throw new Error("Not supported")}getViewLineNumberOfModelPosition(g,m){throw new Error("Not supported")}normalizePosition(g,m,w,D,k){throw new Error("Not supported")}getInjectedTextAt(g,m){throw new Error("Not supported")}}d.INSTANCE=new d;class r{constructor(g,m){this._lineBreakData=g,this._isVisible=m}isVisible(){return this._isVisible}setVisible(g){return this._isVisible=g,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(g){return this._lineBreakData.getInputOffsetOfOutputPosition(g,0)}getInputEndOffsetOfOutputLineIndex(g,m,w){return w+1===this._lineBreakData.breakOffsets.length?g.getLineMaxColumn(m)-1:this._lineBreakData.getInputOffsetOfOutputPosition(w+1,0)}getViewLineContent(g,m,w){if(!this._isVisible)throw new Error("Not supported");const D=w>0?this._lineBreakData.breakOffsets[w-1]:0,k=w<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[w]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let T;if(this._lineBreakData.injectionOffsets!==null){const R=this._lineBreakData.injectionOffsets.map((M,A)=>new C.LineInjectedText(0,0,M+1,this._lineBreakData.injectionOptions[A],0));T=C.LineInjectedText.applyInjectedText(g.getLineContent(m),R).substring(D,k)}else T=g.getValueInRange({startLineNumber:m,startColumn:D+1,endLineNumber:m,endColumn:k+1});return w>0&&(T=l(this._lineBreakData.wrappedTextIndentLength)+T),T}getViewLineLength(g,m,w){if(!this._isVisible)throw new Error("Not supported");const D=w>0?this._lineBreakData.breakOffsets[w-1]:0;let T=(w<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[w]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-D;return w>0&&(T=this._lineBreakData.wrappedTextIndentLength+T),T}getViewLineMinColumn(g,m,w){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(w)}_getViewLineMinColumn(g){return g>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(g,m,w){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(g,m,w)+1}getViewLineData(g,m,w){if(!this._isVisible)throw new Error("Not supported");const D=this._lineBreakData,k=w>0?D.wrappedTextIndentLength:0,T=D.injectionOffsets,R=D.injectionOptions;let M,A,O;if(T){const W=g.getLineTokens(m).withInserted(T.map((re,J)=>({offset:re,text:R[J].content,tokenMetadata:N.LineTokens.defaultTokenMetadata}))),G=w>0?D.breakOffsets[w-1]:0,Y=D.breakOffsets[w];M=W.getLineContent().substring(G,Y),A=W.sliceAndInflate(G,Y,k),O=new Array;let se=0;for(let re=0;re<T.length;re++){const J=R[re].content.length,le=T[re]+se,ae=T[re]+se+J;if(le>Y)break;if(G<ae){const V=R[re];if(V.inlineClassName){const B=w>0?D.wrappedTextIndentLength:0,Z=B+Math.max(le-G,0),H=B+Math.min(ae-G,Y);Z!==H&&O.push(new i.SingleLineInlineDecoration(Z,H,V.inlineClassName,V.inlineClassNameAffectsLetterSpacing))}}se+=J}}else{const W=this.getInputStartOffsetOfOutputLineIndex(w),G=this.getInputEndOffsetOfOutputLineIndex(g,m,w),Y=g.getLineTokens(m);M=g.getValueInRange({startLineNumber:m,startColumn:W+1,endLineNumber:m,endColumn:G+1}),A=Y.sliceAndInflate(W,G,k),O=null}w>0&&(M=l(D.wrappedTextIndentLength)+M);const P=w>0?D.wrappedTextIndentLength+1:1,F=M.length+1,E=w+1<this.getViewLineCount(),x=w===0?0:D.breakOffsetsVisibleColumn[w-1];return new i.ViewLineData(M,E,P,F,x,A,O)}getViewLinesData(g,m,w,D,k,T,R){if(!this._isVisible)throw new Error("Not supported");for(let M=w;M<D;M++){let A=k+M-w;if(!T[A]){R[A]=null;continue}R[A]=this.getViewLineData(g,m,M)}}getModelColumnOfViewPosition(g,m){if(!this._isVisible)throw new Error("Not supported");let w=m-1;return g>0&&(w<this._lineBreakData.wrappedTextIndentLength?w=0:w-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(g,w)+1}getViewPositionOfModelPosition(g,m,w=2){if(!this._isVisible)throw new Error("Not supported");let D=this._lineBreakData.getOutputPositionOfInputOffset(m-1,w),k=D.outputLineIndex,T=D.outputOffset+1;return k>0&&(T+=this._lineBreakData.wrappedTextIndentLength),new I.Position(g+k,T)}getViewLineNumberOfModelPosition(g,m){if(!this._isVisible)throw new Error("Not supported");const w=this._lineBreakData.getOutputPositionOfInputOffset(m-1);return g+w.outputLineIndex}normalizePosition(g,m,w,D,k){if(this._lineBreakData.injectionOffsets!==null){const T=D.lineNumber-w,R=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(w,D.column-1),M=this._lineBreakData.normalizeOffsetAroundInjections(R,k);if(M!==R)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(M,k).toPosition(T,this._lineBreakData.wrappedTextIndentLength)}if(k===0){if(w>0&&D.column===this._getViewLineMinColumn(w))return new I.Position(D.lineNumber-1,this.getViewLineMaxColumn(g,m,w-1))}else if(k===1){const T=this.getViewLineCount()-1;if(w<T&&D.column===this.getViewLineMaxColumn(g,m,w))return new I.Position(D.lineNumber+1,this._getViewLineMinColumn(w+1))}return D}getInjectedTextAt(g,m){return this._lineBreakData.getInjectedText(g,m-1)}}e.SplitLine=r;let n=[""];function l(b){if(b>=n.length)for(let g=1;g<=b;g++)n[g]=t(g);return n[b]}function t(b){return new Array(b+1).join(" ")}function o(b,g){return b===null?g?h.INSTANCE:d.INSTANCE:new r(b,g)}class c{constructor(g){this._lines=g}_validPosition(g){return this._lines.model.validatePosition(g)}_validRange(g){return this._lines.model.validateRange(g)}convertViewPositionToModelPosition(g){return this._validPosition(g)}convertViewRangeToModelRange(g){return this._validRange(g)}validateViewPosition(g,m){return this._validPosition(m)}validateViewRange(g,m){return this._validRange(m)}convertModelPositionToViewPosition(g){return this._validPosition(g)}convertModelRangeToViewRange(g){return this._validRange(g)}modelPositionIsVisible(g){const m=this._lines.model.getLineCount();return!(g.lineNumber<1||g.lineNumber>m)}getModelLineViewLineCount(g){return 1}}e.IdentityCoordinatesConverter=c;class f{constructor(g){this.model=g}dispose(){}createCoordinatesConverter(){return new c(this)}getHiddenAreas(){return[]}setHiddenAreas(g){return!1}setTabSize(g){return!1}setWrappingSettings(g,m,w,D){return!1}createLineBreaksComputer(){let g=[];return{addRequest:(m,w,D)=>{g.push(null)},finalize:()=>g}}onModelFlushed(){}onModelLinesDeleted(g,m,w){return new p.ViewLinesDeletedEvent(m,w)}onModelLinesInserted(g,m,w,D){return new p.ViewLinesInsertedEvent(m,w)}onModelLineChanged(g,m,w){return[!1,new p.ViewLinesChangedEvent(m,m),null,null]}acceptVersionId(g){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(g,m,w){return{startLineNumber:g,endLineNumber:g,indent:0}}getViewLinesIndentGuides(g,m){const w=m-g+1;let D=new Array(w);for(let k=0;k<w;k++)D[k]=0;return D}getViewLineContent(g){return this.model.getLineContent(g)}getViewLineLength(g){return this.model.getLineLength(g)}getViewLineMinColumn(g){return this.model.getLineMinColumn(g)}getViewLineMaxColumn(g){return this.model.getLineMaxColumn(g)}getViewLineData(g){let m=this.model.getLineTokens(g),w=m.getLineContent();return new i.ViewLineData(w,!1,1,w.length+1,0,m.inflate(),null)}getViewLinesData(g,m,w){const D=this.model.getLineCount();g=Math.min(Math.max(1,g),D),m=Math.min(Math.max(1,m),D);let k=[];for(let T=g;T<=m;T++){let R=T-g;w[R]||(k[R]=null),k[R]=this.getViewLineData(T)}return k}getAllOverviewRulerDecorations(g,m,w){const D=this.model.getOverviewRulerDecorations(g,m),k=new y;for(const T of D){const R=T.options.overviewRuler,M=R?R.position:0;if(M===0)continue;const A=R.getColor(w),O=T.range.startLineNumber,P=T.range.endLineNumber;k.accept(A,O,P,M)}return k.result}getDecorationsInRange(g,m,w){return this.model.getDecorationsInRange(g,m,w)}normalizePosition(g,m){return this.model.normalizePosition(g,m)}getLineIndentColumn(g){return this.model.getLineIndentColumn(g)}getInjectedTextAt(g){return null}}e.IdentityLinesCollection=f;class y{constructor(){this.result=Object.create(null)}accept(g,m,w,D){let k=this.result[g];if(k){const T=k[k.length-3],R=k[k.length-1];if(T===D&&R+1>=m){w>R&&(k[k.length-1]=w);return}k.push(D,m,w)}else this.result[g]=[D,m,w]}}}),define(te[617],ne([0,1,29,2,8,37,13,3,97,18,250,251,178,416,616,63,475,14,17,267,42,180]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class y extends N.Disposable{constructor(g,m,w,D,k,T){super();if(this._editorId=g,this._configuration=m,this.model=w,this._eventDispatcher=new c.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new n.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new n.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,f&&this.model.isTooLargeForTokenization())this._lines=new h.IdentityLinesCollection(this.model);else{const R=this._configuration.options,M=R.get(42),A=R.get(124),O=R.get(131),P=R.get(123);this._lines=new h.SplitLinesCollection(this._editorId,this.model,D,k,M,this.model.getOptions().tabSize,A,O.wrappingColumn,P)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new t.CursorsController(w,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new u.ViewLayout(this._configuration,this.getLineCount(),T)),this._register(this.viewLayout.onDidScroll(R=>{R.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new a.ViewScrollChangedEvent(R)),this._eventDispatcher.emitOutgoingEvent(new c.ScrollChangedEvent(R.oldScrollWidth,R.oldScrollLeft,R.oldScrollHeight,R.oldScrollTop,R.scrollWidth,R.scrollLeft,R.scrollHeight,R.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(R=>{this._eventDispatcher.emitOutgoingEvent(R)})),this._decorations=new r.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(R=>{try{const M=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(M,R)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(s.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),m=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.startLineNumber,1)),w=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.endLineNumber,1));this.model.tokenizeViewport(m.lineNumber,w.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new a.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new c.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new a.ViewThemeChangedEvent)}_onConfigurationChanged(g,m){let w=null;if(this._viewportStartLine!==-1){let O=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));w=this.coordinatesConverter.convertViewPositionToModelPosition(O)}let D=!1;const k=this._configuration.options,T=k.get(42),R=k.get(124),M=k.get(131),A=k.get(123);if(this._lines.setWrappingSettings(T,R,M.wrappingColumn,A)&&(g.emitViewEvent(new a.ViewFlushedEvent),g.emitViewEvent(new a.ViewLineMappingChangedEvent),g.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(D=!0),this._updateConfigurationViewLineCount.schedule()),m.hasChanged(80)&&(this._decorations.reset(),g.emitViewEvent(new a.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new a.ViewConfigurationChangedEvent(m)),this.viewLayout.onConfigurationChanged(m),D&&w){const O=this.coordinatesConverter.convertModelPositionToViewPosition(w),P=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:P+this._viewportStartLineDelta},1)}o.CursorConfiguration.shouldRecreate(m)&&(this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(g=>{try{const m=this._eventDispatcher.beginEmitViewEvents();let w=!1,D=!1;const k=g.changes,T=g instanceof v.ModelRawContentChangedEvent?g.versionId:null,R=this._lines.createLineBreaksComputer();for(const O of k)switch(O.changeType){case 4:{for(let P=0;P<O.detail.length;P++){const F=O.detail[P];let E=O.injectedTexts[P];E&&(E=E.filter(x=>!x.ownerId||x.ownerId===this._editorId)),R.addRequest(F,E,null)}break}case 2:{let P=null;O.injectedText&&(P=O.injectedText.filter(F=>!F.ownerId||F.ownerId===this._editorId)),R.addRequest(O.detail,P,null);break}}const M=R.finalize();let A=0;for(const O of k)switch(O.changeType){case 1:{this._lines.onModelFlushed(),m.emitViewEvent(new a.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),w=!0;break}case 3:{const P=this._lines.onModelLinesDeleted(T,O.fromLineNumber,O.toLineNumber);P!==null&&(m.emitViewEvent(P),this.viewLayout.onLinesDeleted(P.fromLineNumber,P.toLineNumber)),w=!0;break}case 4:{const P=M.slice(A,A+O.detail.length);A+=O.detail.length;const F=this._lines.onModelLinesInserted(T,O.fromLineNumber,O.toLineNumber,P);F!==null&&(m.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),w=!0;break}case 2:{const P=M[A];A++;const[F,E,x,W]=this._lines.onModelLineChanged(T,O.lineNumber,P);D=F,E&&m.emitViewEvent(E),x&&(m.emitViewEvent(x),this.viewLayout.onLinesInserted(x.fromLineNumber,x.toLineNumber)),W&&(m.emitViewEvent(W),this.viewLayout.onLinesDeleted(W.fromLineNumber,W.toLineNumber));break}case 5:break}T!==null&&this._lines.acceptVersionId(T),this.viewLayout.onHeightMaybeChanged(),!w&&D&&(m.emitViewEvent(new a.ViewLineMappingChangedEvent),m.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(m),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const m=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(m){const w=this.coordinatesConverter.convertModelPositionToViewPosition(m.getStartPosition()),D=this.viewLayout.getVerticalOffsetForLineNumber(w.lineNumber);this.viewLayout.setScrollPosition({scrollTop:D+this._viewportStartLineDelta},1)}}try{const m=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(m,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let m=[];for(let w=0,D=g.ranges.length;w<D;w++){const k=g.ranges[w],T=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(k.fromLineNumber,1)).lineNumber,R=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(k.toLineNumber,this.model.getLineMaxColumn(k.toLineNumber))).lineNumber;m[w]={fromLineNumber:T,toLineNumber:R}}this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensChangedEvent(m)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewLanguageConfigurationEvent),this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const m=this._eventDispatcher.beginEmitViewEvents();m.emitViewEvent(new a.ViewFlushedEvent),m.emitViewEvent(new a.ViewLineMappingChangedEvent),m.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(m),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new a.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const m=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(m.emitViewEvent(new a.ViewFlushedEvent),m.emitViewEvent(new a.ViewLineMappingChangedEvent),m.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(m),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(130),m=this._configuration.options.get(58),w=Math.max(20,Math.round(g.height/m)),D=this.viewLayout.getLinesViewportData(),k=Math.max(1,D.completelyVisibleStartLineNumber-w),T=Math.min(this.getLineCount(),D.completelyVisibleEndLineNumber+w);return this._toModelVisibleRanges(new p.Range(k,this.getLineMinColumn(k),T,this.getLineMaxColumn(T)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const m=this.coordinatesConverter.convertViewRangeToModelRange(g),w=this._lines.getHiddenAreas();if(w.length===0)return[m];let D=[],k=0,T=m.startLineNumber,R=m.startColumn,M=m.endLineNumber,A=m.endColumn;for(let O=0,P=w.length;O<P;O++){const F=w[O].startLineNumber,E=w[O].endLineNumber;E<T||F>M||(T<F&&(D[k++]=new p.Range(T,R,F-1,this.model.getLineMaxColumn(F-1))),T=E+1,R=1)}return(T<M||T===M&&R<A)&&(D[k++]=new p.Range(T,R,M,A)),D}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),m=g.completelyVisibleStartLineNumber,w=g.completelyVisibleEndLineNumber;return new p.Range(m,this.getLineMinColumn(m),w,this.getLineMaxColumn(w))}getCompletelyVisibleViewRangeAtScrollTop(g){const m=this.viewLayout.getLinesViewportDataAtScrollTop(g),w=m.completelyVisibleStartLineNumber,D=m.completelyVisibleEndLineNumber;return new p.Range(w,this.getLineMinColumn(w),D,this.getLineMaxColumn(D))}saveState(){const g=this.viewLayout.saveState(),m=g.scrollTop,w=this.viewLayout.getLineNumberAtVerticalOffset(m),D=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(w,this.getLineMinColumn(w))),k=this.viewLayout.getVerticalOffsetForLineNumber(w)-m;return{scrollLeft:g.scrollLeft,firstPosition:D,firstPositionDeltaTop:k}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const m=this.model.validatePosition(g.firstPosition),w=this.coordinatesConverter.convertModelPositionToViewPosition(m),D=this.viewLayout.getVerticalOffsetForLineNumber(w.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:D}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,m,w){this._viewportStartLine=g;let D=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new p.Range(D.lineNumber,D.column,D.lineNumber,D.column),1);const k=this.viewLayout.getVerticalOffsetForLineNumber(g),T=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=T-k}getActiveIndentGuide(g,m,w){return this._lines.getActiveIndentGuide(g,m,w)}getLinesIndentGuides(g,m){return this._lines.getViewLinesIndentGuides(g,m)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const m=I.firstNonWhitespaceIndex(this.getLineContent(g));return m===-1?0:m+1}getLineLastNonWhitespaceColumn(g){const m=I.lastNonWhitespaceIndex(this.getLineContent(g));return m===-1?0:m+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getInjectedTextAt(g){return this._lines.getInjectedTextAt(g)}getViewLineRenderingData(g,m){let w=this.model.mightContainRTL(),D=this.model.mightContainNonBasicASCII(),k=this.getTabSize(),T=this._lines.getViewLineData(m),M=this._decorations.getDecorationsViewportData(g).inlineDecorations[m-g.startLineNumber];return T.inlineDecorations&&(M=[...M,...T.inlineDecorations.map(A=>A.toInlineDecoration(m))]),new d.ViewLineRenderingData(T.minColumn,T.maxColumn,T.content,T.continuesWithWrappedLine,w,D,T.tokens,M,k,T.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,m,w){let D=this._lines.getViewLinesData(g,m,w);return new d.MinimapLinesRenderingData(this.getTabSize(),D)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,(0,L.filterValidationDecorations)(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const m of g){const w=m.options.overviewRuler;w&&w.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const m of g){const w=m.options.minimap;w&&w.invalidateCachedColor()}}getValueInRange(g,m){const w=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(w,m)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,m,w){const D=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(m<0?m-=w:m+=w);const T=this.model.getOffsetAt(D)+m;return this.model.getPositionAt(T)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,m,w){const D=w?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(p.Range.compareRangesUsingStarts);let k=!1,T=!1;for(const M of g)M.isEmpty()?k=!0:T=!0;if(!T){if(!m)return"";const M=g.map(O=>O.startLineNumber);let A="";for(let O=0;O<M.length;O++)O>0&&M[O-1]===M[O]||(A+=this.model.getLineContent(M[O])+D);return A}if(k&&m){let M=[],A=0;for(const O of g){const P=O.startLineNumber;O.isEmpty()?P!==A&&M.push(this.model.getLineContent(P)):M.push(this.model.getValueInRange(O,w?2:0)),A=P}return M.length===1?M[0]:M}let R=[];for(const M of g)M.isEmpty()||R.push(this.model.getValueInRange(M,w?2:0));return R.length===1?R[0]:R}getRichTextToCopy(g,m){const w=this.model.getLanguageIdentifier();if(w.id===1||g.length!==1)return null;let D=g[0];if(D.isEmpty()){if(!m)return null;const O=D.startLineNumber;D=new p.Range(O,this.model.getLineMinColumn(O),O,this.model.getLineMaxColumn(O))}const k=this._configuration.options.get(42),T=this._getColorMap(),M=/[:;\\\/<>]/.test(k.fontFamily)||k.fontFamily===L.EDITOR_FONT_DEFAULTS.fontFamily;let A;return M?A=L.EDITOR_FONT_DEFAULTS.fontFamily:(A=k.fontFamily,A=A.replace(/"/g,"'"),/[,']/.test(A)||/[+ ]/.test(A)&&(A=`'${A}'`),A=`${A}, ${L.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:w.language,html:`<div style="color: ${T[1]};background-color: ${T[2]};font-family: ${A};font-weight: ${k.fontWeight};font-size: ${k.fontSize}px;line-height: ${k.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(D,T)+"</div>"}}_getHTMLToCopy(g,m){const w=g.startLineNumber,D=g.startColumn,k=g.endLineNumber,T=g.endColumn,R=this.getTabSize();let M="";for(let A=w;A<=k;A++){const O=this.model.getLineTokens(A),P=O.getLineContent(),F=A===w?D-1:0,E=A===k?T-1:P.length;P===""?M+="<br>":M+=(0,C.tokenizeLineToHTML)(P,O.inflate(),m,F,E,R,l.isWindows)}return M}_getColorMap(){let g=i.TokenizationRegistry.getColorMap(),m=["#000000"];if(g)for(let w=1,D=g.length;w<D;w++)m[w]=_.Color.Format.CSS.formatHex(g[w]);return m}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,m,w){this._withViewEventsCollector(D=>this._cursor.setStates(D,g,m,w))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,m,w=0){this._withViewEventsCollector(D=>this._cursor.setSelections(D,g,m,w))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(m=>this._cursor.restoreState(m,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new c.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,m,w){this._executeCursorEdit(D=>this._cursor.executeEdits(D,g,m,w))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(m=>this._cursor.endComposition(m,g))}type(g,m){this._executeCursorEdit(w=>this._cursor.type(w,g,m))}compositionType(g,m,w,D,k){this._executeCursorEdit(T=>this._cursor.compositionType(T,g,m,w,D,k))}paste(g,m,w,D){this._executeCursorEdit(k=>this._cursor.paste(k,g,m,w,D))}cut(g){this._executeCursorEdit(m=>this._cursor.cut(m,g))}executeCommand(g,m){this._executeCursorEdit(w=>this._cursor.executeCommand(w,g,m))}executeCommands(g,m){this._executeCursorEdit(w=>this._cursor.executeCommands(w,g,m))}revealPrimaryCursor(g,m){this._withViewEventsCollector(w=>this._cursor.revealPrimary(w,g,m,0))}revealTopMostCursor(g){const m=this._cursor.getTopMostViewPosition(),w=new p.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._withViewEventsCollector(D=>D.emitViewEvent(new a.ViewRevealRangeRequestEvent(g,w,null,0,!0,0)))}revealBottomMostCursor(g){const m=this._cursor.getBottomMostViewPosition(),w=new p.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._withViewEventsCollector(D=>D.emitViewEvent(new a.ViewRevealRangeRequestEvent(g,w,null,0,!0,0)))}revealRange(g,m,w,D,k){this._withViewEventsCollector(T=>T.emitViewEvent(new a.ViewRevealRangeRequestEvent(g,w,null,D,m,k)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,m){this.viewLayout.setScrollPosition({scrollTop:g},m)}setScrollPosition(g,m){this.viewLayout.setScrollPosition(g,m)}deltaScrollNow(g,m){this.viewLayout.deltaScrollNow(g,m)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new a.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new c.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const m=this._eventDispatcher.beginEmitViewEvents();g(m)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(g,m){return this._lines.normalizePosition(g,m)}getLineIndentColumn(g){return this._lines.getLineIndentColumn(g)}}e.ViewModel=y}),define(te[618],ne([0,1,7,94,6,2,31,487,39,12,22,58,27,352]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var u;(function(d){d.Hidden={type:0};class r{constructor(l,t,o,c){this.actions=l,this.trigger=t,this.editorPosition=o,this.widgetPosition=c,this.type=1}}d.Showing=r})(u||(u={}));let h=class Vt extends L.Disposable{constructor(r,n,l,t){super();this._editor=r,this._quickFixActionId=n,this._preferredFixActionId=l,this._keybindingService=t,this._onClick=this._register(new I.Emitter),this.onClick=this._onClick.event,this._state=u.Hidden,this._domNode=document.createElement("div"),this._domNode.className=a.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),s.Gesture.ignoreTarget(this._domNode),this._register(_.addStandardDisposableGenericMouseDownListner(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();const{top:c,height:f}=_.getDomNodePagePosition(this._domNode),y=this._editor.getOption(58);let b=Math.floor(y/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(b+=y),this._onClick.fire({x:o.posx,y:c+f+b,actions:this.state.actions,trigger:this.state.trigger})})),this._register(_.addDisposableListener(this._domNode,"mouseenter",o=>{if((o.buttons&1)!=1)return;this.hide();const c=new N.GlobalMouseMoveMonitor;c.startMonitoring(o.target,o.buttons,N.standardMouseMoveMerger,()=>{},()=>{c.dispose()})})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,n,l){if(r.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(56).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:c,column:f}=o.validatePosition(l),y=o.getOptions().tabSize,b=t.get(42),g=o.getLineContent(c),m=S.TextModel.computeIndentLevel(g,y),w=b.spaceWidth*m>22,D=T=>T>2&&this._editor.getTopForLineNumber(T)===this._editor.getTopForLineNumber(T-1);let k=c;if(!w){if(c>1&&!D(c-1))k-=1;else if(!D(c+1))k+=1;else if(f*b.spaceWidth<22)return this.hide()}this.state=new u.Showing(r,n,l,{position:{lineNumber:k,column:1},preference:Vt._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=u.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...a.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...a.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=p.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...a.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...a.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=p.localize(1,null,r.getLabel()):this.title=p.localize(2,null)}set title(r){this._domNode.title=r}};h._posPref=[0],h=Re([me(3,v.IKeybindingService)],h),e.LightBulbWidget=h,(0,i.registerThemingParticipant)((d,r)=>{var n;const l=(n=d.getColor(C.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=d.getColor(C.editorLightBulbForeground);t&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${l};
		}`);const o=d.getColor(C.editorLightBulbAutoFixForeground);o&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${l};
		}`)})}),define(te[619],ne([0,1,7,3,31,46,22,12,106,353]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(h,d,r){this.afterLineNumber=h,this.heightInPx=d,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(h){this._lastHeight===void 0?this._lastHeight=h:this._lastHeight!==h&&(this._lastHeight=h,this._onHeight())}}class C{constructor(h,d,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=h,this._id=`codelens.widget-${C._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${d}`}withCommands(h,d){this._commands.clear();let r=[],n=!1;for(let l=0;l<h.length;l++){const t=h[l];if(!!t&&(n=!0,t.command)){const o=(0,v.renderLabelWithIcons)(t.command.title.trim());t.command.id?(r.push(_.$("a",{id:String(l),title:t.command.tooltip},...o)),this._commands.set(String(l),t.command)):r.push(_.$("span",{title:t.command.tooltip},...o)),l+1<h.length&&r.push(_.$("span",void 0,"\xA0|\xA0"))}}n?(_.reset(this._domNode,...r),this._isEmpty&&d&&this._domNode.classList.add("fadein"),this._isEmpty=!1):_.reset(this._domNode,_.$("span",void 0,"no commands"))}getCommand(h){return h.parentElement===this._domNode?this._commands.get(h.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(h){const d=this._editor.getModel().getLineFirstNonWhitespaceColumn(h);this._widgetPosition={position:{lineNumber:h,column:d},preference:[1]}}getPosition(){return this._widgetPosition||null}}C._idPool=0;class s{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(h,d){this._addDecorations.push(h),this._addDecorationsCallbacks.push(d)}removeDecoration(h){this._removeDecorations.push(h)}commit(h){let d=h.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,n=d.length;r<n;r++)this._addDecorationsCallbacks[r](d[r])}}e.CodeLensHelper=s;class a{constructor(h,d,r,n,l,t,o){this._isDisposed=!1,this._editor=d,this._className=r,this._data=h,this._decorationIds=[];let c,f=[];this._data.forEach((y,b)=>{y.symbol.command&&f.push(y.symbol),n.addDecoration({range:y.symbol.range,options:I.ModelDecorationOptions.EMPTY},g=>this._decorationIds[b]=g),c?c=N.Range.plusRange(c,y.symbol.range):c=N.Range.lift(y.symbol.range)}),this._viewZone=new i(c.startLineNumber-1,t,o),this._viewZoneId=l.addZone(this._viewZone),f.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(f,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new C(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(h,d){this._decorationIds.forEach(h.removeDecoration,h),this._decorationIds=[],d&&d.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((h,d)=>{const r=this._editor.getModel().getDecorationRange(h),n=this._data[d].symbol;return!!(r&&N.Range.isEmpty(n.range)===r.isEmpty())})}updateCodeLensSymbols(h,d){this._decorationIds.forEach(d.removeDecoration,d),this._decorationIds=[],this._data=h,this._data.forEach((r,n)=>{d.addDecoration({range:r.symbol.range,options:I.ModelDecorationOptions.EMPTY},l=>this._decorationIds[n]=l)})}updateHeight(h,d){this._viewZone.heightInPx=h,d.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(h){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let d=0;d<this._decorationIds.length;d++){const r=h.getDecorationRange(this._decorationIds[d]);r&&(this._data[d].symbol.range=r)}return this._data}updateCommands(h){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(h,!0);for(let d=0;d<this._data.length;d++){const r=h[d];if(r){const{symbol:n}=this._data[d];n.command=r.command||n.command}}}getCommand(h){var d;return(d=this._contentWidget)===null||d===void 0?void 0:d.getCommand(h)}getLineNumber(){const h=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return h?h.startLineNumber:-1}update(h){if(this.isValid()){const d=this._editor.getModel().getDecorationRange(this._decorationIds[0]);d&&(this._viewZone.afterLineNumber=d.startLineNumber-1,h.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(d.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=a,(0,p.registerThemingParticipant)((u,h)=>{const d=u.getColor(L.editorCodeLensForeground);d&&(h.addRule(`.monaco-editor .codelens-decoration { color: ${d}; }`),h.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${d}; }`));const r=u.getColor(S.editorActiveLinkForeground);r&&(h.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${r} !important; }`),h.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${r} !important; }`))})}),define(te[620],ne([0,1,41,7,94,52,29,6,2,22,12,354]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const s=N.$;class a extends v.Disposable{constructor(o,c,f){super();this.model=c,this.domNode=s(".colorpicker-header"),N.append(o,this.domNode),this.pickedColorNode=N.append(this.domNode,s(".picked-color"));const y=N.append(this.domNode,s(".original-color"));y.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=f.getColorTheme().getColor(i.editorHoverBackground)||S.Color.white,this._register((0,C.registerThemingParticipant)((b,g)=>{this.backgroundColor=b.getColor(i.editorHoverBackground)||S.Color.white})),this._register(N.addDisposableListener(this.pickedColorNode,N.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(N.addDisposableListener(y,N.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(c.onDidChangeColor(this.onDidChangeColor,this)),this._register(c.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(c.color)||"",this.pickedColorNode.classList.toggle("light",c.color.rgba.a<.5?this.backgroundColor.isLighter():c.color.isLighter())}onDidChangeColor(o){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(o)||"",this.pickedColorNode.classList.toggle("light",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class u extends v.Disposable{constructor(o,c,f){super();this.model=c,this.pixelRatio=f,this.domNode=s(".colorpicker-body"),N.append(o,this.domNode),this.saturationBox=new h(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new r(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:o,v:c}){const f=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(f.h,o,c,f.a))}onDidOpacityChange(o){const c=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(c.h,c.s,c.v,o))}onDidHueChange(o){const c=this.model.color.hsva,f=(1-o)*360;this.model.color=new S.Color(new S.HSVA(f===360?0:f,c.s,c.v,c.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=u;class h extends v.Disposable{constructor(o,c,f){super();this.model=c,this.pixelRatio=f,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=s(".saturation-wrap"),N.append(o,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",N.append(this.domNode,this.canvas),this.selection=s(".saturation-selection"),N.append(this.domNode,this.selection),this.layout(),this._register(N.addDisposableGenericMouseDownListner(this.domNode,y=>this.onMouseDown(y))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(o){this.monitor=this._register(new I.GlobalMouseMoveMonitor);const c=N.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(o.target,o.buttons,I.standardMouseMoveMerger,y=>this.onDidChangePosition(y.posx-c.left,y.posy-c.top),()=>null);const f=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),f.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(o,c){const f=Math.max(0,Math.min(1,o/this.width)),y=Math.max(0,Math.min(1,1-c/this.height));this.paintSelection(f,y),this._onDidChange.fire({s:f,v:y})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const o=this.model.color.hsva;this.paintSelection(o.s,o.v)}paint(){const o=this.model.color.hsva,c=new S.Color(new S.HSVA(o.h,1,1,1)),f=this.canvas.getContext("2d"),y=f.createLinearGradient(0,0,this.canvas.width,0);y.addColorStop(0,"rgba(255, 255, 255, 1)"),y.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),y.addColorStop(1,"rgba(255, 255, 255, 0)");const b=f.createLinearGradient(0,0,0,this.canvas.height);b.addColorStop(0,"rgba(0, 0, 0, 0)"),b.addColorStop(1,"rgba(0, 0, 0, 1)"),f.rect(0,0,this.canvas.width,this.canvas.height),f.fillStyle=S.Color.Format.CSS.format(c),f.fill(),f.fillStyle=y,f.fill(),f.fillStyle=b,f.fill()}paintSelection(o,c){this.selection.style.left=`${o*this.width}px`,this.selection.style.top=`${this.height-c*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends v.Disposable{constructor(o,c){super();this.model=c,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=N.append(o,s(".strip")),this.overlay=N.append(this.domNode,s(".overlay")),this.slider=N.append(this.domNode,s(".slider")),this.slider.style.top="0px",this._register(N.addDisposableGenericMouseDownListner(this.domNode,f=>this.onMouseDown(f))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const o=this.getValue(this.model.color);this.updateSliderPosition(o)}onMouseDown(o){const c=this._register(new I.GlobalMouseMoveMonitor),f=N.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),c.startMonitoring(o.target,o.buttons,I.standardMouseMoveMerger,b=>this.onDidChangeTop(b.posy-f.top),()=>null);const y=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),y.dispose(),c.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(o){const c=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(c),this._onDidChange.fire(c)}updateSliderPosition(o){this.slider.style.top=`${(1-o)*this.height}px`}}class r extends d{constructor(o,c){super(o,c);this.domNode.classList.add("opacity-strip"),this._register(c.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){const{r:c,g:f,b:y}=o.rgba,b=new S.Color(new S.RGBA(c,f,y,1)),g=new S.Color(new S.RGBA(c,f,y,0));this.overlay.style.background=`linear-gradient(to bottom, ${b} 0%, ${g} 100%)`}getValue(o){return o.hsva.a}}class n extends d{constructor(o,c){super(o,c);this.domNode.classList.add("hue-strip")}getValue(o){return 1-o.hsva.h/360}}class l extends L.Widget{constructor(o,c,f,y){super();this.model=c,this.pixelRatio=f,this._register((0,_.onDidChangeZoomLevel)(()=>this.layout()));const b=s(".colorpicker-widget");o.appendChild(b);const g=new a(b,this.model,y);this.body=new u(b,this.model,this.pixelRatio),this._register(g),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=l}),define(te[621],ne([0,1,3,53,31,22,12]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const C=this._decorations.indexOf(i);return C>=0?C+1:1}getCurrentMatchesPosition(i){let C=this._editor.getModel().getDecorationsInRange(i);for(const s of C){const a=s.options;if(a===p._FIND_MATCH_DECORATION||a===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(i){let C=null,s=0;if(i)for(let a=0,u=this._decorations.length;a<u;a++){let h=this._editor.getModel().getDecorationRange(this._decorations[a]);if(i.equalsRange(h)){C=this._decorations[a],s=a+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(a=>{if(this._highlightedDecorationId!==null&&(a.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,a.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let u=this._editor.getModel().getDecorationRange(C);if(u.startLineNumber!==u.endLineNumber&&u.endColumn===1){let h=u.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(h);u=new _.Range(u.startLineNumber,u.startColumn,h,d)}this._rangeHighlightDecorationId=a.addDecoration(u,p._RANGE_HIGHLIGHT_DECORATION)}}),s}set(i,C){this._editor.changeDecorations(s=>{let a=p._FIND_MATCH_DECORATION,u=[];if(i.length>1e3){a=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/d,l=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,o=i[0].range.endLineNumber;for(let c=1,f=i.length;c<f;c++){const y=i[c].range;o+l>=y.startLineNumber?y.endLineNumber>o&&(o=y.endLineNumber):(u.push({range:new _.Range(t,1,o,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=y.startLineNumber,o=y.endLineNumber)}u.push({range:new _.Range(t,1,o,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let h=new Array(i.length);for(let d=0,r=i.length;d<r;d++)h[d]={range:i[d].range,options:a};this._decorations=s.deltaDecorations(this._decorations,h),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,u),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>s.removeDecoration(d)),this._findScopeDecorationIds=[]),(C==null?void 0:C.length)&&(this._findScopeDecorationIds=C.map(d=>s.addDecoration(d,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){let s=this._decorations[C],a=this._editor.getModel().getDecorationRange(s);if(!(!a||a.endLineNumber>i.lineNumber)){if(a.endLineNumber<i.lineNumber)return a;if(!(a.endColumn>i.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let C=0,s=this._decorations.length;C<s;C++){let a=this._decorations[C],u=this._editor.getModel().getDecorationRange(a);if(!(!u||u.startLineNumber<i.lineNumber)){if(u.startLineNumber>i.lineNumber)return u;if(!(u.startColumn<i.column))return u}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=I.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(L.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(L.minimapFindMatch),position:N.MinimapPosition.Inline}}),p._FIND_MATCH_DECORATION=I.ModelDecorationOptions.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(L.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(L.minimapFindMatch),position:N.MinimapPosition.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=I.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=I.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(L.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=I.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=I.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(te[149],ne([0,1,14,2,96,13,3,21,174,621,421,422,15,19]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new a.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new a.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new a.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const h=240;class d{constructor(n,l){this._toDispose=new N.DisposableStore,this._editor=n,this._state=l,this._isDisposed=!1,this._startSearchingTimer=new _.TimeoutTimer,this._decorations=new i.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new _.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,N.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},h)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,l){return l||n.getFullModelRange()}research(n,l){let t=null;typeof l!="undefined"?l!==null&&(Array.isArray(l)?t=l:t=[l]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(y=>{if(y.startLineNumber!==y.endLineNumber){let b=y.endLineNumber;return y.endColumn===1&&(b=b-1),new S.Range(y.startLineNumber,1,b,this._editor.getModel().getLineMaxColumn(b))}return y}));let o=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(o,t);const c=this._editor.getSelection();let f=this._decorations.getCurrentMatchesPosition(c);if(f===0&&o.length>0){const y=(0,u.findFirstInSorted)(o.map(b=>b.range),b=>S.Range.compareRangesUsingStarts(b,c)>=0);f=y>0?y-1+1:f}this._state.changeMatchInfo(f,this._decorations.getCount(),void 0),n&&this._editor.getOption(34).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let l=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(l,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,c=this._editor.getModel();return l||o===1?(t===1?t=c.getLineCount():t--,o=c.getLineMaxColumn(t)):o--,new L.Position(t,o)}_moveToPrevMatch(n,l=!1){if(!this._state.canNavigateBack()){const m=this._decorations.matchAfterPosition(n);m&&this._setCurrentFindMatch(m);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let m=this._decorations.matchBeforePosition(n);m&&m.isEmpty()&&m.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),m=this._decorations.matchBeforePosition(n)),m&&this._setCurrentFindMatch(m);return}if(this._cannotFind())return;let t=this._decorations.getFindScope(),o=d._getSearchRange(this._editor.getModel(),t);o.getEndPosition().isBefore(n)&&(n=o.getEndPosition()),n.isBefore(o.getStartPosition())&&(n=o.getEndPosition());let{lineNumber:c,column:f}=n,y=this._editor.getModel(),b=new L.Position(c,f),g=y.findPreviousMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1);if(g&&g.range.isEmpty()&&g.range.getStartPosition().equals(b)&&(b=this._prevSearchPosition(b),g=y.findPreviousMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1)),!!g){if(!l&&!o.containsRange(g.range))return this._moveToPrevMatch(g.range.getStartPosition(),!0);this._setCurrentFindMatch(g.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,c=this._editor.getModel();return l||o===c.getLineMaxColumn(t)?(t===c.getLineCount()?t=1:t++,o=1):o++,new L.Position(t,o)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let l=this._getNextMatch(n,!1,!0);l&&this._setCurrentFindMatch(l.range)}_getNextMatch(n,l,t,o=!1){if(this._cannotFind())return null;let c=this._decorations.getFindScope(),f=d._getSearchRange(this._editor.getModel(),c);f.getEndPosition().isBefore(n)&&(n=f.getStartPosition()),n.isBefore(f.getStartPosition())&&(n=f.getStartPosition());let{lineNumber:y,column:b}=n,g=this._editor.getModel(),m=new L.Position(y,b),w=g.findNextMatch(this._state.searchString,m,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,l);return t&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(m)&&(m=this._nextSearchPosition(m),w=g.findNextMatch(this._state.searchString,m,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,l)),w?!o&&!f.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),l,t,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,s.parseReplaceString)(this._state.replaceString):s.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let n=this._getReplacePattern(),l=this._editor.getSelection(),t=this._getNextMatch(l.getStartPosition(),!0,!1);if(t)if(l.equalsRange(t.range)){let o=n.buildReplaceString(t.matches,this._state.preserveCase),c=new I.ReplaceCommand(l,o);this._executeEditorCommand("replace",c),this._decorations.setStartPosition(new L.Position(l.startLineNumber,l.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}_findMatches(n,l,t){const o=(n||[null]).map(c=>d._getSearchRange(this._editor.getModel(),c));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,l,t)}replaceAll(){if(!this._hasMatches())return;const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}_largeReplaceAll(){const l=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null).parseSearchRequest();if(!l)return;let t=l.regex;if(!t.multiline){let w="mu";t.ignoreCase&&(w+="i"),t.global&&(w+="g"),t=new RegExp(t.source,w)}const o=this._editor.getModel(),c=o.getValue(1),f=o.getFullModelRange(),y=this._getReplacePattern();let b;const g=this._state.preserveCase;y.hasReplacementPatterns||g?b=c.replace(t,function(){return y.buildReplaceString(arguments,g)}):b=c.replace(t,y.buildReplaceString(null,g));let m=new I.ReplaceCommandThatPreservesSelection(f,b,this._editor.getSelection());this._executeEditorCommand("replaceAll",m)}_regularReplaceAll(n){const l=this._getReplacePattern();let t=this._findMatches(n,l.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let f=0,y=t.length;f<y;f++)o[f]=l.buildReplaceString(t[f].matches,this._state.preserveCase);let c=new C.ReplaceAllCommand(this._editor.getSelection(),t.map(f=>f.range),o);this._executeEditorCommand("replaceAll",c)}selectAllMatches(){if(!this._hasMatches())return;let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(c=>new p.Selection(c.range.startLineNumber,c.range.startColumn,c.range.endLineNumber,c.range.endColumn)),o=this._editor.getSelection();for(let c=0,f=t.length;c<f;c++)if(t[c].equalsRange(o)){t=[o].concat(t.slice(0,c)).concat(t.slice(c+1));break}this._editor.setSelections(t)}_executeEditorCommand(n,l){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,l),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(te[622],ne([0,1,7,243,52,14,149,22,12]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends I.Widget{constructor(s,a,u,h){super();this._hideSoon=this._register(new L.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=s,this._state=a,this._keybindingService=u,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=h.getColorTheme().getColor(p.inputActiveOptionBorder),r=h.getColorTheme().getColor(p.inputActiveOptionForeground),n=h.getColorTheme().getColor(p.inputActiveOptionBackground);this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new N.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let t=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(_.addDisposableNonBubblingMouseOutListener(this._domNode,l=>this._onMouseOut())),this._register(_.addDisposableListener(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(h.getColorTheme()),this._register(h.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(s){let a=this._keybindingService.lookupKeybinding(s);return a?` (${a.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(s){let a={inputActiveOptionBorder:s.getColor(p.inputActiveOptionBorder),inputActiveOptionForeground:s.getColor(p.inputActiveOptionForeground),inputActiveOptionBackground:s.getColor(p.inputActiveOptionBackground)};this.caseSensitive.style(a),this.wholeWords.style(a),this.regex.style(a)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",(0,v.registerThemingParticipant)((C,s)=>{const a=C.getColor(p.editorWidgetBackground);a&&s.addRule(`.monaco-editor .findOptionsWidget { background-color: ${a}; }`);const u=C.getColor(p.editorWidgetForeground);u&&s.addRule(`.monaco-editor .findOptionsWidget { color: ${u}; }`);const h=C.getColor(p.widgetShadow);h&&s.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${h}; }`);const d=C.getColor(p.contrastBorder);d&&s.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(te[623],ne([0,1,6,2,3,149]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(v,i){return v===1?!0:v===2?!1:i}class p extends N.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new _.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,C,s){let a={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},u=!1;C===0&&(i=0),i>C&&(i=C),this._matchesPosition!==i&&(this._matchesPosition=i,a.matchesPosition=!0,u=!0),this._matchesCount!==C&&(this._matchesCount=C,a.matchesCount=!0,u=!0),typeof s!="undefined"&&(I.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,a.currentMatch=!0,u=!0)),u&&this._onFindReplaceStateChange.fire(a)}change(i,C,s=!0){var a;let u={moveCursor:C,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},h=!1;const d=this.isRegex,r=this.wholeWord,n=this.matchCase,l=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,u.searchString=!0,h=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,u.replaceString=!0,h=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,u.isRevealed=!0,h=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,u.isReplaceRevealed=!0,h=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((a=i.searchScope)===null||a===void 0?void 0:a.every(t=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(c=>!I.Range.equalsRange(c,t))}))||(this._searchScope=i.searchScope,u.searchScope=!0,h=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,u.loop=!0,h=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,d!==this.isRegex&&(h=!0,u.isRegex=!0),r!==this.wholeWord&&(h=!0,u.wholeWord=!0),n!==this.matchCase&&(h=!0,u.matchCase=!0),l!==this.preserveCase&&(h=!0,u.preserveCase=!0),h&&this._onFindReplaceStateChange.fire(u)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=L.MATCHES_LIMIT}}e.FindReplaceState=p}),define(te[624],ne([0,1,181,31,36]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const L=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(C){this.editorModel=C,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(C){let s=I.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),a=s&&!!s.offSide,u=s&&s.markers;return Promise.resolve(v(this.editorModel,a,u))}}e.IndentRangeProvider=S;class p{constructor(C){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=C}insertFirst(C,s,a){if(C>_.MAX_LINE_NUMBER||s>_.MAX_LINE_NUMBER)return;let u=this._length;this._startIndexes[u]=C,this._endIndexes[u]=s,this._length++,a<1e3&&(this._indentOccurrences[a]=(this._indentOccurrences[a]||0)+1)}toIndentRanges(C){if(this._length<=this._foldingRangesLimit){let s=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let u=this._length-1,h=0;u>=0;u--,h++)s[h]=this._startIndexes[u],a[h]=this._endIndexes[u];return new _.FoldingRegions(s,a)}else{let s=0,a=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){let n=this._indentOccurrences[r];if(n){if(n+s>this._foldingRangesLimit){a=r;break}s+=n}}const u=C.getOptions().tabSize;let h=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,n=0;r>=0;r--){let l=this._startIndexes[r],t=C.getLineContent(l),o=N.TextModel.computeIndentLevel(t,u);(o<a||o===a&&s++<this._foldingRangesLimit)&&(h[n]=l,d[n]=this._endIndexes[r],n++)}return new _.FoldingRegions(h,d)}}}e.RangesCollector=p;function v(i,C,s,a=L){const u=i.getOptions().tabSize;let h=new p(a),d;s&&(d=new RegExp(`(${s.start.source})|(?:${s.end.source})`));let r=[],n=i.getLineCount()+1;r.push({indent:-1,endAbove:n,line:n});for(let l=i.getLineCount();l>0;l--){let t=i.getLineContent(l),o=N.TextModel.computeIndentLevel(t,u),c=r[r.length-1];if(o===-1){C&&(c.endAbove=l);continue}let f;if(d&&(f=t.match(d)))if(f[1]){let y=r.length-1;for(;y>0&&r[y].indent!==-2;)y--;if(y>0){r.length=y+1,c=r[y],h.insertFirst(l,c.line,o),c.line=l,c.indent=o,c.endAbove=l;continue}}else{r.push({indent:-2,endAbove:l,line:l});continue}if(c.indent>o){do r.pop(),c=r[r.length-1];while(c.indent>o);let y=c.endAbove-1;y-l>=1&&h.insertFirst(l,y,o)}c.indent===o?c.endAbove=l:r.push({indent:o,endAbove:l,line:l})}return h.toIndentRanges(i)}e.computeRanges=v}),define(te[625],ne([0,1,119,68,183,212,122,12,124,7,504,165,44,2,9,39,67,163]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let l=class{constructor(D){this._resolverService=D}hasChildren(D){return D instanceof _.ReferencesModel||D instanceof _.FileReferences}getChildren(D){if(D instanceof _.ReferencesModel)return D.groups;if(D instanceof _.FileReferences)return D.resolve(this._resolverService).then(k=>k.children);throw new Error("bad tree")}};l=Re([me(0,N.ITextModelService)],l),e.DataSource=l;class t{getHeight(){return 23}getTemplateId(D){return D instanceof _.FileReferences?y.id:g.id}}e.Delegate=t;let o=class{constructor(D){this._keybindingService=D}getKeyboardNavigationLabel(D){var k;if(D instanceof _.OneReference){const T=(k=D.parent.getPreview(D))===null||k===void 0?void 0:k.preview(D.range);if(T)return T.value}return(0,a.basename)(D.uri)}};o=Re([me(0,d.IKeybindingService)],o),e.StringRepresentationProvider=o;class c{getId(D){return D instanceof _.OneReference?D.id:D.uri}}e.IdentityProvider=c;let f=class extends u.Disposable{constructor(D,k,T){super();this._uriLabel=k;const R=document.createElement("div");R.classList.add("reference-file"),this.file=this._register(new I.IconLabel(R,{supportHighlights:!0})),this.badge=new L.CountBadge(i.append(R,i.$(".count"))),this._register((0,v.attachBadgeStyler)(this.badge,T)),D.appendChild(R)}set(D,k){let T=(0,a.dirname)(D.uri);this.file.setLabel((0,s.getBaseLabel)(D.uri),this._uriLabel.getUriLabel(T,{relative:!0}),{title:this._uriLabel.getUriLabel(D.uri),matches:k});const R=D.children.length;this.badge.setCount(R),R>1?this.badge.setTitleFormat((0,C.localize)(0,null,R)):this.badge.setTitleFormat((0,C.localize)(1,null,R))}};f=Re([me(1,S.ILabelService),me(2,p.IThemeService)],f);let y=class Ht{constructor(D){this._instantiationService=D,this.templateId=Ht.id}renderTemplate(D){return this._instantiationService.createInstance(f,D)}renderElement(D,k,T){T.set(D.element,(0,r.createMatches)(D.filterData))}disposeTemplate(D){D.dispose()}};y.id="FileReferencesRenderer",y=Re([me(0,h.IInstantiationService)],y),e.FileReferencesRenderer=y;class b{constructor(D){this.label=new n.HighlightedLabel(D,!1)}set(D,k){var T;const R=(T=D.parent.getPreview(D))===null||T===void 0?void 0:T.preview(D.range);if(!R||!R.value)this.label.set(`${(0,a.basename)(D.uri)}:${D.range.startLineNumber+1}:${D.range.startColumn+1}`);else{const{value:M,highlight:A}=R;k&&!r.FuzzyScore.isDefault(k)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(M,(0,r.createMatches)(k))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(M,[A]))}}}class g{constructor(){this.templateId=g.id}renderTemplate(D){return new b(D)}renderElement(D,k,T){T.set(D.element,D.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=g,g.id="OneReferenceRenderer";class m{getWidgetAriaLabel(){return(0,C.localize)(2,null)}getAriaLabel(D){return D.ariaMessage}}e.AccessibilityProvider=m}),define(te[626],ne([0,1,7,2,3,28,8,115,37,84,65,87,13,12,46,29,42,139,15,9,361]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const c=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("editorGhostText",{createHTML:T=>T});let f=class extends N.Disposable{constructor(R,M,A){super();this.editor=R,this.model=M,this.instantiationService=A,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(y,this.editor)),this.additionalLinesWidget=this._register(new g(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(O=>{(O.hasChanged(28)||O.hasChanged(105)||O.hasChanged(88)||O.hasChanged(82)||O.hasChanged(43)||O.hasChanged(42)||O.hasChanged(58))&&this.update()})),this._register((0,N.toDisposable)(()=>{var O;this.disposed=!0,this.update(),(O=this.viewMoreContentWidget)===null||O===void 0||O.dispose(),this.viewMoreContentWidget=void 0})),this._register(M.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(R){return this.additionalLinesWidget.viewZoneId===R}update(){var R;const M=this.model.ghostText;if(!this.editor.hasModel()||!M||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const A=new Array,O=new Array;function P(W,G){if(O.length>0){const Y=O[O.length-1];G&&Y.decorations.push(new n.LineDecoration(Y.content.length+1,Y.content.length+1+W[0].length,G,0)),Y.content+=W[0],W=W.slice(1)}for(const Y of W)O.push({content:Y,decorations:G?[new n.LineDecoration(1,Y.length+1,G,0)]:[]})}const F=this.editor.getModel().getLineContent(M.lineNumber);this.editor.getModel().getLineTokens(M.lineNumber);let E,x=0;for(const W of M.parts){let G=W.lines;E===void 0?(A.push({column:W.column,text:G[0],preview:W.preview}),G=G.slice(1)):P([F.substring(x,W.column-1)],void 0),G.length>0&&(P(G,"ghost-text"),E===void 0&&W.column<=F.length&&(E=W.column)),x=W.column-1}E!==void 0&&P([F.substring(x)],void 0),this.partsWidget.setParts(M.lineNumber,A,E!==void 0?{column:E,length:F.length+1-E}:void 0),this.additionalLinesWidget.updateLines(M.lineNumber,O,M.additionalReservedLineCount),M.parts.some(W=>W.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new a.Position(M.lineNumber,this.editor.getModel().getLineMaxColumn(M.lineNumber)),"",0):((R=this.viewMoreContentWidget)===null||R===void 0||R.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(R,M,A){const O=this.editor.getOption(42),P=document.createElement("div");P.className="suggest-preview-additional-widget",C.Configuration.applyFontInfoSlow(P,O);const F=document.createElement("span");F.className="content-spacer",F.append(M),P.append(F);const E=document.createElement("span");E.className="content-newline suggest-preview-text",E.append("\u23CE  "),P.append(E);const x=new N.DisposableStore,W=document.createElement("div");return W.className="button suggest-preview-text",W.append(`+${A} lines\u2026`),x.add(_.addStandardDisposableListener(W,"mousedown",G=>{var Y;(Y=this.model)===null||Y===void 0||Y.setExpanded(!0),G.preventDefault(),this.editor.focus()})),P.append(W),new k(this.editor,R,P,x)}};f=Re([me(2,t.IInstantiationService)],f),e.GhostTextWidget=f;let y=class{constructor(R,M,A,O){this.editor=R,this.codeEditorService=M,this.themeService=A,this.contextKeyService=O,this.decorationIds=[],this.disposableStore=new N.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(R,M,A){this.disposableStore.clear();const O=this.themeService.getColorTheme(),P=O.getColor(h.ghostTextForeground);let F,E;P&&(F=String(P.rgba.a),E=d.Color.Format.CSS.format(b(P)));const x=O.getColor(h.ghostTextBorder);let W;x&&(W=`2px dashed ${x}`);const G=this.editor.getModel();if(!G)return;const{tabSize:Y}=G.getOptions(),se=G.getLineContent(R)||"";let re=0,J="";const le=new Array;A&&le.push({range:I.Range.fromPositions(new a.Position(R,A.column),new a.Position(R,A.column+A.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const ae=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),V=ae===void 0?!0:!!ae;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,M.map(B=>{J+=se.substring(re,B.column-1),re=B.column-1;const Z=V?B.text:this.renderSingleLineText(B.text,J,Y,!1),H=this.disposableStore.add(D(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:Z,opacity:F,color:E,border:W,fontWeight:B.preview?"bold":"normal"}}));return{range:I.Range.fromPositions(new a.Position(R,B.column)),options:V?{description:"ghost-text",after:{content:Z,inlineClassName:B.preview?"ghost-text-decoration-preview":"ghost-text-decoration"}}:Object.assign({},H.resolve())}}).concat(le))}renderSingleLineText(R,M,A,O){const P=M+R,F=r.CursorColumns.visibleColumnsByColumns(P,A);let E="",x=M.length+1;for(const W of R){if(W==="	"){const G=F[x+1]-F[x];if(O){E+="\u2192";for(let Y=1;Y<G;Y++)E+="\xA0"}else for(let Y=0;Y<G;Y++)E+="\xA0"}else W===" "?O?E+="\xB7":E+="\xA0":E+=W;x+=1}return E}};y=Re([me(1,L.ICodeEditorService),me(2,u.IThemeService),me(3,l.IContextKeyService)],y);function b(T){const{r:R,b:M,g:A}=T.rgba;return new d.Color(new d.RGBA(R,A,M,255))}class g{constructor(R){this.editor=R,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(R=>{this._viewZoneId&&(R.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(R,M,A){const O=this.editor.getModel();if(!O)return;const{tabSize:P}=O.getOptions();this.editor.changeViewZones(F=>{this._viewZoneId&&(F.removeZone(this._viewZoneId),this._viewZoneId=void 0);const E=Math.max(M.length,A);if(E>0){const x=document.createElement("div");m(x,P,M,this.editor.getOptions()),this._viewZoneId=F.addZone({afterLineNumber:R,heightInLines:E,domNode:x})}})}}function m(T,R,M,A){const O=A.get(28),P=A.get(105),F="none",E=A.get(82),x=A.get(43),W=A.get(42),G=A.get(58),Y=(0,i.createStringBuilder)(1e4);Y.appendASCIIString('<div class="suggest-preview-text">');for(let J=0,le=M.length;J<le;J++){const ae=M[J],V=ae.content;Y.appendASCIIString('<div class="view-line'),Y.appendASCIIString('" style="top:'),Y.appendASCIIString(String(J*G)),Y.appendASCIIString('px;width:1000000px;">');const B=S.isBasicASCII(V),Z=S.containsRTL(V),H=s.LineTokens.createEmpty(V);(0,p.renderViewLine)(new p.RenderLineInput(W.isMonospace&&!O,W.canUseHalfwidthRightwardsArrow,V,!1,B,Z,0,H,ae.decorations,R,0,W.spaceWidth,W.middotWidth,W.wsmiddotWidth,P,F,E,x!==v.EditorFontLigatures.OFF,null),Y),Y.appendASCIIString("</div>")}Y.appendASCIIString("</div>"),C.Configuration.applyFontInfoSlow(T,W);const se=Y.build(),re=c?c.createHTML(se):se;T.innerHTML=re}let w=0;function D(T,R,M,A){const O=M+w++;return T.registerDecorationType(R,O,A),{dispose(){T.removeDecorationType(O)},resolve(){return T.resolveDecorationOptions(O,!0)}}}class k extends N.Disposable{constructor(R,M,A,O){super();this.editor=R,this.position=M,this.domNode=A,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(O),this._register((0,N.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,u.registerThemingParticipant)((T,R)=>{const M=T.getColor(h.ghostTextForeground);if(M){const O=String(M.rgba.a),P=d.Color.Format.CSS.format(b(M));R.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${O}; color: ${P}; }`),R.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${M.toString()}; }`),R.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${O}; color: ${P}; }`)}const A=T.getColor(h.ghostTextBorder);A&&R.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${A}; }`)})}),define(te[627],ne([0,1,8,191,3,21,113,36,237]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(s,a,u){this._selection=s,this._isMovingDown=a,this._autoIndent=u,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(s,a){let u=s.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===u){this._selectionId=a.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=a.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let h=this._selection;h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(this._moveEndPositionDown=!0,h=h.setEndPosition(h.endLineNumber-1,s.getLineMaxColumn(h.endLineNumber-1)));const{tabSize:d,indentSize:r,insertSpaces:n}=s.getOptions();let l=this.buildIndentConverter(d,r,n),t={getLineTokens:o=>s.getLineTokens(o),getLanguageIdentifier:()=>s.getLanguageIdentifier(),getLanguageIdAtPosition:(o,c)=>s.getLanguageIdAtPosition(o,c),getLineContent:null};if(h.startLineNumber===h.endLineNumber&&s.getLineMaxColumn(h.startLineNumber)===1){let o=h.startLineNumber,c=this._isMovingDown?o+1:o-1;s.getLineMaxColumn(c)===1?a.addEditOperation(new I.Range(1,1,1,1),null):(a.addEditOperation(new I.Range(o,1,o,1),s.getLineContent(c)),a.addEditOperation(new I.Range(c,1,c,s.getLineMaxColumn(c)),null)),h=new L.Selection(c,1,c,1)}else{let o,c;if(this._isMovingDown){o=h.endLineNumber+1,c=s.getLineContent(o),a.addEditOperation(new I.Range(o-1,s.getLineMaxColumn(o-1),o,s.getLineMaxColumn(o)),null);let f=c;if(this.shouldAutoIndent(s,h)){let y=this.matchEnterRule(s,l,d,o,h.startLineNumber-1);if(y!==null){let g=_.getLeadingWhitespace(s.getLineContent(o)),m=y+v.getSpaceCnt(g,d);f=v.generateIndent(m,d,n)+this.trimLeft(c)}else{t.getLineContent=m=>m===h.startLineNumber?s.getLineContent(o):s.getLineContent(m);let g=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(o,1),h.startLineNumber,l);if(g!==null){let m=_.getLeadingWhitespace(s.getLineContent(o)),w=v.getSpaceCnt(g,d),D=v.getSpaceCnt(m,d);w!==D&&(f=v.generateIndent(w,d,n)+this.trimLeft(c))}}a.addEditOperation(new I.Range(h.startLineNumber,1,h.startLineNumber,1),f+`
`);let b=this.matchEnterRuleMovingDown(s,l,d,h.startLineNumber,o,f);if(b!==null)b!==0&&this.getIndentEditsOfMovingBlock(s,a,h,d,n,b);else{t.getLineContent=m=>m===h.startLineNumber?f:m>=h.startLineNumber+1&&m<=h.endLineNumber+1?s.getLineContent(m-1):s.getLineContent(m);let g=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(o,1),h.startLineNumber+1,l);if(g!==null){const m=_.getLeadingWhitespace(s.getLineContent(h.startLineNumber)),w=v.getSpaceCnt(g,d),D=v.getSpaceCnt(m,d);if(w!==D){const k=w-D;this.getIndentEditsOfMovingBlock(s,a,h,d,n,k)}}}}else a.addEditOperation(new I.Range(h.startLineNumber,1,h.startLineNumber,1),f+`
`)}else if(o=h.startLineNumber-1,c=s.getLineContent(o),a.addEditOperation(new I.Range(o,1,o+1,1),null),a.addEditOperation(new I.Range(h.endLineNumber,s.getLineMaxColumn(h.endLineNumber),h.endLineNumber,s.getLineMaxColumn(h.endLineNumber)),`
`+c),this.shouldAutoIndent(s,h)){t.getLineContent=y=>y===o?s.getLineContent(h.startLineNumber):s.getLineContent(y);let f=this.matchEnterRule(s,l,d,h.startLineNumber,h.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(s,a,h,d,n,f);else{let y=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(h.startLineNumber,1),o,l);if(y!==null){let b=_.getLeadingWhitespace(s.getLineContent(h.startLineNumber)),g=v.getSpaceCnt(y,d),m=v.getSpaceCnt(b,d);if(g!==m){let w=g-m;this.getIndentEditsOfMovingBlock(s,a,h,d,n,w)}}}}}this._selectionId=a.trackSelection(h)}buildIndentConverter(s,a,u){return{shiftIndent:h=>N.ShiftCommand.shiftIndent(h,h.length+1,s,a,u),unshiftIndent:h=>N.ShiftCommand.unshiftIndent(h,h.length+1,s,a,u)}}parseEnterResult(s,a,u,h,d){if(d){let r=d.indentation;d.indentAction===S.IndentAction.None||d.indentAction===S.IndentAction.Indent?r=d.indentation+d.appendText:d.indentAction===S.IndentAction.IndentOutdent?r=d.indentation:d.indentAction===S.IndentAction.Outdent&&(r=a.unshiftIndent(d.indentation)+d.appendText);let n=s.getLineContent(h);if(this.trimLeft(n).indexOf(this.trimLeft(r))>=0){let l=_.getLeadingWhitespace(s.getLineContent(h)),t=_.getLeadingWhitespace(r),o=p.LanguageConfigurationRegistry.getIndentMetadata(s,h);o!==null&&o&2&&(t=a.unshiftIndent(t));let c=v.getSpaceCnt(t,u),f=v.getSpaceCnt(l,u);return c-f}}return null}matchEnterRuleMovingDown(s,a,u,h,d,r){if(_.lastNonWhitespaceIndex(r)>=0){let n=s.getLineMaxColumn(d),l=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new I.Range(d,n,d,n));return this.parseEnterResult(s,a,u,h,l)}else{let n=h-1;for(;n>=1;){let o=s.getLineContent(n);if(_.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||h>s.getLineCount())return null;let l=s.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new I.Range(n,l,n,l));return this.parseEnterResult(s,a,u,h,t)}}matchEnterRule(s,a,u,h,d,r){let n=d;for(;n>=1;){let o;if(n===d&&r!==void 0?o=r:o=s.getLineContent(n),_.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||h>s.getLineCount())return null;let l=s.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new I.Range(n,l,n,l));return this.parseEnterResult(s,a,u,h,t)}trimLeft(s){return s.replace(/^\s+/,"")}shouldAutoIndent(s,a){if(this._autoIndent<4||!s.isCheapToTokenize(a.startLineNumber))return!1;let u=s.getLanguageIdAtPosition(a.startLineNumber,1),h=s.getLanguageIdAtPosition(a.endLineNumber,1);return!(u!==h||p.LanguageConfigurationRegistry.getIndentRulesSupport(u)===null)}getIndentEditsOfMovingBlock(s,a,u,h,d,r){for(let n=u.startLineNumber;n<=u.endLineNumber;n++){let l=s.getLineContent(n),t=_.getLeadingWhitespace(l),c=v.getSpaceCnt(t,h)+r,f=v.generateIndent(c,h,d);f!==t&&(a.addEditOperation(new I.Range(n,1,n,t.length+1),f),n===u.endLineNumber&&u.endColumn<=t.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(s,a){let u=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(u=u.setEndPosition(u.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&u.startLineNumber<u.endLineNumber&&(u=u.setEndPosition(u.endLineNumber,2)),u}}e.MoveLinesCommand=i}),define(te[268],ne([0,1,53,12,46,2,112,20,82]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,a){var u;const h=new L.DisposableStore;s.canAcceptInBackground=!!((u=this.options)===null||u===void 0?void 0:u.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const d=h.add(new L.MutableDisposable);return d.value=this.doProvide(s,a),h.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(s,a)})),h}doProvide(s,a){const u=new L.DisposableStore,h=this.activeTextEditorControl;if(h&&this.canProvideWithTextEditor(h)){const d={editor:h},r=(0,S.getCodeEditor)(h);if(r){let n=(0,p.withNullAsUndefined)(h.saveViewState());u.add(r.onDidChangeCursorPosition(()=>{n=(0,p.withNullAsUndefined)(h.saveViewState())})),d.restoreViewState=()=>{n&&h===this.activeTextEditorControl&&h.restoreViewState(n)},u.add((0,v.once)(a.onCancellationRequested)(()=>{var l;return(l=d.restoreViewState)===null||l===void 0?void 0:l.call(d)}))}u.add((0,L.toDisposable)(()=>this.clearDecorations(h))),u.add(this.provideWithTextEditor(d,s,a))}else u.add(this.provideWithoutTextEditor(s,a));return u}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},a){s.setSelection(a.range),s.revealRangeInCenter(a.range,0),a.preserveFocus||s.focus()}getModel(s){var a;return(0,S.isDiffEditor)(s)?(a=s.getModel())===null||a===void 0?void 0:a.modified:s.getModel()}addDecorations(s,a){s.changeDecorations(u=>{const h=[];this.rangeHighlightDecorationId&&(h.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),h.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:a,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,N.themeColorFromId)(I.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}],[r,n]=u.deltaDecorations(h,d);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:n}})}clearDecorations(s){const a=this.rangeHighlightDecorationId;a&&(s.changeDecorations(u=>{u.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(te[628],ne([0,1,523,2,268,112]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends I.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const i=(0,_.localize)(0,null);return v.items=[{label:i}],v.ariaLabel=i,N.Disposable.None}provideWithTextEditor(v,i,C){const s=v.editor,a=new N.DisposableStore;a.add(i.onDidAccept(d=>{const[r]=i.selectedItems;if(r){if(!this.isValidLineNumber(s,r.lineNumber))return;this.gotoLocation(v,{range:this.toRange(r.lineNumber,r.column),keyMods:i.keyMods,preserveFocus:d.inBackground}),d.inBackground||i.hide()}}));const u=()=>{const d=this.parsePosition(s,i.value.trim().substr(S.PREFIX.length)),r=this.getPickLabel(s,d.lineNumber,d.column);if(i.items=[{lineNumber:d.lineNumber,column:d.column,label:r}],i.ariaLabel=r,!this.isValidLineNumber(s,d.lineNumber)){this.clearDecorations(s);return}const n=this.toRange(d.lineNumber,d.column);s.revealRangeInCenter(n,0),this.addDecorations(s,n)};u(),a.add(i.onDidChangeValue(()=>u()));const h=(0,L.getCodeEditor)(s);return h&&h.getOptions().get(59).renderType===2&&(h.updateOptions({lineNumbers:"on"}),a.add((0,N.toDisposable)(()=>h.updateOptions({lineNumbers:"relative"})))),a}toRange(v=1,i=1){return{startLineNumber:v,startColumn:i,endLineNumber:v,endColumn:i}}parsePosition(v,i){const C=i.split(/,|:|#/).map(a=>parseInt(a,10)).filter(a=>!isNaN(a)),s=this.lineCount(v)+1;return{lineNumber:C[0]>0?C[0]:s+C[0],column:C[1]}}getPickLabel(v,i,C){if(this.isValidLineNumber(v,i))return this.isValidColumn(v,i,C)?(0,_.localize)(1,null,i,C):(0,_.localize)(2,null,i);const s=v.getPosition()||{lineNumber:1,column:1},a=this.lineCount(v);return a>1?(0,_.localize)(3,null,s.lineNumber,s.column,a):(0,_.localize)(4,null,s.lineNumber,s.column)}isValidLineNumber(v,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(v)}isValidColumn(v,i,C){if(!C||typeof C!="number")return!1;const s=this.getModel(v);if(!s)return!1;const a={lineNumber:i,column:C};return s.validatePosition(a).equals(a)}lineCount(v){var i,C;return(C=(i=this.getModel(v))===null||i===void 0?void 0:i.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(te[629],ne([0,1,524,23,2,3,268,18,252,8,301,27]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class a extends S.AbstractEditorNavigationQuickAccessProvider{constructor(r=Object.create(null)){super(r);this.options=r,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(r){return this.provideLabelPick(r,(0,_.localize)(0,null)),I.Disposable.None}provideWithTextEditor(r,n,l){const t=r.editor,o=this.getModel(t);return o?p.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(r,o,n,l):this.doProvideWithoutEditorSymbols(r,o,n,l):I.Disposable.None}doProvideWithoutEditorSymbols(r,n,l,t){const o=new I.DisposableStore;return this.provideLabelPick(l,(0,_.localize)(1,null)),(()=>ke(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,o))||t.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(r,n,l,t))}))(),o}provideLabelPick(r,n){r.items=[{label:n,index:0,kind:14}],r.ariaLabel=n}waitForLanguageSymbolRegistry(r,n){return ke(this,void 0,void 0,function*(){if(p.DocumentSymbolProviderRegistry.has(r))return!0;let l;const t=new Promise(c=>l=c),o=n.add(p.DocumentSymbolProviderRegistry.onDidChange(()=>{p.DocumentSymbolProviderRegistry.has(r)&&(o.dispose(),l(!0))}));return n.add((0,I.toDisposable)(()=>l(!1))),t})}doProvideWithEditorSymbols(r,n,l,t){const o=r.editor,c=new I.DisposableStore;c.add(l.onDidAccept(m=>{const[w]=l.selectedItems;w&&w.range&&(this.gotoLocation(r,{range:w.range.selection,keyMods:l.keyMods,preserveFocus:m.inBackground}),m.inBackground||l.hide())})),c.add(l.onDidTriggerItemButton(({item:m})=>{m&&m.range&&(this.gotoLocation(r,{range:m.range.selection,keyMods:l.keyMods,forceSideBySide:!0}),l.hide())}));const f=this.getDocumentSymbols(n,t);let y;const b=()=>ke(this,void 0,void 0,function*(){y==null||y.dispose(!0),l.busy=!1,y=new N.CancellationTokenSource(t),l.busy=!0;try{const m=(0,C.prepareQuery)(l.value.substr(a.PREFIX.length).trim()),w=yield this.doGetSymbolPicks(f,m,void 0,y.token);if(t.isCancellationRequested)return;w.length>0?l.items=w:m.original.length>0?this.provideLabelPick(l,(0,_.localize)(2,null)):this.provideLabelPick(l,(0,_.localize)(3,null))}finally{t.isCancellationRequested||(l.busy=!1)}});c.add(l.onDidChangeValue(()=>b())),b();let g=!0;return c.add(l.onDidChangeActive(()=>{const[m]=l.activeItems;if(m&&m.range){if(g){g=!1;return}o.revealRangeInCenter(m.range.selection,0),this.addDecorations(o,m.range.decoration)}})),c}doGetSymbolPicks(r,n,l,t){return ke(this,void 0,void 0,function*(){const o=yield r;if(t.isCancellationRequested)return[];const c=n.original.indexOf(a.SCOPE_PREFIX)===0,f=c?1:0;let y,b;n.values&&n.values.length>1?(y=(0,C.pieceToQuery)(n.values[0]),b=(0,C.pieceToQuery)(n.values.slice(1))):y=n;const g=[];for(let D=0;D<o.length;D++){const k=o[D],T=(0,i.trim)(k.name),R=`$(symbol-${p.SymbolKinds.toString(k.kind)||"property"}) ${T}`,M=R.length-T.length;let A=k.containerName;(l==null?void 0:l.extraContainerLabel)&&(A?A=`${l.extraContainerLabel} \u2022 ${A}`:A=l.extraContainerLabel);let O,P,F,E;if(n.original.length>f){let W=!1;if(y!==n&&([O,P]=(0,C.scoreFuzzy2)(R,Object.assign(Object.assign({},n),{values:void 0}),f,M),typeof O=="number"&&(W=!0)),typeof O!="number"&&([O,P]=(0,C.scoreFuzzy2)(R,y,f,M),typeof O!="number"))continue;if(!W&&b){if(A&&b.original.length>0&&([F,E]=(0,C.scoreFuzzy2)(A,b)),typeof F!="number")continue;typeof O=="number"&&(O+=F)}}const x=k.tags&&k.tags.indexOf(1)>=0;g.push({index:D,kind:k.kind,score:O,label:R,ariaLabel:T,description:A,highlights:x?void 0:{label:P,description:E},range:{selection:L.Range.collapseToStart(k.selectionRange),decoration:k.range},strikethrough:x,buttons:(()=>{var W,G;const Y=((W=this.options)===null||W===void 0?void 0:W.openSideBySideDirection)?(G=this.options)===null||G===void 0?void 0:G.openSideBySideDirection():void 0;if(!!Y)return[{iconClass:Y==="right"?s.Codicon.splitHorizontal.classNames:s.Codicon.splitVertical.classNames,tooltip:Y==="right"?(0,_.localize)(4,null):(0,_.localize)(5,null)}]})()})}const m=g.sort((D,k)=>c?this.compareByKindAndScore(D,k):this.compareByScore(D,k));let w=[];if(c){let R=function(){k&&typeof D=="number"&&T>0&&(k.label=(0,i.format)(h[D]||u,T))},D,k,T=0;for(const M of m)D!==M.kind?(R(),D=M.kind,T=1,k={type:"separator"},w.push(k)):T++,w.push(M);R()}else m.length>0&&(w=[{label:(0,_.localize)(6,null,g.length),type:"separator"},...m]);return w})}compareByScore(r,n){if(typeof r.score!="number"&&typeof n.score=="number")return 1;if(typeof r.score=="number"&&typeof n.score!="number")return-1;if(typeof r.score=="number"&&typeof n.score=="number"){if(r.score>n.score)return-1;if(r.score<n.score)return 1}return r.index<n.index?-1:r.index>n.index?1:0}compareByKindAndScore(r,n){const l=h[r.kind]||u,t=h[n.kind]||u,o=l.localeCompare(t);return o===0?this.compareByScore(r,n):o}getDocumentSymbols(r,n){return ke(this,void 0,void 0,function*(){const l=yield v.OutlineModel.create(r,n);return n.isCancellationRequested?[]:l.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=a,a.PREFIX="@",a.SCOPE_PREFIX=":",a.PREFIX_BY_CATEGORY=`${a.PREFIX}${a.SCOPE_PREFIX}`;const u=(0,_.localize)(7,null),h={[5]:(0,_.localize)(8,null),[11]:(0,_.localize)(9,null),[8]:(0,_.localize)(10,null),[12]:(0,_.localize)(11,null),[4]:(0,_.localize)(12,null),[22]:(0,_.localize)(13,null),[23]:(0,_.localize)(14,null),[24]:(0,_.localize)(15,null),[10]:(0,_.localize)(16,null),[2]:(0,_.localize)(17,null),[3]:(0,_.localize)(18,null),[25]:(0,_.localize)(19,null),[1]:(0,_.localize)(20,null),[6]:(0,_.localize)(21,null),[9]:(0,_.localize)(22,null),[21]:(0,_.localize)(23,null),[14]:(0,_.localize)(24,null),[0]:(0,_.localize)(25,null),[17]:(0,_.localize)(26,null),[15]:(0,_.localize)(27,null),[16]:(0,_.localize)(28,null),[18]:(0,_.localize)(29,null),[19]:(0,_.localize)(30,null),[7]:(0,_.localize)(31,null),[13]:(0,_.localize)(32,null)}}),define(te[630],ne([0,1,2,13,526,15,22,12,39,366]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new L.RawContextKey("renameInputVisible",!1,(0,I.localize)(0,null));let i=class{constructor(s,a,u,h,d){this._editor=s,this._acceptKeybindings=a,this._themeService=u,this._keybindingService=h,this._disposables=new _.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(42)&&this._updateFont()})),this._disposables.add(u.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,I.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const s=()=>{var a,u;const[h,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(h),this._label.innerText=(0,I.localize)(2,null,(a=this._keybindingService.lookupKeybinding(h))===null||a===void 0?void 0:a.getLabel(),(u=this._keybindingService.lookupKeybinding(d))===null||u===void 0?void 0:u.getLabel())};s(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(s)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(s){var a,u,h,d;if(!this._input||!this._domNode)return;const r=s.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((a=s.getColor(S.editorWidgetBackground))!==null&&a!==void 0?a:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((u=s.getColor(S.inputForeground))!==null&&u!==void 0?u:""),this._input.style.backgroundColor=String((h=s.getColor(S.inputBackground))!==null&&h!==void 0?h:"");const n=s.getColor(S.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(d=n==null?void 0:n.toString())!==null&&d!==void 0?d:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(42);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){this._currentAcceptInput&&this._currentAcceptInput(s)}cancelInput(s){this._currentCancelInput&&this._currentCancelInput(s)}getInput(s,a,u,h,d,r){this._domNode.classList.toggle("preview",d),this._position=new N.Position(s.startLineNumber,s.startColumn),this._input.value=a,this._input.setAttribute("selectionStart",u.toString()),this._input.setAttribute("selectionEnd",h.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const n=new _.DisposableStore;return new Promise(l=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===a){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:d&&t})},r.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Re([me(2,p.IThemeService),me(3,v.IKeybindingService),me(4,L.IContextKeyService)],i),e.RenameInputField=i}),define(te[269],ne([0,1,536,12,22,27]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,I.registerColor)("symbolIcon.arrayForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,I.registerColor)("symbolIcon.booleanForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,I.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,_.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,I.registerColor)("symbolIcon.colorForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,I.registerColor)("symbolIcon.constantForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,I.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,_.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,I.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,_.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,I.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,_.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,I.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,_.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,I.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,_.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,I.registerColor)("symbolIcon.fileForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,I.registerColor)("symbolIcon.folderForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,I.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,_.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,I.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,_.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,I.registerColor)("symbolIcon.keyForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,I.registerColor)("symbolIcon.keywordForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,I.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,_.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,I.registerColor)("symbolIcon.moduleForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,I.registerColor)("symbolIcon.namespaceForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,I.registerColor)("symbolIcon.nullForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,I.registerColor)("symbolIcon.numberForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,I.registerColor)("symbolIcon.objectForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,I.registerColor)("symbolIcon.operatorForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,I.registerColor)("symbolIcon.packageForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,I.registerColor)("symbolIcon.propertyForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,I.registerColor)("symbolIcon.referenceForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,I.registerColor)("symbolIcon.snippetForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,I.registerColor)("symbolIcon.stringForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,I.registerColor)("symbolIcon.structForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,I.registerColor)("symbolIcon.textForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,I.registerColor)("symbolIcon.typeParameterForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,I.registerColor)("symbolIcon.unitForeground",{dark:I.foreground,light:I.foreground,hc:I.foreground},(0,_.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,I.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,_.localize)(32,null)),(0,N.registerThemingParticipant)((S,p)=>{const v=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&p.addRule(`${L.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const i=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&p.addRule(`${L.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const C=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);C&&p.addRule(`${L.Codicon.symbolClass.cssSelector} { color: ${C}; }`);const s=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);s&&p.addRule(`${L.Codicon.symbolMethod.cssSelector} { color: ${s}; }`);const a=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);a&&p.addRule(`${L.Codicon.symbolColor.cssSelector} { color: ${a}; }`);const u=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);u&&p.addRule(`${L.Codicon.symbolConstant.cssSelector} { color: ${u}; }`);const h=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);h&&p.addRule(`${L.Codicon.symbolConstructor.cssSelector} { color: ${h}; }`);const d=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&p.addRule(`
			${L.Codicon.symbolValue.cssSelector},${L.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const r=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);r&&p.addRule(`${L.Codicon.symbolEnumMember.cssSelector} { color: ${r}; }`);const n=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&p.addRule(`${L.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const l=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);l&&p.addRule(`${L.Codicon.symbolField.cssSelector} { color: ${l}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&p.addRule(`${L.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const o=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);o&&p.addRule(`${L.Codicon.symbolFolder.cssSelector} { color: ${o}; }`);const c=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);c&&p.addRule(`${L.Codicon.symbolFunction.cssSelector} { color: ${c}; }`);const f=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);f&&p.addRule(`${L.Codicon.symbolInterface.cssSelector} { color: ${f}; }`);const y=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);y&&p.addRule(`${L.Codicon.symbolKey.cssSelector} { color: ${y}; }`);const b=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);b&&p.addRule(`${L.Codicon.symbolKeyword.cssSelector} { color: ${b}; }`);const g=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);g&&p.addRule(`${L.Codicon.symbolModule.cssSelector} { color: ${g}; }`);const m=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);m&&p.addRule(`${L.Codicon.symbolNamespace.cssSelector} { color: ${m}; }`);const w=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);w&&p.addRule(`${L.Codicon.symbolNull.cssSelector} { color: ${w}; }`);const D=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);D&&p.addRule(`${L.Codicon.symbolNumber.cssSelector} { color: ${D}; }`);const k=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);k&&p.addRule(`${L.Codicon.symbolObject.cssSelector} { color: ${k}; }`);const T=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);T&&p.addRule(`${L.Codicon.symbolOperator.cssSelector} { color: ${T}; }`);const R=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&p.addRule(`${L.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const M=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);M&&p.addRule(`${L.Codicon.symbolProperty.cssSelector} { color: ${M}; }`);const A=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);A&&p.addRule(`${L.Codicon.symbolReference.cssSelector} { color: ${A}; }`);const O=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);O&&p.addRule(`${L.Codicon.symbolSnippet.cssSelector} { color: ${O}; }`);const P=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);P&&p.addRule(`${L.Codicon.symbolString.cssSelector} { color: ${P}; }`);const F=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);F&&p.addRule(`${L.Codicon.symbolStruct.cssSelector} { color: ${F}; }`);const E=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);E&&p.addRule(`${L.Codicon.symbolText.cssSelector} { color: ${E}; }`);const x=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);x&&p.addRule(`${L.Codicon.symbolTypeParameter.cssSelector} { color: ${x}; }`);const W=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);W&&p.addRule(`${L.Codicon.symbolUnit.cssSelector} { color: ${W}; }`);const G=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);G&&p.addRule(`${L.Codicon.symbolVariable.cssSelector} { color: ${G}; }`)})}),define(te[631],ne([0,1,7,108,29,127,2,35,3,31,369]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const C=new I.Color(new I.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},a="vs.editor.contrib.zoneWidget";class u{constructor(l,t,o,c,f,y){this.id="",this.domNode=l,this.afterLineNumber=t,this.afterColumn=o,this.heightInLines=c,this._onDomNodeTop=f,this._onComputedHeight=y}onDomNodeTop(l){this._onDomNodeTop(l)}onComputedHeight(l){this._onComputedHeight(l)}}e.ViewZoneDelegate=u;class h{constructor(l,t){this._id=l,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=h;class d{constructor(l){this._editor=l,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),_.removeCSSRulesContainingSelector(this._ruleName)}set color(l){this._color!==l&&(this._color=l,this._updateStyle())}set height(l){this._height!==l&&(this._height=l,this._updateStyle())}_updateStyle(){_.removeCSSRulesContainingSelector(this._ruleName),_.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(l){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:v.Range.fromPositions(l),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new L.IdGenerator(".arrow-decoration-");class r{constructor(l,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=l,this.options=p.deepClone(t),p.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const c=this._getWidth(o);this.domNode.style.width=c+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(c)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(l){l.frameColor&&(this.options.frameColor=l.frameColor),l.arrowColor&&(this.options.arrowColor=l.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let l=this.options.frameColor.toString();this.container.style.borderTopColor=l,this.container.style.borderBottomColor=l}if(this._arrow&&this.options.arrowColor){let l=this.options.arrowColor.toString();this._arrow.color=l}}_getWidth(l){return l.width-l.minimap.minimapWidth-l.verticalScrollbarWidth}_getLeft(l){return l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?l.minimap.minimapWidth:0}_onViewZoneTop(l){this.domNode.style.top=l+"px"}_onViewZoneHeight(l){if(this.domNode.style.height=`${l}px`,this.container){let t=l-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const o=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){const[l]=this._positionMarkerId;if(!l)return;const t=this.editor.getModel();if(!t)return;const o=t.getDecorationRange(l);if(!!o)return o.getStartPosition()}show(l,t){const o=v.Range.isIRange(l)?v.Range.lift(l):v.Range.fromPositions(l);this._isShowing=!0,this._showImpl(o,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let l=this.editor.getOption(58),t=0;if(this.options.showArrow){let o=Math.round(l/3);t+=2*o}if(this.options.showFrame){let o=Math.round(l/9);t+=2*o}return t}_showImpl(l,t){const o=l.getStartPosition(),c=this.editor.getLayoutInfo(),f=this._getWidth(c);this.domNode.style.width=`${f}px`,this.domNode.style.left=this._getLeft(c)+"px";const y=document.createElement("div");y.style.overflow="hidden";const b=this.editor.getOption(58),g=Math.max(12,this.editor.getLayoutInfo().height/b*.8);t=Math.min(t,g);let m=0,w=0;if(this._arrow&&this.options.showArrow&&(m=Math.round(b/3),this._arrow.height=m,this._arrow.show(o)),this.options.showFrame&&(w=Math.round(b/9)),this.editor.changeViewZones(T=>{this._viewZone&&T.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new u(y,o.lineNumber,o.column,t,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=T.addZone(this._viewZone),this._overlayWidget=new h(a+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const T=this.options.frameWidth?this.options.frameWidth:w;this.container.style.borderTopWidth=T+"px",this.container.style.borderBottomWidth=T+"px"}let D=t*b-this._decoratingElementsHeight();this.container&&(this.container.style.top=m+"px",this.container.style.height=D+"px",this.container.style.overflow="hidden"),this._doLayout(D,f),this.options.keepEditorSelection||this.editor.setSelection(l);const k=this.editor.getModel();if(k){const T=l.endLineNumber+1;T<=k.getLineCount()?this.revealLine(T,!1):this.revealLine(k.getLineCount(),!0)}}revealLine(l,t){t?this.editor.revealLineInCenter(l,0):this.editor.revealLine(l,0)}setCssClass(l,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(l))}_onWidth(l){}_doLayout(l,t){}_relayout(l){this._viewZone&&this._viewZone.heightInLines!==l&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=l,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new N.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let l;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(l={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{l=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(l){let o=(t.currentY-l.startY)/this.editor.getOption(58),c=o<0?Math.ceil(o):Math.floor(o),f=l.heightInLines+c;f>5&&f<35&&this._relayout(f)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const l=this.editor.getLayoutInfo();return l.width-l.minimap.minimapWidth}}e.ZoneWidget=r}),define(te[270],ne([0,1,7,47,598,15,12]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let p=class extends I.CodeEditorServiceImpl{constructor(i,C,s){super(i,s);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=C.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const C of this.listCodeEditors())if(!C.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,C,s){return C?Promise.resolve(this.doOpenEditor(C,i)):Promise.resolve(null)}doOpenEditor(i,C){if(!this.findModel(i,C.resource)){if(C.resource){const u=C.resource.scheme;if(u===N.Schemas.http||u===N.Schemas.https)return(0,_.windowOpenNoOpener)(C.resource.toString()),i}return null}const a=C.options?C.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")i.setSelection(a),i.revealRangeInCenter(a,1);else{const u={lineNumber:a.startLineNumber,column:a.startColumn};i.setPosition(u),i.revealPositionInCenter(u,1)}return i}findModel(i,C){const s=i.getModel();return s&&s.uri.toString()!==C.toString()?null:s}};p=Re([me(1,L.IContextKeyService),me(2,S.IThemeService)],p),e.StandaloneCodeEditorServiceImpl=p}),define(te[632],ne([0,1,46,22]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[N.editorBackground]:"#FFFFFE",[N.editorForeground]:"#000000",[N.editorInactiveSelection]:"#E5EBF1",[_.editorIndentGuides]:"#D3D3D3",[_.editorActiveIndentGuides]:"#939393",[N.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#1E1E1E",[N.editorForeground]:"#D4D4D4",[N.editorInactiveSelection]:"#3A3D41",[_.editorIndentGuides]:"#404040",[_.editorActiveIndentGuides]:"#707070",[N.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#000000",[N.editorForeground]:"#FFFFFF",[_.editorIndentGuides]:"#FFFFFF",[_.editorActiveIndentGuides]:"#FFFFFF"}}}),define(te[33],ne([0,1,50,27,6,54,2,72,26,15,9,12]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function a(r){return r.command!==void 0}e.isIMenuItem=a;class u{constructor(n){this.id=u._idPool++,this._debugName=n}}e.MenuId=u,u._idPool=0,u.CommandPalette=new u("CommandPalette"),u.EditorContext=new u("EditorContext"),u.SimpleEditorContext=new u("SimpleEditorContext"),u.EditorContextCopy=new u("EditorContextCopy"),u.EditorContextPeek=new u("EditorContextPeek"),u.MenubarEditMenu=new u("MenubarEditMenu"),u.MenubarCopy=new u("MenubarCopy"),u.MenubarGoMenu=new u("MenubarGoMenu"),u.MenubarSelectionMenu=new u("MenubarSelectionMenu"),u.InlineCompletionsActions=new u("InlineCompletionsActions"),e.IMenuService=(0,C.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new I.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===u.CommandPalette}}addCommand(r){return this.addCommands(L.Iterable.single(r))}addCommands(r){for(const n of r)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let n=!1;for(const l of r)n=this._commands.delete(l.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((n,l)=>r.set(l,n)),r}appendMenuItem(r,n){return this.appendMenuItems(L.Iterable.single({id:r,item:n}))}appendMenuItems(r){const n=new Set,l=new p.LinkedList;for(const{id:t,item:o}of r){let c=this._menuItems.get(t);c||(c=new p.LinkedList,this._menuItems.set(t,c)),l.push(c.push(o)),n.add(t)}return this._onDidChangeMenu.fire(n),(0,S.toDisposable)(()=>{if(l.size>0){for(let t of l)t();this._onDidChangeMenu.fire(n),l.clear()}})}getMenuItems(r){let n;return this._menuItems.has(r)?n=[...this._menuItems.get(r)]:n=[],r===u.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(r){const n=new Set;for(const l of r)a(l)&&(n.add(l.command.id),l.alt&&n.add(l.alt.id));this._commands.forEach((l,t)=>{n.has(t)||r.push({command:l})})}};class h extends _.SubmenuAction{constructor(n,l,t,o){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=l,this._contextKeyService=t,this._options=o}get actions(){const n=[],l=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=l.getActions(this._options);l.dispose();for(const[,o]of t)o.length>0&&(n.push(...o),n.push(new _.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=h;let d=class Ut{constructor(n,l,t,o,c){var f,y;if(this._commandService=c,this.id=n.id,this.label=(t==null?void 0:t.renderShortTitle)&&n.shortTitle?typeof n.shortTitle=="string"?n.shortTitle:n.shortTitle.value:typeof n.title=="string"?n.title:n.title.value,this.tooltip=(y=typeof n.tooltip=="string"?n.tooltip:(f=n.tooltip)===null||f===void 0?void 0:f.value)!==null&&y!==void 0?y:"",this.enabled=!n.precondition||o.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const b=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=o.contextMatchesRules(b.condition),this.checked&&b.tooltip&&(this.tooltip=typeof b.tooltip=="string"?b.tooltip:b.tooltip.value),b.title&&(this.label=typeof b.title=="string"?b.title:b.title.value)}this.item=n,this.alt=l?new Ut(l,void 0,t,o,c):void 0,this._options=t,s.ThemeIcon.isThemeIcon(n.icon)&&(this.class=N.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var l,t;let o=[];return((l=this._options)===null||l===void 0?void 0:l.arg)&&(o=[...o,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(o=[...o,...n]),this._commandService.executeCommand(this.id,...o)}};d=Re([me(3,i.IContextKeyService),me(4,v.ICommandService)],d),e.MenuItemAction=d}),define(te[16],ne([0,1,467,24,28,13,38,68,33,26,15,80,32,90,20,70]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class r{constructor(O){this.id=O.id,this.precondition=O.precondition,this._kbOpts=O.kbOpts,this._menuOpts=O.menuOpts,this._description=O.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const O=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const P of O){let F=P.kbExpr;this.precondition&&(F?F=C.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const E={id:this.id,weight:P.weight,args:P.args,when:F,primary:P.primary,secondary:P.secondary,win:P.win,linux:P.linux,mac:P.mac};s.KeybindingsRegistry.registerKeybindingRule(E)}}i.CommandsRegistry.registerCommand({id:this.id,handler:(O,P)=>this.runCommand(O,P),description:this._description})}_registerMenuItem(O){v.MenuRegistry.appendMenuItem(O.menuId,{group:O.group,command:{id:this.id,title:O.title,icon:O.icon,precondition:this.precondition},when:O.when,order:O.order})}}e.Command=r;class n extends r{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,P,F){return this._implementations.push({priority:O,name:P,implementation:F}),this._implementations.sort((E,x)=>x.priority-E.priority),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E].implementation===F){this._implementations.splice(E,1);return}}}}runCommand(O,P){const F=O.get(d.ILogService);F.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const E of this._implementations){const x=E.implementation(O,P);if(x)return F.trace(`Command '${this.id}' was handled by '${E.name}'.`),typeof x=="boolean"?void 0:x}F.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=n;class l extends r{constructor(O,P){super(P);this.command=O}runCommand(O,P){return this.command.runCommand(O,P)}}e.ProxyCommand=l;class t extends r{static bindToContribution(O){return class extends t{constructor(F){super(F);this._callback=F.handler}runEditorCommand(F,E,x){O(E)&&this._callback(O(E),x)}}}runCommand(O,P){const F=O.get(I.ICodeEditorService),E=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(!!E)return E.invokeWithinContext(x=>{if(!!x.get(C.IContextKeyService).contextMatchesRules((0,h.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(x,E,P)})}}e.EditorCommand=t;class o extends t{constructor(O){super(o.convertOptions(O));this.label=O.label,this.alias=O.alias}static convertOptions(O){let P;Array.isArray(O.menuOpts)?P=O.menuOpts:O.menuOpts?P=[O.menuOpts]:P=[];function F(E){return E.menuId||(E.menuId=v.MenuId.EditorContext),E.title||(E.title=O.label),E.when=C.ContextKeyExpr.and(O.precondition,E.when),E}return Array.isArray(O.contextMenuOpts)?P.push(...O.contextMenuOpts.map(F)):O.contextMenuOpts&&P.push(F(O.contextMenuOpts)),O.menuOpts=P,O}runEditorCommand(O,P,F){return this.reportTelemetry(O,P),this.run(O,P,F||{})}reportTelemetry(O,P){O.get(u.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=o;class c extends o{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,P){return this._implementations.push([O,P]),this._implementations.sort((F,E)=>E[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===P){this._implementations.splice(F,1);return}}}}run(O,P,F){for(const E of this._implementations){const x=E[1](O,P,F);if(x)return typeof x=="boolean"?void 0:x}}}e.MultiEditorAction=c;function f(A,O){i.CommandsRegistry.registerCommand(A,function(P,...F){const[E,x]=F;(0,h.assertType)(N.URI.isUri(E)),(0,h.assertType)(L.Position.isIPosition(x));const W=P.get(S.IModelService).getModel(E);if(W){const G=L.Position.lift(x);return O(W,G,...F.slice(2))}return P.get(p.ITextModelService).createModelReference(E).then(G=>new Promise((Y,se)=>{try{const re=O(G.object.textEditorModel,L.Position.lift(x),F.slice(2));Y(re)}catch(re){se(re)}}).finally(()=>{G.dispose()}))})}e.registerModelAndPositionCommand=f;function y(A,O){i.CommandsRegistry.registerCommand(A,function(P,...F){const[E]=F;(0,h.assertType)(N.URI.isUri(E));const x=P.get(S.IModelService).getModel(E);return x?O(x,...F.slice(1)):P.get(p.ITextModelService).createModelReference(E).then(W=>new Promise((G,Y)=>{try{const se=O(W.object.textEditorModel,F.slice(1));G(se)}catch(se){Y(se)}}).finally(()=>{W.dispose()}))})}e.registerModelCommand=y;function b(A){return R.INSTANCE.registerEditorCommand(A),A}e.registerEditorCommand=b;function g(A){const O=new A;return R.INSTANCE.registerEditorAction(O),O}e.registerEditorAction=g;function m(A){return R.INSTANCE.registerEditorAction(A),A}e.registerMultiEditorAction=m;function w(A){R.INSTANCE.registerEditorAction(A)}e.registerInstantiatedEditorAction=w;function D(A,O){R.INSTANCE.registerEditorContribution(A,O)}e.registerEditorContribution=D;var k;(function(A){function O(W){return R.INSTANCE.getEditorCommand(W)}A.getEditorCommand=O;function P(){return R.INSTANCE.getEditorActions()}A.getEditorActions=P;function F(){return R.INSTANCE.getEditorContributions()}A.getEditorContributions=F;function E(W){return R.INSTANCE.getEditorContributions().filter(G=>W.indexOf(G.id)>=0)}A.getSomeEditorContributions=E;function x(){return R.INSTANCE.getDiffEditorContributions()}A.getDiffEditorContributions=x})(k=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const T={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(O,P){this.editorContributions.push({id:O,ctor:P})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(O){O.register(),this.editorActions.push(O)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(O){O.register(),this.editorCommands[O.id]=O}getEditorCommand(O){return this.editorCommands[O]||null}}R.INSTANCE=new R,a.Registry.add(T.EditorCommonContributions,R.INSTANCE);function M(A){return A.register(),A}e.UndoCommand=M(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:_.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(1,null),order:1}]})),M(new l(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:_.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(3,null),order:1}]})),M(new l(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:_.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(5,null),order:1}]}))}),define(te[150],ne([0,1,464,41,20,45,16,28,612,42,194,266,195,13,3,25,15,80]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const l=0;class t extends S.EditorCommand{runEditorCommand(R,M,A){const O=M._getViewModel();!O||this.runCoreEditorCommand(O,A||{})}}e.CoreEditorCommand=t;var o;(function(T){const R=function(A){if(!I.isObject(A))return!1;const O=A;return!(!I.isString(O.to)||!I.isUndefined(O.by)&&!I.isString(O.by)||!I.isUndefined(O.value)&&!I.isNumber(O.value)||!I.isUndefined(O.revealCursor)&&!I.isBoolean(O.revealCursor))};T.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},T.RawDirection={Up:"up",Down:"down"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function M(A){let O;switch(A.to){case T.RawDirection.Up:O=1;break;case T.RawDirection.Down:O=2;break;default:return null}let P;switch(A.by){case T.RawUnit.Line:P=1;break;case T.RawUnit.WrappedLine:P=2;break;case T.RawUnit.Page:P=3;break;case T.RawUnit.HalfPage:P=4;break;default:P=2}const F=Math.floor(A.value||1),E=!!A.revealCursor;return{direction:O,unit:P,value:F,revealCursor:E,select:!!A.select}}T.parse=M})(o=e.EditorScroll_||(e.EditorScroll_={}));var c;(function(T){const R=function(M){if(!I.isObject(M))return!1;const A=M;return!(!I.isNumber(A.lineNumber)&&!I.isString(A.lineNumber)||!I.isUndefined(A.at)&&!I.isString(A.at))};T.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(c=e.RevealLine_||(e.RevealLine_={}));class f{constructor(R){R.addImplementation(1e4,"code-editor",(M,A)=>{const O=M.get(p.ICodeEditorService).getFocusedCodeEditor();return O&&O.hasTextFocus()?this._runEditorCommand(M,O,A):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(M,A)=>{const O=document.activeElement;return O&&["input","textarea"].indexOf(O.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(M,A)=>{const O=M.get(p.ICodeEditorService).getActiveCodeEditor();return O?(O.focus(),this._runEditorCommand(M,O,A)):!1})}_runEditorCommand(R,M,A){const O=this.runEditorCommand(R,M,A);return O||!0}}var y;(function(T){class R extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,[s.CursorMoveCommands.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,Z.position,Z.viewPosition)]),B.revealPrimaryCursor(Z.source,!0)}}T.MoveTo=(0,S.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),T.MoveToSelect=(0,S.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class M extends t{runCoreEditorCommand(B,Z){B.model.pushStackElement();const H=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),Z);B.setCursorStates(Z.source,3,H.viewStates.map(z=>i.CursorState.fromViewState(z))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:H.fromLineNumber,fromViewVisualColumn:H.fromVisualColumn,toViewLineNumber:H.toLineNumber,toViewVisualColumn:H.toVisualColumn}),H.reversed?B.revealTopMostCursor(Z.source):B.revealBottomMostCursor(Z.source)}}T.ColumnSelect=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(V,B,Z,H){const z=V.model.validatePosition(H.position),ie=V.coordinatesConverter.validateViewPosition(new u.Position(H.viewPosition.lineNumber,H.viewPosition.column),z);let ce=H.doColumnSelect?Z.fromViewLineNumber:ie.lineNumber,K=H.doColumnSelect?Z.fromViewVisualColumn:H.mouseColumn-1;return v.ColumnSelection.columnSelect(V.cursorConfig,V,ce,K,ie.lineNumber,H.mouseColumn-1)}}),T.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(V,B,Z,H){return v.ColumnSelection.columnSelectLeft(V.cursorConfig,V,Z)}}),T.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(V,B,Z,H){return v.ColumnSelection.columnSelectRight(V.cursorConfig,V,Z)}});class A extends M{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,Z,H,z){return v.ColumnSelection.columnSelectUp(B.cursorConfig,B,H,this._isPaged)}}T.CursorColumnSelectUp=(0,S.registerEditorCommand)(new A({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),T.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new A({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class O extends M{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,Z,H,z){return v.ColumnSelection.columnSelectDown(B.cursorConfig,B,H,this._isPaged)}}T.CursorColumnSelectDown=(0,S.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),T.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class P extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(B,Z){const H=s.CursorMove.parse(Z);!H||this._runCursorMove(B,Z.source,H)}_runCursorMove(B,Z,H){B.model.pushStackElement(),B.setCursorStates(Z,3,P._move(B,B.getCursorStates(),H)),B.revealPrimaryCursor(Z,!0)}static _move(B,Z,H){const z=H.select,ie=H.value;switch(H.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(B,Z,H.direction,z,ie,H.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(B,Z,H.direction,z,ie);default:return null}}}T.CursorMoveImpl=P,T.CursorMove=(0,S.registerEditorCommand)(new P);class F extends t{constructor(B){super(B);this._staticArgs=B.args}runCoreEditorCommand(B,Z){let H=this._staticArgs;this._staticArgs.value===-1&&(H={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.simpleMove(B,B.getCursorStates(),H.direction,H.select,H.value,H.unit)),B.revealPrimaryCursor(Z.source,!0)}}T.CursorLeft=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),T.CursorLeftSelect=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),T.CursorRight=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),T.CursorRightSelect=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),T.CursorUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),T.CursorUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),T.CursorPageUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),T.CursorPageUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),T.CursorDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),T.CursorDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),T.CursorPageDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),T.CursorPageDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),T.CreateCursor=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(V,B){let Z;B.wholeLine?Z=s.CursorMoveCommands.line(V,V.getPrimaryCursorState(),!1,B.position,B.viewPosition):Z=s.CursorMoveCommands.moveTo(V,V.getPrimaryCursorState(),!1,B.position,B.viewPosition);const H=V.getCursorStates();if(H.length>1){const z=Z.modelState?Z.modelState.position:null,ie=Z.viewState?Z.viewState.position:null;for(let ce=0,K=H.length;ce<K;ce++){const Q=H[ce];if(!(z&&!Q.modelState.selection.containsPosition(z))&&!(ie&&!Q.viewState.selection.containsPosition(ie))){H.splice(ce,1),V.model.pushStackElement(),V.setCursorStates(B.source,3,H);return}}}H.push(Z),V.model.pushStackElement(),V.setCursorStates(B.source,3,H)}}),T.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(V,B){const Z=V.getLastAddedCursorIndex(),H=V.getCursorStates(),z=H.slice(0);z[Z]=s.CursorMoveCommands.moveTo(V,H[Z],!0,B.position,B.viewPosition),V.model.pushStackElement(),V.setCursorStates(B.source,3,z)}});class E extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(Z.source,!0)}}T.CursorHome=(0,S.registerEditorCommand)(new E({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),T.CursorHomeSelect=(0,S.registerEditorCommand)(new E({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class x extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(Z.source,!0)}_exec(B){const Z=[];for(let H=0,z=B.length;H<z;H++){const ie=B[H],ce=ie.modelState.position.lineNumber;Z[H]=i.CursorState.fromModelState(ie.modelState.move(this._inSelectionMode,ce,1,0))}return Z}}T.CursorLineStart=(0,S.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),T.CursorLineStartSelect=(0,S.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class W extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,Z.sticky||!1)),B.revealPrimaryCursor(Z.source,!0)}}T.CursorEnd=(0,S.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:_.localize(0,null),type:"boolean",default:!1}}}}]}})),T.CursorEndSelect=(0,S.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:_.localize(1,null),type:"boolean",default:!1}}}}]}}));class G extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(Z.source,!0)}_exec(B,Z){const H=[];for(let z=0,ie=Z.length;z<ie;z++){const ce=Z[z],K=ce.modelState.position.lineNumber,Q=B.model.getLineMaxColumn(K);H[z]=i.CursorState.fromModelState(ce.modelState.move(this._inSelectionMode,K,Q,0))}return H}}T.CursorLineEnd=(0,S.registerEditorCommand)(new G({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),T.CursorLineEndSelect=(0,S.registerEditorCommand)(new G({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class Y extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(Z.source,!0)}}T.CursorTop=(0,S.registerEditorCommand)(new Y({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),T.CursorTopSelect=(0,S.registerEditorCommand)(new Y({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class se extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(Z.source,!0)}}T.CursorBottom=(0,S.registerEditorCommand)(new se({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),T.CursorBottomSelect=(0,S.registerEditorCommand)(new se({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class re extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}runCoreEditorCommand(B,Z){const H=o.parse(Z);!H||this._runEditorScroll(B,Z.source,H)}_runEditorScroll(B,Z,H){const z=this._computeDesiredScrollTop(B,H);if(H.revealCursor){const ie=B.getCompletelyVisibleViewRangeAtScrollTop(z);B.setCursorStates(Z,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),ie,H.select)])}B.setScrollTop(z,0)}_computeDesiredScrollTop(B,Z){if(Z.unit===1){const ie=B.getCompletelyVisibleViewRange(),ce=B.coordinatesConverter.convertViewRangeToModelRange(ie);let K;Z.direction===1?K=Math.max(1,ce.startLineNumber-Z.value):K=Math.min(B.model.getLineCount(),ce.startLineNumber+Z.value);const Q=B.coordinatesConverter.convertModelPositionToViewPosition(new u.Position(K,1));return B.getVerticalOffsetForLineNumber(Q.lineNumber)}let H;Z.unit===3?H=B.cursorConfig.pageSize*Z.value:Z.unit===4?H=Math.round(B.cursorConfig.pageSize/2)*Z.value:H=Z.value;const z=(Z.direction===1?-1:1)*H;return B.getScrollTop()+z*B.cursorConfig.lineHeight}}T.EditorScrollImpl=re,T.EditorScroll=(0,S.registerEditorCommand)(new re),T.ScrollLineUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(V,B){T.EditorScroll._runEditorScroll(V,B.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(V,B){T.EditorScroll._runEditorScroll(V,B.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),T.ScrollLineDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(V,B){T.EditorScroll._runEditorScroll(V,B.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(V,B){T.EditorScroll._runEditorScroll(V,B.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class J extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,[s.CursorMoveCommands.word(B,B.getPrimaryCursorState(),this._inSelectionMode,Z.position)]),B.revealPrimaryCursor(Z.source,!0)}}T.WordSelect=(0,S.registerEditorCommand)(new J({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),T.WordSelectDrag=(0,S.registerEditorCommand)(new J({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),T.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(V,B){const Z=V.getLastAddedCursorIndex(),H=V.getCursorStates(),z=H.slice(0),ie=H[Z];z[Z]=s.CursorMoveCommands.word(V,ie,ie.modelState.hasSelection(),B.position),V.model.pushStackElement(),V.setCursorStates(B.source,3,z)}});class le extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,[s.CursorMoveCommands.line(B,B.getPrimaryCursorState(),this._inSelectionMode,Z.position,Z.viewPosition)]),B.revealPrimaryCursor(Z.source,!1)}}T.LineSelect=(0,S.registerEditorCommand)(new le({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),T.LineSelectDrag=(0,S.registerEditorCommand)(new le({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ae extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){const H=B.getLastAddedCursorIndex(),z=B.getCursorStates(),ie=z.slice(0);ie[H]=s.CursorMoveCommands.line(B,z[H],this._inSelectionMode,Z.position,Z.viewPosition),B.model.pushStackElement(),B.setCursorStates(Z.source,3,ie)}}T.LastCursorLineSelect=(0,S.registerEditorCommand)(new ae({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),T.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new ae({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),T.ExpandLineSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(V,B){V.model.pushStackElement(),V.setCursorStates(B.source,3,s.CursorMoveCommands.expandLineSelection(V,V.getCursorStates())),V.revealPrimaryCursor(B.source,!0)}}),T.CancelSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(V,B){V.model.pushStackElement(),V.setCursorStates(B.source,3,[s.CursorMoveCommands.cancelSelection(V,V.getPrimaryCursorState())]),V.revealPrimaryCursor(B.source,!0)}}),T.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:l+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(V,B){V.model.pushStackElement(),V.setCursorStates(B.source,3,[V.getPrimaryCursorState()]),V.revealPrimaryCursor(B.source,!0),(0,L.status)(_.localize(2,null))}}),T.RevealLine=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:c.description})}runCoreEditorCommand(V,B){const Z=B,H=Z.lineNumber||0;let z=typeof H=="number"?H+1:parseInt(H)+1;z<1&&(z=1);const ie=V.model.getLineCount();z>ie&&(z=ie);const ce=new h.Range(z,1,z,V.model.getLineMaxColumn(z));let K=0;if(Z.at)switch(Z.at){case c.RawAtArgument.Top:K=3;break;case c.RawAtArgument.Center:K=1;break;case c.RawAtArgument.Bottom:K=4;break;default:break}const Q=V.coordinatesConverter.convertModelRangeToViewRange(ce);V.revealRange(B.source,!1,Q,K,0)}}),T.SelectAll=new class extends f{constructor(){super(S.SelectAllCommand)}runDOMCommand(){N.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(V,B,Z){const H=B._getViewModel();!H||this.runCoreEditorCommand(H,Z)}runCoreEditorCommand(V,B){V.model.pushStackElement(),V.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(V,V.getPrimaryCursorState())])}},T.SetSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(V,B){V.model.pushStackElement(),V.setCursorStates(B.source,3,[i.CursorState.fromModelSelection(B.selection)])}})})(y=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const b=r.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function g(T,R){n.KeybindingsRegistry.registerKeybindingRule({id:T,primary:R,when:b,weight:l+1})}g(y.CursorColumnSelectLeft.id,1024|15),g(y.CursorColumnSelectRight.id,1024|17),g(y.CursorColumnSelectUp.id,1024|16),g(y.CursorColumnSelectPageUp.id,1024|11),g(y.CursorColumnSelectDown.id,1024|18),g(y.CursorColumnSelectPageDown.id,1024|12);function m(T){return T.register(),T}var w;(function(T){class R extends S.EditorCommand{runEditorCommand(A,O,P){const F=O._getViewModel();!F||this.runCoreEditingCommand(O,F,P||{})}}T.CoreEditingCommand=R,T.LineBreakInsert=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(M,A,O){M.pushUndoStop(),M.executeCommands(this.id,a.TypeOperations.lineBreakInsert(A.cursorConfig,A.model,A.getCursorStates().map(P=>P.modelState.selection)))}}),T.Outdent=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(M,A,O){M.pushUndoStop(),M.executeCommands(this.id,a.TypeOperations.outdent(A.cursorConfig,A.model,A.getCursorStates().map(P=>P.modelState.selection))),M.pushUndoStop()}}),T.Tab=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(M,A,O){M.pushUndoStop(),M.executeCommands(this.id,a.TypeOperations.tab(A.cursorConfig,A.model,A.getCursorStates().map(P=>P.modelState.selection))),M.pushUndoStop()}}),T.DeleteLeft=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(M,A,O){const[P,F]=C.DeleteOperations.deleteLeft(A.getPrevEditOperationType(),A.cursorConfig,A.model,A.getCursorStates().map(E=>E.modelState.selection),A.getCursorAutoClosedCharacters());P&&M.pushUndoStop(),M.executeCommands(this.id,F),A.setPrevEditOperationType(2)}}),T.DeleteRight=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:l,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(M,A,O){const[P,F]=C.DeleteOperations.deleteRight(A.getPrevEditOperationType(),A.cursorConfig,A.model,A.getCursorStates().map(E=>E.modelState.selection));P&&M.pushUndoStop(),M.executeCommands(this.id,F),A.setPrevEditOperationType(3)}}),T.Undo=new class extends f{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(M,A,O){if(!(!A.hasModel()||A.getOption(80)===!0))return A.getModel().undo()}},T.Redo=new class extends f{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(M,A,O){if(!(!A.hasModel()||A.getOption(80)===!0))return A.getModel().redo()}}})(w=e.CoreEditingCommands||(e.CoreEditingCommands={}));class D extends S.Command{constructor(R,M,A){super({id:R,precondition:void 0,description:A});this._handlerId=M}runCommand(R,M){const A=R.get(p.ICodeEditorService).getFocusedCodeEditor();!A||A.trigger("keyboard",this._handlerId,M)}}function k(T,R){m(new D("default:"+T,T)),m(new D(T,T,R))}k("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),k("replacePreviousChar"),k("compositionType"),k("compositionStart"),k("compositionEnd"),k("paste"),k("cut")}),define(te[633],ne([0,1,16,15,23,72,9,76,466]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=(0,S.createDecorator)("IEditorCancelService"),C=new N.RawContextKey("cancellableOperation",!1,(0,v.localize)(0,null));(0,p.registerSingleton)(i,class{constructor(){this._tokens=new WeakMap}add(a,u){let h=this._tokens.get(a);h||(h=a.invokeWithinContext(r=>{const n=C.bindTo(r.get(N.IContextKeyService)),l=new L.LinkedList;return{key:n,tokens:l}}),this._tokens.set(a,h));let d;return h.key.set(!0),d=h.tokens.push(u),()=>{d&&(d(),h.key.set(!h.tokens.isEmpty()),d=void 0)}}cancel(a){const u=this._tokens.get(a);if(!u)return;const h=u.tokens.pop();h&&(h.cancel(),u.key.set(!u.tokens.isEmpty()))}},!0);class s extends I.CancellationTokenSource{constructor(u,h){super(h);this.editor=u,this._unregister=u.invokeWithinContext(d=>d.get(i).add(u,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,(0,_.registerEditorCommand)(new class extends _.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(a,u){a.get(i).cancel(u)}})}),define(te[66],ne([0,1,8,3,23,2,633]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,u){if(this.flags=u,(this.flags&1)!=0){const h=a.getModel();this.modelVersionId=h?_.format("{0}#{1}",h.uri.toString(),h.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=a.getPosition():this.position=null,(this.flags&2)!=0?this.selection=a.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const u=a;return!(this.modelVersionId!==u.modelVersionId||this.scrollLeft!==u.scrollLeft||this.scrollTop!==u.scrollTop||!this.position&&u.position||this.position&&!u.position||this.position&&u.position&&!this.position.equals(u.position)||!this.selection&&u.selection||this.selection&&!u.selection||this.selection&&u.selection&&!this.selection.equalsRange(u.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class v extends S.EditorKeybindingCancellationTokenSource{constructor(a,u,h,d){super(a,d);this._listener=new L.DisposableStore,u&4&&this._listener.add(a.onDidChangeCursorPosition(r=>{(!h||!N.Range.containsPosition(h,r.position))&&this.cancel()})),u&2&&this._listener.add(a.onDidChangeCursorSelection(r=>{(!h||!N.Range.containsRange(h,r.selection))&&this.cancel()})),u&8&&this._listener.add(a.onDidScrollChange(r=>this.cancel())),u&1&&(this._listener.add(a.onDidChangeModel(r=>this.cancel())),this._listener.add(a.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class i extends I.CancellationTokenSource{constructor(a,u){super(u);this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class C{constructor(a,u,h){this._visiblePosition=a,this._visiblePositionScrollDelta=u,this._cursorPosition=h}static capture(a){let u=null,h=0;if(a.getScrollTop()!==0){const d=a.getVisibleRanges();if(d.length>0){u=d[0].getStartPosition();const r=a.getTopForPosition(u.lineNumber,u.column);h=a.getScrollTop()-r}}return new C(u,h,a.getPosition())}restore(a){if(this._visiblePosition){const u=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(u+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(a){const u=a.getPosition();if(!this._cursorPosition||!u)return;const h=a.getTopForLineNumber(u.lineNumber)-a.getTopForLineNumber(this._cursorPosition.lineNumber);a.setScrollTop(a.getScrollTop()+h)}}e.StableEditorScrollState=C}),define(te[634],ne([0,1,187,16]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let I=class{constructor(S,p){}dispose(){}};I.ID="editor.contrib.markerDecorations",I=Re([me(1,_.IMarkerDecorationsService)],I),e.MarkerDecorationsContribution=I,(0,N.registerEditorContribution)(I.ID,I)}),define(te[635],ne([0,1,150,13,17]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class L{constructor(p,v,i,C){this.configuration=p,this.viewModel=v,this.userInputEvents=i,this.commandDelegate=C}paste(p,v,i,C){this.commandDelegate.paste(p,v,i,C)}type(p){this.commandDelegate.type(p)}compositionType(p,v,i,C){this.commandDelegate.compositionType(p,v,i,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){_.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const v=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<v?new N.Position(p.lineNumber,v):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(69)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(69)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const v=this.configuration.options,i=I.isLinux&&v.get(96),C=v.get(17);p.middleButton&&!i?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position):this._lastCursorLineSelect(p.position):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount===2?this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position):p.inSelectionMode?this._wordSelectDrag(p.position):this._wordSelect(p.position):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):C?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position):this.moveTo(p.position)}_usualArgs(p){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p}}moveTo(p){_.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_moveToSelect(p){_.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_columnSelect(p,v,i){p=this._validateViewColumn(p),_.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:v,doColumnSelect:i})}_createCursor(p,v){p=this._validateViewColumn(p),_.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:v})}_lastCursorMoveToSelect(p){_.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelect(p){_.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelectDrag(p){_.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorWordSelect(p){_.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelect(p){_.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelectDrag(p){_.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelect(p){_.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelectDrag(p){_.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_selectAll(){_.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=L}),define(te[636],ne([0,1,7,41,21,30,10,611,605,635,265,581,48,408,603,409,599,179,604,263,597,410,230,411,600,412,606,413,607,601,602,608,414,13,3,114,403,405,116,12,192]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T,R,M,A,O,P,F,E,x,W,G){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class Y extends x.ViewEventHandler{constructor(J,le,ae,V,B,Z){super();this._selections=[new I.Selection(1,1,1,1)],this._renderAnimationFrame=null;const H=new i.ViewController(le,V,B,J);this._context=new F.ViewContext(le,ae.getColorTheme(),V),this._configPixelRatio=this._context.configuration.options.get(128),this._context.addEventHandler(this),this._register(ae.onDidColorThemeChange(de=>{this._context.theme.update(de),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new v.TextAreaHandler(this._context,H,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,L.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,L.createFastDomNode)(document.createElement("div")),a.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new M.ViewZones(this._context),this._viewParts.push(this._viewZones);const z=new m.DecorationsOverviewRuler(this._context);this._viewParts.push(z);const ie=new k.ScrollDecorationViewPart(this._context);this._viewParts.push(ie);const ce=new s.ContentViewOverlays(this._context);this._viewParts.push(ce),ce.addDynamicOverlay(new h.CurrentLineHighlightOverlay(this._context)),ce.addDynamicOverlay(new T.SelectionsOverlay(this._context)),ce.addDynamicOverlay(new l.IndentGuidesOverlay(this._context)),ce.addDynamicOverlay(new d.DecorationsOverlay(this._context));const K=new s.MarginViewOverlays(this._context);this._viewParts.push(K),K.addDynamicOverlay(new h.CurrentLineMarginHighlightOverlay(this._context)),K.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),K.addDynamicOverlay(new y.MarginViewLineDecorationsOverlay(this._context)),K.addDynamicOverlay(new c.LinesDecorationsOverlay(this._context)),K.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const Q=new f.Margin(this._context);Q.getDomNode().appendChild(this._viewZones.marginDomNode),Q.getDomNode().appendChild(K.getDomNode()),this._viewParts.push(Q),this._contentWidgets=new u.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new R.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new g.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const U=new D.Rulers(this._context);this._viewParts.push(U);const ee=new b.Minimap(this._context);if(this._viewParts.push(ee),z){const de=this._scrollbar.getOverviewRulerLayoutInfo();de.parent.insertBefore(z.getDomNode(),de.insertBefore)}this._linesContent.appendChild(ce.getDomNode()),this._linesContent.appendChild(U.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Q.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ie.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ee.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),Z?Z.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,H,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:J=>{this._textAreaHandler.textArea.domNode.dispatchEvent(J)},getLastRenderData:()=>{const J=this._viewCursors.getLastRenderData()||[],le=this._textAreaHandler.getLastRenderData();return new G.PointerHandlerLastRenderData(J,le)},shouldSuppressMouseDownOnViewZone:J=>this._viewZones.shouldSuppressMouseDownOnViewZone(J),shouldSuppressMouseDownOnWidget:J=>this._contentWidgets.shouldSuppressMouseDownOnWidget(J),getPositionFromDOMInfo:(J,le)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(J,le)),visibleRangeForPosition:(J,le)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new A.Position(J,le))),getLineWidth:J=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(J))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(J,le)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new A.Position(J,le)))}}_applyLayout(){const le=this._context.configuration.options.get(130);this.domNode.setWidth(le.width),this.domNode.setHeight(le.height),this._overflowGuardContainer.setWidth(le.width),this._overflowGuardContainer.setHeight(le.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const J=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(127)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+J}handleEvents(J){super.handleEvents(J),this._scheduleRender()}onConfigurationChanged(J){return this._configPixelRatio=this._context.configuration.options.get(128),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(J){return this._selections=J.selections,!1}onFocusChanged(J){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(J){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const J of this._viewParts)J.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=_.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){se(()=>this._actualRender())}_getViewPartsToRender(){let J=[],le=0;for(const ae of this._viewParts)ae.shouldRender()&&(J[le++]=ae);return J}_actualRender(){if(!_.isInDOM(this.domNode.domNode))return;let J=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&J.length===0)return;const le=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(le.startLineNumber,le.endLineNumber,le.centeredLineNumber);const ae=new E.ViewportData(this._selections,le,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ae),this._viewLines.shouldRender()&&(this._viewLines.renderText(ae),this._viewLines.onDidRender(),J=this._getViewPartsToRender());const V=new P.RenderingContext(this._context.viewLayout,ae,this._viewLines);for(const B of J)B.prepareRender(V);for(const B of J)B.render(V),B.onDidRender();Math.abs(N.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(J){this._scrollbar.delegateVerticalScrollbarMouseDown(J)}restoreState(J){this._context.model.setScrollPosition({scrollTop:J.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:J.scrollLeft},1)}getOffsetForColumn(J,le){const ae=this._context.model.validateModelPosition({lineNumber:J,column:le}),V=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(ae);this._flushAccumulatedAndRenderNow();const B=this._viewLines.visibleRangeForPosition(new A.Position(V.lineNumber,V.column));return B?B.left:-1}getTargetAtClientPoint(J,le){const ae=this._pointerHandler.getTargetAtClientPoint(J,le);return ae?C.ViewUserInputEvents.convertViewToModelMouseTarget(ae,this._context.model.coordinatesConverter):null}createOverviewRuler(J){return new w.OverviewRuler(this._context,J)}change(J){this._viewZones.changeViewZones(J),this._scheduleRender()}render(J,le){if(le){this._viewLines.forceShouldRender();for(const ae of this._viewParts)ae.forceShouldRender()}J?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(J){this._textAreaHandler.setAriaOptions(J)}addContentWidget(J){this._contentWidgets.addWidget(J.widget),this.layoutContentWidget(J),this._scheduleRender()}layoutContentWidget(J){let le=J.position&&J.position.range||null;if(le===null){const V=J.position?J.position.position:null;V!==null&&(le=new O.Range(V.lineNumber,V.column,V.lineNumber,V.column))}const ae=J.position?J.position.preference:null;this._contentWidgets.setWidgetPosition(J.widget,le,ae),this._scheduleRender()}removeContentWidget(J){this._contentWidgets.removeWidget(J.widget),this._scheduleRender()}addOverlayWidget(J){this._overlayWidgets.addWidget(J.widget),this.layoutOverlayWidget(J),this._scheduleRender()}layoutOverlayWidget(J){const le=J.position?J.position.preference:null;this._overlayWidgets.setWidgetPosition(J.widget,le)&&this._scheduleRender()}removeOverlayWidget(J){this._overlayWidgets.removeWidget(J.widget),this._scheduleRender()}}e.View=Y;function se(re){try{return re()}catch(J){(0,S.onUnexpectedError)(J)}}}),define(te[151],ne([0,1,468,7,10,6,2,47,65,16,28,636,265,37,267,42,13,3,21,223,111,25,18,46,22,617,26,15,9,145,34,12,60,20,415,580,148,634,349]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T,R,M,A,O,P,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let E=0;class x{constructor(z,ie,ce,K,Q){this.model=z,this.viewModel=ie,this.view=ce,this.hasRealView=K,this.listenersToRemove=Q}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let W=class ft extends S.Disposable{constructor(z,ie,ce,K,Q,U,ee,de,j,ue){super();this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new L.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new L.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new L.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new L.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new L.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new L.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new L.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new L.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new L.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new L.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new L.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new G),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new G),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new L.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new L.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new L.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new L.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new L.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new L.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new L.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new L.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new L.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new L.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new L.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new L.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new L.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new L.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new L.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const X=Object.assign({},ie);this._domElement=z,this._overflowWidgetsDomNode=X.overflowWidgetsDomNode,delete X.overflowWidgetsDomNode,this._id=++E,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=ce.isSimpleWidget||!1,this._telemetryData=ce.telemetryData,this._configuration=this._register(this._createConfiguration(X,ue)),this._register(this._configuration.onDidChange(oe=>{this._onDidChangeConfiguration.fire(oe);const he=this._configuration.options;if(oe.hasChanged(130)){const ge=he.get(130);this._onDidLayoutChange.fire(ge)}})),this._contextKeyService=this._register(ee.createScoped(this._domElement)),this._notificationService=j,this._codeEditorService=Q,this._commandService=U,this._themeService=de,this._register(new Y(this,this._contextKeyService)),this._register(new se(this,this._contextKeyService)),this._instantiationService=K.createChild(new k.ServiceCollection([w.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new re(z),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let q;Array.isArray(ce.contributions)?q=ce.contributions:q=i.EditorExtensionsRegistry.getEditorContributions();for(const oe of q){if(this._contributions[oe.id]){(0,I.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${oe.id}`));continue}try{const he=this._instantiationService.createInstance(oe.ctor,this);this._contributions[oe.id]=he}catch(he){(0,I.onUnexpectedError)(he)}}i.EditorExtensionsRegistry.getEditorActions().forEach(oe=>{if(this._actions[oe.id]){(0,I.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${oe.id}`));return}const he=new t.InternalEditorAction(oe.id,oe.label,oe.alias,(0,A.withNullAsUndefined)(oe.precondition),()=>this._instantiationService.invokeFunction(ge=>Promise.resolve(oe.runEditorCommand(ge,this,null))),this._contextKeyService);this._actions[he.id]=he}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(z,ie){return new v.Configuration(this.isSimpleWidget,z,this._domElement,ie)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let ie=0,ce=z.length;ie<ce;ie++){const K=z[ie];this._contributions[K].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z)}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?F.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(116),z):null}getValue(z=null){if(!this._modelData)return"";const ie=!!(z&&z.preserveBOM);let ce=0;return z&&z.lineEnding&&z.lineEnding===`
`?ce=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(ce=2),this._modelData.model.getValue(ce,ie)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const ie=z;if(this._modelData===null&&ie===null||this._modelData&&this._modelData.model===ie)return;const ce=this.hasTextFocus(),K=this._detachModel();this._attachModel(ie),ce&&this.hasModel()&&this.focus();const Q={oldModelUrl:K?K.uri:null,newModelUrl:ie?ie.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Q),this._postDetachModelCleanup(K)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let z in this._decorationTypeSubtypes){const ie=this._decorationTypeSubtypes[z];for(let ce in ie)this._removeDecorationType(z+"-"+ce)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(z,ie,ce){const K=z.model.validatePosition({lineNumber:ie,column:ce}),Q=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(K);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber)}getTopForLineNumber(z){return this._modelData?ft._getVerticalOffsetForPosition(this._modelData,z,1):-1}getTopForPosition(z,ie){return this._modelData?ft._getVerticalOffsetForPosition(this._modelData,z,ie):-1}setHiddenAreas(z){this._modelData&&this._modelData.viewModel.setHiddenAreas(z.map(ie=>n.Range.lift(ie)))}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const ie=this._modelData.model.validatePosition(z),ce=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(ie.lineNumber),ie.column,ce)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z){if(!!this._modelData){if(!r.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,ie,ce,K){if(!this._modelData)return;if(!n.Range.isIRange(z))throw new Error("Invalid arguments");const Q=this._modelData.model.validateRange(z),U=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Q);this._modelData.viewModel.revealRange("api",ce,U,ie,K)}revealLine(z,ie=0){this._revealLine(z,0,ie)}revealLineInCenter(z,ie=0){this._revealLine(z,1,ie)}revealLineInCenterIfOutsideViewport(z,ie=0){this._revealLine(z,2,ie)}revealLineNearTop(z,ie=0){this._revealLine(z,5,ie)}_revealLine(z,ie,ce){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,z,1),ie,!1,ce)}revealPosition(z,ie=0){this._revealPosition(z,0,!0,ie)}revealPositionInCenter(z,ie=0){this._revealPosition(z,1,!0,ie)}revealPositionInCenterIfOutsideViewport(z,ie=0){this._revealPosition(z,2,!0,ie)}revealPositionNearTop(z,ie=0){this._revealPosition(z,5,!0,ie)}_revealPosition(z,ie,ce,K){if(!r.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z.lineNumber,z.column,z.lineNumber,z.column),ie,ce,K)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z){const ie=l.Selection.isISelection(z),ce=n.Range.isIRange(z);if(!ie&&!ce)throw new Error("Invalid arguments");if(ie)this._setSelectionImpl(z);else if(ce){const K={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(K)}}_setSelectionImpl(z){if(!this._modelData)return;const ie=new l.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections("api",[ie])}revealLines(z,ie,ce=0){this._revealLines(z,ie,0,ce)}revealLinesInCenter(z,ie,ce=0){this._revealLines(z,ie,1,ce)}revealLinesInCenterIfOutsideViewport(z,ie,ce=0){this._revealLines(z,ie,2,ce)}revealLinesNearTop(z,ie,ce=0){this._revealLines(z,ie,5,ce)}_revealLines(z,ie,ce,K){if(typeof z!="number"||typeof ie!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,ie,1),ce,!1,K)}revealRange(z,ie=0,ce=!1,K=!0){this._revealRange(z,ce?1:0,K,ie)}revealRangeInCenter(z,ie=0){this._revealRange(z,1,!0,ie)}revealRangeInCenterIfOutsideViewport(z,ie=0){this._revealRange(z,2,!0,ie)}revealRangeNearTop(z,ie=0){this._revealRange(z,5,!0,ie)}revealRangeNearTopIfOutsideViewport(z,ie=0){this._revealRange(z,6,!0,ie)}revealRangeAtTop(z,ie=0){this._revealRange(z,3,!0,ie)}_revealRange(z,ie,ce,K){if(!n.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(z),ie,ce,K)}setSelections(z,ie="api",ce=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let K=0,Q=z.length;K<Q;K++)if(!l.Selection.isISelection(z[K]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(ie,z,ce)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,ie=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:z},ie)}}setScrollTop(z,ie=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:z},ie)}}setScrollPosition(z,ie=1){!this._modelData||this._modelData.viewModel.setScrollPosition(z,ie)}saveViewState(){if(!this._modelData)return null;const z={},ie=Object.keys(this._contributions);for(const Q of ie){const U=this._contributions[Q];typeof U.saveViewState=="function"&&(z[Q]=U.saveViewState())}const ce=this._modelData.viewModel.saveCursorState(),K=this._modelData.viewModel.saveState();return{cursorState:ce,viewState:K,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const ie=z;if(ie&&ie.cursorState&&ie.viewState){const ce=ie.cursorState;Array.isArray(ce)?this._modelData.viewModel.restoreCursorState(ce):this._modelData.viewModel.restoreCursorState([ce]);const K=ie.contributionsState||{},Q=Object.keys(this._contributions);for(let ee=0,de=Q.length;ee<de;ee++){const j=Q[ee],ue=this._contributions[j];typeof ue.restoreViewState=="function"&&ue.restoreViewState(K[j])}const U=this._modelData.viewModel.reduceRestoreState(ie.viewState);this._modelData.view.restoreState(U)}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],ie=Object.keys(this._actions);for(let ce=0,K=ie.length;ce<K;ce++){const Q=ie[ce];z.push(this._actions[Q])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(ie=>ie.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,ie,ce){switch(ce=ce||{},ie){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const Q=ce;this._type(z,Q.text||"");return}case"replacePreviousChar":{const Q=ce;this._compositionType(z,Q.text||"",Q.replaceCharCnt||0,0,0);return}case"compositionType":{const Q=ce;this._compositionType(z,Q.text||"",Q.replacePrevCharCnt||0,Q.replaceNextCharCnt||0,Q.positionDelta||0);return}case"paste":{const Q=ce;this._paste(z,Q.text||"",Q.pasteOnNewLine||!1,Q.multicursorText||null,Q.mode||null);return}case"cut":this._cut(z);return}const K=this.getAction(ie);if(K){Promise.resolve(K.run()).then(void 0,I.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,ie,ce)||this._triggerCommand(ie,ce)}_triggerCommand(z,ie){this._commandService.executeCommand(z,ie)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,ie){!this._modelData||ie.length===0||(z==="keyboard"&&this._onWillType.fire(ie),this._modelData.viewModel.type(ie,z),z==="keyboard"&&this._onDidType.fire(ie))}_compositionType(z,ie,ce,K,Q){!this._modelData||this._modelData.viewModel.compositionType(ie,ce,K,Q,z)}_paste(z,ie,ce,K,Q){if(!this._modelData||ie.length===0)return;const U=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(ie,ce,K,z);const ee=this._modelData.viewModel.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new n.Range(U.lineNumber,U.column,ee.lineNumber,ee.column),mode:Q})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,ie,ce){const K=i.EditorExtensionsRegistry.getEditorCommand(ie);return K?(ce=ce||{},ce.source=z,this._instantiationService.invokeFunction(Q=>{Promise.resolve(K.runEditorCommand(Q,this,ce)).then(void 0,I.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,ie,ce){if(!this._modelData||this._configuration.options.get(80))return!1;let K;return ce?Array.isArray(ce)?K=()=>ce:K=ce:K=()=>null,this._modelData.viewModel.executeEdits(z,ie,K),!0}executeCommand(z,ie){!this._modelData||this._modelData.viewModel.executeCommand(ie,z)}executeCommands(z,ie){!this._modelData||this._modelData.viewModel.executeCommands(ie,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,(0,u.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(z,ie){return this._modelData?z.length===0&&ie.length===0?z:this._modelData.model.deltaDecorations(z,ie,this._id):[]}removeDecorations(z){const ie=this._decorationTypeKeysToIds[z];ie&&this.deltaDecorations(ie,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(130)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(z)}layout(z){this._configuration.observeReferenceElement(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const ie={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=ie,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(ie)}layoutContentWidget(z){const ie=z.getId();if(this._contentWidgets.hasOwnProperty(ie)){const ce=this._contentWidgets[ie];ce.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(ce)}}removeContentWidget(z){const ie=z.getId();if(this._contentWidgets.hasOwnProperty(ie)){const ce=this._contentWidgets[ie];delete this._contentWidgets[ie],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(ce)}}addOverlayWidget(z){const ie={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=ie,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(ie)}layoutOverlayWidget(z){const ie=z.getId();if(this._overlayWidgets.hasOwnProperty(ie)){const ce=this._overlayWidgets[ie];ce.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(ce)}}removeOverlayWidget(z){const ie=z.getId();if(this._overlayWidgets.hasOwnProperty(ie)){const ce=this._overlayWidgets[ie];delete this._overlayWidgets[ie],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(ce)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,ie){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,ie)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const ie=this._modelData.model.validatePosition(z),ce=this._configuration.options,K=ce.get(130),Q=ft._getVerticalOffsetForPosition(this._modelData,ie.lineNumber,ie.column)-this.getScrollTop(),U=this._modelData.view.getOffsetForColumn(ie.lineNumber,ie.column)+K.glyphMarginWidth+K.lineNumbersWidth+K.decorationsWidth-this.getScrollLeft();return{top:Q,left:U,height:ce.get(58)}}getOffsetForColumn(z,ie){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,ie)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){v.Configuration.applyFontInfoSlow(z,this._configuration.options.get(42))}_attachModel(z){if(!z){this._modelData=null;return}const ie=[];this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setMaxLineNumber(z.getLineCount()),z.onBeforeAttached();const ce=new g.ViewModel(this._id,this._configuration,z,P.DOMLineBreaksComputerFactory.create(),O.MonospaceLineBreaksComputerFactory.create(this._configuration.options),U=>N.scheduleAtNextAnimationFrame(U));ie.push(z.onDidChangeDecorations(U=>this._onDidChangeModelDecorations.fire(U))),ie.push(z.onDidChangeLanguage(U=>{this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(U)})),ie.push(z.onDidChangeLanguageConfiguration(U=>this._onDidChangeModelLanguageConfiguration.fire(U))),ie.push(z.onDidChangeContent(U=>this._onDidChangeModelContent.fire(U))),ie.push(z.onDidChangeOptions(U=>this._onDidChangeModelOptions.fire(U))),ie.push(z.onWillDispose(()=>this.setModel(null))),ie.push(ce.onEvent(U=>{switch(U.kind){case 0:this._onDidContentSizeChange.fire(U);break;case 1:this._editorTextFocus.setValue(U.hasFocus);break;case 2:this._onDidScrollChange.fire(U);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{U.reachedMaxCursorCount&&this._notificationService.warn(_.localize(0,null,h.CursorsController.MAX_CURSOR_COUNT));const ee=[];for(let ue=0,X=U.selections.length;ue<X;ue++)ee[ue]=U.selections[ue].getPosition();const de={position:ee[0],secondaryPositions:ee.slice(1),reason:U.reason,source:U.source};this._onDidChangeCursorPosition.fire(de);const j={selection:U.selections[0],secondarySelections:U.selections.slice(1),modelVersionId:U.modelVersionId,oldSelections:U.oldSelections,oldModelVersionId:U.oldModelVersionId,source:U.source,reason:U.reason};this._onDidChangeCursorSelection.fire(j);break}}}));const[K,Q]=this._createView(ce);if(Q){this._domElement.appendChild(K.domNode.domNode);let U=Object.keys(this._contentWidgets);for(let ee=0,de=U.length;ee<de;ee++){const j=U[ee];K.addContentWidget(this._contentWidgets[j])}U=Object.keys(this._overlayWidgets);for(let ee=0,de=U.length;ee<de;ee++){const j=U[ee];K.addOverlayWidget(this._overlayWidgets[j])}K.render(!1,!0),K.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new x(z,ce,K,Q,ie)}_createView(z){let ie;this.isSimpleWidget?ie={paste:(Q,U,ee,de)=>{this._paste("keyboard",Q,U,ee,de)},type:Q=>{this._type("keyboard",Q)},compositionType:(Q,U,ee,de)=>{this._compositionType("keyboard",Q,U,ee,de)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:ie={paste:(Q,U,ee,de)=>{const j={text:Q,pasteOnNewLine:U,multicursorText:ee,mode:de};this._commandService.executeCommand("paste",j)},type:Q=>{const U={text:Q};this._commandService.executeCommand("type",U)},compositionType:(Q,U,ee,de)=>{if(ee||de){const j={text:Q,replacePrevCharCnt:U,replaceNextCharCnt:ee,positionDelta:de};this._commandService.executeCommand("compositionType",j)}else{const j={text:Q,replaceCharCnt:U};this._commandService.executeCommand("replacePreviousChar",j)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const ce=new a.ViewUserInputEvents(z.coordinatesConverter);return ce.onKeyDown=Q=>this._onKeyDown.fire(Q),ce.onKeyUp=Q=>this._onKeyUp.fire(Q),ce.onContextMenu=Q=>this._onContextMenu.fire(Q),ce.onMouseMove=Q=>this._onMouseMove.fire(Q),ce.onMouseLeave=Q=>this._onMouseLeave.fire(Q),ce.onMouseDown=Q=>this._onMouseDown.fire(Q),ce.onMouseUp=Q=>this._onMouseUp.fire(Q),ce.onMouseDrag=Q=>this._onMouseDrag.fire(Q),ce.onMouseDrop=Q=>this._onMouseDrop.fire(Q),ce.onMouseDropCanceled=Q=>this._onMouseDropCanceled.fire(Q),ce.onMouseWheel=Q=>this._onMouseWheel.fire(Q),[new s.View(ie,this._configuration,this._themeService,z,ce,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z&&z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,ie=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),ie&&this._domElement.contains(ie)&&this._domElement.removeChild(ie),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}};W=Re([me(3,D.IInstantiationService),me(4,C.ICodeEditorService),me(5,m.ICommandService),me(6,w.IContextKeyService),me(7,R.IThemeService),me(8,T.INotificationService),me(9,M.IAccessibilityService)],W),e.CodeEditorWidget=W;class G extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new L.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new L.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const ie=z?2:1;this._value!==ie&&(this._value=ie,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=G;class Y extends S.Disposable{constructor(z,ie){super();this._editor=z,ie.createKey("editorId",z.getId()),this._editorSimpleInput=c.EditorContextKeys.editorSimpleInput.bindTo(ie),this._editorFocus=c.EditorContextKeys.focus.bindTo(ie),this._textInputFocus=c.EditorContextKeys.textInputFocus.bindTo(ie),this._editorTextFocus=c.EditorContextKeys.editorTextFocus.bindTo(ie),this._editorTabMovesFocus=c.EditorContextKeys.tabMovesFocus.bindTo(ie),this._editorReadonly=c.EditorContextKeys.readOnly.bindTo(ie),this._inDiffEditor=c.EditorContextKeys.inDiffEditor.bindTo(ie),this._editorColumnSelection=c.EditorContextKeys.columnSelection.bindTo(ie),this._hasMultipleSelections=c.EditorContextKeys.hasMultipleSelections.bindTo(ie),this._hasNonEmptySelection=c.EditorContextKeys.hasNonEmptySelection.bindTo(ie),this._canUndo=c.EditorContextKeys.canUndo.bindTo(ie),this._canRedo=c.EditorContextKeys.canRedo.bindTo(ie),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(129)),this._editorReadonly.set(z.get(80)),this._inDiffEditor.set(z.get(53)),this._editorColumnSelection.set(z.get(17))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(ie=>!ie.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class se extends S.Disposable{constructor(z,ie){super();this._editor=z,this._contextKeyService=ie,this._langId=c.EditorContextKeys.languageId.bindTo(ie),this._hasCompletionItemProvider=c.EditorContextKeys.hasCompletionItemProvider.bindTo(ie),this._hasCodeActionsProvider=c.EditorContextKeys.hasCodeActionsProvider.bindTo(ie),this._hasCodeLensProvider=c.EditorContextKeys.hasCodeLensProvider.bindTo(ie),this._hasDefinitionProvider=c.EditorContextKeys.hasDefinitionProvider.bindTo(ie),this._hasDeclarationProvider=c.EditorContextKeys.hasDeclarationProvider.bindTo(ie),this._hasImplementationProvider=c.EditorContextKeys.hasImplementationProvider.bindTo(ie),this._hasTypeDefinitionProvider=c.EditorContextKeys.hasTypeDefinitionProvider.bindTo(ie),this._hasHoverProvider=c.EditorContextKeys.hasHoverProvider.bindTo(ie),this._hasDocumentHighlightProvider=c.EditorContextKeys.hasDocumentHighlightProvider.bindTo(ie),this._hasDocumentSymbolProvider=c.EditorContextKeys.hasDocumentSymbolProvider.bindTo(ie),this._hasReferenceProvider=c.EditorContextKeys.hasReferenceProvider.bindTo(ie),this._hasRenameProvider=c.EditorContextKeys.hasRenameProvider.bindTo(ie),this._hasSignatureHelpProvider=c.EditorContextKeys.hasSignatureHelpProvider.bindTo(ie),this._hasInlayHintsProvider=c.EditorContextKeys.hasInlayHintsProvider.bindTo(ie),this._hasDocumentFormattingProvider=c.EditorContextKeys.hasDocumentFormattingProvider.bindTo(ie),this._hasDocumentSelectionFormattingProvider=c.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(ie),this._hasMultipleDocumentFormattingProvider=c.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(ie),this._hasMultipleDocumentSelectionFormattingProvider=c.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(ie),this._isInWalkThrough=c.EditorContextKeys.isInWalkThroughSnippet.bindTo(ie);const ce=()=>this._update();this._register(z.onDidChangeModel(ce)),this._register(z.onDidChangeModelLanguage(ce)),this._register(f.CompletionProviderRegistry.onDidChange(ce)),this._register(f.CodeActionProviderRegistry.onDidChange(ce)),this._register(f.CodeLensProviderRegistry.onDidChange(ce)),this._register(f.DefinitionProviderRegistry.onDidChange(ce)),this._register(f.DeclarationProviderRegistry.onDidChange(ce)),this._register(f.ImplementationProviderRegistry.onDidChange(ce)),this._register(f.TypeDefinitionProviderRegistry.onDidChange(ce)),this._register(f.HoverProviderRegistry.onDidChange(ce)),this._register(f.DocumentHighlightProviderRegistry.onDidChange(ce)),this._register(f.DocumentSymbolProviderRegistry.onDidChange(ce)),this._register(f.ReferenceProviderRegistry.onDidChange(ce)),this._register(f.RenameProviderRegistry.onDidChange(ce)),this._register(f.DocumentFormattingEditProviderRegistry.onDidChange(ce)),this._register(f.DocumentRangeFormattingEditProviderRegistry.onDidChange(ce)),this._register(f.SignatureHelpProviderRegistry.onDidChange(ce)),this._register(f.InlayHintsProviderRegistry.onDidChange(ce)),ce()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(f.CompletionProviderRegistry.has(z)),this._hasCodeActionsProvider.set(f.CodeActionProviderRegistry.has(z)),this._hasCodeLensProvider.set(f.CodeLensProviderRegistry.has(z)),this._hasDefinitionProvider.set(f.DefinitionProviderRegistry.has(z)),this._hasDeclarationProvider.set(f.DeclarationProviderRegistry.has(z)),this._hasImplementationProvider.set(f.ImplementationProviderRegistry.has(z)),this._hasTypeDefinitionProvider.set(f.TypeDefinitionProviderRegistry.has(z)),this._hasHoverProvider.set(f.HoverProviderRegistry.has(z)),this._hasDocumentHighlightProvider.set(f.DocumentHighlightProviderRegistry.has(z)),this._hasDocumentSymbolProvider.set(f.DocumentSymbolProviderRegistry.has(z)),this._hasReferenceProvider.set(f.ReferenceProviderRegistry.has(z)),this._hasRenameProvider.set(f.RenameProviderRegistry.has(z)),this._hasSignatureHelpProvider.set(f.SignatureHelpProviderRegistry.has(z)),this._hasInlayHintsProvider.set(f.InlayHintsProviderRegistry.has(z)),this._hasDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.has(z)||f.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasMultipleDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.all(z).length+f.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===p.Schemas.walkThroughSnippet)})}}e.EditorModeContext=se;class re extends S.Disposable{constructor(z){super();this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(N.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const J=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),le=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ae(H){return J+encodeURIComponent(H.toString())+le}const V=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),B=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Z(H){return V+encodeURIComponent(H.toString())+B}(0,R.registerThemingParticipant)((H,z)=>{const ie=H.getColor(b.editorErrorBorder);ie&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${ie}; }`);const ce=H.getColor(b.editorErrorForeground);ce&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ae(ce)}") repeat-x bottom left; }`);const K=H.getColor(b.editorErrorBackground);K&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${K}; }`);const Q=H.getColor(b.editorWarningBorder);Q&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${Q}; }`);const U=H.getColor(b.editorWarningForeground);U&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ae(U)}") repeat-x bottom left; }`);const ee=H.getColor(b.editorWarningBackground);ee&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ee}; }`);const de=H.getColor(b.editorInfoBorder);de&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${de}; }`);const j=H.getColor(b.editorInfoForeground);j&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ae(j)}") repeat-x bottom left; }`);const ue=H.getColor(b.editorInfoBackground);ue&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${ue}; }`);const X=H.getColor(b.editorHintBorder);X&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${X}; }`);const q=H.getColor(b.editorHintForeground);q&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Z(q)}") no-repeat bottom left; }`);const oe=H.getColor(y.editorUnnecessaryCodeOpacity);oe&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${oe.rgba.a}; }`);const he=H.getColor(y.editorUnnecessaryCodeBorder);he&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${he}; }`);const ge=H.getColor(b.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${ge}}`)})}),define(te[152],ne([0,1,35,28,151,26,15,9,34,12,60]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let s=class extends I.CodeEditorWidget{constructor(u,h,d,r,n,l,t,o,c,f){super(u,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},r,n,l,t,o,c,f);this._parentEditor=d,this._overwriteOptions=h,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(y=>this._onParentConfigurationChanged(y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(u){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(u){_.mixin(this._overwriteOptions,u,!0),super.updateOptions(this._overwriteOptions)}};s=Re([me(3,p.IInstantiationService),me(4,N.ICodeEditorService),me(5,L.ICommandService),me(6,S.IContextKeyService),me(7,i.IThemeService),me(8,v.INotificationService),me(9,C.IAccessibilityService)],s),e.EmbeddedCodeEditorWidget=s}),define(te[637],ne([0,1,16,481,25,21,43,15,75,45,350]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new p.RawContextKey("selectionAnchorSet",!1);let C=class Kt{constructor(r,n){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(Kt.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],l=this.editor.deltaDecorations(n,[{range:L.Selection.fromPositions(r,r),options:{description:"selection-anchor",stickiness:1,hoverMessage:new v.MarkdownString().appendText((0,N.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=l[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,i.alert)((0,N.localize)(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const n=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(r.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};C.ID="editor.contrib.selectionAnchorController",C=Re([me(1,p.IContextKeyService)],C);class s extends _.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,N.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|32),weight:100}})}run(r,n){return ke(this,void 0,void 0,function*(){C.get(n).setSelectionAnchor()})}}class a extends _.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,N.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,n){return ke(this,void 0,void 0,function*(){C.get(n).goToSelectionAnchor()})}}class u extends _.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,N.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|41),weight:100}})}run(r,n){return ke(this,void 0,void 0,function*(){C.get(n).selectFromAnchorToCursor()})}}class h extends _.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,N.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,n){return ke(this,void 0,void 0,function*(){C.get(n).cancelSelectionAnchor()})}}(0,_.registerEditorContribution)(C.ID,C),(0,_.registerEditorAction)(s),(0,_.registerEditorAction)(a),(0,_.registerEditorAction)(u),(0,_.registerEditorAction)(h)}),define(te[638],ne([0,1,482,14,2,16,13,3,21,25,53,31,46,22,12,33,351]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,u.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},_.localize(0,null));class n extends L.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:_.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(f,y){let b=o.get(y);!b||b.jumpToBracket()}}class l extends L.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:_.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(f,y,b){const g=o.get(y);if(!g)return;let m=!0;b&&b.selectBrackets===!1&&(m=!1),g.selectToBracket(m)}}class t{constructor(f,y,b){this.position=f,this.brackets=y,this.options=b}}class o extends I.Disposable{constructor(f){super();this._editor=f,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new N.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(f.onDidChangeCursorPosition(y=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelContent(y=>{this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModel(y=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelLanguageConfiguration(y=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeConfiguration(y=>{y.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(f){return f.getContribution(o.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const f=this._editor.getModel(),y=this._editor.getSelections().map(b=>{const g=b.getStartPosition(),m=f.matchBracket(g);let w=null;if(m)m[0].containsPosition(g)?w=m[1].getStartPosition():m[1].containsPosition(g)&&(w=m[0].getStartPosition());else{const D=f.findEnclosingBrackets(g);if(D)w=D[0].getStartPosition();else{const k=f.findNextBracket(g);k&&k.range&&(w=k.range.getStartPosition())}}return w?new v.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new v.Selection(g.lineNumber,g.column,g.lineNumber,g.column)});this._editor.setSelections(y),this._editor.revealRange(y[0])}selectToBracket(f){if(!this._editor.hasModel())return;const y=this._editor.getModel(),b=[];this._editor.getSelections().forEach(g=>{const m=g.getStartPosition();let w=y.matchBracket(m);if(!w&&(w=y.findEnclosingBrackets(m),!w)){const T=y.findNextBracket(m);T&&T.range&&(w=y.matchBracket(T.range.getStartPosition()))}let D=null,k=null;if(w){w.sort(p.Range.compareRangesUsingStarts);const[T,R]=w;if(D=f?T.getStartPosition():T.getEndPosition(),k=f?R.getEndPosition():R.getStartPosition(),R.containsPosition(m)){const M=D;D=k,k=M}}D&&k&&b.push(new v.Selection(D.lineNumber,D.column,k.lineNumber,k.column))}),b.length>0&&(this._editor.setSelections(b),this._editor.revealRange(b[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let f=[],y=0;for(const b of this._lastBracketsData){let g=b.brackets;g&&(f[y++]={range:g[0],options:b.options},f[y++]={range:g[1],options:b.options})}this._decorations=this._editor.deltaDecorations(this._decorations,f)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const f=this._editor.getSelections();if(f.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const y=this._editor.getModel(),b=y.getVersionId();let g=[];this._lastVersionId===b&&(g=this._lastBracketsData);let m=[],w=0;for(let M=0,A=f.length;M<A;M++){let O=f[M];O.isEmpty()&&(m[w++]=O.getStartPosition())}m.length>1&&m.sort(S.Position.compare);let D=[],k=0,T=0,R=g.length;for(let M=0,A=m.length;M<A;M++){let O=m[M];for(;T<R&&g[T].position.isBefore(O);)T++;if(T<R&&g[T].position.equals(O))D[k++]=g[T];else{let P=y.matchBracket(O),F=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=y.findEnclosingBrackets(O,20),F=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),D[k++]=new t(O,P,F)}}this._lastBracketsData=D,this._lastVersionId=b}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=s.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,h.themeColorFromId)(r),position:C.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=s.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,L.registerEditorContribution)(o.ID,o),(0,L.registerEditorAction)(l),(0,L.registerEditorAction)(n),(0,h.registerThemingParticipant)((c,f)=>{const y=c.getColor(a.editorBracketMatchBackground);y&&f.addRule(`.monaco-editor .bracket-match { background-color: ${y}; }`);const b=c.getColor(a.editorBracketMatchBorder);b&&f.addRule(`.monaco-editor .bracket-match { border: 1px solid ${b}; }`)}),d.MenuRegistry.appendMenuItem(d.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_.localize(3,null)},order:2})}),define(te[639],ne([0,1,483,16,25,417]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends N.EditorAction{constructor(C,s){super(s);this.left=C}run(C,s){if(!s.hasModel())return;let a=[],u=s.getSelections();for(const h of u)a.push(new L.MoveCaretCommand(h,this.left));s.pushUndoStop(),s.executeCommands(this.id,a),s.pushUndoStop()}}class p extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_.localize(0,null),alias:"Move Selected Text Left",precondition:I.EditorContextKeys.writable})}}class v extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_.localize(1,null),alias:"Move Selected Text Right",precondition:I.EditorContextKeys.writable})}}(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(v)}),define(te[640],ne([0,1,484,16,96,3,25,193]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends N.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:_.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(C,s){if(!s.hasModel())return;let a=s.getModel(),u=[],h=s.getSelections();for(let d of h){if(!d.isEmpty())continue;let r=d.startLineNumber,n=d.startColumn,l=a.getLineMaxColumn(r);if(r===1&&(n===1||n===2&&l===2))continue;let t=n===l?d.getPosition():p.MoveOperations.rightPosition(a,d.getPosition().lineNumber,d.getPosition().column),o=p.MoveOperations.leftPosition(a,t),c=p.MoveOperations.leftPosition(a,o),f=a.getValueInRange(L.Range.fromPositions(c,o)),y=a.getValueInRange(L.Range.fromPositions(o,t)),b=L.Range.fromPositions(c,t);u.push(new I.ReplaceCommand(b,y+f))}u.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,u),s.pushUndoStop())}}(0,N.registerEditorAction)(v)}),define(te[641],ne([0,1,485,41,17,171,16,28,25,33,88]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const s="9_cutcopypaste",a=I.isNative||document.queryCommandSupported("cut"),u=I.isNative||document.queryCommandSupported("copy"),h=typeof navigator.clipboard=="undefined"||N.isFirefox?document.queryCommandSupported("paste"):!0;function d(l){return l.register(),l}e.CutAction=a?d(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:I.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:s,title:_.localize(1,null),when:v.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:_.localize(2,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:_.localize(3,null),when:v.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=u?d(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:I.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(4,null),order:2},{menuId:i.MenuId.EditorContext,group:s,title:_.localize(5,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:_.localize(6,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:_.localize(7,null),order:2}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:_.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:_.localize(9,null),original:"Copy As"},group:s,order:3}),e.PasteAction=h?d(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:I.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(10,null),order:4},{menuId:i.MenuId.EditorContext,group:s,title:_.localize(11,null),when:v.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:_.localize(12,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:_.localize(13,null),when:v.EditorContextKeys.writable,order:4}]})):void 0;class r extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,o){!o.hasModel()||!o.getOption(31)&&o.getSelection().isEmpty()||(L.CopyOptions.forceCopyWithSyntaxHighlighting=!0,o.focus(),document.execCommand("copy"),L.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(l,t){!l||(l.addImplementation(1e4,"code-editor",(o,c)=>{const f=o.get(p.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const y=f.getOption(31),b=f.getSelection();return b&&b.isEmpty()&&!y||document.execCommand(t),!0}return!1}),l.addImplementation(0,"generic-dom",(o,c)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(l,t)=>{const o=l.get(p.ICodeEditorService),c=l.get(C.IClipboardService),f=o.getFocusedCodeEditor();return f&&f.hasTextFocus()?(!document.execCommand("paste")&&I.isWeb&&(()=>ke(void 0,void 0,void 0,function*(){const b=yield c.readText();if(b!==""){const g=L.InMemoryClipboardMetadataManager.INSTANCE.get(b);let m=!1,w=null,D=null;g&&(m=f.getOption(31)&&!!g.isFromEmptySelection,w=typeof g.multicursorText!="undefined"?g.multicursorText:null,D=g.mode),f.trigger("keyboard","paste",{text:b,pasteOnNewLine:m,multicursorText:w,mode:D})}}))(),!0):!1}),e.PasteAction.addImplementation(0,"generic-dom",(l,t)=>(document.execCommand("paste"),!0))),u&&(0,S.registerEditorAction)(r)}),define(te[153],ne([0,1,19,23,10,2,24,66,3,21,18,38,140,61,26]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(f,y){this.action=f,this.provider=y}resolve(f){var y;return ke(this,void 0,void 0,function*(){if(((y=this.provider)===null||y===void 0?void 0:y.resolveCodeAction)&&!this.action.edit){let b;try{b=yield this.provider.resolveCodeAction(this.action,f)}catch(g){(0,I.onUnexpectedExternalError)(g)}b&&(this.action.edit=b.edit)}return this})}}e.CodeActionItem=d;class r extends L.Disposable{constructor(f,y,b){super();this.documentation=y,this._register(b),this.allActions=[...f].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:g})=>!g.disabled)}static codeActionsComparator({action:f},{action:y}){return f.isPreferred&&!y.isPreferred?-1:!f.isPreferred&&y.isPreferred?1:(0,_.isNonEmptyArray)(f.diagnostics)?(0,_.isNonEmptyArray)(y.diagnostics)?f.diagnostics[0].message.localeCompare(y.diagnostics[0].message):-1:(0,_.isNonEmptyArray)(y.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:f})=>!!f.kind&&a.CodeActionKind.QuickFix.contains(new a.CodeActionKind(f.kind))&&!!f.isPreferred)}}const n={actions:[],documentation:void 0};function l(c,f,y,b,g){var m;const w=y.filter||{},D={only:(m=w.include)===null||m===void 0?void 0:m.value,trigger:y.type},k=new p.TextModelCancellationTokenSource(c,g),T=t(c,w),R=new L.DisposableStore,M=T.map(O=>ke(this,void 0,void 0,function*(){try{b.report(O);const P=yield O.provideCodeActions(c,f,D,k.token);if(P&&R.add(P),k.token.isCancellationRequested)return n;const F=((P==null?void 0:P.actions)||[]).filter(x=>x&&(0,a.filtersAction)(w,x)),E=o(O,F,w.include);return{actions:F.map(x=>new d(x,O)),documentation:E}}catch(P){if((0,I.isPromiseCanceledError)(P))throw P;return(0,I.onUnexpectedExternalError)(P),n}})),A=C.CodeActionProviderRegistry.onDidChange(()=>{const O=C.CodeActionProviderRegistry.all(c);(0,_.equals)(O,T)||k.cancel()});return Promise.all(M).then(O=>{const P=(0,_.flatten)(O.map(E=>E.actions)),F=(0,_.coalesce)(O.map(E=>E.documentation));return new r(P,F,R)}).finally(()=>{A.dispose(),k.dispose()})}e.getCodeActions=l;function t(c,f){return C.CodeActionProviderRegistry.all(c).filter(y=>y.providedCodeActionKinds?y.providedCodeActionKinds.some(b=>(0,a.mayIncludeActionsOfKind)(f,new a.CodeActionKind(b))):!0)}function o(c,f,y){if(!c.documentation)return;const b=c.documentation.map(g=>({kind:new a.CodeActionKind(g.kind),command:g.command}));if(y){let g;for(const m of b)m.kind.contains(y)&&(g?g.kind.contains(m.kind)&&(g=m):g=m);if(g)return g==null?void 0:g.command}for(const g of f)if(!!g.kind){for(const m of b)if(m.kind.contains(new a.CodeActionKind(g.kind)))return m.command}}h.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(c,f,y,b,g){return ke(this,void 0,void 0,function*(){if(!(f instanceof S.URI))throw(0,I.illegalArgument)();const m=c.get(s.IModelService).getModel(f);if(!m)throw(0,I.illegalArgument)();const w=i.Selection.isISelection(y)?i.Selection.liftSelection(y):v.Range.isIRange(y)?m.validateRange(y):void 0;if(!w)throw(0,I.illegalArgument)();const D=typeof b=="string"?new a.CodeActionKind(b):void 0,k=yield l(m,w,{type:1,filter:{includeSourceActions:!0,include:D}},u.Progress.None,N.CancellationToken.None),T=[],R=Math.min(k.validActions.length,typeof g=="number"?g:0);for(let M=0;M<R;M++)T.push(k.validActions[M].resolve(N.CancellationToken.None));try{return yield Promise.all(T),k.validActions.map(M=>M.action)}finally{setTimeout(()=>k.dispose(),100)}})})}),define(te[642],ne([0,1,7,50,10,157,2,13,18,153,140,69,39]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class u extends N.Action{constructor(l,t){super(l.command?l.command.id:l.title,h(l.title),void 0,!l.disabled,t);this.action=l}}function h(n){return n.replace(/\r\n|\r|\n/g," ")}let d=class extends S.Disposable{constructor(l,t,o,c){super();this._editor=l,this._delegate=t,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>c.getKeybindings()})}get isVisible(){return this._visible}show(l,t,o,c){return ke(this,void 0,void 0,function*(){const f=c.includeDisabledActions?t.allActions:t.validActions;if(!f.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,I.canceled)();this._visible=!0,this._showingActions.value=t;const y=this.getMenuActions(l,f,t.documentation),b=p.Position.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},g=this._keybindingResolver.getResolver(),m=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:m?this._editor.getDomNode():void 0,getAnchor:()=>b,getActions:()=>y,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:w=>w instanceof u?g(w.action):void 0})})}getMenuActions(l,t,o){var c,f;const y=w=>new u(w.action,()=>this._delegate.onSelectCodeAction(w)),b=t.map(y),g=[...o],m=this._editor.getModel();if(m&&b.length)for(const w of v.CodeActionProviderRegistry.all(m))w._getAdditionalMenuItems&&g.push(...w._getAdditionalMenuItems({trigger:l.type,only:(f=(c=l.filter)===null||c===void 0?void 0:c.include)===null||f===void 0?void 0:f.value},t.map(D=>D.action)));return g.length&&b.push(new N.Separator,...g.map(w=>y(new i.CodeActionItem({title:w.title,command:w},void 0)))),b}_toCoords(l){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(l,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(l),o=(0,_.getDomNodePagePosition)(this._editor.getDomNode()),c=o.left+t.left,f=o.top+t.top+t.height;return{x:c,y:f}}};d=Re([me(2,s.IContextMenuService),me(3,a.IKeybindingService)],d),e.CodeActionMenu=d;class r{constructor(l){this._keybindingProvider=l}getResolver(){const l=new L.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>r.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let o=t.commandArgs;return t.command===i.organizeImportsCommandId?o={kind:C.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(o={kind:C.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},C.CodeActionCommandArgs.fromUser(o,{kind:C.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const o=this.bestKeybindingForCodeAction(t,l.getValue());return o==null?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(l,t){if(!l.kind)return;const o=new C.CodeActionKind(l.kind);return t.filter(c=>c.kind.contains(o)).filter(c=>c.preferred?l.isPreferred:!0).reduceRight((c,f)=>c?c.kind.contains(f.kind)?f:c:f,void 0)}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var rt=this&&this.__classPrivateFieldGet||function($,e,_,N){if(_==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!N:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?N:_==="a"?N.call($):N?N.value:e.get($)},_t=this&&this.__classPrivateFieldSet||function($,e,_,N,I){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!I:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?I.call($,_):I?I.value=_:e.set($,_),_};define(te[643],ne([0,1,14,10,6,2,44,3,18,15,61,153]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class u extends L.Disposable{constructor(l,t,o,c=250){super();this._editor=l,this._markerService=t,this._signalChange=o,this._delay=c,this._autoTriggerTimer=this._register(new _.TimeoutTimer),this._register(this._markerService.onMarkerChanged(f=>this._onMarkerChanges(f))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(l){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(l);return this._createEventAndSignalChange(l,t)}_onMarkerChanges(l){const t=this._editor.getModel();!t||l.some(o=>(0,S.isEqual)(o,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(l){const t=this._editor.getModel();if(!!t)for(const o of this._markerService.read({resource:t.uri})){const c=t.validateRange(o);if(p.Range.intersectRanges(c,l))return p.Range.lift(c)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(l){if(!this._editor.hasModel())return;const t=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&l.type===2){const{lineNumber:c,column:f}=o.getPosition(),y=t.getLineContent(c);if(y.length===0)return;if(f===1){if(/\s/.test(y[0]))return}else if(f===t.getLineMaxColumn(c)){if(/\s/.test(y[y.length-1]))return}else if(/\s/.test(y[f-2])&&/\s/.test(y[f-1]))return}return o}_createEventAndSignalChange(l,t){const o=this._editor.getModel();if(!t||!o){this._signalChange(void 0);return}const c=this._getRangeOfMarker(t),f=c?c.getStartPosition():t.getStartPosition(),y={trigger:l,selection:t,position:f};return this._signalChange(y),y}}var h;(function(n){n.Empty={type:0};class l{constructor(o,c,f,y){this.trigger=o,this.rangeOrSelection=c,this.position=f,this._cancellablePromise=y,this.type=1,this.actions=y.catch(b=>{if((0,N.isPromiseCanceledError)(b))return d;throw b})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=l})(h=e.CodeActionsState||(e.CodeActionsState={}));const d={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends L.Disposable{constructor(l,t,o,c){super();this._editor=l,this._markerService=t,this._progressService=c,this._codeActionOracle=this._register(new L.MutableDisposable),this._state=h.Empty,this._onDidChangeState=this._register(new I.Emitter),this.onDidChangeState=this._onDidChangeState.event,a.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(v.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){rt(this,a,"f")||(_t(this,a,!0,"f"),super.dispose(),this.setState(h.Empty,!0))}_update(){if(rt(this,a,"f"))return;this._codeActionOracle.value=void 0,this.setState(h.Empty);const l=this._editor.getModel();if(l&&v.CodeActionProviderRegistry.has(l)&&!this._editor.getOption(80)){const t=[];for(const o of v.CodeActionProviderRegistry.all(l))Array.isArray(o.providedCodeActionKinds)&&t.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new u(this._editor,this._markerService,o=>{var c;if(!o){this.setState(h.Empty);return}const f=(0,_.createCancelablePromise)(y=>(0,s.getCodeActions)(l,o.selection,o.trigger,C.Progress.None,y));o.trigger.type===1&&((c=this._progressService)===null||c===void 0||c.showWhile(f,250)),this.setState(new h.Triggered(o.trigger,o.selection,o.position,f))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(l){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(l)}setState(l,t){l!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=l,!t&&!rt(this,a,"f")&&this._onDidChangeState.fire(l))}}e.CodeActionModel=r,a=new WeakMap}),define(te[644],ne([0,1,14,10,2,66,16,18,255,619,26,34,592,7,93,79,488,25,142]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(c,f,y,b){this._editor=c,this._commandService=f,this._notificationService=y,this._codeLensCache=b,this._disposables=new I.DisposableStore,this._localToDispose=new I.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new l.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new I.DisposableStore,this._resolveCodeLensesDelays=new l.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new _.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(g=>{(g.hasChanged(42)||g.hasChanged(15)||g.hasChanged(14))&&this._updateLensStyle(),g.hasChanged(13)&&this._onModelChange()})),this._disposables.add(p.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,h.hash)(this._editor.getId()).toString(16),this._styleElement=u.createStyleSheet(u.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var c;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(c=this._currentCodeLensModel)===null||c===void 0||c.dispose(),this._styleElement.remove()}_getLayoutInfo(){let c=this._editor.getOption(15),f;return!c||c<5?(c=this._editor.getOption(44)*.9|0,f=this._editor.getOption(58)):f=c*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(44))|0,{codeLensHeight:f,fontSize:c}}_updateLensStyle(){const{codeLensHeight:c,fontSize:f}=this._getLayoutInfo(),y=this._editor.getOption(14),b=this._editor.getOption(42),g=`--codelens-font-family${this._styleClassName}`,m=`--codelens-font-features${this._styleClassName}`;let w=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${c}px; font-size: ${f}px; padding-right: ${Math.round(f*.5)}px; font-feature-settings: var(${m}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${c}px; font-size: ${f}px; }
		`;y&&(w+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${g})}`),this._styleElement.textContent=w,this._editor.getContainerDomNode().style.setProperty(g,y??"inherit"),this._editor.getContainerDomNode().style.setProperty(m,b.fontFeatureSettings),this._editor.changeViewZones(D=>{for(let k of this._lenses)k.updateHeight(c,D)})}_localDispose(){var c,f,y;(c=this._getCodeLensModelPromise)===null||c===void 0||c.cancel(),this._getCodeLensModelPromise=void 0,(f=this._resolveCodeLensesPromise)===null||f===void 0||f.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(y=this._currentCodeLensModel)===null||y===void 0||y.dispose()}_onModelChange(){this._localDispose();const c=this._editor.getModel();if(!c||!this._editor.getOption(13))return;const f=this._codeLensCache.get(c);if(f&&this._renderCodeLensSymbols(f),!p.CodeLensProviderRegistry.has(c)){f&&this._localToDispose.add((0,_.disposableTimeout)(()=>{const b=this._codeLensCache.get(c);f===b&&(this._codeLensCache.delete(c),this._onModelChange())},30*1e3));return}for(const b of p.CodeLensProviderRegistry.all(c))if(typeof b.onDidChange=="function"){let g=b.onDidChange(()=>y.schedule());this._localToDispose.add(g)}const y=new _.RunOnceScheduler(()=>{var b;const g=Date.now();(b=this._getCodeLensModelPromise)===null||b===void 0||b.cancel(),this._getCodeLensModelPromise=(0,_.createCancelablePromise)(m=>(0,v.getCodeLensModel)(c,m)),this._getCodeLensModelPromise.then(m=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=m,this._codeLensCache.put(c,m);const w=this._getCodeLensModelDelays.update(c,Date.now()-g);y.delay=w,this._renderCodeLensSymbols(m),this._resolveCodeLensesInViewportSoon()},N.onUnexpectedError)},this._getCodeLensModelDelays.get(c));this._localToDispose.add(y),this._localToDispose.add((0,I.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(b=>{this._editor.changeViewZones(g=>{let m=[],w=-1;this._lenses.forEach(k=>{!k.isValid()||w===k.getLineNumber()?m.push(k):(k.update(g),w=k.getLineNumber())});let D=new i.CodeLensHelper;m.forEach(k=>{k.dispose(D,g),this._lenses.splice(this._lenses.indexOf(k),1)}),D.commit(b)})}),y.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{y.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(b=>{b.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,I.toDisposable)(()=>{if(this._editor.getModel()){const b=L.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(g=>{this._editor.changeViewZones(m=>{this._disposeAllLenses(g,m)})}),b.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(b=>{if(b.target.type!==9)return;let g=b.target.element;if((g==null?void 0:g.tagName)==="SPAN"&&(g=g.parentElement),(g==null?void 0:g.tagName)==="A")for(const m of this._lenses){let w=m.getCommand(g);if(w){this._commandService.executeCommand(w.id,...w.arguments||[]).catch(D=>this._notificationService.error(D));break}}})),y.schedule()}_disposeAllLenses(c,f){const y=new i.CodeLensHelper;for(const b of this._lenses)b.dispose(y,f);c&&y.commit(c),this._lenses.length=0}_renderCodeLensSymbols(c){if(!this._editor.hasModel())return;let f=this._editor.getModel().getLineCount(),y=[],b;for(let w of c.lenses){let D=w.symbol.range.startLineNumber;D<1||D>f||(b&&b[b.length-1].symbol.range.startLineNumber===D?b.push(w):(b=[w],y.push(b)))}const g=L.StableEditorScrollState.capture(this._editor),m=this._getLayoutInfo();this._editor.changeDecorations(w=>{this._editor.changeViewZones(D=>{const k=new i.CodeLensHelper;let T=0,R=0;for(;R<y.length&&T<this._lenses.length;){let M=y[R][0].symbol.range.startLineNumber,A=this._lenses[T].getLineNumber();A<M?(this._lenses[T].dispose(k,D),this._lenses.splice(T,1)):A===M?(this._lenses[T].updateCodeLensSymbols(y[R],k),R++,T++):(this._lenses.splice(T,0,new i.CodeLensWidget(y[R],this._editor,this._styleClassName,k,D,m.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++,R++)}for(;T<this._lenses.length;)this._lenses[T].dispose(k,D),this._lenses.splice(T,1);for(;R<y.length;)this._lenses.push(new i.CodeLensWidget(y[R],this._editor,this._styleClassName,k,D,m.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++;k.commit(w)})}),g.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var c;(c=this._resolveCodeLensesPromise)===null||c===void 0||c.cancel(),this._resolveCodeLensesPromise=void 0;const f=this._editor.getModel();if(!f)return;const y=[],b=[];if(this._lenses.forEach(w=>{const D=w.computeIfNecessary(f);D&&(y.push(D),b.push(w))}),y.length===0)return;const g=Date.now(),m=(0,_.createCancelablePromise)(w=>{const D=y.map((k,T)=>{const R=new Array(k.length),M=k.map((A,O)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(f,A.symbol,w)).then(P=>{R[O]=P},N.onUnexpectedExternalError):(R[O]=A.symbol,Promise.resolve(void 0)));return Promise.all(M).then(()=>{!w.isCancellationRequested&&!b[T].isDisposed()&&b[T].updateCommands(R)})});return Promise.all(D)});this._resolveCodeLensesPromise=m,this._resolveCodeLensesPromise.then(()=>{const w=this._resolveCodeLensesDelays.update(f,Date.now()-g);this._resolveCodeLensesScheduler.delay=w,this._currentCodeLensModel&&this._codeLensCache.put(f,this._currentCodeLensModel),this._oldCodeLensModels.clear(),m===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},w=>{(0,N.onUnexpectedError)(w),m===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Re([me(1,C.ICommandService),me(2,s.INotificationService),me(3,a.ICodeLensCache)],t),e.CodeLensContribution=t,(0,S.registerEditorContribution)(t.ID,t),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:n.EditorContextKeys.hasCodeLensProvider,label:(0,r.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(c,f){return ke(this,void 0,void 0,function*(){if(!f.hasModel())return;const y=c.get(d.IQuickInputService),b=c.get(C.ICommandService),g=c.get(s.INotificationService),m=f.getSelection().positionLineNumber,w=f.getContribution(t.ID),D=[];for(let T of w.getLenses())if(T.getLineNumber()===m)for(let R of T.getItems()){const{command:M}=R.symbol;M&&D.push({label:M.title,command:M})}if(D.length===0)return;const k=yield y.pick(D,{canPickMany:!1});if(!!k)try{yield b.executeCommand(k.command.id,...k.command.arguments||[])}catch(T){g.error(T)}})}})}),define(te[271],ne([0,1,14,29,10,93,2,16,28,3,31,18,256,40]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const h=500;let d=class qt extends S.Disposable{constructor(n,l,t){super();this._editor=n,this._codeEditorService=l,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(s.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const l=n.getLanguageIdentifier(),t=this._configurationService.getValue(l.language);if(t&&typeof t=="object"){const o=t.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getOption(16)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const n=this._editor.getModel();!n||!s.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new _.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},qt.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,_.createCancelablePromise)(n=>{const l=this._editor.getModel();return l?(0,a.getColors)(l,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},I.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const l=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:C.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((t,o)=>this._colorDatas.set(t,n[o]))}updateColorDecorators(n){let l=[],t={};for(let o=0;o<n.length&&l.length<h;o++){const{red:c,green:f,blue:y,alpha:b}=n[o].colorInfo.color,g=new N.RGBA(Math.round(c*255),Math.round(f*255),Math.round(y*255),b);let m=(0,L.hash)(`rgba(${g.r},${g.g},${g.b},${g.a})`).toString(16),w=`rgba(${g.r}, ${g.g}, ${g.b}, ${g.a})`,D="colorBox-"+m;!this._decorationsTypes.has(D)&&!t[D]&&this._codeEditorService.registerDecorationType("color-detector-color",D,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:w},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[D]=!0,l.push({range:{startLineNumber:n[o].colorInfo.range.startLineNumber,startColumn:n[o].colorInfo.range.startColumn,endLineNumber:n[o].colorInfo.range.endLineNumber,endColumn:n[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(D,!0)})}this._decorationsTypes.forEach(o=>{t[o]||this._codeEditorService.removeDecorationType(o)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,l)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const l=this._editor.getModel();if(!l)return null;const t=l.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(o=>this._colorDatas.has(o.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=Re([me(1,v.ICodeEditorService),me(2,u.IConfigurationService)],d),e.ColorDetector=d,(0,p.registerEditorContribution)(d.ID,d)}),define(te[645],ne([0,1,489,43,16,3,25,231,419,33]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends I.EditorAction{constructor(r,n){super(n);this._type=r}run(r,n){if(!n.hasModel())return;const l=n.getModel(),t=[],o=l.getOptions(),c=n.getOption(18),f=n.getSelections().map((b,g)=>({selection:b,index:g,ignoreFirstLine:!1}));f.sort((b,g)=>L.Range.compareRangesUsingStarts(b.selection,g.selection));let y=f[0];for(let b=1;b<f.length;b++){const g=f[b];y.selection.endLineNumber===g.selection.startLineNumber&&(y.index<g.index?g.ignoreFirstLine=!0:(y.ignoreFirstLine=!0,y=g))}for(const b of f)t.push(new v.LineCommentCommand(b.selection,o.tabSize,this._type,c.insertSpace,c.ignoreEmptyLines,b.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}class s extends C{constructor(){super(0,{id:"editor.action.commentLine",label:_.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:_.localize(1,null),order:1}})}}class a extends C{constructor(){super(1,{id:"editor.action.addCommentLine",label:_.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|33),weight:100}})}}class u extends C{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|51),weight:100}})}}class h extends I.EditorAction{constructor(){super({id:"editor.action.blockComment",label:_.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:_.localize(5,null),order:2}})}run(r,n){if(!n.hasModel())return;const l=n.getOption(18),t=[],o=n.getSelections();for(const c of o)t.push(new p.BlockCommentCommand(c,l.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}(0,I.registerEditorAction)(s),(0,I.registerEditorAction)(a),(0,I.registerEditorAction)(u),(0,I.registerEditorAction)(h)}),define(te[646],ne([0,1,490,7,50,2,16,25,33,15,69,39,118,17]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let h=class $t{constructor(n,l,t,o,c,f){this._contextMenuService=l,this._contextViewService=t,this._contextKeyService=o,this._keybindingService=c,this._menuService=f,this._toDispose=new L.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu(y=>this._onContextMenu(y))),this._toDispose.add(this._editor.onMouseWheel(y=>{if(this._contextMenuIsBeingShownCount>0){const b=this._contextViewService.getContextViewElement(),g=y.srcElement;g.shadowRoot&&N.getShadowRoot(b)===g.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(y=>{y.keyCode===58&&(y.preventDefault(),y.stopPropagation(),this.showContextMenu())}))}static get(n){return n.getContribution($t.ID)}_onContextMenu(n){if(!this._editor.hasModel())return;if(!this._editor.getOption(19)){this._editor.focus(),n.target.position&&!this._editor.getSelection().containsPosition(n.target.position)&&this._editor.setPosition(n.target.position);return}if(n.target.type===12||(n.event.preventDefault(),n.event.stopPropagation(),n.target.type!==6&&n.target.type!==7&&n.target.type!==1))return;if(this._editor.focus(),n.target.position){let t=!1;for(const o of this._editor.getSelections())if(o.containsPosition(n.target.position)){t=!0;break}t||this._editor.setPosition(n.target.position)}let l=null;n.target.type!==1&&(l={x:n.event.posx-1,width:2,y:n.event.posy-1,height:2}),this.showContextMenu(l)}showContextMenu(n){if(!this._editor.getOption(19)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const l=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?v.MenuId.SimpleEditorContext:v.MenuId.EditorContext);l.length>0&&this._doShowContextMenu(l,n)}_getMenuActions(n,l){const t=[],o=this._menuService.createMenu(l,this._contextKeyService),c=o.getActions({arg:n.uri});o.dispose();for(let f of c){const[,y]=f;let b=0;for(const g of y)if(g instanceof v.SubmenuItemAction){const m=this._getMenuActions(n,g.item.submenu);m.length>0&&(t.push(new I.SubmenuAction(g.id,g.label,m)),b++)}else t.push(g),b++;b&&t.push(new I.Separator)}return t.length&&t.pop(),t}_doShowContextMenu(n,l=null){if(!this._editor.hasModel())return;const t=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!l){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const c=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),f=N.getDomNodePagePosition(this._editor.getDomNode()),y=f.left+c.left,b=f.top+c.top+c.height;l={x:y,y:b}}const o=this._editor.getOption(114)&&!u.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>l,getActions:()=>n,getActionViewItem:c=>{const f=this._keybindingFor(c);if(f)return new a.ActionViewItem(c,c,{label:!0,keybinding:f.getLabel(),isMenu:!0});const y=c;return typeof y.getActionViewItem=="function"?y.getActionViewItem():new a.ActionViewItem(c,c,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:c=>this._keybindingFor(c),onHide:c=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:t})}})}_keybindingFor(n){return this._keybindingService.lookupKeybinding(n.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};h.ID="editor.contrib.contextmenu",h=Re([me(1,C.IContextMenuService),me(2,C.IContextViewService),me(3,i.IContextKeyService),me(4,s.IKeybindingService),me(5,v.IMenuService)],h),e.ContextMenuController=h;class d extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:_.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(n,l){h.get(l).showContextMenu()}}(0,S.registerEditorContribution)(h.ID,h),(0,S.registerEditorAction)(d)}),define(te[647],ne([0,1,491,2,16,25]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(a){this.selections=a}equals(a){const u=this.selections.length,h=a.selections.length;if(u!==h)return!1;for(let d=0;d<u;d++)if(!this.selections[d].equalsSelection(a.selections[d]))return!1;return!0}}class p{constructor(a,u,h){this.cursorState=a,this.scrollTop=u,this.scrollLeft=h}}class v extends N.Disposable{constructor(a){super();this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(u=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(u=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(u=>{if(this._isCursorUndoRedo||!u.oldSelections||u.oldModelVersionId!==u.modelVersionId)return;const h=new S(u.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(h)||(this._undoStack.push(new p(h,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(a){return a.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class i extends I.EditorAction{constructor(){super({id:"cursorUndo",label:_.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(a,u,h){v.get(u).cursorUndo()}}e.CursorUndo=i;class C extends I.EditorAction{constructor(){super({id:"cursorRedo",label:_.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(a,u,h){v.get(u).cursorRedo()}}e.CursorRedo=C,(0,I.registerEditorContribution)(v.ID,v),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(C)}),define(te[648],ne([0,1,2,17,16,13,3,21,420,31,355]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(a){return N.isMacintosh?a.altKey:a.ctrlKey}class s extends _.Disposable{constructor(u){super();this._editor=u,this._register(this._editor.onMouseDown(h=>this._onEditorMouseDown(h))),this._register(this._editor.onMouseUp(h=>this._onEditorMouseUp(h))),this._register(this._editor.onMouseDrag(h=>this._onEditorMouseDrag(h))),this._register(this._editor.onMouseDrop(h=>this._onEditorMouseDrop(h))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(h=>this.onEditorKeyDown(h))),this._register(this._editor.onKeyUp(h=>this.onEditorKeyUp(h))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(u){!this._editor.getOption(30)||this._editor.getOption(17)||(C(u)&&(this._modifierPressed=!0),this._mouseDown&&C(u)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(u){!this._editor.getOption(30)||this._editor.getOption(17)||(C(u)&&(this._modifierPressed=!1),this._mouseDown&&u.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(u){this._mouseDown=!0}_onEditorMouseUp(u){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(u){let h=u.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(n=>h.position&&n.containsPosition(h.position));if(r.length===1)this._dragSelection=r[0];else return}C(u.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),h.position&&(this._dragSelection.containsPosition(h.position)?this._removeDecoration():this.showAt(h.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(u){if(u.target&&(this._hitContent(u.target)||this._hitMargin(u.target))&&u.target.position){let h=new L.Position(u.target.position.lineNumber,u.target.position.column);if(this._dragSelection===null){let d=null;if(u.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:n,selectionStartColumn:l}=r;d=[new p.Selection(n,l,h.lineNumber,h.column)]}}else d=(this._editor.getSelections()||[]).map(r=>r.containsPosition(h)?new p.Selection(h.lineNumber,h.column,h.lineNumber,h.column):r);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(h)||(C(u.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(h)||this._dragSelection.getStartPosition().equals(h)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new v.DragAndDropCommand(this._dragSelection,h,C(u.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(u){let h=[{range:new S.Range(u.lineNumber,u.column,u.lineNumber,u.column),options:s._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,h),this._editor.revealPosition(u,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(u){return u.type===6||u.type===7}_hitMargin(u){return u.type===2||u.type===3||u.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=N.isMacintosh?6:5,s._DECORATION_OPTIONS=i.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,I.registerEditorContribution)(s.ID,s)}),define(te[649],ne([0,1,496,16,135]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends N.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:_.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,C){I.EditorZoom.setZoomLevel(I.EditorZoom.getZoomLevel()+1)}}class S extends N.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:_.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,C){I.EditorZoom.setZoomLevel(I.EditorZoom.getZoomLevel()-1)}}class p extends N.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:_.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,C){I.EditorZoom.setZoomLevel(0)}}(0,N.registerEditorAction)(L),(0,N.registerEditorAction)(S),(0,N.registerEditorAction)(p)}),define(te[272],ne([0,1,45,19,23,10,24,66,112,13,3,21,18,77,38,233,497,556,9,72,26,20,54]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function y(A){if(A=A.filter(E=>E.range),!A.length)return;let{range:O}=A[0];for(let E=1;E<A.length;E++)O=C.Range.plusRange(O,A[E].range);const{startLineNumber:P,endLineNumber:F}=O;P===F?A.length===1?(0,_.alert)(r.localize(0,null,P)):(0,_.alert)(r.localize(1,null,A.length,P)):A.length===1?(0,_.alert)(r.localize(2,null,P,F)):(0,_.alert)(r.localize(3,null,A.length,P,F))}e.alertFormattingEdits=y;function b(A){const O=[],P=new Set,F=a.DocumentFormattingEditProviderRegistry.ordered(A);for(const x of F)O.push(x),x.extensionId&&P.add(n.ExtensionIdentifier.toKey(x.extensionId));const E=a.DocumentRangeFormattingEditProviderRegistry.ordered(A);for(const x of E){if(x.extensionId){if(P.has(n.ExtensionIdentifier.toKey(x.extensionId)))continue;P.add(n.ExtensionIdentifier.toKey(x.extensionId))}O.push({displayName:x.displayName,extensionId:x.extensionId,provideDocumentFormattingEdits(W,G,Y){return x.provideDocumentRangeFormattingEdits(W,W.getFullModelRange(),G,Y)}})}return O}e.getRealAndSyntheticDocumentFormattersOrdered=b;class g{static setFormatterSelector(O){return{dispose:g._selectors.unshift(O)}}static select(O,P,F){return ke(this,void 0,void 0,function*(){if(O.length===0)return;const E=f.Iterable.first(g._selectors);if(E)return yield E(O,P,F)})}}e.FormattingConflicts=g,g._selectors=new t.LinkedList;function m(A,O,P,F,E,x){return ke(this,void 0,void 0,function*(){const W=A.get(l.IInstantiationService),G=(0,v.isCodeEditor)(O)?O.getModel():O,Y=a.DocumentRangeFormattingEditProviderRegistry.ordered(G),se=yield g.select(Y,G,F);se&&(E.report(se),yield W.invokeFunction(w,se,O,P,x))})}e.formatDocumentRangesWithSelectedProvider=m;function w(A,O,P,F,E){return ke(this,void 0,void 0,function*(){const x=A.get(u.IEditorWorkerService);let W,G;(0,v.isCodeEditor)(P)?(W=P.getModel(),G=new p.EditorStateCancellationTokenSource(P,1|4,void 0,E)):(W=P,G=new p.TextModelCancellationTokenSource(P,E));let Y=[],se=0;for(let V of(0,N.asArray)(F).sort(C.Range.compareRangesUsingStarts))se>0&&C.Range.areIntersectingOrTouching(Y[se-1],V)?Y[se-1]=C.Range.fromPositions(Y[se-1].getStartPosition(),V.getEndPosition()):se=Y.push(V);const re=V=>ke(this,void 0,void 0,function*(){return(yield O.provideDocumentRangeFormattingEdits(W,V,W.getFormattingOptions(),G.token))||[]}),J=(V,B)=>{if(!V.length||!B.length)return!1;const Z=V.reduce((H,z)=>C.Range.plusRange(H,z.range),V[0].range);if(!B.some(H=>C.Range.intersectRanges(Z,H.range)))return!1;for(let H of V)for(let z of B)if(C.Range.intersectRanges(H.range,z.range))return!0;return!1},le=[],ae=[];try{for(let V of Y){if(G.token.isCancellationRequested)return!0;ae.push(yield re(V))}for(let V=0;V<Y.length;++V)for(let B=V+1;B<Y.length;++B){if(G.token.isCancellationRequested)return!0;if(J(ae[V],ae[B])){const Z=C.Range.plusRange(Y[V],Y[B]),H=yield re(Z);Y.splice(B,1),Y.splice(V,1),Y.push(Z),ae.splice(B,1),ae.splice(V,1),ae.push(H),V=0,B=0}}for(let V of ae){if(G.token.isCancellationRequested)return!0;const B=yield x.computeMoreMinimalEdits(W.uri,V);B&&le.push(...B)}}finally{G.dispose()}if(le.length===0)return!1;if((0,v.isCodeEditor)(P))d.FormattingEdit.execute(P,le,!0),y(le),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1);else{const[{range:V}]=le,B=new s.Selection(V.startLineNumber,V.startColumn,V.endLineNumber,V.endColumn);W.pushEditOperations([B],le.map(Z=>({text:Z.text,range:C.Range.lift(Z.range),forceMoveMarkers:!0})),Z=>{for(const{range:H}of Z)if(C.Range.areIntersectingOrTouching(H,B))return[new s.Selection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=w;function D(A,O,P,F,E){return ke(this,void 0,void 0,function*(){const x=A.get(l.IInstantiationService),W=(0,v.isCodeEditor)(O)?O.getModel():O,G=b(W),Y=yield g.select(G,W,P);Y&&(F.report(Y),yield x.invokeFunction(k,Y,O,P,E))})}e.formatDocumentWithSelectedProvider=D;function k(A,O,P,F,E){return ke(this,void 0,void 0,function*(){const x=A.get(u.IEditorWorkerService);let W,G;(0,v.isCodeEditor)(P)?(W=P.getModel(),G=new p.EditorStateCancellationTokenSource(P,1|4,void 0,E)):(W=P,G=new p.TextModelCancellationTokenSource(P,E));let Y;try{const se=yield O.provideDocumentFormattingEdits(W,W.getFormattingOptions(),G.token);if(Y=yield x.computeMoreMinimalEdits(W.uri,se),G.token.isCancellationRequested)return!0}finally{G.dispose()}if(!Y||Y.length===0)return!1;if((0,v.isCodeEditor)(P))d.FormattingEdit.execute(P,Y,F!==2),F!==2&&(y(Y),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1));else{const[{range:se}]=Y,re=new s.Selection(se.startLineNumber,se.startColumn,se.endLineNumber,se.endColumn);W.pushEditOperations([re],Y.map(J=>({text:J.text,range:C.Range.lift(J.range),forceMoveMarkers:!0})),J=>{for(const{range:le}of J)if(C.Range.areIntersectingOrTouching(le,re))return[new s.Selection(le.startLineNumber,le.startColumn,le.endLineNumber,le.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=k;function T(A,O,P,F,E){return ke(this,void 0,void 0,function*(){const x=a.DocumentRangeFormattingEditProviderRegistry.ordered(O);for(const W of x){let G=yield Promise.resolve(W.provideDocumentRangeFormattingEdits(O,P,F,E)).catch(L.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(G))return yield A.computeMoreMinimalEdits(O.uri,G)}})}e.getDocumentRangeFormattingEditsUntilResult=T;function R(A,O,P,F){return ke(this,void 0,void 0,function*(){const E=b(O);for(const x of E){let W=yield Promise.resolve(x.provideDocumentFormattingEdits(O,P,F)).catch(L.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(W))return yield A.computeMoreMinimalEdits(O.uri,W)}})}e.getDocumentFormattingEditsUntilResult=R;function M(A,O,P,F,E){const x=a.OnTypeFormattingEditProviderRegistry.ordered(O);return x.length===0||x[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(x[0].provideOnTypeFormattingEdits(O,P,F,E,I.CancellationToken.None)).catch(L.onUnexpectedExternalError).then(W=>A.computeMoreMinimalEdits(O.uri,W))}e.getOnTypeFormattingEdits=M,o.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(A,...O){const[P,F,E]=O;(0,c.assertType)(S.URI.isUri(P)),(0,c.assertType)(C.Range.isIRange(F));const x=A.get(h.IModelService).getModel(P);if(!x)throw(0,L.illegalArgument)("resource");return T(A.get(u.IEditorWorkerService),x,C.Range.lift(F),E,I.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(A,...O){const[P,F]=O;(0,c.assertType)(S.URI.isUri(P));const E=A.get(h.IModelService).getModel(P);if(!E)throw(0,L.illegalArgument)("resource");return R(A.get(u.IEditorWorkerService),E,F,I.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(A,...O){const[P,F,E,x]=O;(0,c.assertType)(S.URI.isUri(P)),(0,c.assertType)(i.Position.isIPosition(F)),(0,c.assertType)(typeof E=="string");const W=A.get(h.IModelService).getModel(P);if(!W)throw(0,L.illegalArgument)("resource");return M(A.get(u.IEditorWorkerService),W,i.Position.lift(F),E,x)})}),define(te[650],ne([0,1,19,23,43,2,16,28,95,3,25,18,77,272,233,498,26,15,9,10,61]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class{constructor(m,w){this._workerService=w,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._editor=m,this._callOnDispose.add(m.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(m.onDidChangeModel(()=>this._update())),this._callOnDispose.add(m.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(47)||!this._editor.hasModel())return;const m=this._editor.getModel(),[w]=s.OnTypeFormattingEditProviderRegistry.ordered(m);if(!w||!w.autoFormatTriggerCharacters)return;let D=new v.CharacterSet;for(let k of w.autoFormatTriggerCharacters)D.add(k.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(k=>{let T=k.charCodeAt(k.length-1);D.has(T)&&this._trigger(String.fromCharCode(T))}))}_trigger(m){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;const w=this._editor.getModel(),D=this._editor.getPosition();let k=!1;const T=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){k=!0,T.dispose();return}for(let M=0,A=R.changes.length;M<A;M++)if(R.changes[M].range.endLineNumber<=D.lineNumber){k=!0,T.dispose();return}});(0,u.getOnTypeFormattingEdits)(this._workerService,w,D,m,w.getFormattingOptions()).then(R=>{T.dispose(),!k&&(0,_.isNonEmptyArray)(R)&&(h.FormattingEdit.execute(this._editor,R,!0),(0,u.alertFormattingEdits)(R))},R=>{throw T.dispose(),R})}};c.ID="editor.contrib.autoFormat",c=Re([me(1,a.IEditorWorkerService)],c);let f=class{constructor(m,w){this.editor=m,this._instantiationService=w,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(m.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(m.onDidChangeModel(()=>this._update())),this._callOnDispose.add(m.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(46)&&(!this.editor.hasModel()||!s.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:m})=>this._trigger(m))))}_trigger(m){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(u.formatDocumentRangesWithSelectedProvider,this.editor,m,2,o.Progress.None,N.CancellationToken.None).catch(t.onUnexpectedError)}};f.ID="editor.contrib.formatOnPaste",f=Re([me(1,l.IInstantiationService)],f);class y extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(C.EditorContextKeys.notInCompositeEditor,C.EditorContextKeys.writable,C.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(m,w){return ke(this,void 0,void 0,function*(){if(w.hasModel()){const D=m.get(l.IInstantiationService);yield m.get(o.IEditorProgressService).showWhile(D.invokeFunction(u.formatDocumentWithSelectedProvider,w,1,o.Progress.None,N.CancellationToken.None),250)}})}}class b extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:C.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(m,w){return ke(this,void 0,void 0,function*(){if(!w.hasModel())return;const D=m.get(l.IInstantiationService),k=w.getModel(),T=w.getSelections().map(M=>M.isEmpty()?new i.Range(M.startLineNumber,1,M.startLineNumber,k.getLineMaxColumn(M.startLineNumber)):M);yield m.get(o.IEditorProgressService).showWhile(D.invokeFunction(u.formatDocumentRangesWithSelectedProvider,w,T,1,o.Progress.None,N.CancellationToken.None),250)})}}(0,S.registerEditorContribution)(c.ID,c),(0,S.registerEditorContribution)(f.ID,f),(0,S.registerEditorAction)(y),(0,S.registerEditorAction)(b),r.CommandsRegistry.registerCommand("editor.action.format",g=>ke(void 0,void 0,void 0,function*(){const m=g.get(p.ICodeEditorService).getFocusedCodeEditor();if(!m||!m.hasModel())return;const w=g.get(r.ICommandService);m.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(te[273],ne([0,1,23,10,16,18,119]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function p(h,d,r,n){const t=r.ordered(h).map(o=>Promise.resolve(n(o,h,d)).then(void 0,c=>{(0,N.onUnexpectedExternalError)(c)}));return Promise.all(t).then(o=>{const c=[];for(let f of o)Array.isArray(f)?c.push(...f):f&&c.push(f);return c})}function v(h,d,r){return p(h,d,L.DefinitionProviderRegistry,(n,l,t)=>n.provideDefinition(l,t,r))}e.getDefinitionsAtPosition=v;function i(h,d,r){return p(h,d,L.DeclarationProviderRegistry,(n,l,t)=>n.provideDeclaration(l,t,r))}e.getDeclarationsAtPosition=i;function C(h,d,r){return p(h,d,L.ImplementationProviderRegistry,(n,l,t)=>n.provideImplementation(l,t,r))}e.getImplementationsAtPosition=C;function s(h,d,r){return p(h,d,L.TypeDefinitionProviderRegistry,(n,l,t)=>n.provideTypeDefinition(l,t,r))}e.getTypeDefinitionsAtPosition=s;function a(h,d,r,n){return p(h,d,L.ReferenceProviderRegistry,(l,t,o)=>ke(this,void 0,void 0,function*(){const c=yield l.provideReferences(t,o,{includeDeclaration:!0},n);if(!r||!c||c.length!==2)return c;const f=yield l.provideReferences(t,o,{includeDeclaration:!1},n);return f&&f.length===1?f:c}))}e.getReferencesAtPosition=a;function u(h){return ke(this,void 0,void 0,function*(){const d=yield h(),r=new S.ReferencesModel(d,""),n=r.references.map(l=>l.link);return r.dispose(),n})}(0,I.registerModelAndPositionCommand)("_executeDefinitionProvider",(h,d)=>u(()=>v(h,d,_.CancellationToken.None))),(0,I.registerModelAndPositionCommand)("_executeDeclarationProvider",(h,d)=>u(()=>i(h,d,_.CancellationToken.None))),(0,I.registerModelAndPositionCommand)("_executeImplementationProvider",(h,d)=>u(()=>C(h,d,_.CancellationToken.None))),(0,I.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(h,d)=>u(()=>s(h,d,_.CancellationToken.None))),(0,I.registerModelAndPositionCommand)("_executeReferenceProvider",(h,d)=>u(()=>a(h,d,!1,_.CancellationToken.None)))}),define(te[651],ne([0,1,15,9,76,80,16,28,3,2,6,507,39,34,44]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new _.RawContextKey("hasSymbols",!1,(0,s.localize)(0,null)),e.ISymbolNavigationService=(0,N.createDecorator)("ISymbolNavigationService");let d=class{constructor(l,t,o,c){this._editorService=t,this._notificationService=o,this._keybindingService=c,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(l)}reset(){var l,t;this._ctxHasSymbols.reset(),(l=this._currentState)===null||l===void 0||l.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(l){const t=l.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(l),this._ctxHasSymbols.set(!0),this._showMessage();const o=new r(this._editorService),c=o.onDidChange(f=>{if(this._ignoreEditorChange)return;const y=this._editorService.getActiveCodeEditor();if(!y)return;const b=y.getModel(),g=y.getPosition();if(!b||!g)return;let m=!1,w=!1;for(const D of t.references)if((0,h.isEqual)(D.uri,b.uri))m=!0,w=w||v.Range.containsPosition(D.range,g);else if(m)break;(!m||!w)&&this.reset()});this._currentState=(0,i.combinedDisposable)(o,c)}revealNext(l){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:v.Range.collapseToStart(t.range),selectionRevealType:3}},l).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var l;(l=this._currentMessage)===null||l===void 0||l.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=t?(0,s.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,s.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};d=Re([me(0,_.IContextKeyService),me(1,p.ICodeEditorService),me(2,u.INotificationService),me(3,a.IKeybindingService)],d),(0,I.registerSingleton)(e.ISymbolNavigationService,d,!0),(0,S.registerEditorCommand)(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,l){return n.get(e.ISymbolNavigationService).revealNext(l)}}),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(l){this._listener=new Map,this._disposables=new i.DisposableStore,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(l.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(l.onCodeEditorAdd(this._onDidAddEditor,this)),l.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,i.dispose)(this._listener.values())}_onDidAddEditor(l){this._listener.set(l,(0,i.combinedDisposable)(l.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:l})),l.onDidChangeModelContent(t=>this._onDidChange.fire({editor:l}))))}_onDidRemoveEditor(l){var t;(t=this._listener.get(l))===null||t===void 0||t.dispose(),this._listener.delete(l)}};r=Re([me(0,p.ICodeEditorService)],r)}),define(te[652],ne([0,1,2,3,23,256,271,29,418,620,12]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class s{constructor(h,d,r,n){this.owner=h,this.range=d,this.model=r,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.ColorHover=s;let a=class{constructor(h,d,r){this._editor=h,this._hover=d,this._themeService=r}computeSync(h,d){return[]}computeAsync(h,d,r){return ke(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=S.ColorDetector.get(this._editor);for(const l of d){const t=n.getColorData(l.range.getStartPosition());if(t)return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}return[]})}_createColorHover(h,d,r){return ke(this,void 0,void 0,function*(){const n=h.getValueInRange(d.range),{red:l,green:t,blue:o,alpha:c}=d.color,f=new p.RGBA(Math.round(l*255),Math.round(t*255),Math.round(o*255),c),y=new p.Color(f),b=yield(0,L.getColorPresentations)(h,d,r,I.CancellationToken.None),g=new v.ColorPickerModel(y,[],0);return g.colorPresentations=b||[],g.guessColorPresentation(y,n),new s(this,N.Range.lift(d.range),g,r)})}renderHoverParts(h,d,r){if(h.length===0||!this._editor.hasModel())return _.Disposable.None;const n=new _.DisposableStore,l=h[0],t=this._editor.getModel(),o=l.model,c=n.add(new i.ColorPickerWidget(d,o,this._editor.getOption(128),this._themeService));let f=new N.Range(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);const y=()=>{let g,m;if(o.presentation.textEdit){g=[o.presentation.textEdit],m=new N.Range(o.presentation.textEdit.range.startLineNumber,o.presentation.textEdit.range.startColumn,o.presentation.textEdit.range.endLineNumber,o.presentation.textEdit.range.endColumn);const w=this._editor.getModel()._setTrackedRange(null,m,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",g),m=this._editor.getModel()._getTrackedRange(w)||m}else g=[{identifier:null,range:f,text:o.presentation.label,forceMoveMarkers:!1}],m=f.setEndPosition(f.endLineNumber,f.startColumn+o.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",g);o.presentation.additionalTextEdits&&(g=[...o.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",g),this._hover.hide()),this._editor.pushUndoStop(),f=m},b=g=>(0,L.getColorPresentations)(t,{range:f,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},l.provider,I.CancellationToken.None).then(m=>{o.colorPresentations=m||[]});return n.add(o.onColorFlushed(g=>{b(g).then(y)})),n.add(o.onDidChangeColor(b)),this._hover.setColorPicker(c),n}};a=Re([me(2,C.IThemeService)],a),e.ColorHoverParticipant=a}),define(te[653],ne([0,1,19,23,10,16,18]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function p(i,C,s){const u=S.HoverProviderRegistry.ordered(i).map(h=>Promise.resolve(h.provideHover(i,C,s)).then(d=>d&&v(d)?d:void 0,d=>{(0,I.onUnexpectedExternalError)(d)}));return Promise.all(u).then(_.coalesce)}e.getHover=p,(0,L.registerModelAndPositionCommand)("_executeHoverProvider",(i,C)=>p(i,C,N.CancellationToken.None));function v(i){const C=typeof i.range!="undefined",s=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return C&&s}}),define(te[654],ne([0,1,509,7,75,2,3,123,19,57,56,18,653,13,40]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const d=N.$;class r{constructor(t,o,c){this.owner=t,this.range=o,this.contents=c}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}e.MarkdownHover=r;let n=class{constructor(t,o,c,f,y){this._editor=t,this._hover=o,this._modeService=c,this._openerService=f,this._configurationService=y}createLoadingMessage(t){return new r(this,t.range,[new I.MarkdownString().appendText(_.localize(0,null))])}computeSync(t,o){if(!this._editor.hasModel()||t.type!==1)return[];const c=this._editor.getModel(),f=t.range.startLineNumber,y=c.getLineMaxColumn(f),b=[];for(const w of o){const D=w.range.startLineNumber===f?w.range.startColumn:1,k=w.range.endLineNumber===f?w.range.endColumn:y,T=w.options.hoverMessage;if(!T||(0,I.isEmptyMarkdownString)(T))continue;const R=new S.Range(t.range.startLineNumber,D,t.range.startLineNumber,k);b.push(new r(this,R,(0,v.asArray)(T)))}const g=this._editor.getModel().getLineLength(f),m=this._configurationService.getValue("editor.maxTokenizationLineLength");return typeof m=="number"&&g>=m&&b.push(new r(this,new S.Range(f,1,f,g+1),[{value:_.localize(1,null)}])),b}computeAsync(t,o,c){return ke(this,void 0,void 0,function*(){if(!this._editor.hasModel()||t.type!==1)return Promise.resolve([]);const f=this._editor.getModel();if(!s.HoverProviderRegistry.has(f))return Promise.resolve([]);const y=yield(0,a.getHover)(f,new u.Position(t.range.startLineNumber,t.range.startColumn),c),b=[];for(const g of y){if((0,I.isEmptyMarkdownString)(g.contents))continue;const m=g.range?S.Range.lift(g.range):t.range;b.push(new r(this,m,g.contents))}return b})}renderHoverParts(t,o,c){const f=new L.DisposableStore;for(const y of t)for(const b of y.contents){if((0,I.isEmptyMarkdownString)(b))continue;const g=d("div.hover-row.markdown-hover"),m=N.append(g,d("div.hover-contents")),w=f.add(new p.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));f.add(w.onDidRenderAsync(()=>{m.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const D=f.add(w.render(b));m.appendChild(D.element),o.appendChild(g)}return f}};n=Re([me(2,C.IModeService),me(3,i.IOpenerService),me(4,h.IConfigurationService)],n),e.MarkdownHoverParticipant=n}),define(te[655],ne([0,1,511,3,21,25,16,77,427,66,12,46,31,14,10]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class wt{constructor(t,o){this.decorationIds=[],this.editor=t,this.editorWorkerService=o}static get(t){return t.getContribution(wt.ID)}dispose(){}run(t,o){this.currentRequest&&this.currentRequest.cancel();const c=this.editor.getSelection(),f=this.editor.getModel();if(!f||!c)return;let y=c;if(y.startLineNumber!==y.endLineNumber)return;const b=new i.EditorState(this.editor,1|4),g=f.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,u.createCancelablePromise)(m=>this.editorWorkerService.navigateValueSet(g,y,o)),this.currentRequest.then(m=>{if(!m||!m.range||!m.value||!b.validate(this.editor))return;let w=N.Range.lift(m.range),D=m.range,k=m.value.length-(y.endColumn-y.startColumn);D={startLineNumber:D.startLineNumber,startColumn:D.startColumn,endLineNumber:D.endLineNumber,endColumn:D.startColumn+m.value.length},k>1&&(y=new I.Selection(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn+k-1));const T=new v.InPlaceReplaceCommand(w,y,m.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,T),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:D,options:wt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,u.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(h.onUnexpectedError)}).catch(h.onUnexpectedError)):Promise.resolve(void 0)}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=a.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),d=Re([me(1,p.IEditorWorkerService)],d);class r extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_.localize(0,null),alias:"Replace with Previous Value",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,o){const c=d.get(o);return c?c.run(this.id,!0):Promise.resolve(void 0)}}class n extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_.localize(1,null),alias:"Replace with Next Value",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,o){const c=d.get(o);return c?c.run(this.id,!1):Promise.resolve(void 0)}}(0,S.registerEditorContribution)(d.ID,d),(0,S.registerEditorAction)(r),(0,S.registerEditorAction)(n),(0,C.registerThemingParticipant)((l,t)=>{const o=l.getColor(s.editorBracketMatchBorder);o&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${o}; }`)})}),define(te[656],ne([0,1,512,2,8,16,191,59,3,21,25,31,36,38,237,79]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function r(T,R,M,A){if(T.getLineCount()===1&&T.getLineMaxColumn(1)===1)return[];let O=a.LanguageConfigurationRegistry.getIndentationRules(T.getLanguageIdentifier().id);if(!O)return[];for(M=Math.min(M,T.getLineCount());R<=M&&O.unIndentedLinePattern;){let le=T.getLineContent(R);if(!O.unIndentedLinePattern.test(le))break;R++}if(R>M-1)return[];const{tabSize:P,indentSize:F,insertSpaces:E}=T.getOptions(),x=(le,ae)=>(ae=ae||1,S.ShiftCommand.shiftIndent(le,le.length+ae,P,F,E)),W=(le,ae)=>(ae=ae||1,S.ShiftCommand.unshiftIndent(le,le.length+ae,P,F,E));let G=[],Y,se=T.getLineContent(R),re=se;if(A!=null){Y=A;let le=I.getLeadingWhitespace(se);re=Y+se.substring(le.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(re)&&(Y=W(Y),re=Y+se.substring(le.length)),se!==re&&G.push(p.EditOperation.replaceMove(new i.Selection(R,1,R,le.length+1),s.TextModel.normalizeIndentation(Y,F,E)))}else Y=I.getLeadingWhitespace(se);let J=Y;O.increaseIndentPattern&&O.increaseIndentPattern.test(re)?(J=x(J),Y=x(Y)):O.indentNextLinePattern&&O.indentNextLinePattern.test(re)&&(J=x(J)),R++;for(let le=R;le<=M;le++){let ae=T.getLineContent(le),V=I.getLeadingWhitespace(ae),B=J+ae.substring(V.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(B)&&(J=W(J),Y=W(Y)),V!==J&&G.push(p.EditOperation.replaceMove(new i.Selection(le,1,le,V.length+1),s.TextModel.normalizeIndentation(J,F,E))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(ae))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(B)?(Y=x(Y),J=Y):O.indentNextLinePattern&&O.indentNextLinePattern.test(B)?J=x(J):J=Y)}return G}e.getReindentEditOperations=r;class n extends L.EditorAction{constructor(){super({id:n.ID,label:_.localize(0,null),alias:"Convert Indentation to Spaces",precondition:C.EditorContextKeys.writable})}run(R,M){let A=M.getModel();if(!A)return;let O=A.getOptions(),P=M.getSelection();if(!P)return;const F=new D(P,O.tabSize);M.pushUndoStop(),M.executeCommands(this.id,[F]),M.pushUndoStop(),A.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class l extends L.EditorAction{constructor(){super({id:l.ID,label:_.localize(1,null),alias:"Convert Indentation to Tabs",precondition:C.EditorContextKeys.writable})}run(R,M){let A=M.getModel();if(!A)return;let O=A.getOptions(),P=M.getSelection();if(!P)return;const F=new k(P,O.tabSize);M.pushUndoStop(),M.executeCommands(this.id,[F]),M.pushUndoStop(),A.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=l,l.ID="editor.action.indentationToTabs";class t extends L.EditorAction{constructor(R,M){super(M);this.insertSpaces=R}run(R,M){const A=R.get(d.IQuickInputService),O=R.get(u.IModelService);let P=M.getModel();if(!P)return;let F=O.getCreationOptions(P.getLanguageIdentifier().language,P.uri,P.isForSimpleWidget);const E=[1,2,3,4,5,6,7,8].map(W=>({id:W.toString(),label:W.toString(),description:W===F.tabSize?_.localize(2,null):void 0})),x=Math.min(P.getOptions().tabSize-1,7);setTimeout(()=>{A.pick(E,{placeHolder:_.localize(3,null),activeItem:E[x]}).then(W=>{W&&P&&!P.isDisposed()&&P.updateOptions({tabSize:parseInt(W.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=t;class o extends t{constructor(){super(!1,{id:o.ID,label:_.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=o,o.ID="editor.action.indentUsingTabs";class c extends t{constructor(){super(!0,{id:c.ID,label:_.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=c,c.ID="editor.action.indentUsingSpaces";class f extends L.EditorAction{constructor(){super({id:f.ID,label:_.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(R,M){const A=R.get(u.IModelService);let O=M.getModel();if(!O)return;let P=A.getCreationOptions(O.getLanguageIdentifier().language,O.uri,O.isForSimpleWidget);O.detectIndentation(P.insertSpaces,P.tabSize)}}e.DetectIndentation=f,f.ID="editor.action.detectIndentation";class y extends L.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:_.localize(7,null),alias:"Reindent Lines",precondition:C.EditorContextKeys.writable})}run(R,M){let A=M.getModel();if(!A)return;let O=r(A,1,A.getLineCount());O.length>0&&(M.pushUndoStop(),M.executeEdits(this.id,O),M.pushUndoStop())}}e.ReindentLinesAction=y;class b extends L.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:_.localize(8,null),alias:"Reindent Selected Lines",precondition:C.EditorContextKeys.writable})}run(R,M){let A=M.getModel();if(!A)return;let O=M.getSelections();if(O===null)return;let P=[];for(let F of O){let E=F.startLineNumber,x=F.endLineNumber;if(E!==x&&F.endColumn===1&&x--,E===1){if(E===x)continue}else E--;let W=r(A,E,x);P.push(...W)}P.length>0&&(M.pushUndoStop(),M.executeEdits(this.id,P),M.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class g{constructor(R,M){this._initialSelection=M,this._edits=[],this._selectionId=null;for(let A of R)A.range&&typeof A.text=="string"&&this._edits.push(A)}getEditOperations(R,M){for(let O of this._edits)M.addEditOperation(v.Range.lift(O.range),O.text);let A=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(A=!0,this._selectionId=M.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(A=!0,this._selectionId=M.trackSelection(this._initialSelection,!1))),A||(this._selectionId=M.trackSelection(this._initialSelection))}computeCursorState(R,M){return M.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=g;class m{constructor(R){this.callOnDispose=new N.DisposableStore,this.callOnModel=new N.DisposableStore,this.editor=R,this.callOnDispose.add(R.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(R.onDidChangeModel(()=>this.update())),this.callOnDispose.add(R.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(46))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:R})=>{this.trigger(R)})))}trigger(R){let M=this.editor.getSelections();if(M===null||M.length>1)return;const A=this.editor.getModel();if(!A||!A.isCheapToTokenize(R.getStartPosition().lineNumber))return;const O=this.editor.getOption(9),{tabSize:P,indentSize:F,insertSpaces:E}=A.getOptions();let x=[],W={shiftIndent:re=>S.ShiftCommand.shiftIndent(re,re.length+1,P,F,E),unshiftIndent:re=>S.ShiftCommand.unshiftIndent(re,re.length+1,P,F,E)},G=R.startLineNumber;for(;G<=R.endLineNumber;){if(this.shouldIgnoreLine(A,G)){G++;continue}break}if(G>R.endLineNumber)return;let Y=A.getLineContent(G);if(!/\S/.test(Y.substring(0,R.startColumn-1))){let re=a.LanguageConfigurationRegistry.getGoodIndentForLine(O,A,A.getLanguageIdentifier().id,G,W);if(re!==null){let J=I.getLeadingWhitespace(Y),le=h.getSpaceCnt(re,P),ae=h.getSpaceCnt(J,P);if(le!==ae){let V=h.generateIndent(le,P,E);x.push({range:new v.Range(G,1,G,J.length+1),text:V}),Y=V+Y.substr(J.length)}else{let V=a.LanguageConfigurationRegistry.getIndentMetadata(A,G);if(V===0||V===8)return}}}const se=G;for(;G<R.endLineNumber;){if(!/\S/.test(A.getLineContent(G+1))){G++;continue}break}if(G!==R.endLineNumber){let re={getLineTokens:le=>A.getLineTokens(le),getLanguageIdentifier:()=>A.getLanguageIdentifier(),getLanguageIdAtPosition:(le,ae)=>A.getLanguageIdAtPosition(le,ae),getLineContent:le=>le===se?Y:A.getLineContent(le)},J=a.LanguageConfigurationRegistry.getGoodIndentForLine(O,re,A.getLanguageIdentifier().id,G+1,W);if(J!==null){let le=h.getSpaceCnt(J,P),ae=h.getSpaceCnt(I.getLeadingWhitespace(A.getLineContent(G+1)),P);if(le!==ae){let V=le-ae;for(let B=G+1;B<=R.endLineNumber;B++){let Z=A.getLineContent(B),H=I.getLeadingWhitespace(Z),ie=h.getSpaceCnt(H,P)+V,ce=h.generateIndent(ie,P,E);ce!==H&&x.push({range:new v.Range(B,1,B,H.length+1),text:ce})}}}}if(x.length>0){this.editor.pushUndoStop();let re=new g(x,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",re),this.editor.pushUndoStop()}}shouldIgnoreLine(R,M){R.forceTokenization(M);let A=R.getLineFirstNonWhitespaceColumn(M);if(A===0)return!0;let O=R.getLineTokens(M);if(O.getCount()>0){let P=O.findTokenIndexAtOffset(A);if(P>=0&&O.getStandardTokenType(P)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=m,m.ID="editor.contrib.autoIndentOnPaste";function w(T,R,M,A){if(T.getLineCount()===1&&T.getLineMaxColumn(1)===1)return;let O="";for(let F=0;F<M;F++)O+=" ";let P=new RegExp(O,"gi");for(let F=1,E=T.getLineCount();F<=E;F++){let x=T.getLineFirstNonWhitespaceColumn(F);if(x===0&&(x=T.getLineMaxColumn(F)),x===1)continue;const W=new v.Range(F,1,F,x),G=T.getValueInRange(W),Y=A?G.replace(/\t/ig,O):G.replace(P,"	");R.addEditOperation(W,Y)}}class D{constructor(R,M){this.selection=R,this.tabSize=M,this.selectionId=null}getEditOperations(R,M){this.selectionId=M.trackSelection(this.selection),w(R,M,this.tabSize,!0)}computeCursorState(R,M){return M.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=D;class k{constructor(R,M){this.selection=R,this.tabSize=M,this.selectionId=null}getEditOperations(R,M){this.selectionId=M.trackSelection(this.selection),w(R,M,this.tabSize,!1)}computeCursorState(R,M){return M.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=k,(0,L.registerEditorContribution)(m.ID,m),(0,L.registerEditorAction)(n),(0,L.registerEditorAction)(l),(0,L.registerEditorAction)(o),(0,L.registerEditorAction)(c),(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(y),(0,L.registerEditorAction)(b)}),define(te[657],ne([0,1,14,10,93,2,16,28,18,19,22,23,12,3,142,26,24,20,68,13,40]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const c=500;function f(g,m,w){return ke(this,void 0,void 0,function*(){const D=[],k=v.InlayHintsProviderRegistry.ordered(g).reverse(),T=(0,i.flatten)(k.map(R=>m.map(M=>Promise.resolve(R.provideInlayHints(g,M,w)).then(A=>{const O=A==null?void 0:A.filter(P=>M.containsPosition(P.position));(O==null?void 0:O.length)&&D.push({list:O,provider:R})},A=>{(0,N.onUnexpectedExternalError)(A)}))));return yield Promise.all(T),D})}e.getInlayHints=f;let y=class{constructor(m,w,D,k){this._editor=m,this._codeEditorService=w,this._themeService=D,this._configurationService=k,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._getInlayHintsDelays=new h.LanguageFeatureRequestDelays(v.InlayHintsProviderRegistry,25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(v.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(D.onDidColorThemeChange(()=>this._update())),this._disposables.add(m.onDidChangeModel(()=>this._update())),this._disposables.add(m.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(m.onDidChangeConfiguration(T=>{T.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(126).enabled){this._removeAllDecorations();return}const m=this._editor.getModel();if(!m||!v.InlayHintsProviderRegistry.has(m)){this._removeAllDecorations();return}const w=new _.RunOnceScheduler(()=>ke(this,void 0,void 0,function*(){const k=Date.now(),T=new s.CancellationTokenSource;this._sessionDisposables.add((0,L.toDisposable)(()=>T.dispose(!0)));const R=this._editor.getVisibleRangesPlusViewportAboveBelow(),M=yield f(m,R,T.token),A=this._getInlayHintsDelays.update(m,Date.now()-k);w.delay=A,this._updateHintsDecorators(M)}),this._getInlayHintsDelays.get(m));this._sessionDisposables.add(w),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>w.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>w.schedule())),w.schedule();const D=new L.DisposableStore;this._sessionDisposables.add(D);for(const k of v.InlayHintsProviderRegistry.all(m))typeof k.onDidChangeInlayHints=="function"&&D.add(k.onDidChangeInlayHints(()=>w.schedule()))}_updateHintsDecorators(m){const{fontSize:w,fontFamily:D}=this._getLayoutInfo(),k=this._themeService.getColorTheme().getColor(C.editorInlayHintBackground),T=this._themeService.getColorTheme().getColor(C.editorInlayHintForeground),R=[],M=[],A="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(A,D);const O=this._configurationService.getValue("editor.useInjectedText"),P=O===void 0?!0:!!O;for(const{list:F}of m)for(let E=0;E<F.length&&M.length<c;E++){const{text:x,position:W,whitespaceBefore:G,whitespaceAfter:Y}=F[E],se=G?w/3|0:0,re=Y?w/3|0:0,le={contentText:b(x),backgroundColor:`${k}`,color:`${T}`,margin:`0px ${re}px 0px ${se}px`,fontSize:`${w}px`,fontFamily:`var(${A})`,padding:`0px ${w/4|0}px`,borderRadius:`${w/4|0}px`,verticalAlign:"middle"},ae="inlayHints-"+(0,I.hash)(le).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",ae,P?{beforeInjectedText:Object.assign(Object.assign({},le),{affectsLetterSpacing:!0})}:{before:le},void 0,this._editor),R.push(ae);const V=this._codeEditorService.resolveDecorationOptions(ae,!0);M.push({range:u.Range.fromPositions(W),options:V})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=R,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,M)}_getLayoutInfo(){const m=this._editor.getOption(126),w=this._editor.getOption(44);let D=m.fontSize;(!D||D<5||D>w)&&(D=w*.9|0);const k=m.fontFamily||this._editor.getOption(41);return{fontSize:D,fontFamily:k}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};y.ID="editor.contrib.InlayHints",y=Re([me(1,p.ICodeEditorService),me(2,a.IThemeService),me(3,o.IConfigurationService)],y),e.InlayHintsController=y;function b(g){const m="\xA0";return g.replace(/[ \t]/g,m)}(0,S.registerEditorContribution)(y.ID,y),d.CommandsRegistry.registerCommand("_executeInlayHintProvider",(g,...m)=>ke(void 0,void 0,void 0,function*(){const[w,D]=m;(0,n.assertType)(r.URI.isUri(w)),(0,n.assertType)(u.Range.isIRange(D));const k=yield g.get(l.ITextModelService).createModelReference(w);try{const T=yield f(k.object.textEditorModel,[u.Range.lift(D)],s.CancellationToken.None);return(0,i.flatten)(T.map(R=>R.list)).sort((R,M)=>t.Position.compare(R.position,M.position))}finally{k.dispose()}}))}),define(te[274],ne([0,1,14,23,10,6,2,3,18,59,26,16,150,182,239,238]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let r=class extends S.Disposable{constructor(b,g,m){super();this.editor=b,this.cache=g,this.commandService=m,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new S.MutableDisposable),this.active=!1,this.disposed=!1,this._register(m.onDidExecuteCommand(w=>{new Set([s.UndoCommand.id,s.RedoCommand.id,a.CoreEditingCommands.Tab.id,a.CoreEditingCommands.DeleteLeft.id,a.CoreEditingCommands.DeleteRight.id,d.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(w.commandId)&&b.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(w=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(w=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,S.toDisposable)(()=>{this.disposed=!0}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var b;return(b=this.session)===null||b===void 0?void 0:b.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(b){var g;(g=this.session)===null||g===void 0||g.setExpanded(b)}setActive(b){var g;this.active=b,b&&((g=this.session)===null||g===void 0||g.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(54).enabled||this.session&&this.session.isValid||this.trigger(v.InlineCompletionTriggerKind.Automatic)}trigger(b){if(this.completionSession.value){b===v.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new n(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,b),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var b;(b=this.session)===null||b===void 0||b.commitCurrentCompletion()}showNext(){var b;(b=this.session)===null||b===void 0||b.showNextInlineCompletion()}showPrevious(){var b;(b=this.session)===null||b===void 0||b.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var b;return ke(this,void 0,void 0,function*(){const g=yield(b=this.session)===null||b===void 0?void 0:b.hasMultipleInlineCompletions();return g!==void 0?g:!1})}};r=Re([me(2,C.ICommandService)],r),e.InlineCompletionsModel=r;class n extends u.BaseGhostTextWidgetModel{constructor(b,g,m,w,D,k){super(b);this.triggerPosition=g,this.shouldUpdate=m,this.commandService=w,this.cache=D,this.initialTriggerKind=k,this.minReservedLineCount=0,this.updateOperation=this._register(new S.MutableDisposable),this.updateSoon=this._register(new _.RunOnceScheduler(()=>{let R=this.initialTriggerKind;return this.initialTriggerKind=v.InlineCompletionTriggerKind.Automatic,this.update(R)},50)),this.currentlySelectedCompletionId=void 0;let T;this._register(this.onDidChange(()=>{const R=this.currentCompletion;if(R&&R.sourceInlineCompletion!==T){T=R.sourceInlineCompletion;const M=R.sourceProvider;M.handleItemDidShow&&M.handleItemDidShow(R.sourceInlineCompletions,T)}})),this._register((0,S.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(R=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(R=>{this.scheduleAutomaticUpdate()})),this._register(v.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const b=this.cache.value.completions.findIndex(g=>g.semanticId===this.currentlySelectedCompletionId);return b===-1?(this.currentlySelectedCompletionId=void 0,0):b}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var b;return ke(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const g=((b=this.cache.value)===null||b===void 0?void 0:b.completions)||[];if(g.length>0){const m=(this.fixAndGetIndexOfCurrentSelection()+1)%g.length;this.currentlySelectedCompletionId=g[m].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var b;return ke(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const g=((b=this.cache.value)===null||b===void 0?void 0:b.completions)||[];if(g.length>0){const m=(this.fixAndGetIndexOfCurrentSelection()+g.length-1)%g.length;this.currentlySelectedCompletionId=g[m].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var b;return ke(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===v.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(v.InlineCompletionTriggerKind.Explicit):((b=this.cache.value)===null||b===void 0?void 0:b.triggerKind)!==v.InlineCompletionTriggerKind.Explicit&&(yield this.update(v.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var b;return ke(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((b=this.cache.value)===null||b===void 0?void 0:b.completions.length)||0)>1})}get ghostText(){const b=this.currentCompletion,g=this.editor.getOptions().get(54).mode;return b?(0,h.inlineCompletionToGhostText)(b,this.editor.getModel(),g,this.editor.getPosition()):void 0}get currentCompletion(){const b=this.currentCachedCompletion;if(!!b)return b.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(b){return ke(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const g=this.editor.getPosition(),m=(0,_.createCancelablePromise)(D=>ke(this,void 0,void 0,function*(){let k;try{k=yield f(g,this.editor.getModel(),{triggerKind:b,selectedSuggestionInfo:void 0},D)}catch(T){(0,I.onUnexpectedError)(T);return}D.isCancellationRequested||(this.cache.setValue(this.editor,k,b),this.onDidChangeEmitter.fire())})),w=new l(m,b);this.updateOperation.value=w,yield m,this.updateOperation.value===w&&this.updateOperation.clear()})}takeOwnership(b){this._register(b)}commitCurrentCompletion(){if(!this.ghostText)return;const b=this.currentCompletion;b&&this.commit(b)}commit(b){const g=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[i.EditOperation.replaceMove(b.range,b.text)]),b.command?this.commandService.executeCommand(b.command.id,...b.command.arguments||[]).finally(()=>{g==null||g.dispose()}).then(void 0,I.onUnexpectedExternalError):g==null||g.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=n;class l{constructor(b,g){this.promise=b,this.triggerKind=g}dispose(){this.promise.cancel()}}e.UpdateOperation=l;class t extends S.Disposable{constructor(b,g,m,w){super();this.triggerKind=w;const D=b.deltaDecorations([],g.items.map(k=>({range:k.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,S.toDisposable)(()=>{b.deltaDecorations(D,[])})),this.completions=g.items.map((k,T)=>new o(k,D[T])),this._register(b.onDidChangeModelContent(()=>{let k=!1;const T=b.getModel();for(const R of this.completions){const M=T.getDecorationRange(R.decorationId);if(!M){(0,I.onUnexpectedError)(new Error("Decoration has no range"));continue}R.synchronizedRange.equalsRange(M)||(k=!0,R.synchronizedRange=M)}k&&m()})),this._register(g)}}e.SynchronizedInlineCompletionsCache=t;class o{constructor(b,g){this.inlineCompletion=b,this.decorationId=g,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=b.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function c(y,b){const g=b.getWordAtPosition(y),m=b.getLineMaxColumn(y.lineNumber);return g?new p.Range(y.lineNumber,g.startColumn,y.lineNumber,m):p.Range.fromPositions(y,y.with(void 0,m))}function f(y,b,g,m=N.CancellationToken.None){return ke(this,void 0,void 0,function*(){const w=c(y,b),D=v.InlineCompletionsProviderRegistry.all(b),k=yield Promise.all(D.map(R=>ke(this,void 0,void 0,function*(){const M=yield R.provideInlineCompletions(b,y,g,m);return{completions:M,provider:R,dispose:()=>{M&&R.freeInlineCompletions(M)}}}))),T=new Map;for(const R of k){const M=R.completions;if(M)for(const A of M.items.map(O=>({text:O.text,range:O.range?p.Range.lift(O.range):w,command:O.command,sourceProvider:R.provider,sourceInlineCompletions:M,sourceInlineCompletion:O})))A.range.startLineNumber===A.range.endLineNumber&&T.set(JSON.stringify({text:A.text,range:A.range}),A)}return{items:[...T.values()],dispose:()=>{for(const R of k)R.dispose()}}})}e.provideInlineCompletions=f}),define(te[658],ne([0,1,515,43,150,16,96,382,195,59,13,3,21,25,429,627,430,33]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class l extends L.EditorAction{constructor(ae,V){super(V);this.down=ae}run(ae,V){if(!V.hasModel())return;const B=V.getSelections().map((z,ie)=>({selection:z,index:ie,ignore:!1}));B.sort((z,ie)=>s.Range.compareRangesUsingStarts(z.selection,ie.selection));let Z=B[0];for(let z=1;z<B.length;z++){const ie=B[z];Z.selection.endLineNumber===ie.selection.startLineNumber&&(Z.index<ie.index?ie.ignore=!0:(Z.ignore=!0,Z=ie))}const H=[];for(const z of B)H.push(new h.CopyLinesCommand(z.selection,this.down,z.ignore));V.pushUndoStop(),V.executeCommands(this.id,H),V.pushUndoStop()}}class t extends l{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_.localize(0,null),alias:"Copy Line Up",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(1,null),order:1}})}}class o extends l{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_.localize(2,null),alias:"Copy Line Down",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(3,null),order:2}})}}class c extends L.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:_.localize(4,null),alias:"Duplicate Selection",precondition:u.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(5,null),order:5}})}run(ae,V,B){if(!V.hasModel())return;const Z=[],H=V.getSelections(),z=V.getModel();for(const ie of H)if(ie.isEmpty())Z.push(new h.CopyLinesCommand(ie,!0));else{const ce=new a.Selection(ie.endLineNumber,ie.endColumn,ie.endLineNumber,ie.endColumn);Z.push(new S.ReplaceCommandThatSelectsText(ce,z.getValueInRange(ie)))}V.pushUndoStop(),V.executeCommands(this.id,Z),V.pushUndoStop()}}e.DuplicateSelectionAction=c;class f extends L.EditorAction{constructor(ae,V){super(V);this.down=ae}run(ae,V){let B=[],Z=V.getSelections()||[];const H=V.getOption(9);for(const z of Z)B.push(new d.MoveLinesCommand(z,this.down,H));V.pushUndoStop(),V.executeCommands(this.id,B),V.pushUndoStop()}}class y extends f{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_.localize(6,null),alias:"Move Line Up",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(7,null),order:3}})}}class b extends f{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_.localize(8,null),alias:"Move Line Down",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(9,null),order:4}})}}class g extends L.EditorAction{constructor(ae,V){super(V);this.descending=ae}run(ae,V){const B=V.getSelections()||[];for(const H of B)if(!r.SortLinesCommand.canRun(V.getModel(),H,this.descending))return;let Z=[];for(let H=0,z=B.length;H<z;H++)Z[H]=new r.SortLinesCommand(B[H],this.descending);V.pushUndoStop(),V.executeCommands(this.id,Z),V.pushUndoStop()}}e.AbstractSortLinesAction=g;class m extends g{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_.localize(10,null),alias:"Sort Lines Ascending",precondition:u.EditorContextKeys.writable})}}e.SortLinesAscendingAction=m;class w extends g{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_.localize(11,null),alias:"Sort Lines Descending",precondition:u.EditorContextKeys.writable})}}e.SortLinesDescendingAction=w;class D extends L.EditorAction{constructor(){super({id:D.ID,label:_.localize(12,null),alias:"Trim Trailing Whitespace",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|54),weight:100}})}run(ae,V,B){let Z=[];B.reason==="auto-save"&&(Z=(V.getSelections()||[]).map(ie=>new C.Position(ie.positionLineNumber,ie.positionColumn)));let H=V.getSelection();if(H===null)return;let z=new p.TrimTrailingWhitespaceCommand(H,Z);V.pushUndoStop(),V.executeCommands(this.id,[z]),V.pushUndoStop()}}e.TrimTrailingWhitespaceAction=D,D.ID="editor.action.trimTrailingWhitespace";class k extends L.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:_.localize(13,null),alias:"Delete Line",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(ae,V){if(!V.hasModel())return;let B=this._getLinesToRemove(V),Z=V.getModel();if(Z.getLineCount()===1&&Z.getLineMaxColumn(1)===1)return;let H=0,z=[],ie=[];for(let ce=0,K=B.length;ce<K;ce++){const Q=B[ce];let U=Q.startLineNumber,ee=Q.endLineNumber,de=1,j=Z.getLineMaxColumn(ee);ee<Z.getLineCount()?(ee+=1,j=1):U>1&&(U-=1,de=Z.getLineMaxColumn(U)),z.push(i.EditOperation.replace(new a.Selection(U,de,ee,j),"")),ie.push(new a.Selection(U-H,Q.positionColumn,U-H,Q.positionColumn)),H+=Q.endLineNumber-Q.startLineNumber+1}V.pushUndoStop(),V.executeEdits(this.id,z,ie),V.pushUndoStop()}_getLinesToRemove(ae){let V=ae.getSelections().map(H=>{let z=H.endLineNumber;return H.startLineNumber<H.endLineNumber&&H.endColumn===1&&(z-=1),{startLineNumber:H.startLineNumber,selectionStartColumn:H.selectionStartColumn,endLineNumber:z,positionColumn:H.positionColumn}});V.sort((H,z)=>H.startLineNumber===z.startLineNumber?H.endLineNumber-z.endLineNumber:H.startLineNumber-z.startLineNumber);let B=[],Z=V[0];for(let H=1;H<V.length;H++)Z.endLineNumber+1>=V[H].startLineNumber?Z.endLineNumber=V[H].endLineNumber:(B.push(Z),Z=V[H]);return B.push(Z),B}}e.DeleteLinesAction=k;class T extends L.EditorAction{constructor(){super({id:"editor.action.indentLines",label:_.localize(14,null),alias:"Indent Line",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(ae,V){const B=V._getViewModel();!B||(V.pushUndoStop(),V.executeCommands(this.id,v.TypeOperations.indent(B.cursorConfig,V.getModel(),V.getSelections())),V.pushUndoStop())}}e.IndentLinesAction=T;class R extends L.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:_.localize(15,null),alias:"Outdent Line",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(ae,V){I.CoreEditingCommands.Outdent.runEditorCommand(ae,V,null)}}class M extends L.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:_.localize(16,null),alias:"Insert Line Above",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(ae,V){const B=V._getViewModel();!B||(V.pushUndoStop(),V.executeCommands(this.id,v.TypeOperations.lineInsertBefore(B.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineBeforeAction=M;class A extends L.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:_.localize(17,null),alias:"Insert Line Below",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(ae,V){const B=V._getViewModel();!B||(V.pushUndoStop(),V.executeCommands(this.id,v.TypeOperations.lineInsertAfter(B.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineAfterAction=A;class O extends L.EditorAction{run(ae,V){if(!V.hasModel())return;const B=V.getSelection();let Z=this._getRangesToDelete(V),H=[];for(let ce=0,K=Z.length-1;ce<K;ce++){let Q=Z[ce],U=Z[ce+1];s.Range.intersectRanges(Q,U)===null?H.push(Q):Z[ce+1]=s.Range.plusRange(Q,U)}H.push(Z[Z.length-1]);let z=this._getEndCursorState(B,H),ie=H.map(ce=>i.EditOperation.replace(ce,""));V.pushUndoStop(),V.executeEdits(this.id,ie,z),V.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class P extends O{constructor(){super({id:"deleteAllLeft",label:_.localize(18,null),alias:"Delete All Left",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(ae,V){let B=null,Z=[],H=0;return V.forEach(z=>{let ie;if(z.endColumn===1&&H>0){let ce=z.startLineNumber-H;ie=new a.Selection(ce,z.startColumn,ce,z.startColumn)}else ie=new a.Selection(z.startLineNumber,z.startColumn,z.startLineNumber,z.startColumn);H+=z.endLineNumber-z.startLineNumber,z.intersectRanges(ae)?B=ie:Z.push(ie)}),B&&Z.unshift(B),Z}_getRangesToDelete(ae){let V=ae.getSelections();if(V===null)return[];let B=V,Z=ae.getModel();return Z===null?[]:(B.sort(s.Range.compareRangesUsingStarts),B=B.map(H=>{if(H.isEmpty())if(H.startColumn===1){let z=Math.max(1,H.startLineNumber-1),ie=H.startLineNumber===1?1:Z.getLineContent(z).length+1;return new s.Range(z,ie,H.startLineNumber,1)}else return new s.Range(H.startLineNumber,1,H.startLineNumber,H.startColumn);else return new s.Range(H.startLineNumber,1,H.endLineNumber,H.endColumn)}),B)}}e.DeleteAllLeftAction=P;class F extends O{constructor(){super({id:"deleteAllRight",label:_.localize(19,null),alias:"Delete All Right",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(ae,V){let B=null,Z=[];for(let H=0,z=V.length,ie=0;H<z;H++){let ce=V[H],K=new a.Selection(ce.startLineNumber-ie,ce.startColumn,ce.startLineNumber-ie,ce.startColumn);ce.intersectRanges(ae)?B=K:Z.push(K)}return B&&Z.unshift(B),Z}_getRangesToDelete(ae){let V=ae.getModel();if(V===null)return[];let B=ae.getSelections();if(B===null)return[];let Z=B.map(H=>{if(H.isEmpty()){const z=V.getLineMaxColumn(H.startLineNumber);return H.startColumn===z?new s.Range(H.startLineNumber,H.startColumn,H.startLineNumber+1,1):new s.Range(H.startLineNumber,H.startColumn,H.startLineNumber,z)}return H});return Z.sort(s.Range.compareRangesUsingStarts),Z}}e.DeleteAllRightAction=F;class E extends L.EditorAction{constructor(){super({id:"editor.action.joinLines",label:_.localize(20,null),alias:"Join Lines",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(ae,V){let B=V.getSelections();if(B===null)return;let Z=V.getSelection();if(Z===null)return;B.sort(s.Range.compareRangesUsingStarts);let H=[],z=B.reduce((ee,de)=>ee.isEmpty()?ee.endLineNumber===de.startLineNumber?(Z.equalsSelection(ee)&&(Z=de),de):de.startLineNumber>ee.endLineNumber+1?(H.push(ee),de):new a.Selection(ee.startLineNumber,ee.startColumn,de.endLineNumber,de.endColumn):de.startLineNumber>ee.endLineNumber?(H.push(ee),de):new a.Selection(ee.startLineNumber,ee.startColumn,de.endLineNumber,de.endColumn));H.push(z);let ie=V.getModel();if(ie===null)return;let ce=[],K=[],Q=Z,U=0;for(let ee=0,de=H.length;ee<de;ee++){let j=H[ee],ue=j.startLineNumber,X=1,q=0,oe,he,ge=ie.getLineContent(j.endLineNumber).length-j.endColumn;if(j.isEmpty()||j.startLineNumber===j.endLineNumber){let Le=j.getStartPosition();Le.lineNumber<ie.getLineCount()?(oe=ue+1,he=ie.getLineMaxColumn(oe)):(oe=Le.lineNumber,he=ie.getLineMaxColumn(Le.lineNumber))}else oe=j.endLineNumber,he=ie.getLineMaxColumn(oe);let pe=ie.getLineContent(ue);for(let Le=ue+1;Le<=oe;Le++){let Te=ie.getLineContent(Le),Ne=ie.getLineFirstNonWhitespaceColumn(Le);if(Ne>=1){let Ae=!0;pe===""&&(Ae=!1),Ae&&(pe.charAt(pe.length-1)===" "||pe.charAt(pe.length-1)==="	")&&(Ae=!1,pe=pe.replace(/[\s\uFEFF\xA0]+$/g," "));let Oe=Te.substr(Ne-1);pe+=(Ae?" ":"")+Oe,Ae?q=Oe.length+1:q=Oe.length}else q=0}let ve=new s.Range(ue,X,oe,he);if(!ve.isEmpty()){let Le;j.isEmpty()?(ce.push(i.EditOperation.replace(ve,pe)),Le=new a.Selection(ve.startLineNumber-U,pe.length-q+1,ue-U,pe.length-q+1)):j.startLineNumber===j.endLineNumber?(ce.push(i.EditOperation.replace(ve,pe)),Le=new a.Selection(j.startLineNumber-U,j.startColumn,j.endLineNumber-U,j.endColumn)):(ce.push(i.EditOperation.replace(ve,pe)),Le=new a.Selection(j.startLineNumber-U,j.startColumn,j.startLineNumber-U,pe.length-ge)),s.Range.intersectRanges(ve,Z)!==null?Q=Le:K.push(Le)}U+=ve.endLineNumber-ve.startLineNumber}K.unshift(Q),V.pushUndoStop(),V.executeEdits(this.id,ce,K),V.pushUndoStop()}}e.JoinLinesAction=E;class x extends L.EditorAction{constructor(){super({id:"editor.action.transpose",label:_.localize(21,null),alias:"Transpose characters around the cursor",precondition:u.EditorContextKeys.writable})}run(ae,V){let B=V.getSelections();if(B===null)return;let Z=V.getModel();if(Z===null)return;let H=[];for(let z=0,ie=B.length;z<ie;z++){let ce=B[z];if(!ce.isEmpty())continue;let K=ce.getStartPosition(),Q=Z.getLineMaxColumn(K.lineNumber);if(K.column>=Q){if(K.lineNumber===Z.getLineCount())continue;let U=new s.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),ee=Z.getValueInRange(U).split("").reverse().join("");H.push(new S.ReplaceCommand(new a.Selection(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),ee))}else{let U=new s.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber,K.column+1),ee=Z.getValueInRange(U).split("").reverse().join("");H.push(new S.ReplaceCommandThatPreservesSelection(U,ee,new a.Selection(K.lineNumber,K.column+1,K.lineNumber,K.column+1)))}}V.pushUndoStop(),V.executeCommands(this.id,H),V.pushUndoStop()}}e.TransposeAction=x;class W extends L.EditorAction{run(ae,V){const B=V.getSelections();if(B===null)return;const Z=V.getModel();if(Z===null)return;const H=V.getOption(116),z=[];for(const ie of B)if(ie.isEmpty()){const ce=ie.getStartPosition(),K=V.getConfiguredWordAtPosition(ce);if(!K)continue;const Q=new s.Range(ce.lineNumber,K.startColumn,ce.lineNumber,K.endColumn),U=Z.getValueInRange(Q);z.push(i.EditOperation.replace(Q,this._modifyText(U,H)))}else{const ce=Z.getValueInRange(ie);z.push(i.EditOperation.replace(ie,this._modifyText(ce,H)))}V.pushUndoStop(),V.executeEdits(this.id,z),V.pushUndoStop()}}e.AbstractCaseAction=W;class G extends W{constructor(){super({id:"editor.action.transformToUppercase",label:_.localize(22,null),alias:"Transform to Uppercase",precondition:u.EditorContextKeys.writable})}_modifyText(ae,V){return ae.toLocaleUpperCase()}}e.UpperCaseAction=G;class Y extends W{constructor(){super({id:"editor.action.transformToLowercase",label:_.localize(23,null),alias:"Transform to Lowercase",precondition:u.EditorContextKeys.writable})}_modifyText(ae,V){return ae.toLocaleLowerCase()}}e.LowerCaseAction=Y;class se extends W{constructor(){super({id:"editor.action.transformToTitlecase",label:_.localize(24,null),alias:"Transform to Title Case",precondition:u.EditorContextKeys.writable})}_modifyText(ae,V){const Z=(`\r
	 `+V).split("");let H="",z=!0;for(let ie=0;ie<ae.length;ie++){let ce=ae[ie];Z.indexOf(ce)>=0?(z=!0,H+=ce):z?(z=!1,H+=ce.toLocaleUpperCase()):H+=ce.toLocaleLowerCase()}return H}}e.TitleCaseAction=se;class re{constructor(ae,V){this._pattern=ae,this._flags=V,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(ae){}}return this._actual}isSupported(){return this.get()!==null}}class J extends W{constructor(){super({id:"editor.action.transformToSnakecase",label:_.localize(25,null),alias:"Transform to Snake Case",precondition:u.EditorContextKeys.writable})}_modifyText(ae,V){const B=J.regExp1.get(),Z=J.regExp2.get();return!B||!Z?ae:ae.replace(B,"$1_$2").replace(Z,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=J,J.regExp1=new re("(\\p{Ll})(\\p{Lu})","gmu"),J.regExp2=new re("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,L.registerEditorAction)(t),(0,L.registerEditorAction)(o),(0,L.registerEditorAction)(c),(0,L.registerEditorAction)(y),(0,L.registerEditorAction)(b),(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(w),(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(k),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(x),(0,L.registerEditorAction)(G),(0,L.registerEditorAction)(Y),(0,L.registerEditorAction)(se),J.regExp1.isSupported()&&J.regExp2.isSupported()&&(0,L.registerEditorAction)(J)}),define(te[659],ne([0,1,516,16,19,2,13,23,3,18,14,31,15,25,24,28,10,8,22,12,29,36]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const f="linked-editing-decoration";let y=class yt extends L.Disposable{constructor(D,k){super();this._debounceDuration=200,this._localToDispose=this._register(new L.DisposableStore),this._editor=D,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(k),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new L.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(T=>{(T.hasChanged(61)||T.hasChanged(81))&&this.reinitialize(!1)})),this._register(i.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(D){return D.getContribution(yt.ID)}reinitialize(D){const k=this._editor.getModel(),T=k!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&i.LinkedEditingRangeProviderRegistry.has(k);if(T===this._enabled&&!D||(this._enabled=T,this.clearRanges(),this._localToDispose.clear(),!T||k===null))return;this._languageWordPattern=c.LanguageConfigurationRegistry.getWordDefinition(k.getLanguageIdentifier().id),this._localToDispose.add(k.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=c.LanguageConfigurationRegistry.getWordDefinition(k.getLanguageIdentifier().id)}));const R=new C.Delayer(this._debounceDuration),M=()=>{this._rangeUpdateTriggerPromise=R.trigger(()=>this.updateRanges(),this._debounceDuration)},A=new C.Delayer(0),O=P=>{this._rangeSyncTriggerPromise=A.trigger(()=>this._syncRanges(P))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{M()})),this._localToDispose.add(this._editor.onDidChangeModelContent(P=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const F=k.getDecorationRange(this._currentDecorations[0]);if(F&&P.changes.every(E=>F.intersectRanges(E.range))){O(this._currentDecorations);return}}M()})),this._localToDispose.add({dispose:()=>{R.cancel(),A.cancel()}}),this.updateRanges()}_syncRanges(D){if(!this._editor.hasModel()||D!==this._currentDecorations||D.length===0)return;const k=this._editor.getModel(),T=k.getDecorationRange(D[0]);if(!T||T.startLineNumber!==T.endLineNumber)return this.clearRanges();const R=k.getValueInRange(T);if(this._currentWordPattern){const A=R.match(this._currentWordPattern);if((A?A[0].length:0)!==R.length)return this.clearRanges()}let M=[];for(let A=1,O=D.length;A<O;A++){const P=k.getDecorationRange(D[A]);if(!!P)if(P.startLineNumber!==P.endLineNumber)M.push({range:P,text:R});else{let F=k.getValueInRange(P),E=R,x=P.startColumn,W=P.endColumn;const G=n.commonPrefixLength(F,E);x+=G,F=F.substr(G),E=E.substr(G);const Y=n.commonSuffixLength(F,E);W-=Y,F=F.substr(0,F.length-Y),E=E.substr(0,E.length-Y),(x!==W||E.length!==0)&&M.push({range:new v.Range(P.startLineNumber,x,P.endLineNumber,W),text:E})}}if(M.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const A=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",M),this._editor._getViewModel().setPrevEditOperationType(A)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(D=!1){return ke(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const k=this._editor.getPosition();if(!this._enabled&&!D||this._editor.getSelections().length>1){this.clearRanges();return}const T=this._editor.getModel(),R=T.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===R){if(k.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const A=T.getDecorationRange(this._currentDecorations[0]);if(A&&A.containsPosition(k))return}}this._currentRequestPosition=k,this._currentRequestModelVersion=R;const M=(0,C.createCancelablePromise)(A=>ke(this,void 0,void 0,function*(){try{const O=yield m(T,k,A);if(M!==this._currentRequest||(this._currentRequest=null,R!==T.getVersionId()))return;let P=[];(O==null?void 0:O.ranges)&&(P=O.ranges),this._currentWordPattern=(O==null?void 0:O.wordPattern)||this._languageWordPattern;let F=!1;for(let x=0,W=P.length;x<W;x++)if(v.Range.containsPosition(P[x],k)){if(F=!0,x!==0){const G=P[x];P.splice(x,1),P.unshift(G)}break}if(!F){this.clearRanges();return}const E=P.map(x=>({range:x,options:yt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,E)}catch(O){(0,r.isPromiseCanceledError)(O)||(0,r.onUnexpectedError)(O),(this._currentRequest===M||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=M,M})}};y.ID="editor.contrib.linkedEditing",y.DECORATION=s.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:f}),y=Re([me(1,a.IContextKeyService)],y),e.LinkedEditingContribution=y;class b extends N.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:_.localize(0,null),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(D,k){const T=D.get(d.ICodeEditorService),[R,M]=Array.isArray(k)&&k||[void 0,void 0];return h.URI.isUri(R)&&S.Position.isIPosition(M)?T.openCodeEditor({resource:R},T.getActiveCodeEditor()).then(A=>{!A||(A.setPosition(M),A.invokeWithinContext(O=>(this.reportTelemetry(O,A),this.run(O,A))))},r.onUnexpectedError):super.runCommand(D,k)}run(D,k){const T=y.get(k);return T?Promise.resolve(T.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=b;const g=N.EditorCommand.bindToContribution(y.get);(0,N.registerEditorCommand)(new g({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:w=>w.clearRanges(),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function m(w,D,k){const T=i.LinkedEditingRangeProviderRegistry.ordered(w);return(0,C.first)(T.map(R=>()=>ke(this,void 0,void 0,function*(){try{return yield R.provideLinkedEditingRanges(w,D,k)}catch(M){(0,r.onUnexpectedExternalError)(M);return}})),R=>!!R&&I.isNonEmptyArray(R==null?void 0:R.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:o.Color.fromHex("#f00").transparent(.3),light:o.Color.fromHex("#f00").transparent(.3),hc:o.Color.fromHex("#f00").transparent(.3)},_.localize(1,null)),(0,t.registerThemingParticipant)((w,D)=>{const k=w.getColor(e.editorLinkedEditingBackground);k&&D.addRule(`.monaco-editor .${f} { background: ${k}; border-left-color: ${k}; }`)}),(0,N.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(w,D)=>m(w,D,p.CancellationToken.None)),(0,N.registerEditorContribution)(y.ID,y),(0,N.registerEditorAction)(b)}),define(te[660],ne([0,1,517,14,23,10,75,2,17,16,31,18,234,563,34,57,22,12,24,47,44,362]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function c(m,w){const D=m.url&&/^command:/i.test(m.url.toString()),k=m.tooltip?m.tooltip:D?_.localize(0,null):_.localize(1,null),T=w?v.isMacintosh?_.localize(2,null):_.localize(3,null):v.isMacintosh?_.localize(4,null):_.localize(5,null);if(m.url){let R="";if(/^command:/i.test(m.url.toString())){const A=m.url.toString().match(/^command:([^?#]+)/);if(A){const O=A[1];R=` "${_.localize(6,null,O)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${k}](${m.url.toString(!0)}${R}) (${T})`)}else return new S.MarkdownString().appendText(`${k} (${T})`)}const f={general:C.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:C.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class y{constructor(w,D){this.link=w,this.decorationId=D}static decoration(w,D){return{range:w.range,options:y._getOptions(w,D,!1)}}static _getOptions(w,D,k){const T=Object.assign({},k?f.active:f.general);return T.hoverMessage=c(w,D),T}activate(w,D){w.changeDecorationOptions(this.decorationId,y._getOptions(this.link,D,!0))}deactivate(w,D){w.changeDecorationOptions(this.decorationId,y._getOptions(this.link,D,!1))}}let b=class Lt{constructor(w,D,k){this.listenersToRemove=new p.DisposableStore,this.editor=w,this.openerService=D,this.notificationService=k;let T=new a.ClickLinkGesture(w);this.listenersToRemove.add(T),this.listenersToRemove.add(T.onMouseMoveOrRelevantKeyDown(([R,M])=>{this._onEditorMouseMove(R,M)})),this.listenersToRemove.add(T.onExecute(R=>{this.onEditorMouseUp(R)})),this.listenersToRemove.add(T.onCancel(R=>{this.cleanUpActiveLinkDecoration()})),this.enabled=w.getOption(62),this.listenersToRemove.add(w.onDidChangeConfiguration(R=>{const M=w.getOption(62);this.enabled!==M&&(this.enabled=M,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(w.onDidChangeModelContent(R=>this.onChange())),this.listenersToRemove.add(w.onDidChangeModel(R=>this.onModelChanged())),this.listenersToRemove.add(w.onDidChangeModelLanguage(R=>this.onModelModeChanged())),this.listenersToRemove.add(s.LinkProviderRegistry.onDidChange(R=>this.onModelModeChanged())),this.timeout=new N.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(w){return w.getContribution(Lt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),Lt.RECOMPUTE_TIME)}beginCompute(){return ke(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const w=this.editor.getModel();if(!!s.LinkProviderRegistry.has(w)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=N.createCancelablePromise(D=>(0,u.getLinks)(w,D));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(D){(0,L.onUnexpectedError)(D)}finally{this.computePromise=null}}})}updateDecorations(w){const D=this.editor.getOption(69)==="altKey";let k=[],T=Object.keys(this.currentOccurrences);for(let A=0,O=T.length;A<O;A++){let P=T[A],F=this.currentOccurrences[P];k.push(F.decorationId)}let R=[];if(w)for(const A of w)R.push(y.decoration(A,D));let M=this.editor.deltaDecorations(k,R);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,O=M.length;A<O;A++){let P=new y(w[A],M[A]);this.currentOccurrences[P.decorationId]=P}}_onEditorMouseMove(w,D){const k=this.editor.getOption(69)==="altKey";if(this.isEnabled(w,D)){this.cleanUpActiveLinkDecoration();const T=this.getLinkOccurrence(w.target.position);T&&this.editor.changeDecorations(R=>{T.activate(R,k),this.activeLinkDecorationId=T.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const w=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const D=this.currentOccurrences[this.activeLinkDecorationId];D&&this.editor.changeDecorations(k=>{D.deactivate(k,w)}),this.activeLinkDecorationId=null}}onEditorMouseUp(w){if(!this.isEnabled(w))return;const D=this.getLinkOccurrence(w.target.position);!D||this.openLinkOccurrence(D,w.hasSideBySideModifier,!0)}openLinkOccurrence(w,D,k=!1){if(!this.openerService)return;const{link:T}=w;T.resolve(I.CancellationToken.None).then(R=>{if(typeof R=="string"&&this.editor.hasModel()){const M=this.editor.getModel().uri;if(M.scheme===t.Schemas.file&&R.startsWith(`${t.Schemas.file}:`)){const A=l.URI.parse(R);if(A.scheme===t.Schemas.file){const O=o.originalFSPath(A);let P=null;O.startsWith("/./")?P=`.${O.substr(1)}`:O.startsWith("//./")&&(P=`.${O.substr(2)}`),P&&(R=o.joinPath(M,P))}}}return this.openerService.open(R,{openToSide:D,fromUserGesture:k,allowContributedOpeners:!0,allowCommands:!0})},R=>{const M=R instanceof Error?R.message:R;M==="invalid"?this.notificationService.warn(_.localize(7,null,T.url.toString())):M==="missing"?this.notificationService.warn(_.localize(8,null)):(0,L.onUnexpectedError)(R)})}getLinkOccurrence(w){if(!this.editor.hasModel()||!w)return null;const D=this.editor.getModel().getDecorationsInRange({startLineNumber:w.lineNumber,startColumn:w.column,endLineNumber:w.lineNumber,endColumn:w.column},0,!0);for(const k of D){const T=this.currentOccurrences[k.id];if(T)return T}return null}isEnabled(w,D){return Boolean(w.target.type===6&&(w.hasTriggerModifier||D&&D.keyCodeIsTriggerKey))}stop(){var w;this.timeout.cancel(),this.activeLinksList&&((w=this.activeLinksList)===null||w===void 0||w.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};b.ID="editor.linkDetector",b.RECOMPUTE_TIME=1e3,b=Re([me(1,d.IOpenerService),me(2,h.INotificationService)],b),e.LinkDetector=b;class g extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:_.localize(9,null),alias:"Open Link",precondition:void 0})}run(w,D){let k=b.get(D);if(!k||!D.hasModel())return;let T=D.getSelections();for(let R of T){let M=k.getLinkOccurrence(R.getEndPosition());M&&k.openLinkOccurrence(M,!1)}}}(0,i.registerEditorContribution)(b.ID,b),(0,i.registerEditorAction)(g),(0,n.registerThemingParticipant)((m,w)=>{const D=m.getColor(r.editorActiveLinkForeground);D&&w.addRule(`.monaco-editor .detected-link-active { color: ${D} !important; }`)})}),define(te[154],ne([0,1,518,14,2,45,3,16,15,12,22,101,363]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=class Et{constructor(r,n){this._messageWidget=new I.MutableDisposable,this._messageListeners=new I.DisposableStore,this._editor=r,this._visible=Et.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(Et.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,n){(0,L.alert)(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new h(this._editor,n,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new N.TimeoutTimer(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(l?l.containsPosition(t.target.position)||this.closeMessage():l=new S.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(h.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(_.localize(1,null),this._editor.getPosition())}};a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,_.localize(0,null)),a=Re([me(1,v.IContextKeyService)],a),e.MessageController=a;const u=p.EditorCommand.bindToContribution(a.get);(0,p.registerEditorCommand)(new u({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class h{constructor(r,{lineNumber:n,column:l},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:l-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const c=document.createElement("div");c.classList.add("message"),c.textContent=t,this._domNode.appendChild(c);const f=document.createElement("div");f.classList.add("anchor","below"),this._domNode.appendChild(f),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let n;const l=()=>{r.dispose(),clearTimeout(n),r.getDomNode().removeEventListener("animationend",l)};return n=setTimeout(l,110),r.getDomNode().addEventListener("animationend",l),r.getDomNode().classList.add("fadeOut"),{dispose:l}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}(0,p.registerEditorContribution)(a.ID,a),(0,i.registerThemingParticipant)((d,r)=>{const n=d.getColor(C.inputValidationInfoBorder);if(n){let o=d.type===s.ColorScheme.HIGH_CONTRAST?2:1;r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${o}px solid ${n}; }`)}const l=d.getColor(C.inputValidationInfoBackground);l&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${l}; }`);const t=d.getColor(C.inputValidationInfoForeground);t&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var _t=this&&this.__classPrivateFieldSet||function($,e,_,N,I){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!I:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?I.call($,_):I?I.value=_:e.set($,_),_},rt=this&&this.__classPrivateFieldGet||function($,e,_,N){if(_==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!N:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?N:_==="a"?N.call($):N?N.value:e.get($)};define(te[661],ne([0,1,10,157,2,154,9,642,618]),function($,e,_,N,I,L,S,p,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let C=class extends I.Disposable{constructor(a,u,h,d,r){super();this._editor=a,this.delegate=d,this._activeCodeActions=this._register(new I.MutableDisposable),i.set(this,!1),this._codeActionWidget=new N.Lazy(()=>this._register(r.createInstance(p.CodeActionMenu,this._editor,{onSelectCodeAction:n=>ke(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new N.Lazy(()=>{const n=this._register(r.createInstance(v.LightBulbWidget,this._editor,u,h));return this._register(n.onClick(l=>this.showCodeActionList(l.trigger,l.actions,l,{includeDisabledActions:!1}))),n})}dispose(){_t(this,i,!0,"f"),super.dispose()}update(a){var u,h,d;return ke(this,void 0,void 0,function*(){if(a.type!==1){(u=this._lightBulbWidget.rawValue)===null||u===void 0||u.hide();return}let r;try{r=yield a.actions}catch(n){(0,_.onUnexpectedError)(n);return}if(!rt(this,i,"f"))if(this._lightBulbWidget.getValue().update(r,a.trigger,a.position),a.trigger.type===1){if((h=a.trigger.filter)===null||h===void 0?void 0:h.include){const l=this.tryGetValidActionToApply(a.trigger,r);if(l){try{yield this.delegate.applyCodeAction(l,!1)}finally{r.dispose()}return}if(a.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,r);if(t&&t.action.disabled){L.MessageController.get(this._editor).showMessage(t.action.disabled,a.trigger.context.position),r.dispose();return}}}const n=!!((d=a.trigger.filter)===null||d===void 0?void 0:d.include);if(a.trigger.context&&(!r.allActions.length||!n&&!r.validActions.length)){L.MessageController.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(a.trigger,r,a.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(a,u){if(!!u.allActions.length&&(a.autoApply==="first"&&u.validActions.length===0||a.autoApply==="ifSingle"&&u.allActions.length===1))return u.allActions.find(({action:h})=>h.disabled)}tryGetValidActionToApply(a,u){if(!!u.validActions.length&&(a.autoApply==="first"&&u.validActions.length>0||a.autoApply==="ifSingle"&&u.validActions.length===1))return u.validActions[0]}showCodeActionList(a,u,h,d){return ke(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,u,h,d)})}};i=new WeakMap,C=Re([me(4,S.IInstantiationService)],C),e.CodeActionUi=C}),define(te[275],ne([0,1,23,157,2,8,16,141,25,153,661,154,486,26,15,9,89,34,61,90,643,140]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function f(P){return h.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(P.value)+"\\b"))}const y={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:a.localize(0,null)},apply:{type:"string",description:a.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[a.localize(2,null),a.localize(3,null),a.localize(4,null)]},preferred:{type:"boolean",default:!1,description:a.localize(5,null)}}};let b=class jt extends I.Disposable{constructor(F,E,x,W,G){super();this._instantiationService=G,this._editor=F,this._model=this._register(new o.CodeActionModel(this._editor,E,x,W)),this._register(this._model.onDidChangeState(Y=>this.update(Y))),this._ui=new N.Lazy(()=>this._register(new C.CodeActionUi(F,D.Id,O.Id,{applyCodeAction:(Y,se)=>ke(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Y)}finally{se&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(F){return F.getContribution(jt.ID)}update(F){this._ui.getValue().update(F)}showCodeActions(F,E,x){return this._ui.getValue().showCodeActionList(F,E,x,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(F,E,x){if(!this._editor.hasModel())return;s.MessageController.get(this._editor).closeMessage();const W=this._editor.getPosition();this._trigger({type:1,filter:E,autoApply:x,context:{notAvailableMessage:F,position:W}})}_trigger(F){return this._model.trigger(F)}_applyCodeAction(F){return this._instantiationService.invokeFunction(g,F,this._editor)}};b.ID="editor.contrib.quickFixController",b=Re([me(1,r.IMarkerService),me(2,h.IContextKeyService),me(3,l.IEditorProgressService),me(4,d.IInstantiationService)],b),e.QuickFixController=b;function g(P,F,E){return ke(this,void 0,void 0,function*(){const x=P.get(p.IBulkEditService),W=P.get(u.ICommandService),G=P.get(t.ITelemetryService),Y=P.get(n.INotificationService);if(G.publicLog2("codeAction.applyCodeAction",{codeActionTitle:F.action.title,codeActionKind:F.action.kind,codeActionIsPreferred:!!F.action.isPreferred}),yield F.resolve(_.CancellationToken.None),F.action.edit&&(yield x.apply(p.ResourceEdit.convert(F.action.edit),{editor:E,label:F.action.title})),F.action.command)try{yield W.executeCommand(F.action.command.id,...F.action.command.arguments||[])}catch(se){const re=m(se);Y.error(typeof re=="string"?re:a.localize(6,null))}})}e.applyCodeAction=g;function m(P){return typeof P=="string"?P:P instanceof Error&&typeof P.message=="string"?P.message:void 0}function w(P,F,E,x){if(P.hasModel()){const W=b.get(P);W&&W.manualTriggerAtCurrentPosition(F,E,x)}}class D extends S.EditorAction{constructor(){super({id:D.Id,label:a.localize(7,null),alias:"Quick Fix...",precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(F,E){return w(E,a.localize(8,null),void 0,void 0)}}e.QuickFixAction=D,D.Id="editor.action.quickFix";class k extends S.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:y}]}})}runEditorCommand(F,E,x){const W=c.CodeActionCommandArgs.fromUser(x,{kind:c.CodeActionKind.Empty,apply:"ifSingle"});return w(E,typeof(x==null?void 0:x.kind)=="string"?W.preferred?a.localize(9,null,x.kind):a.localize(10,null,x.kind):W.preferred?a.localize(11,null):a.localize(12,null),{include:W.kind,includeSourceActions:!0,onlyIncludePreferredActions:W.preferred},W.apply)}}e.CodeActionCommand=k;class T extends S.EditorAction{constructor(){super({id:i.refactorCommandId,label:a.localize(13,null),alias:"Refactor...",precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:h.ContextKeyExpr.and(v.EditorContextKeys.writable,f(c.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:y}]}})}run(F,E,x){const W=c.CodeActionCommandArgs.fromUser(x,{kind:c.CodeActionKind.Refactor,apply:"never"});return w(E,typeof(x==null?void 0:x.kind)=="string"?W.preferred?a.localize(14,null,x.kind):a.localize(15,null,x.kind):W.preferred?a.localize(16,null):a.localize(17,null),{include:c.CodeActionKind.Refactor.contains(W.kind)?W.kind:c.CodeActionKind.None,onlyIncludePreferredActions:W.preferred},W.apply)}}e.RefactorAction=T;class R extends S.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:a.localize(18,null),alias:"Source Action...",precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:h.ContextKeyExpr.and(v.EditorContextKeys.writable,f(c.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:y}]}})}run(F,E,x){const W=c.CodeActionCommandArgs.fromUser(x,{kind:c.CodeActionKind.Source,apply:"never"});return w(E,typeof(x==null?void 0:x.kind)=="string"?W.preferred?a.localize(19,null,x.kind):a.localize(20,null,x.kind):W.preferred?a.localize(21,null):a.localize(22,null),{include:c.CodeActionKind.Source.contains(W.kind)?W.kind:c.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:W.preferred},W.apply)}}e.SourceAction=R;class M extends S.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:a.localize(23,null),alias:"Organize Imports",precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,f(c.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(F,E){return w(E,a.localize(24,null),{include:c.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=M;class A extends S.EditorAction{constructor(){super({id:i.fixAllCommandId,label:a.localize(25,null),alias:"Fix All",precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,f(c.CodeActionKind.SourceFixAll))})}run(F,E){return w(E,a.localize(26,null),{include:c.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=A;class O extends S.EditorAction{constructor(){super({id:O.Id,label:a.localize(27,null),alias:"Auto Fix...",precondition:h.ContextKeyExpr.and(v.EditorContextKeys.writable,f(c.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(F,E){return w(E,a.localize(28,null),{include:c.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=O,O.Id="editor.action.autoFix"}),define(te[662],ne([0,1,16,275]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,_.registerEditorContribution)(N.QuickFixController.ID,N.QuickFixController),(0,_.registerEditorAction)(N.QuickFixAction),(0,_.registerEditorAction)(N.RefactorAction),(0,_.registerEditorAction)(N.SourceAction),(0,_.registerEditorAction)(N.OrganizeImportsAction),(0,_.registerEditorAction)(N.AutoFixAction),(0,_.registerEditorAction)(N.FixAllAction),(0,_.registerEditorCommand)(new N.CodeActionCommand)}),define(te[663],ne([0,1,525,10,15,61,16,25,630,18,13,45,3,154,66,34,141,24,28,23,2,14,70,9,32,99,144,20]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class D{constructor(O,P){this.model=O,this.position=P,this._providerRenameIdx=0,this._providers=i.RenameProviderRegistry.ordered(O)}hasProvider(){return this._providers.length>0}resolveRenameLocation(O){return ke(this,void 0,void 0,function*(){const P=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const E=this._providers[this._providerRenameIdx];if(!E.resolveRenameLocation)break;let x=yield E.resolveRenameLocation(this.model,this.position,O);if(!!x){if(x.rejectReason){P.push(x.rejectReason);continue}return x}}const F=this.model.getWordAtPosition(this.position);return F?{range:new a.Range(this.position.lineNumber,F.startColumn,this.position.lineNumber,F.endColumn),text:F.word,rejectReason:P.length>0?P.join(`
`):void 0}:{range:a.Range.fromPositions(this.position),text:"",rejectReason:P.length>0?P.join(`
`):void 0}})}provideRenameEdits(O,P){return ke(this,void 0,void 0,function*(){return this._provideRenameEdits(O,this._providerRenameIdx,[],P)})}_provideRenameEdits(O,P,F,E){return ke(this,void 0,void 0,function*(){const x=this._providers[P];if(!x)return{edits:[],rejectReason:F.join(`
`)};const W=yield x.provideRenameEdits(this.model,this.position,O,E);if(W){if(W.rejectReason)return this._provideRenameEdits(O,P+1,F.concat(W.rejectReason),E)}else return this._provideRenameEdits(O,P+1,F.concat(_.localize(0,null)),E);return W})}}function k(A,O,P){return ke(this,void 0,void 0,function*(){const F=new D(A,O),E=yield F.resolveRenameLocation(t.CancellationToken.None);return(E==null?void 0:E.rejectReason)?{edits:[],rejectReason:E.rejectReason}:F.provideRenameEdits(P,t.CancellationToken.None)})}e.rename=k;let T=class Gt{constructor(O,P,F,E,x,W,G){this.editor=O,this._instaService=P,this._notificationService=F,this._bulkEditService=E,this._progressService=x,this._logService=W,this._configService=G,this._dispoableStore=new o.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new c.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(v.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(O){return O.getContribution(Gt.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return ke(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const O=this.editor.getPosition(),P=new D(this.editor.getModel(),O);if(!P.hasProvider())return;this._cts=new h.EditorStateCancellationTokenSource(this.editor,4|1);let F;try{const re=P.resolveRenameLocation(this._cts.token);this._progressService.showWhile(re,250),F=yield re}catch(re){u.MessageController.get(this.editor).showMessage(re||_.localize(1,null),O);return}if(!F)return;if(F.rejectReason){u.MessageController.get(this.editor).showMessage(F.rejectReason,O);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new h.EditorStateCancellationTokenSource(this.editor,4|1,F.range);let E=this.editor.getSelection(),x=0,W=F.text.length;!a.Range.isEmpty(E)&&!a.Range.spansMultipleLines(E)&&a.Range.containsRange(F.range,E)&&(x=Math.max(0,E.startColumn-F.range.startColumn),W=Math.min(F.range.endColumn,E.endColumn)-F.range.startColumn);const G=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Y=yield this._renameInputField.value.getInput(F.range,F.text,x,W,G,this._cts.token);if(typeof Y=="boolean"){Y&&this.editor.focus();return}this.editor.focus();const se=(0,c.raceCancellation)(P.provideRenameEdits(Y.newName,this._cts.token),this._cts.token).then(re=>ke(this,void 0,void 0,function*(){if(!(!re||!this.editor.hasModel())){if(re.rejectReason){this._notificationService.info(re.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(re),{editor:this.editor,showPreview:Y.wantsPreview,label:_.localize(2,null,F==null?void 0:F.text),quotableLabel:_.localize(3,null,F==null?void 0:F.text)}).then(J=>{J.ariaSummary&&(0,s.alert)(_.localize(4,null,F.text,Y.newName,J.ariaSummary))}).catch(J=>{this._notificationService.error(_.localize(5,null)),this._logService.error(J)})}}),re=>{this._notificationService.error(_.localize(6,null)),this._logService.error(re)});return this._progressService.showWhile(se,250),se})}acceptRenameInput(O){this._renameInputField.value.acceptInput(O)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};T.ID="editor.contrib.renameController",T=Re([me(1,y.IInstantiationService),me(2,d.INotificationService),me(3,r.IBulkEditService),me(4,L.IEditorProgressService),me(5,f.ILogService),me(6,m.ITextResourceConfigurationService)],T);class R extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:_.localize(7,null),alias:"Rename Symbol",precondition:I.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(O,P){const F=O.get(l.ICodeEditorService),[E,x]=Array.isArray(P)&&P||[void 0,void 0];return n.URI.isUri(E)&&C.Position.isIPosition(x)?F.openCodeEditor({resource:E},F.getActiveCodeEditor()).then(W=>{!W||(W.setPosition(x),W.invokeWithinContext(G=>(this.reportTelemetry(G,W),this.run(G,W))))},N.onUnexpectedError):super.runCommand(O,P)}run(O,P){const F=T.get(P);return F?F.run():Promise.resolve()}}e.RenameAction=R,(0,S.registerEditorContribution)(T.ID,T),(0,S.registerEditorAction)(R);const M=S.EditorCommand.bindToContribution(T.get);(0,S.registerEditorCommand)(new M({id:"acceptRenameInput",precondition:v.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:3}})),(0,S.registerEditorCommand)(new M({id:"acceptRenameInputWithPreview",precondition:I.ContextKeyExpr.and(v.CONTEXT_RENAME_INPUT_VISIBLE,I.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:A=>A.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:1024+3}})),(0,S.registerEditorCommand)(new M({id:"cancelRenameInput",precondition:v.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,S.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(A,O,...P){const[F]=P;return(0,w.assertType)(typeof F=="string"),k(A,O,F)}),b.Registry.as(g.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_.localize(8,null),default:!0,type:"boolean"}}})}),define(te[664],ne([0,1,19,23,16,13,3,21,25,18,527,33,431,240,26,10]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(y,b){this.index=y,this.ranges=b}mov(y){let b=this.index+(y?1:-1);if(b<0||b>=this.ranges.length)return this;const g=new r(b,this.ranges);return g.ranges[b].equalsRange(this.ranges[this.index])?g.mov(y):g}}class n{constructor(y){this._editor=y,this._ignoreSelection=!1}static get(y){return y.getContribution(n.ID)}dispose(){var y;(y=this._selectionListener)===null||y===void 0||y.dispose()}run(y){return ke(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const b=this._editor.getSelections(),g=this._editor.getModel();if(!i.SelectionRangeRegistry.has(g)||(this._state||(yield c(g,b.map(w=>w.getPosition()),this._editor.getOption(102),N.CancellationToken.None).then(w=>{var D;if(!(!_.isNonEmptyArray(w)||w.length!==b.length)&&!(!this._editor.hasModel()||!_.equals(this._editor.getSelections(),b,(k,T)=>k.equalsSelection(T)))){for(let k=0;k<w.length;k++)w[k]=w[k].filter(T=>T.containsPosition(b[k].getStartPosition())&&T.containsPosition(b[k].getEndPosition())),w[k].unshift(b[k]);this._state=w.map(k=>new r(0,k)),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var k;this._ignoreSelection||((k=this._selectionListener)===null||k===void 0||k.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(w=>w.mov(y));const m=this._state.map(w=>p.Selection.fromPositions(w.ranges[w.index].getStartPosition(),w.ranges[w.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(m)}finally{this._ignoreSelection=!1}})}}n.ID="editor.contrib.smartSelectController";class l extends I.EditorAction{constructor(y,b){super(b);this._forward=y}run(y,b){return ke(this,void 0,void 0,function*(){let g=n.get(b);g&&(yield g.run(this._forward))})}}class t extends l{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:C.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"1_basic",title:C.localize(1,null),order:2}})}}h.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class o extends l{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:C.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"1_basic",title:C.localize(3,null),order:3}})}}(0,I.registerEditorContribution)(n.ID,n),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(o),i.SelectionRangeRegistry.register("*",new a.WordSelectionRangeProvider);function c(f,y,b,g){return ke(this,void 0,void 0,function*(){const m=i.SelectionRangeRegistry.all(f);m.length===1&&m.unshift(new u.BracketSelectionRangeProvider);let w=[],D=[];for(const k of m)w.push(Promise.resolve(k.provideSelectionRanges(f,y,g)).then(T=>{if(_.isNonEmptyArray(T)&&T.length===y.length)for(let R=0;R<y.length;R++){D[R]||(D[R]=[]);for(const M of T[R])S.Range.isIRange(M.range)&&S.Range.containsPosition(M.range,y[R])&&D[R].push(S.Range.lift(M.range))}},d.onUnexpectedExternalError));return yield Promise.all(w),D.map(k=>{if(k.length===0)return[];k.sort((A,O)=>L.Position.isBefore(A.getStartPosition(),O.getStartPosition())?1:L.Position.isBefore(O.getStartPosition(),A.getStartPosition())||L.Position.isBefore(A.getEndPosition(),O.getEndPosition())?-1:L.Position.isBefore(O.getEndPosition(),A.getEndPosition())?1:0);let T=[],R;for(const A of k)(!R||S.Range.containsRange(A,R)&&!S.Range.equalsRange(A,R))&&(T.push(A),R=A);if(!b.selectLeadingAndTrailingWhitespace)return T;let M=[T[0]];for(let A=1;A<T.length;A++){const O=T[A-1],P=T[A];if(P.startLineNumber!==O.startLineNumber||P.endLineNumber!==O.endLineNumber){const F=new S.Range(O.startLineNumber,f.getLineFirstNonWhitespaceColumn(O.startLineNumber),O.endLineNumber,f.getLineLastNonWhitespaceColumn(O.endLineNumber));F.containsRange(O)&&!F.equalsRange(O)&&P.containsRange(F)&&!P.equalsRange(F)&&M.push(F);const E=new S.Range(O.startLineNumber,1,O.endLineNumber,f.getLineMaxColumn(O.endLineNumber));E.containsRange(O)&&!E.equalsRange(F)&&P.containsRange(E)&&!P.equalsRange(E)&&M.push(E)}M.push(P)}return M})})}e.provideSelectionRanges=c,(0,I.registerModelCommand)("_executeSelectionRangeProvider",function(f,...y){const[b]=y;return c(f,b,{selectLeadingAndTrailingWhitespace:!0},N.CancellationToken.None)})}),define(te[125],ne([0,1,10,18,13,15,23,3,67,2,33,117,83,26,20,24,68,530]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new L.RawContextKey("suggestWidgetVisible",!1,(0,n.localize)(0,null)),DetailsVisible:new L.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new L.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new L.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new L.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new L.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new L.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new L.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new C.MenuId("suggestWidgetStatusBar");class l{constructor(M,A,O,P){this.position=M,this.completion=A,this.container=O,this.provider=P,this.isInvalid=!1,this.score=v.FuzzyScore.Default,this.distance=0,this.textLabel=typeof A.label=="string"?A.label:A.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=A.sortText&&A.sortText.toLowerCase(),this.filterTextLow=A.filterText&&A.filterText.toLowerCase(),p.Range.isIRange(A.range)?(this.editStart=new I.Position(A.range.startLineNumber,A.range.startColumn),this.editInsertEnd=new I.Position(A.range.endLineNumber,A.range.endColumn),this.editReplaceEnd=new I.Position(A.range.endLineNumber,A.range.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(A.range)||A.range.startLineNumber!==M.lineNumber):(this.editStart=new I.Position(A.range.insert.startLineNumber,A.range.insert.startColumn),this.editInsertEnd=new I.Position(A.range.insert.endLineNumber,A.range.insert.endColumn),this.editReplaceEnd=new I.Position(A.range.replace.endLineNumber,A.range.replace.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(A.range.insert)||p.Range.spansMultipleLines(A.range.replace)||A.range.insert.startLineNumber!==M.lineNumber||A.range.replace.startLineNumber!==M.lineNumber||A.range.insert.startColumn!==A.range.replace.startColumn),typeof P.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(M){return ke(this,void 0,void 0,function*(){if(!this._resolveCache){const A=M.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,M)).then(O=>{Object.assign(this.completion,O),this._isResolved=!0,A.dispose()},O=>{(0,_.isPromiseCanceledError)(O)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=l;class t{constructor(M=2,A=new Set,O=new Set,P=!0){this.snippetSortOrder=M,this.kindFilter=A,this.providerFilter=O,this.showDeprecated=P}}e.CompletionOptions=t,t.default=new t;let o;function c(){return o}e.getSnippetSuggestSupport=c;class f{constructor(M,A,O,P){this.items=M,this.needsClipboard=A,this.durations=O,this.disposable=P}}e.CompletionItemModel=f;function y(R,M,A=t.default,O={triggerKind:0},P=S.CancellationToken.None){return ke(this,void 0,void 0,function*(){const F=new a.StopWatch(!0);M=M.clone();const E=R.getWordAtPosition(M),x=E?new p.Range(M.lineNumber,E.startColumn,M.lineNumber,E.endColumn):p.Range.fromPositions(M),W={replace:x,insert:x.setEndPosition(M.lineNumber,M.column)},G=[],Y=new i.DisposableStore,se=[];let re=!1;const J=(ae,V,B)=>{var Z,H,z;if(!!V){for(let ie of V.suggestions)if(!A.kindFilter.has(ie.kind)){if(!A.showDeprecated&&((Z=ie==null?void 0:ie.tags)===null||Z===void 0?void 0:Z.includes(1)))continue;ie.range||(ie.range=W),ie.sortText||(ie.sortText=typeof ie.label=="string"?ie.label:ie.label.label),!re&&ie.insertTextRules&&ie.insertTextRules&4&&(re=s.SnippetParser.guessNeedsClipboard(ie.insertText)),G.push(new l(M,ie,V,ae))}(0,i.isDisposable)(V)&&Y.add(V),se.push({providerName:(H=ae._debugDisplayName)!==null&&H!==void 0?H:"unkown_provider",elapsedProvider:(z=V.duration)!==null&&z!==void 0?z:-1,elapsedOverall:B.elapsed()})}},le=(()=>ke(this,void 0,void 0,function*(){if(!o||A.kindFilter.has(27)||A.providerFilter.size>0&&!A.providerFilter.has(o))return;const ae=new a.StopWatch(!0),V=yield o.provideCompletionItems(R,M,O,P);J(o,V,ae)}))();for(let ae of N.CompletionProviderRegistry.orderedGroups(R)){let V=G.length;if(yield Promise.all(ae.map(B=>ke(this,void 0,void 0,function*(){if(!(A.providerFilter.size>0&&!A.providerFilter.has(B)))try{const Z=new a.StopWatch(!0),H=yield B.provideCompletionItems(R,M,O,P);J(B,H,Z)}catch(Z){(0,_.onUnexpectedExternalError)(Z)}}))),V!==G.length||P.isCancellationRequested)break}return yield le,P.isCancellationRequested?(Y.dispose(),Promise.reject((0,_.canceled)())):new f(G.sort(D(A.snippetSortOrder)),re,{entries:se,elapsed:F.elapsed()},Y)})}e.provideSuggestionItems=y;function b(R,M){if(R.sortTextLow&&M.sortTextLow){if(R.sortTextLow<M.sortTextLow)return-1;if(R.sortTextLow>M.sortTextLow)return 1}return R.completion.label<M.completion.label?-1:R.completion.label>M.completion.label?1:R.completion.kind-M.completion.kind}function g(R,M){if(R.completion.kind!==M.completion.kind){if(R.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return b(R,M)}function m(R,M){if(R.completion.kind!==M.completion.kind){if(R.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return b(R,M)}const w=new Map;w.set(0,g),w.set(2,m),w.set(1,b);function D(R){return w.get(R)}e.getSuggestionComparator=D,u.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(R,...M)=>ke(void 0,void 0,void 0,function*(){const[A,O,P,F]=M;(0,h.assertType)(d.URI.isUri(A)),(0,h.assertType)(I.Position.isIPosition(O)),(0,h.assertType)(typeof P=="string"||!P),(0,h.assertType)(typeof F=="number"||!F);const E=yield R.get(r.ITextModelService).createModelReference(A);try{const x={incomplete:!1,suggestions:[]},W=[],G=yield y(E.object.textEditorModel,I.Position.lift(O),void 0,{triggerCharacter:P,triggerKind:P?1:0});for(const Y of G.items)W.length<(F??0)&&W.push(Y.resolve(S.CancellationToken.None)),x.incomplete=x.incomplete||Y.container.incomplete,x.suggestions.push(Y.completion);try{return yield Promise.all(W),x}finally{setTimeout(()=>G.disposable.dispose(),100)}}finally{E.dispose()}}));const k=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let M={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,M}};N.CompletionProviderRegistry.register("*",k);function T(R,M){setTimeout(()=>{k.onlyOnceSuggestions.push(...M),R.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(k))},0)}e.showSimpleSuggestions=T}),define(te[276],ne([0,1,537,45,16,190]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends I.EditorAction{constructor(){super({id:S.ID,label:_.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,i){const s=!L.TabFocus.getTabFocusMode();L.TabFocus.setTabFocusMode(s),s?(0,N.alert)(_.localize(1,null)):(0,N.alert)(_.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,I.registerEditorAction)(S)}),define(te[665],ne([0,1,538,16,83]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends N.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:_.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,v){if(!v.hasModel())return;const i=v.getModel();i.resetTokenization();const C=new I.StopWatch(!0);i.forceTokenization(i.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}(0,N.registerEditorAction)(L)}),define(te[666],ne([0,1,539,2,16,28,121,44]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const v="ignoreUnusualLineTerminators";function i(a,u,h){a.setModelProperty(u.uri,v,h)}function C(a,u){return a.getModelProperty(u.uri,v)}let s=class extends N.Disposable{constructor(u,h,d){super();this._editor=u,this._dialogService=h,this._codeEditorService=d,this._config=this._editor.getOption(113),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(113)&&(this._config=this._editor.getOption(113),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return ke(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const u=this._editor.getModel();if(!u.mightContainUnusualLineTerminators()||C(this._codeEditorService,u)===!0||this._editor.getOption(80))return;if(this._config==="auto"){u.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:_.localize(0,null),message:_.localize(1,null),detail:_.localize(2,null,(0,p.basename)(u.uri)),primaryButton:_.localize(3,null),secondaryButton:_.localize(4,null)})).confirmed){i(this._codeEditorService,u,!0);return}u.removeUnusualLineTerminators(this._editor.getSelections())})}};s.ID="editor.contrib.unusualLineTerminatorsDetector",s=Re([me(1,S.IDialogService),me(2,L.ICodeEditorService)],s),e.UnusualLineTerminatorsDetector=s,(0,I.registerEditorContribution)(s.ID,s)}),define(te[667],ne([0,1,540,19,14,23,10,2,16,3,25,53,31,18,15,22,12,45]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const l=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},_.localize(0,null),!0),t=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},_.localize(1,null),!0),o=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},_.localize(2,null)),c=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},_.localize(3,null)),f=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_.localize(4,null),!0),y=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},_.localize(5,null),!0),b=new h.RawContextKey("hasWordHighlights",!1);function g(F,E,x){const W=u.DocumentHighlightProviderRegistry.ordered(F);return(0,I.first)(W.map(G=>()=>Promise.resolve(G.provideDocumentHighlights(F,E,x)).then(void 0,S.onUnexpectedExternalError)),N.isNonEmptyArray)}e.getOccurrencesAtPosition=g;class m{constructor(E,x,W){this._wordRange=this._getCurrentWordRange(E,x),this.result=(0,I.createCancelablePromise)(G=>this._compute(E,x,W,G))}_getCurrentWordRange(E,x){const W=E.getWordAtPosition(x.getPosition());return W?new i.Range(x.startLineNumber,W.startColumn,x.startLineNumber,W.endColumn):null}isValid(E,x,W){const G=x.startLineNumber,Y=x.startColumn,se=x.endColumn,re=this._getCurrentWordRange(E,x);let J=Boolean(this._wordRange&&this._wordRange.equalsRange(re));for(let le=0,ae=W.length;!J&&le<ae;le++){let V=E.getDecorationRange(W[le]);V&&V.startLineNumber===G&&V.startColumn<=Y&&V.endColumn>=se&&(J=!0)}return J}cancel(){this.result.cancel()}}class w extends m{_compute(E,x,W,G){return g(E,x.getPosition(),G).then(Y=>Y||[])}}class D extends m{constructor(E,x,W){super(E,x,W);this._selectionIsEmpty=x.isEmpty()}_compute(E,x,W,G){return(0,I.timeout)(250,G).then(()=>{if(!x.isEmpty())return[];const Y=E.getWordAtPosition(x.getPosition());return!Y||Y.word.length>1e3?[]:E.findMatches(Y.word,!0,!1,!0,W,!1).map(re=>({range:re.range,kind:u.DocumentHighlightKind.Text}))})}isValid(E,x,W){const G=x.isEmpty();return this._selectionIsEmpty!==G?!1:super.isValid(E,x,W)}}function k(F,E,x){return u.DocumentHighlightProviderRegistry.has(F)?new w(F,E,x):new D(F,E,x)}(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",(F,E)=>g(F,E,L.CancellationToken.None));class T{constructor(E,x){this.toUnhook=new p.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=E,this._hasWordHighlights=b.bindTo(x),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(E.onDidChangeCursorPosition(W=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(W)})),this.toUnhook.add(E.onDidChangeModelContent(W=>{this._stopAll()})),this.toUnhook.add(E.onDidChangeConfiguration(W=>{let G=this.editor.getOption(71);this.occurrencesHighlight!==G&&(this.occurrencesHighlight=G,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return N.coalesce(this._decorationIds.map(E=>this.model.getDecorationRange(E)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let E=this._getSortedHighlights(),W=(E.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))+1)%E.length,G=E[W];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(G.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(G);const Y=this._getWord();if(Y){const se=this.editor.getModel().getLineContent(G.startLineNumber);(0,n.alert)(`${se}, ${W+1} of ${E.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let E=this._getSortedHighlights(),W=(E.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))-1+E.length)%E.length,G=E[W];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(G.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(G);const Y=this._getWord();if(Y){const se=this.editor.getModel().getLineContent(G.startLineNumber);(0,n.alert)(`${se}, ${W+1} of ${E.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(E){if(!this.occurrencesHighlight){this._stopAll();return}if(E.reason!==3){this._stopAll();return}this._run()}_getWord(){let E=this.editor.getSelection(),x=E.startLineNumber,W=E.startColumn;return this.model.getWordAtPosition({lineNumber:x,column:W})}_run(){let E=this.editor.getSelection();if(E.startLineNumber!==E.endLineNumber){this._stopAll();return}let x=E.startColumn,W=E.endColumn;const G=this._getWord();if(!G||G.startColumn>x||G.endColumn<W){this._stopAll();return}const Y=this.workerRequest&&this.workerRequest.isValid(this.model,E,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),Y)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let se=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=k(this.model,this.editor.getSelection(),this.editor.getOption(116)),this.workerRequest.result.then(re=>{se===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=re||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let E=new Date().getTime(),x=this.lastCursorPositionChangeTime+250;E>=x?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},x-E)}renderDecorations(){this.renderDecorationsTimer=-1;let E=[];for(const x of this.workerRequestValue)x.range&&E.push({range:x.range,options:T._getDecorationOptions(x.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,E),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(E){return E===u.DocumentHighlightKind.Write?this._WRITE_OPTIONS:E===u.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}T._WRITE_OPTIONS=a.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,r.themeColorFromId)(y),position:s.OverviewRulerLane.Center}}),T._TEXT_OPTIONS=a.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,r.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:s.OverviewRulerLane.Center}}),T._REGULAR_OPTIONS=a.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,r.themeColorFromId)(f),position:s.OverviewRulerLane.Center}});let R=class Zt extends p.Disposable{constructor(E,x){super();this.wordHighlighter=null;const W=()=>{E.hasModel()&&(this.wordHighlighter=new T(E,x))};this._register(E.onDidChangeModel(G=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),W()})),W()}static get(E){return E.getContribution(Zt.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(E){this.wordHighlighter&&E&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};R.ID="editor.contrib.wordHighlighter",R=Re([me(1,h.IContextKeyService)],R);class M extends v.EditorAction{constructor(E,x){super(x);this._isNext=E}run(E,x){const W=R.get(x);!W||(this._isNext?W.moveNext():W.moveBack())}}class A extends M{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:b,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends M{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:b,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class P extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_.localize(8,null),alias:"Trigger Symbol Highlight",precondition:b.toNegated(),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(E,x,W){const G=R.get(x);!G||G.restoreViewState(!0)}}(0,v.registerEditorContribution)(R.ID,R),(0,v.registerEditorAction)(A),(0,v.registerEditorAction)(O),(0,v.registerEditorAction)(P),(0,r.registerThemingParticipant)((F,E)=>{const x=F.getColor(d.editorSelectionHighlight);x&&(E.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${x}; }`),E.addRule(`.monaco-editor .selectionHighlight { background-color: ${x.transparent(.5)}; }`));const W=F.getColor(l);W&&E.addRule(`.monaco-editor .wordHighlight { background-color: ${W}; }`);const G=F.getColor(t);G&&E.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${G}; }`);const Y=F.getColor(d.editorSelectionHighlightBorder);Y&&E.addRule(`.monaco-editor .selectionHighlight { border: 1px ${F.type==="hc"?"dotted":"solid"} ${Y}; box-sizing: border-box; }`);const se=F.getColor(o);se&&E.addRule(`.monaco-editor .wordHighlight { border: 1px ${F.type==="hc"?"dashed":"solid"} ${se}; box-sizing: border-box; }`);const re=F.getColor(c);re&&E.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${F.type==="hc"?"dashed":"solid"} ${re}; box-sizing: border-box; }`)})}),define(te[277],ne([0,1,541,16,96,42,148,110,13,3,21,25,60,15,37,36,257]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends N.EditorCommand{constructor(V){super(V);this._inSelectionMode=V.inSelectionMode,this._wordNavigationType=V.wordNavigationType}runEditorCommand(V,B,Z){if(!B.hasModel())return;const H=(0,p.getMapForWordSeparators)(B.getOption(116)),z=B.getModel(),ce=B.getSelections().map(K=>{const Q=new v.Position(K.positionLineNumber,K.positionColumn),U=this._move(H,z,Q,this._wordNavigationType);return this._moveTo(K,U,this._inSelectionMode)});if(z.pushStackElement(),B._getViewModel().setCursorStates("moveWordCommand",3,ce.map(K=>L.CursorState.fromModelSelection(K))),ce.length===1){const K=new v.Position(ce[0].positionLineNumber,ce[0].positionColumn);B.revealPosition(K,0)}}_moveTo(V,B,Z){return Z?new C.Selection(V.selectionStartLineNumber,V.selectionStartColumn,B.lineNumber,B.column):new C.Selection(B.lineNumber,B.column,B.lineNumber,B.column)}}e.MoveWordCommand=n;class l extends n{_move(V,B,Z,H){return S.WordOperations.moveWordLeft(V,B,Z,H)}}e.WordLeftCommand=l;class t extends n{_move(V,B,Z,H){return S.WordOperations.moveWordRight(V,B,Z,H)}}e.WordRightCommand=t;class o extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class c extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=c;class f extends l{constructor(){var V;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(V=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||V===void 0?void 0:V.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=f;class y extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=y;class b extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=b;class g extends l{constructor(){var V;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(V=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||V===void 0?void 0:V.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=g;class m extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(V,B,Z,H){return super._move((0,p.getMapForWordSeparators)(h.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityLeft=m;class w extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(V,B,Z,H){return super._move((0,p.getMapForWordSeparators)(h.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityLeftSelect=w;class D extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=D;class k extends t{constructor(){var V;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(V=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||V===void 0?void 0:V.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=k;class T extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class M extends t{constructor(){var V;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(V=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||V===void 0?void 0:V.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=M;class A extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=A;class O extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(V,B,Z,H){return super._move((0,p.getMapForWordSeparators)(h.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityRight=O;class P extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(V,B,Z,H){return super._move((0,p.getMapForWordSeparators)(h.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityRightSelect=P;class F extends N.EditorCommand{constructor(V){super(V);this._whitespaceHeuristics=V.whitespaceHeuristics,this._wordNavigationType=V.wordNavigationType}runEditorCommand(V,B,Z){if(!B.hasModel())return;const H=(0,p.getMapForWordSeparators)(B.getOption(116)),z=B.getModel(),ie=B.getSelections(),ce=B.getOption(5),K=B.getOption(8),Q=d.LanguageConfigurationRegistry.getAutoClosingPairs(z.getLanguageIdentifier().id),U=B._getViewModel(),ee=ie.map(de=>{const j=this._delete({wordSeparators:H,model:z,selection:de,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:B.getOption(6),autoClosingBrackets:ce,autoClosingQuotes:K,autoClosingPairs:Q,autoClosedCharacters:U.getCursorAutoClosedCharacters()},this._wordNavigationType);return new I.ReplaceCommand(j,"")});B.pushUndoStop(),B.executeCommands(this.id,ee),B.pushUndoStop()}}e.DeleteWordCommand=F;class E extends F{_delete(V,B){let Z=S.WordOperations.deleteWordLeft(V,B);return Z||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=E;class x extends F{_delete(V,B){let Z=S.WordOperations.deleteWordRight(V,B);if(Z)return Z;const H=V.model.getLineCount(),z=V.model.getLineMaxColumn(H);return new i.Range(H,z,H,z)}}e.DeleteWordRightCommand=x;class W extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=W;class G extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=G;class Y extends E{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=Y;class se extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=se;class re extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=re;class J extends x{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=J;class le extends N.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:_.localize(0,null),alias:"Delete Word"})}run(V,B,Z){if(!B.hasModel())return;const H=(0,p.getMapForWordSeparators)(B.getOption(116)),z=B.getModel(),ce=B.getSelections().map(K=>{const Q=S.WordOperations.deleteInsideWord(H,z,K);return new I.ReplaceCommand(Q,"")});B.pushUndoStop(),B.executeCommands(this.id,ce),B.pushUndoStop()}}e.DeleteInsideWord=le,(0,N.registerEditorCommand)(new o),(0,N.registerEditorCommand)(new c),(0,N.registerEditorCommand)(new f),(0,N.registerEditorCommand)(new y),(0,N.registerEditorCommand)(new b),(0,N.registerEditorCommand)(new g),(0,N.registerEditorCommand)(new D),(0,N.registerEditorCommand)(new k),(0,N.registerEditorCommand)(new T),(0,N.registerEditorCommand)(new R),(0,N.registerEditorCommand)(new M),(0,N.registerEditorCommand)(new A),(0,N.registerEditorCommand)(new m),(0,N.registerEditorCommand)(new w),(0,N.registerEditorCommand)(new O),(0,N.registerEditorCommand)(new P),(0,N.registerEditorCommand)(new W),(0,N.registerEditorCommand)(new G),(0,N.registerEditorCommand)(new Y),(0,N.registerEditorCommand)(new se),(0,N.registerEditorCommand)(new re),(0,N.registerEditorCommand)(new J),(0,N.registerEditorAction)(le)}),define(te[668],ne([0,1,16,148,3,25,277,26]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,l){let t=N.WordPartOperations.deleteWordPartLeft(n);return t||new I.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class i extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,l){let t=N.WordPartOperations.deleteWordPartRight(n);if(t)return t;const o=n.model.getLineCount(),c=n.model.getLineMaxColumn(o);return new I.Range(o,c,o,c)}}e.DeleteWordPartRight=i;class C extends S.MoveWordCommand{_move(n,l,t,o){return N.WordPartOperations.moveWordPartLeft(n,l,t)}}e.WordPartLeftCommand=C;class s extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=s,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class u extends S.MoveWordCommand{_move(n,l,t,o){return N.WordPartOperations.moveWordPartRight(n,l,t)}}e.WordPartRightCommand=u;class h extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=h;class d extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,(0,_.registerEditorCommand)(new v),(0,_.registerEditorCommand)(new i),(0,_.registerEditorCommand)(new s),(0,_.registerEditorCommand)(new a),(0,_.registerEditorCommand)(new h),(0,_.registerEditorCommand)(new d)}),define(te[669],ne([0,1,7,30,162,45,52,2,17,8,24,16,25,276,15,9,39,57,22,12,64,370]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const c=new h.RawContextKey("accessibilityHelpWidgetVisible",!1);let f=class Yt extends p.Disposable{constructor(D,k){super();this._editor=D,this._widget=this._register(k.createInstance(b,this._editor))}static get(D){return D.getContribution(Yt.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};f.ID="editor.contrib.accessibilityHelpController",f=Re([me(1,d.IInstantiationService)],f);function y(w,D){return!w||w.length===0?o.AccessibilityHelpNLS.noSelection:w.length===1?D?i.format(o.AccessibilityHelpNLS.singleSelectionRange,w[0].positionLineNumber,w[0].positionColumn,D):i.format(o.AccessibilityHelpNLS.singleSelection,w[0].positionLineNumber,w[0].positionColumn):D?i.format(o.AccessibilityHelpNLS.multiSelectionRange,w.length,D):w.length>0?i.format(o.AccessibilityHelpNLS.multiSelection,w.length):""}let b=class mt extends S.Widget{constructor(D,k,T,R){super();this._contextKeyService=k,this._keybindingService=T,this._openerService=R,this._editor=D,this._isVisibleKey=c.bindTo(this._contextKeyService),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(_.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",M=>{if(!!this._isVisible&&(M.equals(2048|35)&&((0,L.alert)(o.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),_.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),M.preventDefault(),M.stopPropagation()),M.equals(2048|38))){(0,L.alert)(o.AccessibilityHelpNLS.openingDocs);let A=this._editor.getRawOptions().accessibilityHelpUrl;typeof A=="undefined"&&(A="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(C.URI.parse(A)),M.preventDefault(),M.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return mt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(D,k,T){let R=this._keybindingService.lookupKeybinding(D);return R?i.format(k,R.getAriaLabel()):i.format(T,D)}_buildContent(){const D=this._editor.getOptions(),k=this._editor.getSelections();let T=0;if(k){const O=this._editor.getModel();O&&k.forEach(P=>{T+=O.getValueLengthInRange(P)})}let R=y(k,T);D.get(53)?D.get(80)?R+=o.AccessibilityHelpNLS.readonlyDiffEditor:R+=o.AccessibilityHelpNLS.editableDiffEditor:D.get(80)?R+=o.AccessibilityHelpNLS.readonlyEditor:R+=o.AccessibilityHelpNLS.editableEditor;const M=v.isMacintosh?o.AccessibilityHelpNLS.changeConfigToOnMac:o.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(D.get(2)){case 0:R+=`

 - `+M;break;case 2:R+=`

 - `+o.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+o.AccessibilityHelpNLS.auto_off,R+=" "+M;break}D.get(129)?R+=`

 - `+this._descriptionForCommand(u.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOnMsg,o.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(u.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOffMsg,o.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const A=v.isMacintosh?o.AccessibilityHelpNLS.openDocMac:o.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+A,R+=`

`+o.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,I.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,_.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let D=this._editor.getLayoutInfo(),k=Math.max(5,Math.min(mt.WIDTH,D.width-40)),T=Math.max(5,Math.min(mt.HEIGHT,D.height-40));this._domNode.setWidth(k),this._domNode.setHeight(T);let R=Math.round((D.height-T)/2);this._domNode.setTop(R);let M=Math.round((D.width-k)/2);this._domNode.setLeft(M)}};b.ID="editor.contrib.accessibilityHelpWidget",b.WIDTH=500,b.HEIGHT=300,b=Re([me(1,h.IContextKeyService),me(2,r.IKeybindingService),me(3,n.IOpenerService)],b);class g extends s.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:o.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(D,k){let T=f.get(k);T&&T.show()}}(0,s.registerEditorContribution)(f.ID,f),(0,s.registerEditorAction)(g);const m=s.EditorCommand.bindToContribution(f.get);(0,s.registerEditorCommand)(new m({id:"closeAccessibilityHelp",precondition:c,handler:w=>w.hide(),kbOpts:{weight:100+100,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,t.registerThemingParticipant)((w,D)=>{const k=w.getColor(l.editorWidgetBackground);k&&D.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${k}; }`);const T=w.getColor(l.editorWidgetForeground);T&&D.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${T}; }`);const R=w.getColor(l.widgetShadow);R&&D.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const M=w.getColor(l.contrastBorder);M&&D.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${M}; }`)})}),define(te[670],ne([0,1,7,2,16,17,371]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends N.Disposable{constructor(i){super();this.editor=i,this.widget=null,L.isIOS&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(80);!this.widget&&i?this.widget=new p(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class p extends N.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(_.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(_.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,I.registerEditorContribution)(S.ID,S)}),define(te[671],ne([0,1,7,29,2,16,18,78,56,120,22,12,64,101,372]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class Xt extends I.Disposable{constructor(o,c,f){super();this._editor=o,this._modeService=f,this._widget=null,this._register(this._editor.onDidChangeModel(y=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(y=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(y=>this.stop())),this._register(this._editor.onKeyUp(y=>y.keyCode===9&&this.stop()))}static get(o){return o.getContribution(Xt.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new l(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};h.ID="editor.contrib.inspectTokens",h=Re([me(1,i.IStandaloneThemeService),me(2,v.IModeService)],h);class d extends L.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(o,c){let f=h.get(c);f&&f.launch()}}function r(t){let o="";for(let c=0,f=t.length;c<f;c++){let y=t.charCodeAt(c);switch(y){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(y)}}return o}function n(t){let o=S.TokenizationRegistry.get(t.language);return o||{getInitialState:()=>p.NULL_STATE,tokenize:(c,f,y,b)=>(0,p.nullTokenize)(t.language,c,y,b),tokenize2:(c,f,y,b)=>(0,p.nullTokenize2)(t.id,c,y,b)}}class l extends I.Disposable{constructor(o,c){super();this.allowEditorOverflow=!0,this._editor=o,this._modeService=c,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(f=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return l._ID}_compute(o){let c=this._getTokensAtLine(o.lineNumber),f=0;for(let w=c.tokens1.length-1;w>=0;w--){let D=c.tokens1[w];if(o.column-1>=D.offset){f=w;break}}let y=0;for(let w=c.tokens2.length>>>1;w>=0;w--)if(o.column-1>=c.tokens2[w<<1]){y=w;break}let b=this._model.getLineContent(o.lineNumber),g="";if(f<c.tokens1.length){let w=c.tokens1[f].offset,D=f+1<c.tokens1.length?c.tokens1[f+1].offset:b.length;g=b.substring(w,D)}(0,_.reset)(this._domNode,(0,_.$)("h2.tm-token",void 0,r(g),(0,_.$)("span.tm-token-length",void 0,`${g.length} ${g.length===1?"char":"chars"}`))),(0,_.append)(this._domNode,(0,_.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const m=(y<<1)+1<c.tokens2.length?this._decodeMetadata(c.tokens2[(y<<1)+1]):null;(0,_.append)(this._domNode,(0,_.$)("table.tm-metadata-table",void 0,(0,_.$)("tbody",void 0,(0,_.$)("tr",void 0,(0,_.$)("td.tm-metadata-key",void 0,"language"),(0,_.$)("td.tm-metadata-value",void 0,`${m?m.languageIdentifier.language:"-?-"}`)),(0,_.$)("tr",void 0,(0,_.$)("td.tm-metadata-key",void 0,"token type"),(0,_.$)("td.tm-metadata-value",void 0,`${m?this._tokenTypeToString(m.tokenType):"-?-"}`)),(0,_.$)("tr",void 0,(0,_.$)("td.tm-metadata-key",void 0,"font style"),(0,_.$)("td.tm-metadata-value",void 0,`${m?this._fontStyleToString(m.fontStyle):"-?-"}`)),(0,_.$)("tr",void 0,(0,_.$)("td.tm-metadata-key",void 0,"foreground"),(0,_.$)("td.tm-metadata-value",void 0,`${m?N.Color.Format.CSS.formatHex(m.foreground):"-?-"}`)),(0,_.$)("tr",void 0,(0,_.$)("td.tm-metadata-key",void 0,"background"),(0,_.$)("td.tm-metadata-value",void 0,`${m?N.Color.Format.CSS.formatHex(m.background):"-?-"}`))))),(0,_.append)(this._domNode,(0,_.$)("hr.tokens-inspect-separator")),f<c.tokens1.length&&(0,_.append)(this._domNode,(0,_.$)("span.tm-token-type",void 0,c.tokens1[f].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(o){let c=S.TokenizationRegistry.getColorMap(),f=S.TokenMetadata.getLanguageId(o),y=S.TokenMetadata.getTokenType(o),b=S.TokenMetadata.getFontStyle(o),g=S.TokenMetadata.getForeground(o),m=S.TokenMetadata.getBackground(o);return{languageIdentifier:this._modeService.getLanguageIdentifier(f),tokenType:y,fontStyle:b,foreground:c[g],background:c[m]}}_tokenTypeToString(o){switch(o){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(o){let c="";return o&1&&(c+="italic "),o&2&&(c+="bold "),o&4&&(c+="underline "),c.length===0&&(c="---"),c}_getTokensAtLine(o){let c=this._getStateBeforeLine(o),f=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,c,0),y=this._tokenizationSupport.tokenize2(this._model.getLineContent(o),!0,c,0);return{startState:c,tokens1:f.tokens,tokens2:y.tokens,endState:f.endState}}_getStateBeforeLine(o){let c=this._tokenizationSupport.getInitialState();for(let f=1;f<o;f++)c=this._tokenizationSupport.tokenize(this._model.getLineContent(f),!0,c,0).endState;return c}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}l._ID="editor.contrib.inspectTokensWidget",(0,L.registerEditorContribution)(h.ID,h),(0,L.registerEditorAction)(d),(0,s.registerThemingParticipant)((t,o)=>{const c=t.getColor(C.editorHoverBorder);if(c){let b=t.type===u.ColorScheme.HIGH_CONTRAST?2:1;o.addRule(`.monaco-editor .tokens-inspect-widget { border: ${b}px solid ${c}; }`),o.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${c}; }`)}const f=t.getColor(C.editorHoverBackground);f&&o.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${f}; }`);const y=t.getColor(C.editorHoverForeground);y&&o.addRule(`.monaco-editor .tokens-inspect-widget { color: ${y}; }`)})}),define(te[672],ne([0,1,32,100,64,28,595,20,9,39,26,90,121,16,25,79]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,o,c,f,y,b){super({showAlias:!1},t,c,f,y,b);this.codeEditorService=o}get activeTextEditorControl(){return(0,p.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return ke(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Re([me(0,v.IInstantiationService),me(1,L.ICodeEditorService),me(2,i.IKeybindingService),me(3,C.ICommandService),me(4,s.ITelemetryService),me(5,a.IDialogService)],r),e.StandaloneCommandsQuickAccessProvider=r,_.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:I.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends u.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:I.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(d.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=n,(0,u.registerEditorAction)(n)}),define(te[673],ne([0,1,628,32,100,28,20,64,6,16,25,79]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends _.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Re([me(0,L.ICodeEditorService)],a),e.StandaloneGotoLineQuickAccessProvider=a,N.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:p.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class u extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:p.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(s.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=u,(0,i.registerEditorAction)(u)}),define(te[674],ne([0,1,629,32,100,28,20,64,6,16,25,79,132,269]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let a=class extends _.AbstractGotoSymbolQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Re([me(0,L.ICodeEditorService)],a),e.StandaloneGotoSymbolQuickAccessProvider=a,N.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:_.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:p.QuickOutlineNLS.quickOutlineActionLabel,prefix:_.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:p.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:_.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class u extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:p.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:C.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(s.IQuickInputService).quickAccess.show(_.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=u,(0,i.registerEditorAction)(u)}),define(te[675],ne([0,1,16,120,64]),function($,e,_,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends _.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:I.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(p,v){const i=p.get(N.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}(0,_.registerEditorAction)(L)}),define(te[196],ne([0,1,7,51,118,451,50,186,2,17,542,33,15,69,9,39,34,71,12,375]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function t(m,w,D,k,T,R,M){const A=m.getActions(w),O=typeof k=="string"?P=>P===k:k;return c(A,D,!1,O,T,R,M),o(A)}e.createAndFillInActionBarActions=t;function o(m){const w=new v.DisposableStore;for(const[,D]of m)for(const k of D)w.add(k);return w}function c(m,w,D,k=A=>A==="navigation",T=Number.MAX_SAFE_INTEGER,R=()=>!1,M=!1){let A,O;Array.isArray(w)?(A=w,O=w):(A=w.primary,O=w.secondary);const P=new Set;for(const[F,E]of m){let x;k(F)?(x=A,x.length>0&&M&&x.push(new S.Separator)):(x=O,x.length>0&&x.push(new S.Separator));for(let W of E){D&&(W=W instanceof s.MenuItemAction&&W.alt?W.alt:W);const G=x.push(W);W instanceof S.SubmenuAction&&P.add({group:F,action:W,index:G-1})}}for(const{group:F,action:E,index:x}of P){const W=k(F)?A:O,G=E.actions;(G.length<=1||W.length+G.length-2<=T)&&R(E,F,W.length)&&W.splice(x,1,...G)}if(A!==O&&A.length>T){const F=A.splice(T,A.length-T);O.unshift(...F,new S.Separator)}}let f=class extends I.ActionViewItem{constructor(w,D,k,T,R){super(void 0,w,{icon:!!(w.class||w.item.icon),label:!w.class&&!w.item.icon,draggable:D==null?void 0:D.draggable});this._keybindingService=k,this._notificationService=T,this._contextKeyService=R,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new v.MutableDisposable),this._altKey=_.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(w){return ke(this,void 0,void 0,function*(){w.preventDefault(),w.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(D){this._notificationService.error(D)}})}render(w){super.render(w),w.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let D=!1,k=this._altKey.keyStatus.altKey||(i.isWindows||i.isLinux)&&this._altKey.keyStatus.shiftKey;const T=()=>{const R=D&&k;R!==this._wantsAltCommand&&(this._wantsAltCommand=R,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(R=>{k=R.altKey||(i.isWindows||i.isLinux)&&R.shiftKey,T()})),this._register((0,_.addDisposableListener)(w,"mouseleave",R=>{D=!1,T()})),this._register((0,_.addDisposableListener)(w,"mouseenter",R=>{D=!0,T()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const w=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),D=w&&w.getLabel(),k=this._commandAction.tooltip||this._commandAction.label;let T=D?(0,C.localize)(0,null,k,D):k;if(!this._wantsAltCommand&&this._menuItemAction.alt){const R=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,M=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),A=M&&M.getLabel(),O=A?(0,C.localize)(1,null,R,A):R;T+=`
[${p.UILabelProvider.modifierLabels[i.OS].altKey}] ${O}`}this.label.title=T}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(w){var D;this._itemClassDispose.value=void 0;const{element:k,label:T}=this;if(!k||!T)return;const R=this._commandAction.checked&&((D=w.toggled)===null||D===void 0?void 0:D.icon)?w.toggled.icon:w.icon;if(!!R)if(l.ThemeIcon.isThemeIcon(R)){const M=l.ThemeIcon.asClassNameArray(R);T.classList.add(...M),this._itemClassDispose.value=(0,v.toDisposable)(()=>{T.classList.remove(...M)})}else R.light&&T.style.setProperty("--menu-entry-icon-light",(0,_.asCSSUrl)(R.light)),R.dark&&T.style.setProperty("--menu-entry-icon-dark",(0,_.asCSSUrl)(R.dark)),T.classList.add("icon"),this._itemClassDispose.value=(0,v.toDisposable)(()=>{T.classList.remove("icon"),T.style.removeProperty("--menu-entry-icon-light"),T.style.removeProperty("--menu-entry-icon-dark")})}};f=Re([me(2,d.IKeybindingService),me(3,r.INotificationService),me(4,a.IContextKeyService)],f),e.MenuEntryActionViewItem=f;let y=class extends L.DropdownMenuActionViewItem{constructor(w,D,k){var T,R;const M=Object.assign({},D??Object.create(null),{menuAsChild:(T=D==null?void 0:D.menuAsChild)!==null&&T!==void 0?T:!0,classNames:(R=D==null?void 0:D.classNames)!==null&&R!==void 0?R:l.ThemeIcon.isThemeIcon(w.item.icon)?l.ThemeIcon.asClassName(w.item.icon):void 0});super(w,{getActions:()=>w.actions},k,M)}render(w){if(super.render(w),this.element){w.classList.add("menu-entry");const{icon:D}=this._action.item;D&&!l.ThemeIcon.isThemeIcon(D)&&(this.element.classList.add("icon"),D.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,_.asCSSUrl)(D.light)),D.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,_.asCSSUrl)(D.dark)))}}};y=Re([me(2,u.IContextMenuService)],y),e.SubmenuEntryActionViewItem=y;let b=class extends I.BaseActionViewItem{constructor(w,D,k,T,R,M,A,O){var P,F,E;super(null,w);this._keybindingService=k,this._notificationService=T,this._contextMenuService=R,this._menuService=M,this._instaService=A,this._storageService=O,this._container=null,this._storageKey=`${w.item.submenu._debugName}_lastActionId`;let x,W=O.get(this._storageKey,1);W&&(x=w.actions.find(Y=>W===Y.id)),x||(x=w.actions[0]),this._defaultAction=this._instaService.createInstance(f,x,void 0);const G=Object.assign({},D??Object.create(null),{menuAsChild:(P=D==null?void 0:D.menuAsChild)!==null&&P!==void 0?P:!0,classNames:(F=D==null?void 0:D.classNames)!==null&&F!==void 0?F:["codicon","codicon-chevron-down"],actionRunner:(E=D==null?void 0:D.actionRunner)!==null&&E!==void 0?E:new S.ActionRunner});this._dropdown=new L.DropdownMenuActionViewItem(w,w.actions,this._contextMenuService,G),this._dropdown.actionRunner.onDidRun(Y=>{Y.action instanceof s.MenuItemAction&&this.update(Y.action)})}update(w){this._storageService.store(this._storageKey,w.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(f,w,void 0),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(D,k){return ke(this,void 0,void 0,function*(){yield D.run(void 0)})}},this._container&&this._defaultAction.render((0,_.prepend)(this._container,(0,_.$)(".action-container")))}setActionContext(w){super.setActionContext(w),this._defaultAction.setActionContext(w),this._dropdown.setActionContext(w)}render(w){this._container=w,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const D=(0,_.$)(".action-container");this._defaultAction.render((0,_.append)(this._container,D)),this._register((0,_.addDisposableListener)(D,_.EventType.KEY_DOWN,T=>{const R=new N.StandardKeyboardEvent(T);R.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),R.stopPropagation())}));const k=(0,_.$)(".dropdown-action-container");this._dropdown.render((0,_.append)(this._container,k)),this._register((0,_.addDisposableListener)(k,_.EventType.KEY_DOWN,T=>{var R;const M=new N.StandardKeyboardEvent(T);M.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(R=this._defaultAction.element)===null||R===void 0||R.focus(),M.stopPropagation())}))}focus(w){w?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(w){w?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};b=Re([me(2,d.IKeybindingService),me(3,r.INotificationService),me(4,u.IContextMenuService),me(5,s.IMenuService),me(6,h.IInstantiationService),me(7,n.IStorageService)],b);function g(m,w,D){return w instanceof s.MenuItemAction?m.createInstance(f,w,void 0):w instanceof s.SubmenuItemAction?w.item.rememberDefaultAction?m.createInstance(b,w,D):m.createInstance(y,w,D):void 0}e.createActionViewItem=g}),define(te[126],ne([0,1,7,86,50,29,6,35,28,152,631,522,15,9,76,16,22,27,196,365]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,u.createDecorator)("IPeekViewService"),(0,h.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(b,g){const m=this._widgets.get(b);m&&(m.listener.dispose(),m.widget.dispose());const w=()=>{const D=this._widgets.get(b);D&&D.widget===g&&(D.listener.dispose(),this._widgets.delete(b))};this._widgets.set(b,{widget:g,listener:g.onDidClose(w)})}});var t;(function(b){b.inPeekEditor=new a.RawContextKey("inReferenceSearchEditor",!0,s.localize(0,null)),b.notInPeekEditor=b.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let o=class{constructor(g,m){g instanceof i.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(m)}dispose(){}};o.ID="editor.contrib.referenceController",o=Re([me(1,a.IContextKeyService)],o),(0,d.registerEditorContribution)(o.ID,o);function c(b){let g=b.get(v.ICodeEditorService).getFocusedCodeEditor();return g instanceof i.EmbeddedCodeEditorWidget?g.getParentEditor():g}e.getOuterEditor=c;const f={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let y=class extends C.ZoneWidget{constructor(g,m,w){super(g,m);this.instantiationService=w,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,p.mixin(this.options,f,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(g){let m=this.options;g.headerBackgroundColor&&(m.headerBackgroundColor=g.headerBackgroundColor),g.primaryHeadingColor&&(m.primaryHeadingColor=g.primaryHeadingColor),g.secondaryHeadingColor&&(m.secondaryHeadingColor=g.secondaryHeadingColor),super.style(g)}_applyStyles(){super._applyStyles();let g=this.options;this._headElement&&g.headerBackgroundColor&&(this._headElement.style.backgroundColor=g.headerBackgroundColor.toString()),this._primaryHeading&&g.primaryHeadingColor&&(this._primaryHeading.style.color=g.primaryHeadingColor.toString()),this._secondaryHeading&&g.secondaryHeadingColor&&(this._secondaryHeading.style.color=g.secondaryHeadingColor.toString()),this._bodyElement&&g.frameColor&&(this._bodyElement.style.borderColor=g.frameColor.toString())}_fillContainer(g){this.setCssClass("peekview-widget"),this._headElement=_.$(".head"),this._bodyElement=_.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),g.appendChild(this._headElement),g.appendChild(this._bodyElement)}_fillHead(g,m){const w=_.$(".peekview-title");this.options.supportOnTitleClick&&(w.classList.add("clickable"),_.addStandardDisposableListener(w,"click",T=>this._onTitleClick(T))),_.append(this._headElement,w),this._fillTitleIcon(w),this._primaryHeading=_.$("span.filename"),this._secondaryHeading=_.$("span.dirname"),this._metaHeading=_.$("span.meta"),_.append(w,this._primaryHeading,this._secondaryHeading,this._metaHeading);const D=_.$(".peekview-actions");_.append(this._headElement,D);const k=this._getActionBarOptions();this._actionbarWidget=new N.ActionBar(D,k),this._disposables.add(this._actionbarWidget),m||this._actionbarWidget.push(new I.Action("peekview.close",s.localize(1,null),n.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(g){}_getActionBarOptions(){return{actionViewItemProvider:l.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(g){}setTitle(g,m){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=g,this._primaryHeading.setAttribute("title",g),m?this._secondaryHeading.innerText=m:_.clearNode(this._secondaryHeading))}setMetaTitle(g){this._metaHeading&&(g?(this._metaHeading.innerText=g,_.show(this._metaHeading)):_.hide(this._metaHeading))}_doLayout(g,m){if(!this._isShowing&&g<0){this.dispose();return}const w=Math.ceil(this.editor.getOption(58)*1.2),D=Math.round(g-(w+2));this._doLayoutHead(w,m),this._doLayoutBody(D,m)}_doLayoutHead(g,m){this._headElement&&(this._headElement.style.height=`${g}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(g,m){this._bodyElement&&(this._bodyElement.style.height=`${g}px`)}};y=Re([me(2,u.IInstantiationService)],y),e.PeekViewWidget=y,e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:(0,r.transparent)(r.editorInfoForeground,.1),light:(0,r.transparent)(r.editorInfoForeground,.1),hc:null},s.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:L.Color.white,light:L.Color.black,hc:L.Color.white},s.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},s.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:r.editorInfoForeground,light:r.editorInfoForeground,hc:r.contrastBorder},s.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:L.Color.black},s.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:L.Color.white},s.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hc:L.Color.white},s.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},s.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hc:L.Color.white},s.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:L.Color.black},s.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},s.localize(12,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},s.localize(13,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},s.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},s.localize(15,null))}),define(te[676],ne([0,1,7,86,2,125,535,196,33,15,9]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class s extends p.MenuEntryActionViewItem{updateLabel(){const h=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!h)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,s.symbolPrintEnter(h)))}static symbolPrintEnter(h){var d;return(d=h.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(h,d,r,n){this._menuService=r,this._contextKeyService=n,this._menuDisposables=new I.DisposableStore,this.element=_.append(h,_.$(".suggest-status-bar"));const l=t=>t instanceof v.MenuItemAction?d.createInstance(s,t,void 0):void 0;this._leftActions=new N.ActionBar(this.element,{actionViewItemProvider:l}),this._rightActions=new N.ActionBar(this.element,{actionViewItemProvider:l}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const h=this._menuService.createMenu(L.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const r=[],n=[];for(let[l,t]of h.getActions())l==="left"?r.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(h.onDidChange(()=>d())),this._menuDisposables.add(h)}hide(){this._menuDisposables.clear()}};a=Re([me(1,C.IInstantiationService),me(2,v.IMenuService),me(3,i.IContextKeyService)],a),e.SuggestWidgetStatus=a}),define(te[677],ne([0,1,14,6,2,33,26,15]),function($,e,_,N,I,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let v=class{constructor(s){this._commandService=s}createMenu(s,a,u){return new i(s,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},u),this._commandService,a,this)}};v=Re([me(0,S.ICommandService)],v),e.MenuService=v;let i=class st{constructor(s,a,u,h,d){this._id=s,this._options=a,this._commandService=u,this._contextKeyService=h,this._menuService=d,this._disposables=new I.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new _.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},a.eventDebounceDelay);this._disposables.add(r),this._disposables.add(L.MenuRegistry.onDidChangeMenu(t=>{t.has(s)&&r.schedule()}));const n=this._disposables.add(new I.DisposableStore),l=()=>{const t=new _.RunOnceScheduler(()=>this._onDidChange.fire(this),a.eventDebounceDelay);n.add(t),n.add(h.onDidChangeContext(o=>{o.affectsSome(this._contextKeys)&&t.schedule()}))};this._onDidChange=new N.Emitter({onFirstListenerAdd:l,onLastListenerRemove:n.clear.bind(n)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const s=L.MenuRegistry.getMenuItems(this._id);let a;s.sort(st._compareMenuItems);for(const u of s){const h=u.group||"";(!a||a[0]!==h)&&(a=[h,[]],this._menuGroups.push(a)),a[1].push(u),this._collectContextKeys(u)}}_collectContextKeys(s){if(st._fillInKbExprKeys(s.when,this._contextKeys),(0,L.isIMenuItem)(s)){if(s.command.precondition&&st._fillInKbExprKeys(s.command.precondition,this._contextKeys),s.command.toggled){const a=s.command.toggled.condition||s.command.toggled;st._fillInKbExprKeys(a,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&L.MenuRegistry.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}getActions(s){const a=[];for(let u of this._menuGroups){const[h,d]=u,r=[];for(const n of d)if(this._contextKeyService.contextMatchesRules(n.when)){const l=(0,L.isIMenuItem)(n)?new L.MenuItemAction(n.command,n.alt,s,this._contextKeyService,this._commandService):new L.SubmenuItemAction(n,this._menuService,this._contextKeyService,s);r.push(l)}r.length>0&&a.push([h,r])}return a}static _fillInKbExprKeys(s,a){if(s)for(let u of s.keys())a.add(u)}static _compareMenuItems(s,a){let u=s.group,h=a.group;if(u!==h){if(u){if(!h)return-1}else return 1;if(u==="navigation")return-1;if(h==="navigation")return 1;let n=u.localeCompare(h);if(n!==0)return n}let d=s.order||0,r=a.order||0;return d<r?-1:d>r?1:st._compareTitles((0,L.isIMenuItem)(s)?s.command.title:s.title,(0,L.isIMenuItem)(a)?a.command.title:a.title)}static _compareTitles(s,a){const u=typeof s=="string"?s:s.original,h=typeof a=="string"?a:a.original;return u.localeCompare(h)}};i=Re([me(2,S.ICommandService),me(3,p.IContextKeyService),me(4,L.IMenuService)],i)}),define(te[678],ne([0,1,7,2,39,34,90,12,596,69]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let C=class extends N.Disposable{constructor(a,u,h,d,r){super();this.contextMenuHandler=new v.ContextMenuHandler(h,a,u,d,r)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){this.contextMenuHandler.showContextMenu(a),_.ModifierKeyEmitter.getInstance().resetKeyStatus()}};C=Re([me(0,S.ITelemetryService),me(1,L.INotificationService),me(2,i.IContextViewService),me(3,I.IKeybindingService),me(4,p.IThemeService)],C),e.ContextMenuService=C}),define(te[155],ne([0,1,7,327,109,330,448,447,244,6,2,547,60,40,99,15,257,9,39,32,124,12]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,n.createDecorator)("listService");let f=class{constructor(U){this._themeService=U,this.disposables=new C.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(U,ee){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const j=new I.DefaultStyleController((0,_.createStyleSheet)(),"");this.disposables.add((0,o.attachListStyler)(j,this._themeService))}if(this.lists.some(j=>j.widget===U))throw new Error("Cannot register the same widget multiple times");const de={widget:U,extraContextKeys:ee};return this.lists.push(de),U.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=U),(0,C.combinedDisposable)(U.onDidFocus(()=>this._lastFocusedWidget=U),(0,C.toDisposable)(()=>this.lists.splice(this.lists.indexOf(de),1)),U.onDidDispose(()=>{this.lists=this.lists.filter(j=>j!==de),this._lastFocusedWidget===U&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};f=Re([me(0,c.IThemeService)],f),e.ListService=f;const y=new d.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new d.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=d.ContextKeyExpr.and(y,d.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new d.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new d.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new d.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new d.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function b(Q,U){const ee=Q.createScoped(U.getHTMLElement());return y.bindTo(ee),ee}const g="workbench.list.multiSelectModifier",m="workbench.list.openMode",w="workbench.list.horizontalScrolling",D="workbench.list.keyboardNavigation",k="workbench.list.automaticKeyboardNavigation",T="workbench.tree.indent",R="workbench.tree.renderIndentGuides",M="workbench.list.smoothScrolling",A="workbench.list.mouseWheelScrollSensitivity",O="workbench.list.fastScrollSensitivity",P="workbench.tree.expandMode";function F(Q){return Q.getValue(g)==="alt"}class E extends C.Disposable{constructor(U){super();this.configurationService=U,this.useAltAsMultipleSelectionModifier=F(U),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(U=>{U.affectsConfiguration(g)&&(this.useAltAsMultipleSelectionModifier=F(this.configurationService))}))}isSelectionSingleChangeEvent(U){return this.useAltAsMultipleSelectionModifier?U.browserEvent.altKey:(0,I.isSelectionSingleChangeEvent)(U)}isSelectionRangeChangeEvent(U){return(0,I.isSelectionRangeChangeEvent)(U)}}function x(Q,U,ee){var de;const j=new C.DisposableStore;return[Object.assign(Object.assign({},Q),{keyboardNavigationDelegate:{mightProducePrintableCharacter(X){return ee.mightProducePrintableCharacter(X)}},smoothScrolling:Boolean(U.getValue(M)),mouseWheelScrollSensitivity:U.getValue(A),fastScrollSensitivity:U.getValue(O),multipleSelectionController:(de=Q.multipleSelectionController)!==null&&de!==void 0?de:j.add(new E(U))}),j]}let W=class extends I.List{constructor(U,ee,de,j,ue,X,q,oe,he,ge){const pe=typeof ue.horizontalScrolling!="undefined"?ue.horizontalScrolling:Boolean(he.getValue(w)),[ve,Le]=x(ue,he,ge);super(U,ee,de,j,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,o.computeStyles)(oe.getColorTheme(),o.defaultListStyles)),ve),{horizontalScrolling:pe}));this.disposables.add(Le),this.contextKeyService=b(X,this),this.themeService=oe,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ue.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ue.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ue.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(he),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),ue.overrideStyles&&this.updateStyles(ue.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ne=this.getSelection(),Ae=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ne.length>0||Ae.length>0),this.listMultiSelection.set(Ne.length>1),this.listDoubleSelection.set(Ne.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ne=this.getSelection(),Ae=this.getFocus();this.listHasSelectionOrFocus.set(Ne.length>0||Ae.length>0)})),this.disposables.add(he.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(he));let Ae={};if(Ne.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const Oe=Boolean(he.getValue(w));Ae=Object.assign(Object.assign({},Ae),{horizontalScrolling:Oe})}if(Ne.affectsConfiguration(M)){const Oe=Boolean(he.getValue(M));Ae=Object.assign(Object.assign({},Ae),{smoothScrolling:Oe})}if(Ne.affectsConfiguration(A)){const Oe=he.getValue(A);Ae=Object.assign(Object.assign({},Ae),{mouseWheelScrollSensitivity:Oe})}if(Ne.affectsConfiguration(O)){const Oe=he.getValue(O);Ae=Object.assign(Object.assign({},Ae),{fastScrollSensitivity:Oe})}Object.keys(Ae).length>0&&this.updateOptions(Ae)})),this.navigator=new re(this,Object.assign({configurationService:he},ue)),this.disposables.add(this.navigator)}updateOptions(U){super.updateOptions(U),U.overrideStyles&&this.updateStyles(U.overrideStyles),U.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!U.multipleSelectionSupport)}updateStyles(U){var ee;(ee=this._styler)===null||ee===void 0||ee.dispose(),this._styler=(0,o.attachListStyler)(this,this.themeService,U)}dispose(){var U;(U=this._styler)===null||U===void 0||U.dispose(),super.dispose()}};W=Re([me(5,d.IContextKeyService),me(6,e.IListService),me(7,c.IThemeService),me(8,u.IConfigurationService),me(9,l.IKeybindingService)],W),e.WorkbenchList=W;let G=class extends N.PagedList{constructor(U,ee,de,j,ue,X,q,oe,he,ge){const pe=typeof ue.horizontalScrolling!="undefined"?ue.horizontalScrolling:Boolean(he.getValue(w)),[ve,Le]=x(ue,he,ge);super(U,ee,de,j,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,o.computeStyles)(oe.getColorTheme(),o.defaultListStyles)),ve),{horizontalScrolling:pe}));this.disposables=new C.DisposableStore,this.disposables.add(Le),this.contextKeyService=b(X,this),this.themeService=oe,this.horizontalScrolling=ue.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ue.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ue.selectionNavigation)),this._useAltAsMultipleSelectionModifier=F(he),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),ue.overrideStyles&&this.updateStyles(ue.overrideStyles),ue.overrideStyles&&this.disposables.add((0,o.attachListStyler)(this,oe,ue.overrideStyles)),this.disposables.add(he.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(he));let Ae={};if(Ne.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const Oe=Boolean(he.getValue(w));Ae=Object.assign(Object.assign({},Ae),{horizontalScrolling:Oe})}if(Ne.affectsConfiguration(M)){const Oe=Boolean(he.getValue(M));Ae=Object.assign(Object.assign({},Ae),{smoothScrolling:Oe})}if(Ne.affectsConfiguration(A)){const Oe=he.getValue(A);Ae=Object.assign(Object.assign({},Ae),{mouseWheelScrollSensitivity:Oe})}if(Ne.affectsConfiguration(O)){const Oe=he.getValue(O);Ae=Object.assign(Object.assign({},Ae),{fastScrollSensitivity:Oe})}Object.keys(Ae).length>0&&this.updateOptions(Ae)})),this.navigator=new re(this,Object.assign({configurationService:he},ue)),this.disposables.add(this.navigator)}updateOptions(U){super.updateOptions(U),U.overrideStyles&&this.updateStyles(U.overrideStyles),U.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!U.multipleSelectionSupport)}updateStyles(U){var ee;(ee=this._styler)===null||ee===void 0||ee.dispose(),this._styler=(0,o.attachListStyler)(this,this.themeService,U)}dispose(){var U;(U=this._styler)===null||U===void 0||U.dispose(),this.disposables.dispose(),super.dispose()}};G=Re([me(5,d.IContextKeyService),me(6,e.IListService),me(7,c.IThemeService),me(8,u.IConfigurationService),me(9,l.IKeybindingService)],G),e.WorkbenchPagedList=G;let Y=class extends L.Table{constructor(U,ee,de,j,ue,X,q,oe,he,ge,pe){const ve=typeof X.horizontalScrolling!="undefined"?X.horizontalScrolling:Boolean(ge.getValue(w)),[Le,Te]=x(X,ge,pe);super(U,ee,de,j,ue,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,o.computeStyles)(he.getColorTheme(),o.defaultListStyles)),Le),{horizontalScrolling:ve}));this.disposables=new C.DisposableStore,this.disposables.add(Te),this.contextKeyService=b(q,this),this.themeService=he,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(X.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(X.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=X.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(ge),this.disposables.add(this.contextKeyService),this.disposables.add(oe.register(this)),X.overrideStyles&&this.updateStyles(X.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ae=this.getSelection(),Oe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ae.length>0||Oe.length>0),this.listMultiSelection.set(Ae.length>1),this.listDoubleSelection.set(Ae.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ae=this.getSelection(),Oe=this.getFocus();this.listHasSelectionOrFocus.set(Ae.length>0||Oe.length>0)})),this.disposables.add(ge.onDidChangeConfiguration(Ae=>{Ae.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(ge));let Oe={};if(Ae.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const We=Boolean(ge.getValue(w));Oe=Object.assign(Object.assign({},Oe),{horizontalScrolling:We})}if(Ae.affectsConfiguration(M)){const We=Boolean(ge.getValue(M));Oe=Object.assign(Object.assign({},Oe),{smoothScrolling:We})}if(Ae.affectsConfiguration(A)){const We=ge.getValue(A);Oe=Object.assign(Object.assign({},Oe),{mouseWheelScrollSensitivity:We})}if(Ae.affectsConfiguration(O)){const We=ge.getValue(O);Oe=Object.assign(Object.assign({},Oe),{fastScrollSensitivity:We})}Object.keys(Oe).length>0&&this.updateOptions(Oe)})),this.navigator=new J(this,Object.assign({configurationService:ge},X)),this.disposables.add(this.navigator)}updateOptions(U){super.updateOptions(U),U.overrideStyles&&this.updateStyles(U.overrideStyles),U.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!U.multipleSelectionSupport)}updateStyles(U){var ee;(ee=this._styler)===null||ee===void 0||ee.dispose(),this._styler=(0,o.attachListStyler)(this,this.themeService,U)}dispose(){var U;(U=this._styler)===null||U===void 0||U.dispose(),this.disposables.dispose(),super.dispose()}};Y=Re([me(6,d.IContextKeyService),me(7,e.IListService),me(8,c.IThemeService),me(9,u.IConfigurationService),me(10,l.IKeybindingService)],Y),e.WorkbenchTable=Y;class se extends C.Disposable{constructor(U,ee){var de;super();this.widget=U,this._onDidOpen=this._register(new i.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(i.Event.filter(this.widget.onDidChangeSelection,j=>j.browserEvent instanceof KeyboardEvent)(j=>this.onSelectionFromKeyboard(j))),this._register(this.widget.onPointer(j=>this.onPointer(j.element,j.browserEvent))),this._register(this.widget.onMouseDblClick(j=>this.onMouseDblClick(j.element,j.browserEvent))),typeof(ee==null?void 0:ee.openOnSingleClick)!="boolean"&&(ee==null?void 0:ee.configurationService)?(this.openOnSingleClick=(ee==null?void 0:ee.configurationService.getValue(m))!=="doubleClick",this._register(ee==null?void 0:ee.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(ee==null?void 0:ee.configurationService.getValue(m))!=="doubleClick"}))):this.openOnSingleClick=(de=ee==null?void 0:ee.openOnSingleClick)!==null&&de!==void 0?de:!0}onSelectionFromKeyboard(U){if(U.elements.length!==1)return;const ee=U.browserEvent,de=typeof ee.preserveFocus=="boolean"?ee.preserveFocus:!0,j=typeof ee.pinned=="boolean"?ee.pinned:!de,ue=!1;this._open(this.getSelectedElement(),de,j,ue,U.browserEvent)}onPointer(U,ee){if(!this.openOnSingleClick||ee.detail===2)return;const j=ee.button===1,ue=!0,X=j,q=ee.ctrlKey||ee.metaKey||ee.altKey;this._open(U,ue,X,q,ee)}onMouseDblClick(U,ee){if(!ee)return;const de=ee.target;if(de.classList.contains("monaco-tl-twistie")||de.classList.contains("monaco-icon-label")&&de.classList.contains("folder-icon")&&ee.offsetX<16)return;const ue=!1,X=!0,q=ee.ctrlKey||ee.metaKey||ee.altKey;this._open(U,ue,X,q,ee)}_open(U,ee,de,j,ue){!U||this._onDidOpen.fire({editorOptions:{preserveFocus:ee,pinned:de,revealIfVisible:!0},sideBySide:j,element:U,browserEvent:ue})}}class re extends se{constructor(U,ee){super(U,ee);this.widget=U}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class J extends se{constructor(U,ee){super(U,ee)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class le extends se{constructor(U,ee){super(U,ee)}getSelectedElement(){var U;return(U=this.widget.getSelection()[0])!==null&&U!==void 0?U:void 0}}function ae(Q,U){let ee=!1;return de=>{if(ee)return ee=!1,!1;const j=U.softDispatch(de,Q);return j&&j.enterChord?(ee=!0,!1):(ee=!1,!0)}}let V=class extends v.ObjectTree{constructor(U,ee,de,j,ue,X,q,oe,he,ge,pe){const{options:ve,getAutomaticKeyboardNavigation:Le,disposable:Te}=ie(ee,ue,X,he,ge,pe);super(U,ee,de,j,ve);this.disposables.add(Te),this.internals=new ce(this,ue,Le,ue.overrideStyles,X,q,oe,he,pe),this.disposables.add(this.internals)}updateOptions(U){super.updateOptions(U),this.internals.updateOptions(U)}};V=Re([me(5,d.IContextKeyService),me(6,e.IListService),me(7,c.IThemeService),me(8,u.IConfigurationService),me(9,l.IKeybindingService),me(10,a.IAccessibilityService)],V),e.WorkbenchObjectTree=V;let B=class extends v.CompressibleObjectTree{constructor(U,ee,de,j,ue,X,q,oe,he,ge,pe){const{options:ve,getAutomaticKeyboardNavigation:Le,disposable:Te}=ie(ee,ue,X,he,ge,pe);super(U,ee,de,j,ve);this.disposables.add(Te),this.internals=new ce(this,ue,Le,ue.overrideStyles,X,q,oe,he,pe),this.disposables.add(this.internals)}updateOptions(U={}){super.updateOptions(U),U.overrideStyles&&this.internals.updateStyleOverrides(U.overrideStyles),this.internals.updateOptions(U)}};B=Re([me(5,d.IContextKeyService),me(6,e.IListService),me(7,c.IThemeService),me(8,u.IConfigurationService),me(9,l.IKeybindingService),me(10,a.IAccessibilityService)],B),e.WorkbenchCompressibleObjectTree=B;let Z=class extends p.DataTree{constructor(U,ee,de,j,ue,X,q,oe,he,ge,pe,ve){const{options:Le,getAutomaticKeyboardNavigation:Te,disposable:Ne}=ie(ee,X,q,ge,pe,ve);super(U,ee,de,j,ue,Le);this.disposables.add(Ne),this.internals=new ce(this,X,Te,X.overrideStyles,q,oe,he,ge,ve),this.disposables.add(this.internals)}updateOptions(U={}){super.updateOptions(U),U.overrideStyles&&this.internals.updateStyleOverrides(U.overrideStyles),this.internals.updateOptions(U)}};Z=Re([me(6,d.IContextKeyService),me(7,e.IListService),me(8,c.IThemeService),me(9,u.IConfigurationService),me(10,l.IKeybindingService),me(11,a.IAccessibilityService)],Z),e.WorkbenchDataTree=Z;let H=class extends S.AsyncDataTree{constructor(U,ee,de,j,ue,X,q,oe,he,ge,pe,ve){const{options:Le,getAutomaticKeyboardNavigation:Te,disposable:Ne}=ie(ee,X,q,ge,pe,ve);super(U,ee,de,j,ue,Le);this.disposables.add(Ne),this.internals=new ce(this,X,Te,X.overrideStyles,q,oe,he,ge,ve),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(U={}){super.updateOptions(U),U.overrideStyles&&this.internals.updateStyleOverrides(U.overrideStyles),this.internals.updateOptions(U)}};H=Re([me(6,d.IContextKeyService),me(7,e.IListService),me(8,c.IThemeService),me(9,u.IConfigurationService),me(10,l.IKeybindingService),me(11,a.IAccessibilityService)],H),e.WorkbenchAsyncDataTree=H;let z=class extends S.CompressibleAsyncDataTree{constructor(U,ee,de,j,ue,X,q,oe,he,ge,pe,ve,Le){const{options:Te,getAutomaticKeyboardNavigation:Ne,disposable:Ae}=ie(ee,q,oe,pe,ve,Le);super(U,ee,de,j,ue,X,Te);this.disposables.add(Ae),this.internals=new ce(this,q,Ne,q.overrideStyles,oe,he,ge,pe,Le),this.disposables.add(this.internals)}updateOptions(U){super.updateOptions(U),this.internals.updateOptions(U)}};z=Re([me(7,d.IContextKeyService),me(8,e.IListService),me(9,c.IThemeService),me(10,u.IConfigurationService),me(11,l.IKeybindingService),me(12,a.IAccessibilityService)],z),e.WorkbenchCompressibleAsyncDataTree=z;function ie(Q,U,ee,de,j,ue){var X;const q=()=>{let Te=Boolean(ee.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return Te&&(Te=Boolean(de.getValue(k))),Te},oe=ue.isScreenReaderOptimized(),he=U.simpleKeyboardNavigation||oe?"simple":de.getValue(D),ge=U.horizontalScrolling!==void 0?U.horizontalScrolling:Boolean(de.getValue(w)),[pe,ve]=x(U,de,j),Le=U.additionalScrollHeight;return{getAutomaticKeyboardNavigation:q,disposable:ve,options:Object.assign(Object.assign({keyboardSupport:!1},pe),{indent:typeof de.getValue(T)=="number"?de.getValue(T):void 0,renderIndentGuides:de.getValue(R),smoothScrolling:Boolean(de.getValue(M)),automaticKeyboardNavigation:q(),simpleKeyboardNavigation:he==="simple",filterOnType:he==="filter",horizontalScrolling:ge,keyboardNavigationEventFilter:ae(Q,j),additionalScrollHeight:Le,hideTwistiesOfChildlessElements:U.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(X=U.expandOnlyOnTwistieClick)!==null&&X!==void 0?X:de.getValue(P)==="doubleClick"})}}let ce=class{constructor(U,ee,de,j,ue,X,q,oe,he){this.tree=U,this.themeService=q,this.disposables=[],this.contextKeyService=b(ue,U),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ee.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ee.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=F(oe);const pe=new Set;pe.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const ve=()=>{const Te=he.isScreenReaderOptimized()?"simple":oe.getValue(D);U.updateOptions({simpleKeyboardNavigation:Te==="simple",filterOnType:Te==="filter"})};this.updateStyleOverrides(j),this.disposables.push(this.contextKeyService,X.register(U),U.onDidChangeSelection(()=>{const Le=U.getSelection(),Te=U.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Le.length>0||Te.length>0),this.hasMultiSelection.set(Le.length>1),this.hasDoubleSelection.set(Le.length===2)})}),U.onDidChangeFocus(()=>{const Le=U.getSelection(),Te=U.getFocus();this.hasSelectionOrFocus.set(Le.length>0||Te.length>0)}),oe.onDidChangeConfiguration(Le=>{let Te={};if(Le.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(oe)),Le.affectsConfiguration(T)){const Ne=oe.getValue(T);Te=Object.assign(Object.assign({},Te),{indent:Ne})}if(Le.affectsConfiguration(R)){const Ne=oe.getValue(R);Te=Object.assign(Object.assign({},Te),{renderIndentGuides:Ne})}if(Le.affectsConfiguration(M)){const Ne=Boolean(!!oe.getValue(M));Te=Object.assign(Object.assign({},Te),{smoothScrolling:Ne})}if(Le.affectsConfiguration(D)&&ve(),Le.affectsConfiguration(k)&&(Te=Object.assign(Object.assign({},Te),{automaticKeyboardNavigation:de()})),Le.affectsConfiguration(w)&&ee.horizontalScrolling===void 0){const Ne=Boolean(!!oe.getValue(w));Te=Object.assign(Object.assign({},Te),{horizontalScrolling:Ne})}if(Le.affectsConfiguration(P)&&ee.expandOnlyOnTwistieClick===void 0&&(Te=Object.assign(Object.assign({},Te),{expandOnlyOnTwistieClick:oe.getValue(P)==="doubleClick"})),Le.affectsConfiguration(A)){const Ne=oe.getValue(A);Te=Object.assign(Object.assign({},Te),{mouseWheelScrollSensitivity:Ne})}if(Le.affectsConfiguration(O)){const Ne=oe.getValue(O);Te=Object.assign(Object.assign({},Te),{fastScrollSensitivity:Ne})}Object.keys(Te).length>0&&U.updateOptions(Te)}),this.contextKeyService.onDidChangeContext(Le=>{Le.affectsSome(pe)&&U.updateOptions({automaticKeyboardNavigation:de()})}),he.onDidChangeScreenReaderOptimized(()=>ve())),this.navigator=new le(U,Object.assign({configurationService:oe},ee)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(U){U.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!U.multipleSelectionSupport)}updateStyleOverrides(U){(0,C.dispose)(this.styler),this.styler=U?(0,o.attachListStyler)(this.tree,this.themeService,U):C.Disposable.None}dispose(){this.disposables=(0,C.dispose)(this.disposables),(0,C.dispose)(this.styler),this.styler=void 0}};ce=Re([me(4,d.IContextKeyService),me(5,e.IListService),me(6,c.IThemeService),me(7,u.IConfigurationService),me(8,a.IAccessibilityService)],ce),t.Registry.as(h.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,s.localize)(0,null),type:"object",properties:{[g]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,s.localize)(1,null),(0,s.localize)(2,null)],default:"ctrlCmd",description:(0,s.localize)(3,null)},[m]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(4,null)},[w]:{type:"boolean",default:!1,description:(0,s.localize)(5,null)},[T]:{type:"number",default:8,minimum:0,maximum:40,description:(0,s.localize)(6,null)},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,s.localize)(7,null)},[M]:{type:"boolean",default:!1,description:(0,s.localize)(8,null)},[A]:{type:"number",default:1,description:(0,s.localize)(9,null)},[O]:{type:"number",default:5,description:(0,s.localize)(10,null)},[D]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,s.localize)(11,null),(0,s.localize)(12,null),(0,s.localize)(13,null)],default:"highlight",description:(0,s.localize)(14,null)},[k]:{type:"boolean",default:!0,markdownDescription:(0,s.localize)(15,null)},[P]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(16,null)}}})}),define(te[679],ne([0,1,23,463,60,15,9,146,155,591,22,124,12]),function($,e,_,N,I,L,S,p,v,i,C,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let u=class extends a.Themable{constructor(d,r,n,l,t){super(n);this.instantiationService=d,this.contextKeyService=r,this.accessibilityService=l,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(i.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,r){var n,l;const t={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:c=>this.setContextKey(c),returnFocus:()=>d.focus(),createList:(c,f,y,b,g)=>this.instantiationService.createInstance(v.WorkbenchList,c,f,y,b,g),styles:this.computeStyles()},o=this._register(new N.QuickInputController(Object.assign(Object.assign({},t),r)));return o.layout(d.dimension,(l=(n=d.offset)===null||n===void 0?void 0:n.top)!==null&&l!==void 0?l:0),this._register(d.onDidLayout(c=>{var f,y;return o.layout(c,(y=(f=d.offset)===null||f===void 0?void 0:f.top)!==null&&y!==void 0?y:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(d){let r;d&&(r=this.contexts.get(d),r||(r=new L.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,r={},n=_.CancellationToken.None){return this.controller.pick(d,r,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,s.computeStyles)(this.theme,{quickInputBackground:C.quickInputBackground,quickInputForeground:C.quickInputForeground,quickInputTitleBackground:C.quickInputTitleBackground,contrastBorder:C.contrastBorder,widgetShadow:C.widgetShadow})),inputBox:(0,s.computeStyles)(this.theme,{inputForeground:C.inputForeground,inputBackground:C.inputBackground,inputBorder:C.inputBorder,inputValidationInfoBackground:C.inputValidationInfoBackground,inputValidationInfoForeground:C.inputValidationInfoForeground,inputValidationInfoBorder:C.inputValidationInfoBorder,inputValidationWarningBackground:C.inputValidationWarningBackground,inputValidationWarningForeground:C.inputValidationWarningForeground,inputValidationWarningBorder:C.inputValidationWarningBorder,inputValidationErrorBackground:C.inputValidationErrorBackground,inputValidationErrorForeground:C.inputValidationErrorForeground,inputValidationErrorBorder:C.inputValidationErrorBorder}),countBadge:(0,s.computeStyles)(this.theme,{badgeBackground:C.badgeBackground,badgeForeground:C.badgeForeground,badgeBorder:C.contrastBorder}),button:(0,s.computeStyles)(this.theme,{buttonForeground:C.buttonForeground,buttonBackground:C.buttonBackground,buttonHoverBackground:C.buttonHoverBackground,buttonBorder:C.contrastBorder}),progressBar:(0,s.computeStyles)(this.theme,{progressBarBackground:C.progressBarBackground}),keybindingLabel:(0,s.computeStyles)(this.theme,{keybindingLabelBackground:C.keybindingLabelBackground,keybindingLabelForeground:C.keybindingLabelForeground,keybindingLabelBorder:C.keybindingLabelBorder,keybindingLabelBottomBorder:C.keybindingLabelBottomBorder,keybindingLabelShadow:C.widgetShadow}),list:(0,s.computeStyles)(this.theme,{listBackground:C.quickInputBackground,listInactiveFocusForeground:C.quickInputListFocusForeground,listInactiveSelectionIconForeground:C.quickInputListFocusIconForeground,listInactiveFocusBackground:C.quickInputListFocusBackground,listFocusOutline:C.activeContrastBorder,listInactiveFocusOutline:C.activeContrastBorder,pickerGroupBorder:C.pickerGroupBorder,pickerGroupForeground:C.pickerGroupForeground})}}};u=Re([me(0,S.IInstantiationService),me(1,L.IContextKeyService),me(2,a.IThemeService),me(3,I.IAccessibilityService),me(4,p.ILayoutService)],u),e.QuickInputService=u}),define(te[680],ne([0,1,16,12,23,9,15,60,146,28,679,82,373]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let a=class extends C.QuickInputService{constructor(n,l,t,o,c,f){super(l,t,o,c,f);this.host=void 0;const y=h.get(n);this.host={_serviceBrand:void 0,get container(){return y.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};a=Re([me(1,L.IInstantiationService),me(2,S.IContextKeyService),me(3,N.IThemeService),me(4,p.IAccessibilityService),me(5,v.ILayoutService)],a),e.EditorScopedQuickInputServiceImpl=a;let u=class{constructor(n,l){this.instantiationService=n,this.codeEditorService=l,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let l=this.mapEditorToService.get(n);if(!l){const t=l=this.instantiationService.createInstance(a,n);this.mapEditorToService.set(n,l),(0,s.once)(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return l}get quickAccess(){return this.activeService.quickAccess}pick(n,l={},t=I.CancellationToken.None){return this.activeService.pick(n,l,t)}createQuickPick(){return this.activeService.createQuickPick()}};u=Re([me(0,L.IInstantiationService),me(1,i.ICodeEditorService)],u),e.StandaloneQuickInputServiceImpl=u;class h{constructor(n){this.editor=n,this.widget=new d(this.editor)}static get(n){return n.getContribution(h.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=h,h.ID="editor.controller.quickInput";class d{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",(0,_.registerEditorContribution)(h.ID,h)}),define(te[681],ne([0,1,27,74,22,12]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(p){function v(i){switch(i){case N.default.Ignore:return"severity-ignore "+_.Codicon.info.classNames;case N.default.Info:return _.Codicon.info.classNames;case N.default.Warning:return _.Codicon.warning.classNames;case N.default.Error:return _.Codicon.error.classNames;default:return""}}p.className=v})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,L.registerThemingParticipant)((p,v)=>{const i=p.getColor(I.problemsErrorIconForeground);if(i){const a=_.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.text-search-provider-messages .providerMessage ${a},
			.extensions-viewlet > .extensions ${a} {
				color: ${i};
			}
		`)}const C=p.getColor(I.problemsWarningIconForeground);if(C){const a=_.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a},
			.text-search-provider-messages .providerMessage ${a},
			.preferences-editor ${a} {
				color: ${C};
			}
		`)}const s=p.getColor(I.problemsInfoIconForeground);if(s){const a=_.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.text-search-provider-messages .providerMessage ${a},
			.extension-editor ${a} {
				color: ${s};
			}
		`)}})}),define(te[682],ne([0,1,500,7,2,89,3,22,12,29,62,165,19,6,126,44,681,57,33,15,196,9,8,122,358]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class b{constructor(T,R,M,A,O){this._openerService=A,this._labelService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new I.DisposableStore,this._editor=R;const P=document.createElement("div");P.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),P.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),P.appendChild(this._relatedBlock),this._disposables.add(N.addStandardDisposableListener(this._relatedBlock,"click",F=>{F.preventDefault();const E=this._relatedDiagnostics.get(F.target);E&&M(E)})),this._scrollable=new C.ScrollableElement(P,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),T.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(F=>{P.style.left=`-${F.scrollLeft}px`,P.style.top=`-${F.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,I.dispose)(this._disposables)}update(T){const{source:R,message:M,relatedInformation:A,code:O}=T;let P=((R==null?void 0:R.length)||0)+"()".length;O&&(typeof O=="string"?P+=O.length:P+=O.value.length);const F=(0,f.splitLines)(M);this._lines=F.length,this._longestLineLength=0;for(const Y of F)this._longestLineLength=Math.max(Y.length+P,this._longestLineLength);N.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(T)),this._editor.applyFontInfo(this._messageBlock);let E=this._messageBlock;for(const Y of F)E=document.createElement("div"),E.innerText=Y,Y===""&&(E.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(E);if(R||O){const Y=document.createElement("span");if(Y.classList.add("details"),E.appendChild(Y),R){const se=document.createElement("span");se.innerText=R,se.classList.add("source"),Y.appendChild(se)}if(O)if(typeof O=="string"){const se=document.createElement("span");se.innerText=`(${O})`,se.classList.add("code"),Y.appendChild(se)}else{this._codeLink=N.$("a.code-link"),this._codeLink.setAttribute("href",`${O.target.toString()}`),this._codeLink.onclick=re=>{this._openerService.open(O.target,{allowCommands:!0}),re.preventDefault(),re.stopPropagation()};const se=N.append(this._codeLink,N.$("span"));se.innerText=O.value,Y.appendChild(this._codeLink)}}if(N.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,a.isNonEmptyArray)(A)){const Y=this._relatedBlock.appendChild(document.createElement("div"));Y.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const se of A){let re=document.createElement("div"),J=document.createElement("a");J.classList.add("filename"),J.innerText=`${(0,s.getBaseLabel)(se.resource)}(${se.startLineNumber}, ${se.startColumn}): `,J.title=this._labelService.getUriLabel(se.resource),this._relatedDiagnostics.set(J,se);let le=document.createElement("span");le.innerText=se.message,re.appendChild(J),re.appendChild(le),this._lines+=1,Y.appendChild(re)}}const x=this._editor.getOption(42),W=Math.ceil(x.typicalFullwidthCharacterWidth*this._longestLineLength*.75),G=x.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:G})}layout(T,R){this._scrollable.getDomNode().style.height=`${T}px`,this._scrollable.getDomNode().style.width=`${R}px`,this._scrollable.setScrollDimensions({width:R,height:T})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(T){let R="";switch(T.severity){case L.MarkerSeverity.Error:R=_.localize(0,null);break;case L.MarkerSeverity.Warning:R=_.localize(1,null);break;case L.MarkerSeverity.Info:R=_.localize(2,null);break;case L.MarkerSeverity.Hint:R=_.localize(3,null);break}let M=_.localize(4,null,R,T.startLineNumber+":"+T.startColumn);const A=this._editor.getModel();return A&&T.startLineNumber<=A.getLineCount()&&T.startLineNumber>=1&&(M=`${A.getLineContent(T.startLineNumber)}, ${M}`),M}}let g=class Qt extends h.PeekViewWidget{constructor(T,R,M,A,O,P,F){super(T,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},O);this._themeService=R,this._openerService=M,this._menuService=A,this._contextKeyService=P,this._labelService=F,this._callOnDispose=new I.DisposableStore,this._onDidSelectRelatedInformation=new u.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=L.MarkerSeverity.Warning,this._backgroundColor=i.Color.white,this._applyTheme(R.getColorTheme()),this._callOnDispose.add(R.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(T){this._backgroundColor=T.getColor(e.editorMarkerNavigationBackground);let R=e.editorMarkerNavigationError,M=e.editorMarkerNavigationErrorHeader;this._severity===L.MarkerSeverity.Warning?(R=e.editorMarkerNavigationWarning,M=e.editorMarkerNavigationWarningHeader):this._severity===L.MarkerSeverity.Info&&(R=e.editorMarkerNavigationInfo,M=e.editorMarkerNavigationInfoHeader);const A=T.getColor(R),O=T.getColor(M);this.style({arrowColor:A,frameColor:A,headerBackgroundColor:O,primaryHeadingColor:T.getColor(h.peekViewTitleForeground),secondaryHeadingColor:T.getColor(h.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(T){super._fillHead(T),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(A=>this.editor.focus()));const R=[],M=this._menuService.createMenu(Qt.TitleMenu,this._contextKeyService);(0,o.createAndFillInActionBarActions)(M,void 0,R),this._actionbarWidget.push(R,{label:!1,icon:!0,index:0}),M.dispose()}_fillTitleIcon(T){this._icon=N.append(T,N.$(""))}_fillBody(T){this._parentContainer=T,T.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),T.appendChild(this._container),this._message=new b(this._container,this.editor,R=>this._onDidSelectRelatedInformation.fire(R),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(T,R,M){this._container.classList.remove("stale"),this._message.update(T),this._severity=T.severity,this._applyTheme(this._themeService.getColorTheme());let A=S.Range.lift(T);const O=this.editor.getPosition();let P=O&&A.containsPosition(O)?O:A.getStartPosition();super.show(P,this.computeRequiredHeight());const F=this.editor.getModel();if(F){const E=M>1?_.localize(5,null,R,M):_.localize(6,null,R,M);this.setTitle((0,d.basename)(F.uri),E)}this._icon.className=`codicon ${r.SeverityIcon.className(L.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(P,0),this.editor.focus()}updateMarker(T){this._container.classList.remove("stale"),this._message.update(T)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(T,R){super._doLayoutBody(T,R),this._heightInPixel=T,this._message.layout(T,R),this._container.style.height=`${T}px`}_onWidth(T){this._message.layout(this._heightInPixel,T)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};g.TitleMenu=new l.MenuId("gotoErrorTitleMenu"),g=Re([me(1,v.IThemeService),me(2,n.IOpenerService),me(3,l.IMenuService),me(4,c.IInstantiationService),me(5,t.IContextKeyService),me(6,y.ILabelService)],g),e.MarkerNavigationWidget=g;let m=(0,p.oneOf)(p.editorErrorForeground,p.editorErrorBorder),w=(0,p.oneOf)(p.editorWarningForeground,p.editorWarningBorder),D=(0,p.oneOf)(p.editorInfoForeground,p.editorInfoBorder);e.editorMarkerNavigationError=(0,p.registerColor)("editorMarkerNavigationError.background",{dark:m,light:m,hc:p.contrastBorder},_.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,p.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,p.transparent)(e.editorMarkerNavigationError,.1),light:(0,p.transparent)(e.editorMarkerNavigationError,.1),hc:null},_.localize(8,null)),e.editorMarkerNavigationWarning=(0,p.registerColor)("editorMarkerNavigationWarning.background",{dark:w,light:w,hc:p.contrastBorder},_.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,p.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,p.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,p.transparent)(e.editorMarkerNavigationWarning,.1),hc:"#0C141F"},_.localize(10,null)),e.editorMarkerNavigationInfo=(0,p.registerColor)("editorMarkerNavigationInfo.background",{dark:D,light:D,hc:p.contrastBorder},_.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,p.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,p.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,p.transparent)(e.editorMarkerNavigationInfo,.1),hc:null},_.localize(12,null)),e.editorMarkerNavigationBackground=(0,p.registerColor)("editorMarkerNavigation.background",{dark:p.editorBackground,light:p.editorBackground,hc:p.editorBackground},_.localize(13,null)),(0,v.registerThemingParticipant)((k,T)=>{const R=k.getColor(p.textLinkForeground);R&&T.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${R}; }`);const M=k.getColor(p.textLinkActiveForeground);M&&T.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${M}; }`)})}),define(te[81],ne([0,1,14,27,6,552,189,32,12]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new I.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,L.localize)(0,null)},fontCharacter:{type:"string",description:(0,L.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${N.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,l,t,o){const c=this.iconsById[n];if(c){if(t&&!c.description){c.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const b=this.iconReferenceSchema.enum.indexOf(n);b!==-1&&(this.iconReferenceSchema.enumDescriptions[b]=t),this._onDidChange.fire()}return c}let f={id:n,description:t,defaults:l,deprecationMessage:o};this.iconsById[n]=f;let y={$ref:"#/definitions/icons"};return o&&(y.deprecationMessage=o),t&&(y.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=y,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(c,f)=>c.id.localeCompare(f.id),l=c=>{for(;v.ThemeIcon.isThemeIcon(c.defaults);)c=this.iconsById[c.defaults.id];return`codicon codicon-${c?c.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const o=Object.keys(this.iconsById).map(c=>this.iconsById[c]);for(const c of o.filter(f=>!!f.description).sort(n))t.push(`|<i class="${l(c)}"></i>|${c.id}|${v.ThemeIcon.isThemeIcon(c.defaults)?c.defaults.id:c.id}|${c.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const c of o.filter(f=>!v.ThemeIcon.isThemeIcon(f.defaults)).sort(n))t.push(`|<i class="${l(c)}"></i>|${c.id}|`);return t.join(`
`)}}const C=new i;p.Registry.add(e.Extensions.IconContribution,C);function s(r,n,l,t){return C.registerIcon(r,n,l,t)}e.registerIcon=s;function a(){return C}e.getIconRegistry=a;function u(){for(const r of N.iconRegistry.all)C.registerIcon(r.id,r.definition,r.description);N.iconRegistry.onDidRegister(r=>C.registerIcon(r.id,r.definition,r.description))}u(),e.iconsSchemaId="vscode://schemas/icons";let h=p.Registry.as(S.Extensions.JSONContribution);h.registerSchema(e.iconsSchemaId,C.getIconSchema());const d=new _.RunOnceScheduler(()=>h.notifySchemaChanged(e.iconsSchemaId),200);C.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=s("widget-close",N.Codicon.close,(0,L.localize)(2,null))}),define(te[683],ne([0,1,470,7,30,86,62,50,2,65,16,28,37,87,13,46,115,63,15,22,12,27,81,348]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const b=3;class g{constructor(P,F,E,x){this.originalLineStart=P,this.originalLineEnd=F,this.modifiedLineStart=E,this.modifiedLineEnd=x}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class m{constructor(P){this.entries=P}}const w=(0,f.registerIcon)("diff-review-insert",c.Codicon.add,_.localize(0,null)),D=(0,f.registerIcon)("diff-review-remove",c.Codicon.remove,_.localize(1,null)),k=(0,f.registerIcon)("diff-review-close",c.Codicon.close,_.localize(2,null));class T extends v.Disposable{constructor(P){super();this._width=0,this._diffEditor=P,this._isVisible=!1,this.shadow=(0,I.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,I.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new L.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new p.Action("diffreview.close",_.localize(3,null),"close-diff-review "+o.ThemeIcon.asClassName(k),!0,()=>ke(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,I.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,I.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(P.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(P.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"click",F=>{F.preventDefault();let E=N.findParentWithClass(F.target,"diff-review-row");E&&this._goToRow(E)})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"keydown",F=>{(F.equals(18)||F.equals(2048|18)||F.equals(512|18))&&(F.preventDefault(),this._goToRow(this._getNextRow())),(F.equals(16)||F.equals(2048|16)||F.equals(512|16))&&(F.preventDefault(),this._goToRow(this._getPrevRow())),(F.equals(9)||F.equals(2048|9)||F.equals(512|9)||F.equals(1024|9))&&(F.preventDefault(),this.hide()),(F.equals(10)||F.equals(3))&&(F.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let x=0,W=this._diffs.length;x<W;x++)if(this._diffs[x]===this._currentDiff){E=x;break}P=this._diffs.length+E-1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const F=this._diffs[P].entries;this._diffEditor.setPosition(new h.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let x=0,W=this._diffs.length;x<W;x++)if(this._diffs[x]===this._currentDiff){E=x;break}P=E+1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const F=this._diffs[P].entries;this._diffEditor.setPosition(new h.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let P=-1,F=this._getCurrentFocusedRow();if(F){let E=parseInt(F.getAttribute("data-line"),10);isNaN(E)||(P=E)}this.hide(),P!==-1&&(this._diffEditor.setPosition(new h.Position(P,1)),this._diffEditor.revealPosition(new h.Position(P,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let P=this._getCurrentFocusedRow();return P?P.previousElementSibling?P.previousElementSibling:P:this._getFirstRow()}_getNextRow(){let P=this._getCurrentFocusedRow();return P?P.nextElementSibling?P.nextElementSibling:P:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let P=document.activeElement;return P&&/diff-review-row/.test(P.className)?P:null}_goToRow(P){let F=this._getCurrentFocusedRow();P.tabIndex=0,P.focus(),F&&F!==P&&(F.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(P,F,E){this._width=F,this.shadow.setTop(P-6),this.shadow.setWidth(F),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(P),this.domNode.setWidth(F),this.domNode.setHeight(E),this._content.setHeight(E),this._content.setWidth(F),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const P=this._diffEditor.getLineChanges();if(!P||P.length===0)return[];const F=this._diffEditor.getOriginalEditor().getModel(),E=this._diffEditor.getModifiedEditor().getModel();return!F||!E?[]:T._mergeAdjacent(P,F.getLineCount(),E.getLineCount())}static _mergeAdjacent(P,F,E){if(!P||P.length===0)return[];let x=[],W=0;for(let re=0,J=P.length;re<J;re++){const le=P[re],ae=le.originalStartLineNumber,V=le.originalEndLineNumber,B=le.modifiedStartLineNumber,Z=le.modifiedEndLineNumber;let H=[],z=0;{const ie=V===0?ae:ae-1,ce=Z===0?B:B-1;let K=1,Q=1;if(re>0){const de=P[re-1];de.originalEndLineNumber===0?K=de.originalStartLineNumber+1:K=de.originalEndLineNumber+1,de.modifiedEndLineNumber===0?Q=de.modifiedStartLineNumber+1:Q=de.modifiedEndLineNumber+1}let U=ie-b+1,ee=ce-b+1;if(U<K){const de=K-U;U=U+de,ee=ee+de}if(ee<Q){const de=Q-ee;U=U+de,ee=ee+de}H[z++]=new g(U,ie,ee,ce)}V!==0&&(H[z++]=new g(ae,V,0,0)),Z!==0&&(H[z++]=new g(0,0,B,Z));{const ie=V===0?ae+1:V+1,ce=Z===0?B+1:Z+1;let K=F,Q=E;if(re+1<J){const de=P[re+1];de.originalEndLineNumber===0?K=de.originalStartLineNumber:K=de.originalStartLineNumber-1,de.modifiedEndLineNumber===0?Q=de.modifiedStartLineNumber:Q=de.modifiedStartLineNumber-1}let U=ie+b-1,ee=ce+b-1;if(U>K){const de=K-U;U=U+de,ee=ee+de}if(ee>Q){const de=Q-ee;U=U+de,ee=ee+de}H[z++]=new g(ie,U,ce,ee)}x[W++]=new m(H)}let G=x[0].entries,Y=[],se=0;for(let re=1,J=x.length;re<J;re++){const le=x[re].entries,ae=G[G.length-1],V=le[0];if(ae.getType()===0&&V.getType()===0&&V.originalLineStart<=ae.originalLineEnd){G[G.length-1]=new g(ae.originalLineStart,V.originalLineEnd,ae.modifiedLineStart,V.modifiedLineEnd),G=G.concat(le.slice(1));continue}Y[se++]=new m(G),G=le}return Y[se++]=new m(G),Y}_findDiffIndex(P){const F=P.lineNumber;for(let E=0,x=this._diffs.length;E<x;E++){const W=this._diffs[E].entries,G=W[W.length-1].modifiedLineEnd;if(F<=G)return E}return 0}_render(){const P=this._diffEditor.getOriginalEditor().getOptions(),F=this._diffEditor.getModifiedEditor().getOptions(),E=this._diffEditor.getOriginalEditor().getModel(),x=this._diffEditor.getModifiedEditor().getModel(),W=E.getOptions(),G=x.getOptions();if(!this._isVisible||!E||!x){N.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Y=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Y]===this._currentDiff)return;this._currentDiff=this._diffs[Y];const se=this._diffs[Y].entries;let re=document.createElement("div");re.className="diff-review-table",re.setAttribute("role","list"),re.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(re,F.get(42));let J=0,le=0,ae=0,V=0;for(let ee=0,de=se.length;ee<de;ee++){const j=se[ee],ue=j.originalLineStart,X=j.originalLineEnd,q=j.modifiedLineStart,oe=j.modifiedLineEnd;ue!==0&&(J===0||ue<J)&&(J=ue),X!==0&&(le===0||X>le)&&(le=X),q!==0&&(ae===0||q<ae)&&(ae=q),oe!==0&&(V===0||oe>V)&&(V=oe)}let B=document.createElement("div");B.className="diff-review-row";let Z=document.createElement("div");Z.className="diff-review-cell diff-review-summary";const H=le-J+1,z=V-ae+1;Z.appendChild(document.createTextNode(`${Y+1}/${this._diffs.length}: @@ -${J},${H} +${ae},${z} @@`)),B.setAttribute("data-line",String(ae));const ie=ee=>ee===0?_.localize(4,null):ee===1?_.localize(5,null):_.localize(6,null,ee),ce=ie(H),K=ie(z);B.setAttribute("aria-label",_.localize(7,null,Y+1,this._diffs.length,J,ce,ae,K)),B.appendChild(Z),B.setAttribute("role","listitem"),re.appendChild(B);const Q=F.get(58);let U=ae;for(let ee=0,de=se.length;ee<de;ee++){const j=se[ee];T._renderSection(re,j,U,Q,this._width,P,E,W,F,x,G),j.modifiedLineStart!==0&&(U=j.modifiedLineEnd)}N.clearNode(this._content.domNode),this._content.domNode.appendChild(re),this.scrollbar.scanDomNode()}static _renderSection(P,F,E,x,W,G,Y,se,re,J,le){const ae=F.getType();let V="diff-review-row",B="";const Z="diff-review-spacer";let H=null;switch(ae){case 1:V="diff-review-row line-insert",B=" char-insert",H=w;break;case 2:V="diff-review-row line-delete",B=" char-delete",H=D;break}const z=F.originalLineStart,ie=F.originalLineEnd,ce=F.modifiedLineStart,K=F.modifiedLineEnd,Q=Math.max(K-ce,ie-z),U=G.get(130),ee=U.glyphMarginWidth+U.lineNumbersWidth,de=re.get(130),j=10+de.glyphMarginWidth+de.lineNumbersWidth;for(let ue=0;ue<=Q;ue++){const X=z===0?0:z+ue,q=ce===0?0:ce+ue,oe=document.createElement("div");oe.style.minWidth=W+"px",oe.className=V,oe.setAttribute("role","listitem"),q!==0&&(E=q),oe.setAttribute("data-line",String(E));let he=document.createElement("div");he.className="diff-review-cell",he.style.height=`${x}px`,oe.appendChild(he);const ge=document.createElement("span");ge.style.width=ee+"px",ge.style.minWidth=ee+"px",ge.className="diff-review-line-number"+B,X!==0?ge.appendChild(document.createTextNode(String(X))):ge.innerText="\xA0",he.appendChild(ge);const pe=document.createElement("span");pe.style.width=j+"px",pe.style.minWidth=j+"px",pe.style.paddingRight="10px",pe.className="diff-review-line-number"+B,q!==0?pe.appendChild(document.createTextNode(String(q))):pe.innerText="\xA0",he.appendChild(pe);const ve=document.createElement("span");if(ve.className=Z,H){const Ne=document.createElement("span");Ne.className=o.ThemeIcon.asClassName(H),Ne.innerText="\xA0\xA0",ve.appendChild(Ne)}else ve.innerText="\xA0\xA0";he.appendChild(ve);let Le;if(q!==0){let Ne=this._renderLine(J,re,le.tabSize,q);T._ttPolicy&&(Ne=T._ttPolicy.createHTML(Ne)),he.insertAdjacentHTML("beforeend",Ne),Le=J.getLineContent(q)}else{let Ne=this._renderLine(Y,G,se.tabSize,X);T._ttPolicy&&(Ne=T._ttPolicy.createHTML(Ne)),he.insertAdjacentHTML("beforeend",Ne),Le=Y.getLineContent(X)}Le.length===0&&(Le=_.localize(8,null));let Te="";switch(ae){case 0:X===q?Te=_.localize(9,null,Le,X):Te=_.localize(10,null,Le,X,q);break;case 1:Te=_.localize(11,null,Le,q);break;case 2:Te=_.localize(12,null,Le,X);break}oe.setAttribute("aria-label",Te),P.appendChild(oe)}}static _renderLine(P,F,E,x){const W=P.getLineContent(x),G=F.get(42),Y=u.LineTokens.createEmpty(W),se=n.ViewLineRenderingData.isBasicASCII(W,P.mightContainNonBasicASCII()),re=n.ViewLineRenderingData.containsRTL(W,se,P.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput(G.isMonospace&&!F.get(28),G.canUseHalfwidthRightwardsArrow,W,!1,se,re,0,Y,[],E,0,G.spaceWidth,G.middotWidth,G.wsmiddotWidth,F.get(105),F.get(88),F.get(82),F.get(43)!==a.EditorFontLigatures.OFF,null)).html}}e.DiffReview=T,T._ttPolicy=(y=window.trustedTypes)===null||y===void 0?void 0:y.createPolicy("diffReview",{createHTML:O=>O}),(0,o.registerThemingParticipant)((O,P)=>{const F=O.getColor(d.editorLineNumbers);F&&P.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${F}; }`);const E=O.getColor(t.scrollbarShadow);E&&P.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${E} 0 -6px 6px -6px inset; }`)});class R extends C.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:_.localize(13,null),alias:"Go to Next Difference",precondition:l.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(P,F){const E=A(P);E&&E.diffReviewNext()}}class M extends C.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:_.localize(14,null),alias:"Go to Previous Difference",precondition:l.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(P,F){const E=A(P);E&&E.diffReviewPrev()}}function A(O){const P=O.get(s.ICodeEditorService),F=P.listDiffEditors(),E=P.getActiveCodeEditor();if(!E)return null;for(let x=0,W=F.length;x<W;x++){const G=F[x];if(G.getModifiedEditor().getId()===E.getId()||G.getOriginalEditor().getId()===E.getId())return G}return null}(0,C.registerEditorAction)(R),(0,C.registerEditorAction)(M)}),define(te[278],ne([0,1,469,7,30,108,14,6,2,65,66,28,151,683,37,3,84,111,31,77,228,139,115,63,15,9,145,34,22,12,69,472,88,16,10,61,218,27,133,81,347]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T,R,M,A,O,P,F,E,x,W){"use strict";var G;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class Y{constructor(q,oe){this._contextMenuService=q,this._clipboardService=oe,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(q){return q.filter(oe=>!this._zonesMap[String(oe.id)])}clean(q){this._zones.length>0&&q.changeViewZones(oe=>{for(const he of this._zones)oe.removeZone(he)}),this._zones=[],this._zonesMap={},this._decorations=q.deltaDecorations(this._decorations,[])}apply(q,oe,he,ge){const pe=ge?C.StableEditorScrollState.capture(q):null;q.changeViewZones(ve=>{for(const Le of this._zones)ve.removeZone(Le);for(const Le of this._inlineDiffMargins)Le.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Le=0,Te=he.zones.length;Le<Te;Le++){const Ne=he.zones[Le];Ne.suppressMouseDown=!0;const Ae=ve.addZone(Ne);this._zones.push(Ae),this._zonesMap[String(Ae)]=!0,he.zones[Le].diff&&Ne.marginDomNode&&(Ne.suppressMouseDown=!1,this._inlineDiffMargins.push(new R.InlineDiffMargin(Ae,Ne.marginDomNode,q,he.zones[Le].diff,this._contextMenuService,this._clipboardService)))}}),pe&&pe.restore(q),this._decorations=q.deltaDecorations(this._decorations,he.decorations),oe&&oe.setZones(he.overviewZones)}}let se=0;const re=(0,W.registerIcon)("diff-insert",E.Codicon.add,_.localize(0,null)),J=(0,W.registerIcon)("diff-remove",E.Codicon.remove,_.localize(1,null)),le=(G=window.trustedTypes)===null||G===void 0?void 0:G.createPolicy("diffEditorWidget",{createHTML:X=>X});let ae=class tt extends v.Disposable{constructor(q,oe,he,ge,pe,ve,Le,Te,Ne,Ae,Oe,We){super();this._editorProgressService=We,this._onDidDispose=this._register(new p.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new p.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new p.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=pe,this._codeEditorService=Te,this._contextKeyService=this._register(ve.createScoped(q)),this._instantiationService=Le.createChild(new m.ServiceCollection([b.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ne,this._notificationService=Ae,this._id=++se,this._state=0,this._updatingDiffProgress=null,this._domElement=q,oe=oe||{},this._renderSideBySide=!0,typeof oe.renderSideBySide!="undefined"&&(this._renderSideBySide=oe.renderSideBySide),this._maxComputationTime=5e3,typeof oe.maxComputationTime!="undefined"&&(this._maxComputationTime=oe.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof oe.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=oe.ignoreTrimWhitespace),this._renderIndicators=!0,typeof oe.renderIndicators!="undefined"&&(this._renderIndicators=oe.renderIndicators),this._originalIsEditable=(0,h.boolean)(oe.originalEditable,!1),this._diffCodeLens=(0,h.boolean)(oe.diffCodeLens,!1),this._diffWordWrap=U(oe.diffWordWrap,"inherit"),typeof oe.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",oe.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof oe.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(oe.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=tt._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,I.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(N.addStandardDisposableListener(this._overviewDomElement,"mousedown",Ke=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Ke)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Y(Oe,ge),this._modifiedEditorState=new Y(Oe,ge),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new F.ElementSizeObserver(this._containerDomElement,oe.dimension,()=>this._onDidContainerSizeChanged())),oe.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(oe,he.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(oe,he.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new u.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof oe.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=oe.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new ie(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new K(this._createDataSource(),this._enableSplitViewResizing)),this._register(Ne.onDidColorThemeChange(Ke=>{this._strategy&&this._strategy.applyColors(Ke)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=tt._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const Ve=A.EditorExtensionsRegistry.getDiffEditorContributions();for(const Ke of Ve)try{this._register(Le.createInstance(Ke.ctor,this))}catch(Ye){(0,O.onUnexpectedError)(Ye)}this._codeEditorService.addDiffEditor(this)}_setState(q){this._state!==q&&(this._state=q,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(q,oe){let he="monaco-diff-editor monaco-editor-background ";return oe&&(he+="side-by-side "),he+=(0,k.getThemeTypeSelector)(q.type),he}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(q,oe){const he=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(q),oe);this._register(he.onDidScrollChange(pe=>{this._isHandlingScrollEvent||!pe.scrollTopChanged&&!pe.scrollLeftChanged&&!pe.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(he.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(he.onDidChangeConfiguration(pe=>{!he.getModel()||(pe.hasChanged(42)&&this._updateDecorationsRunner.schedule(),pe.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(he.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const ge=this._contextKeyService.createKey("isInDiffLeftEditor",he.hasWidgetFocus());return this._register(he.onDidFocusEditorWidget(()=>ge.set(!0))),this._register(he.onDidBlurEditorWidget(()=>ge.set(!1))),this._register(he.onDidContentSizeChange(pe=>{const ve=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+tt.ONE_OVERVIEW_WIDTH,Le=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Le,contentWidth:ve,contentHeightChanged:pe.contentHeightChanged,contentWidthChanged:pe.contentWidthChanged})})),he}_createRightHandSideEditor(q,oe){const he=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(q),oe);this._register(he.onDidScrollChange(pe=>{this._isHandlingScrollEvent||!pe.scrollTopChanged&&!pe.scrollLeftChanged&&!pe.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(he.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(he.onDidChangeConfiguration(pe=>{!he.getModel()||(pe.hasChanged(42)&&this._updateDecorationsRunner.schedule(),pe.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(he.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(he.onDidChangeModelOptions(pe=>{pe.tabSize&&this._updateDecorationsRunner.schedule()}));const ge=this._contextKeyService.createKey("isInDiffRightEditor",he.hasWidgetFocus());return this._register(he.onDidFocusEditorWidget(()=>ge.set(!0))),this._register(he.onDidBlurEditorWidget(()=>ge.set(!1))),this._register(he.onDidContentSizeChange(pe=>{const ve=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+tt.ONE_OVERVIEW_WIDTH,Le=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Le,contentWidth:ve,contentHeightChanged:pe.contentHeightChanged,contentWidthChanged:pe.contentWidthChanged})})),he}_createInnerEditor(q,oe,he,ge){return q.createInstance(a.CodeEditorWidget,oe,he,ge)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(q){let oe=!1;typeof q.renderSideBySide!="undefined"&&this._renderSideBySide!==q.renderSideBySide&&(this._renderSideBySide=q.renderSideBySide,oe=!0),typeof q.maxComputationTime!="undefined"&&(this._maxComputationTime=q.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let he=!1;typeof q.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==q.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=q.ignoreTrimWhitespace,he=!0),typeof q.renderIndicators!="undefined"&&this._renderIndicators!==q.renderIndicators&&(this._renderIndicators=q.renderIndicators,he=!0),he&&this._beginUpdateDecorations(),this._originalIsEditable=(0,h.boolean)(q.originalEditable,this._originalIsEditable),this._diffCodeLens=(0,h.boolean)(q.diffCodeLens,this._diffCodeLens),this._diffWordWrap=U(q.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(q)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(q)),typeof q.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=q.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),oe&&(this._renderSideBySide?this._setStrategy(new ie(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new K(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=tt._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof q.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==q.renderOverviewRuler&&(this._renderOverviewRuler=q.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(q){if(q&&(!q.original||!q.modified))throw new Error(q.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(q?q.original:null),this._modifiedEditor.setModel(q?q.modified:null),this._updateDecorationsRunner.cancel(),q&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),q&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(q){return this._modifiedEditor.getVisibleColumnFromPosition(q)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(q){this._modifiedEditor.setPosition(q)}revealLine(q,oe=0){this._modifiedEditor.revealLine(q,oe)}revealLineInCenter(q,oe=0){this._modifiedEditor.revealLineInCenter(q,oe)}revealLineInCenterIfOutsideViewport(q,oe=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(q,oe)}revealLineNearTop(q,oe=0){this._modifiedEditor.revealLineNearTop(q,oe)}revealPosition(q,oe=0){this._modifiedEditor.revealPosition(q,oe)}revealPositionInCenter(q,oe=0){this._modifiedEditor.revealPositionInCenter(q,oe)}revealPositionInCenterIfOutsideViewport(q,oe=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(q,oe)}revealPositionNearTop(q,oe=0){this._modifiedEditor.revealPositionNearTop(q,oe)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(q){this._modifiedEditor.setSelection(q)}setSelections(q){this._modifiedEditor.setSelections(q)}revealLines(q,oe,he=0){this._modifiedEditor.revealLines(q,oe,he)}revealLinesInCenter(q,oe,he=0){this._modifiedEditor.revealLinesInCenter(q,oe,he)}revealLinesInCenterIfOutsideViewport(q,oe,he=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(q,oe,he)}revealLinesNearTop(q,oe,he=0){this._modifiedEditor.revealLinesNearTop(q,oe,he)}revealRange(q,oe=0,he=!1,ge=!0){this._modifiedEditor.revealRange(q,oe,he,ge)}revealRangeInCenter(q,oe=0){this._modifiedEditor.revealRangeInCenter(q,oe)}revealRangeInCenterIfOutsideViewport(q,oe=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(q,oe)}revealRangeNearTop(q,oe=0){this._modifiedEditor.revealRangeNearTop(q,oe)}revealRangeNearTopIfOutsideViewport(q,oe=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(q,oe)}revealRangeAtTop(q,oe=0){this._modifiedEditor.revealRangeAtTop(q,oe)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const q=this._originalEditor.saveViewState(),oe=this._modifiedEditor.saveViewState();return{original:q,modified:oe}}restoreViewState(q){if(q&&q.original&&q.modified){const oe=q;this._originalEditor.restoreViewState(oe.original),this._modifiedEditor.restoreViewState(oe.modified)}}layout(q){this._elementSizeObserver.observe(q)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(q,oe,he){this._modifiedEditor.trigger(q,oe,he)}changeDecorations(q){return this._modifiedEditor.changeDecorations(q)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const q=this._elementSizeObserver.getHeight(),oe=this._getReviewHeight(),he=tt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*tt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:tt.ONE_OVERVIEW_WIDTH,right:he+tt.ONE_OVERVIEW_WIDTH,height:q-oe}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:tt.ONE_OVERVIEW_WIDTH,height:q-oe}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),tt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(q,oe){return!q&&!oe?!0:!q||!oe?!1:q.toString()===oe.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const q=this._originalEditor.getModel(),oe=this._modifiedEditor.getModel();if(!q||!oe)return;this._diffComputationToken++;const he=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(q.uri,oe.uri)){(!tt._equals(q.uri,this._lastOriginalWarning)||!tt._equals(oe.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=q.uri,this._lastModifiedWarning=oe.uri,this._notificationService.warn(_.localize(2,null)));return}this._editorWorkerService.computeDiff(q.uri,oe.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(ge=>{he===this._diffComputationToken&&q===this._originalEditor.getModel()&&oe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ge,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ge=>{he===this._diffComputationToken&&q===this._originalEditor.getModel()&&oe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const q=this._diffComputationResult?this._diffComputationResult.changes:[],oe=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),he=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ge=this._strategy.getEditorsDiffDecorations(q,this._ignoreTrimWhitespace,this._renderIndicators,oe,he);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,ge.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,ge.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(q){const oe=Object.assign({},q);return oe.inDiffEditor=!0,oe.automaticLayout=!1,oe.scrollbar=Object.assign({},oe.scrollbar||{}),oe.scrollbar.vertical="visible",oe.folding=!1,oe.codeLens=this._diffCodeLens,oe.fixedOverflowWidgets=!0,oe.minimap=Object.assign({},oe.minimap||{}),oe.minimap.enabled=!1,oe}_adjustOptionsForLeftHandSide(q){const oe=this._adjustOptionsForSubEditor(q);return this._renderSideBySide?oe.wordWrapOverride1=this._diffWordWrap:oe.wordWrapOverride1="off",q.originalAriaLabel&&(oe.ariaLabel=q.originalAriaLabel),oe.readOnly=!this._originalIsEditable,oe.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},oe),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(q){const oe=this._adjustOptionsForSubEditor(q);return q.modifiedAriaLabel&&(oe.ariaLabel=q.modifiedAriaLabel),oe.wordWrapOverride1=this._diffWordWrap,oe.revealHorizontalRightPadding=h.EditorOptions.revealHorizontalRightPadding.defaultValue+tt.ENTIRE_DIFF_OVERVIEW_WIDTH,oe.scrollbar.verticalHasArrows=!1,oe.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},oe),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const q=this._elementSizeObserver.getWidth(),oe=this._elementSizeObserver.getHeight(),he=this._getReviewHeight(),ge=this._strategy.layout();this._originalDomNode.style.width=ge+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=q-ge+"px",this._modifiedDomNode.style.left=ge+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=oe-he+"px",this._overviewDomElement.style.width=tt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=q-tt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(tt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ge,height:oe-he}),this._modifiedEditor.layout({width:q-ge-(this._renderOverviewRuler?tt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:oe-he}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(oe-he,q,he),this._layoutOverviewViewport()}_layoutOverviewViewport(){const q=this._computeOverviewViewport();q?(this._overviewViewportDomElement.setTop(q.top),this._overviewViewportDomElement.setHeight(q.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const q=this._modifiedEditor.getLayoutInfo();if(!q)return null;const oe=this._modifiedEditor.getScrollTop(),he=this._modifiedEditor.getScrollHeight(),ge=Math.max(0,q.height),pe=Math.max(0,ge-2*0),ve=he>0?pe/he:0,Le=Math.max(0,Math.floor(q.height*ve)),Te=Math.floor(oe*ve);return{height:Le,top:Te}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(q){this._strategy&&this._strategy.dispose(),this._strategy=q,q.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(q,oe){const he=this._diffComputationResult?this._diffComputationResult.changes:[];if(he.length===0||q<oe(he[0]))return null;let ge=0,pe=he.length-1;for(;ge<pe;){const ve=Math.floor((ge+pe)/2),Le=oe(he[ve]),Te=ve+1<=pe?oe(he[ve+1]):1073741824;q<Le?pe=ve-1:q>=Te?ge=ve+1:(ge=ve,pe=ve)}return he[ge]}_getEquivalentLineForOriginalLineNumber(q){const oe=this._getLineChangeAtOrBeforeLineNumber(q,Te=>Te.originalStartLineNumber);if(!oe)return q;const he=oe.originalStartLineNumber+(oe.originalEndLineNumber>0?-1:0),ge=oe.modifiedStartLineNumber+(oe.modifiedEndLineNumber>0?-1:0),pe=oe.originalEndLineNumber>0?oe.originalEndLineNumber-oe.originalStartLineNumber+1:0,ve=oe.modifiedEndLineNumber>0?oe.modifiedEndLineNumber-oe.modifiedStartLineNumber+1:0,Le=q-he;return Le<=pe?ge+Math.min(Le,ve):ge+ve-pe+Le}_getEquivalentLineForModifiedLineNumber(q){const oe=this._getLineChangeAtOrBeforeLineNumber(q,Te=>Te.modifiedStartLineNumber);if(!oe)return q;const he=oe.originalStartLineNumber+(oe.originalEndLineNumber>0?-1:0),ge=oe.modifiedStartLineNumber+(oe.modifiedEndLineNumber>0?-1:0),pe=oe.originalEndLineNumber>0?oe.originalEndLineNumber-oe.originalStartLineNumber+1:0,ve=oe.modifiedEndLineNumber>0?oe.modifiedEndLineNumber-oe.modifiedStartLineNumber+1:0,Le=q-ge;return Le<=ve?he+Math.min(Le,pe):he+pe-ve+Le}getDiffLineInformationForOriginal(q){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(q)}:null}getDiffLineInformationForModified(q){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(q)}:null}};ae.ONE_OVERVIEW_WIDTH=15,ae.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ae.UPDATE_DIFF_DECORATIONS_DELAY=200,ae=Re([me(3,M.IClipboardService),me(4,t.IEditorWorkerService),me(5,b.IContextKeyService),me(6,g.IInstantiationService),me(7,s.ICodeEditorService),me(8,k.IThemeService),me(9,w.INotificationService),me(10,T.IContextMenuService),me(11,P.IEditorProgressService)],ae),e.DiffEditorWidget=ae;class V extends v.Disposable{constructor(q){super();this._dataSource=q,this._insertColor=null,this._removeColor=null}applyColors(q){const oe=(q.getColor(D.diffInserted)||D.defaultInsertColor).transparent(2),he=(q.getColor(D.diffRemoved)||D.defaultRemoveColor).transparent(2),ge=!oe.equals(this._insertColor)||!he.equals(this._removeColor);return this._insertColor=oe,this._removeColor=he,ge}getEditorsDiffDecorations(q,oe,he,ge,pe){pe=pe.sort((Ne,Ae)=>Ne.afterLineNumber-Ae.afterLineNumber),ge=ge.sort((Ne,Ae)=>Ne.afterLineNumber-Ae.afterLineNumber);const ve=this._getViewZones(q,ge,pe,he),Le=this._getOriginalEditorDecorations(q,oe,he),Te=this._getModifiedEditorDecorations(q,oe,he);return{original:{decorations:Le.decorations,overviewZones:Le.overviewZones,zones:ve.original},modified:{decorations:Te.decorations,overviewZones:Te.overviewZones,zones:ve.modified}}}}class B{constructor(q){this._source=q,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class Z{constructor(q,oe,he,ge,pe){this._lineChanges=q,this._originalForeignVZ=oe,this._modifiedForeignVZ=he,this._originalEditor=ge,this._modifiedEditor=pe}static _getViewLineCount(q,oe,he){const ge=q.getModel(),pe=q._getViewModel();if(ge&&pe){const ve=ue(ge,pe,oe,he);return ve.endLineNumber-ve.startLineNumber+1}return he-oe+1}getViewZones(){const q=this._originalEditor.getOption(58),oe=this._modifiedEditor.getOption(58),he=this._originalEditor.getOption(131).wrappingColumn!==-1,ge=this._modifiedEditor.getOption(131).wrappingColumn!==-1,pe=he||ge,ve=this._originalEditor.getModel(),Le=this._originalEditor._getViewModel().coordinatesConverter,Te=this._modifiedEditor._getViewModel().coordinatesConverter,Ne={original:[],modified:[]};let Ae=0,Oe=0,We=0,Ve=0,Ke=0,Ye=0;const be=(De,Ee)=>De.afterLineNumber-Ee.afterLineNumber,_e=(De,Ee)=>{if(Ee.domNode===null&&De.length>0){const ye=De[De.length-1];if(ye.afterLineNumber===Ee.afterLineNumber&&ye.domNode===null){ye.heightInLines+=Ee.heightInLines;return}}De.push(Ee)},Me=new B(this._modifiedForeignVZ),ze=new B(this._originalForeignVZ);let Fe=1,qe=1;for(let De=0,Ee=this._lineChanges.length;De<=Ee;De++){const ye=De<Ee?this._lineChanges[De]:null;ye!==null?(We=ye.originalStartLineNumber+(ye.originalEndLineNumber>0?-1:0),Ve=ye.modifiedStartLineNumber+(ye.modifiedEndLineNumber>0?-1:0),Oe=ye.originalEndLineNumber>0?Z._getViewLineCount(this._originalEditor,ye.originalStartLineNumber,ye.originalEndLineNumber):0,Ae=ye.modifiedEndLineNumber>0?Z._getViewLineCount(this._modifiedEditor,ye.modifiedStartLineNumber,ye.modifiedEndLineNumber):0,Ke=Math.max(ye.originalStartLineNumber,ye.originalEndLineNumber),Ye=Math.max(ye.modifiedStartLineNumber,ye.modifiedEndLineNumber)):(We+=1e7+Oe,Ve+=1e7+Ae,Ke=We,Ye=Ve);let fe=[],Ce=[];if(pe){let Ie;ye?ye.originalEndLineNumber>0?Ie=ye.originalStartLineNumber-Fe:Ie=ye.modifiedStartLineNumber-qe:Ie=ve.getLineCount()-Fe;for(let Be=0;Be<Ie;Be++){const Pe=Fe+Be,xe=qe+Be,Ue=Le.getModelLineViewLineCount(Pe),$e=Te.getModelLineViewLineCount(xe);Ue<$e?fe.push({afterLineNumber:Pe,heightInLines:$e-Ue,domNode:null,marginDomNode:null}):Ue>$e&&Ce.push({afterLineNumber:xe,heightInLines:Ue-$e,domNode:null,marginDomNode:null})}ye&&(Fe=(ye.originalEndLineNumber>0?ye.originalEndLineNumber:ye.originalStartLineNumber)+1,qe=(ye.modifiedEndLineNumber>0?ye.modifiedEndLineNumber:ye.modifiedStartLineNumber)+1)}for(;Me.current&&Me.current.afterLineNumber<=Ye;){let Ie;Me.current.afterLineNumber<=Ve?Ie=We-Ve+Me.current.afterLineNumber:Ie=Ke;let Be=null;ye&&ye.modifiedStartLineNumber<=Me.current.afterLineNumber&&Me.current.afterLineNumber<=ye.modifiedEndLineNumber&&(Be=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),fe.push({afterLineNumber:Ie,heightInLines:Me.current.height/oe,domNode:null,marginDomNode:Be}),Me.advance()}for(;ze.current&&ze.current.afterLineNumber<=Ke;){let Ie;ze.current.afterLineNumber<=We?Ie=Ve-We+ze.current.afterLineNumber:Ie=Ye,Ce.push({afterLineNumber:Ie,heightInLines:ze.current.height/q,domNode:null}),ze.advance()}if(ye!==null&&ee(ye)){const Ie=this._produceOriginalFromDiff(ye,Oe,Ae);Ie&&fe.push(Ie)}if(ye!==null&&de(ye)){const Ie=this._produceModifiedFromDiff(ye,Oe,Ae);Ie&&Ce.push(Ie)}let we=0,Se=0;for(fe=fe.sort(be),Ce=Ce.sort(be);we<fe.length&&Se<Ce.length;){const Ie=fe[we],Be=Ce[Se],Pe=Ie.afterLineNumber-We,xe=Be.afterLineNumber-Ve;Pe<xe?(_e(Ne.original,Ie),we++):xe<Pe?(_e(Ne.modified,Be),Se++):Ie.shouldNotShrink?(_e(Ne.original,Ie),we++):Be.shouldNotShrink?(_e(Ne.modified,Be),Se++):Ie.heightInLines>=Be.heightInLines?(Ie.heightInLines-=Be.heightInLines,Se++):(Be.heightInLines-=Ie.heightInLines,we++)}for(;we<fe.length;)_e(Ne.original,fe[we]),we++;for(;Se<Ce.length;)_e(Ne.modified,Ce[Se]),Se++}return{original:Z._ensureDomNodes(Ne.original),modified:Z._ensureDomNodes(Ne.modified)}}static _ensureDomNodes(q){return q.map(oe=>(oe.domNode||(oe.domNode=j()),oe))}}function H(X,q,oe,he,ge){return{range:new d.Range(X,q,oe,he),options:ge}}const z={charDelete:l.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:l.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:l.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:l.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:l.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:l.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(re),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:l.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:l.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(J),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:l.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ie extends V{constructor(q,oe){super(q);this._disableSash=oe===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(he=>this._onSashDrag(he)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(q){const oe=q===!1;this._disableSash!==oe&&(this._disableSash=oe,this._sash.state=this._disableSash?0:3)}layout(q=this._sashRatio){const he=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ae.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let ge=Math.floor((q||.5)*he);const pe=Math.floor(.5*he);return ge=this._disableSash?pe:ge||pe,he>ie.MINIMUM_EDITOR_WIDTH*2?(ge<ie.MINIMUM_EDITOR_WIDTH&&(ge=ie.MINIMUM_EDITOR_WIDTH),ge>he-ie.MINIMUM_EDITOR_WIDTH&&(ge=he-ie.MINIMUM_EDITOR_WIDTH)):ge=pe,this._sashPosition!==ge&&(this._sashPosition=ge,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(q){const he=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ae.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ge=this.layout((this._startSashPosition+(q.currentX-q.startX))/he);this._sashRatio=ge/he,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(q){return 0}getVerticalSashLeft(q){return this._sashPosition}getVerticalSashHeight(q){return this._dataSource.getHeight()}_getViewZones(q,oe,he){const ge=this._dataSource.getOriginalEditor(),pe=this._dataSource.getModifiedEditor();return new ce(q,oe,he,ge,pe).getViewZones()}_getOriginalEditorDecorations(q,oe,he){const ge=this._dataSource.getOriginalEditor(),pe=String(this._removeColor),ve={decorations:[],overviewZones:[]},Le=ge.getModel(),Te=ge._getViewModel();for(const Ne of q)if(de(Ne)){ve.decorations.push({range:new d.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:he?z.lineDeleteWithSign:z.lineDelete}),(!ee(Ne)||!Ne.charChanges)&&ve.decorations.push(H(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const Ae=ue(Le,Te,Ne.originalStartLineNumber,Ne.originalEndLineNumber);if(ve.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,pe)),Ne.charChanges){for(const Oe of Ne.charChanges)if(de(Oe))if(oe)for(let We=Oe.originalStartLineNumber;We<=Oe.originalEndLineNumber;We++){let Ve,Ke;We===Oe.originalStartLineNumber?Ve=Oe.originalStartColumn:Ve=Le.getLineFirstNonWhitespaceColumn(We),We===Oe.originalEndLineNumber?Ke=Oe.originalEndColumn:Ke=Le.getLineLastNonWhitespaceColumn(We),ve.decorations.push(H(We,Ve,We,Ke,z.charDelete))}else ve.decorations.push(H(Oe.originalStartLineNumber,Oe.originalStartColumn,Oe.originalEndLineNumber,Oe.originalEndColumn,z.charDelete))}}return ve}_getModifiedEditorDecorations(q,oe,he){const ge=this._dataSource.getModifiedEditor(),pe=String(this._insertColor),ve={decorations:[],overviewZones:[]},Le=ge.getModel(),Te=ge._getViewModel();for(const Ne of q)if(ee(Ne)){ve.decorations.push({range:new d.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824),options:he?z.lineInsertWithSign:z.lineInsert}),(!de(Ne)||!Ne.charChanges)&&ve.decorations.push(H(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const Ae=ue(Le,Te,Ne.modifiedStartLineNumber,Ne.modifiedEndLineNumber);if(ve.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,pe)),Ne.charChanges){for(const Oe of Ne.charChanges)if(ee(Oe))if(oe)for(let We=Oe.modifiedStartLineNumber;We<=Oe.modifiedEndLineNumber;We++){let Ve,Ke;We===Oe.modifiedStartLineNumber?Ve=Oe.modifiedStartColumn:Ve=Le.getLineFirstNonWhitespaceColumn(We),We===Oe.modifiedEndLineNumber?Ke=Oe.modifiedEndColumn:Ke=Le.getLineLastNonWhitespaceColumn(We),ve.decorations.push(H(We,Ve,We,Ke,z.charInsert))}else ve.decorations.push(H(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,z.charInsert))}}return ve}}ie.MINIMUM_EDITOR_WIDTH=100;class ce extends Z{constructor(q,oe,he,ge,pe){super(q,oe,he,ge,pe)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(q,oe,he){return he>oe?{afterLineNumber:Math.max(q.originalStartLineNumber,q.originalEndLineNumber),heightInLines:he-oe,domNode:null}:null}_produceModifiedFromDiff(q,oe,he){return oe>he?{afterLineNumber:Math.max(q.modifiedStartLineNumber,q.modifiedEndLineNumber),heightInLines:oe-he,domNode:null}:null}}class K extends V{constructor(q,oe){super(q);this._decorationsLeft=q.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(q.getOriginalEditor().onDidLayoutChange(he=>{this._decorationsLeft!==he.decorationsLeft&&(this._decorationsLeft=he.decorationsLeft,q.relayoutEditors())}))}setEnableSplitViewResizing(q){}_getViewZones(q,oe,he,ge){const pe=this._dataSource.getOriginalEditor(),ve=this._dataSource.getModifiedEditor();return new Q(q,oe,he,pe,ve,ge).getViewZones()}_getOriginalEditorDecorations(q,oe,he){const ge=String(this._removeColor),pe={decorations:[],overviewZones:[]},ve=this._dataSource.getOriginalEditor(),Le=ve.getModel(),Te=ve._getViewModel();for(const Ne of q)if(de(Ne)){pe.decorations.push({range:new d.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});const Ae=ue(Le,Te,Ne.originalStartLineNumber,Ne.originalEndLineNumber);pe.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,ge))}return pe}_getModifiedEditorDecorations(q,oe,he){const ge=this._dataSource.getModifiedEditor(),pe=String(this._insertColor),ve={decorations:[],overviewZones:[]},Le=ge.getModel(),Te=ge._getViewModel();for(const Ne of q)if(ee(Ne)){ve.decorations.push({range:new d.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824),options:he?z.lineInsertWithSign:z.lineInsert});const Ae=ue(Le,Te,Ne.modifiedStartLineNumber,Ne.modifiedEndLineNumber);if(ve.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,pe)),Ne.charChanges){for(const Oe of Ne.charChanges)if(ee(Oe))if(oe)for(let We=Oe.modifiedStartLineNumber;We<=Oe.modifiedEndLineNumber;We++){let Ve,Ke;We===Oe.modifiedStartLineNumber?Ve=Oe.modifiedStartColumn:Ve=Le.getLineFirstNonWhitespaceColumn(We),We===Oe.modifiedEndLineNumber?Ke=Oe.modifiedEndColumn:Ke=Le.getLineLastNonWhitespaceColumn(We),ve.decorations.push(H(We,Ve,We,Ke,z.charInsert))}else ve.decorations.push(H(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,z.charInsert))}else ve.decorations.push(H(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return ve}layout(){return Math.max(5,this._decorationsLeft)}}class Q extends Z{constructor(q,oe,he,ge,pe,ve){super(q,oe,he,ge,pe);this._originalModel=ge.getModel(),this._renderIndicators=ve,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const q=super.getViewZones();return this._finalize(q),q}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const q=document.createElement("div");return q.className="inline-added-margin-view-zone",q}_produceOriginalFromDiff(q,oe,he){const ge=document.createElement("div");return ge.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(q.originalStartLineNumber,q.originalEndLineNumber),heightInLines:he,domNode:document.createElement("div"),marginDomNode:ge}}_produceModifiedFromDiff(q,oe,he){const ge=document.createElement("div");ge.className=`view-lines line-delete ${x.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const pe=document.createElement("div");pe.className="inline-deleted-margin-view-zone";const ve={shouldNotShrink:!0,afterLineNumber:q.modifiedEndLineNumber===0?q.modifiedStartLineNumber:q.modifiedStartLineNumber-1,heightInLines:oe,minWidthInPx:0,domNode:ge,marginDomNode:pe,diff:{originalStartLineNumber:q.originalStartLineNumber,originalEndLineNumber:q.originalEndLineNumber,modifiedStartLineNumber:q.modifiedStartLineNumber,modifiedEndLineNumber:q.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Le=q.originalStartLineNumber;Le<=q.originalEndLineNumber;Le++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Le),null,null);return this._pendingLineChange.push(q),this._pendingViewZones.push(ve),ve}_finalize(q){const oe=this._modifiedEditor.getOptions(),he=this._modifiedEditor.getModel().getOptions().tabSize,ge=oe.get(42),pe=oe.get(28),ve=ge.typicalHalfwidthCharacterWidth,Le=oe.get(93),Te=this._originalModel.mightContainNonBasicASCII(),Ne=this._originalModel.mightContainRTL(),Ae=oe.get(58),We=oe.get(130).decorationsWidth,Ve=oe.get(105),Ke=oe.get(88),Ye=oe.get(82),be=oe.get(43),_e=this._lineBreaksComputer.finalize();let Me=0;for(let ze=0;ze<this._pendingLineChange.length;ze++){const Fe=this._pendingLineChange[ze],qe=this._pendingViewZones[ze],De=qe.domNode;i.Configuration.applyFontInfoSlow(De,ge);const Ee=qe.marginDomNode;i.Configuration.applyFontInfoSlow(Ee,ge);const ye=[];if(Fe.charChanges)for(const xe of Fe.charChanges)de(xe)&&ye.push(new y.InlineDecoration(new d.Range(xe.originalStartLineNumber,xe.originalStartColumn,xe.originalEndLineNumber,xe.originalEndColumn),"char-delete",0));const fe=ye.length>0,Ce=(0,r.createStringBuilder)(1e4);let we=0,Se=0,Ie=null;for(let xe=Fe.originalStartLineNumber;xe<=Fe.originalEndLineNumber;xe++){const Ue=xe-Fe.originalStartLineNumber,$e=this._originalModel.getLineTokens(xe),Ze=$e.getLineContent(),je=_e[Me++],He=c.LineDecoration.filter(ye,xe,1,Ze.length+1);if(je){let Xe=0;for(const Qe of je.breakOffsets){const it=$e.sliceAndInflate(Xe,Qe,0),Je=Ze.substring(Xe,Qe);we=Math.max(we,this._renderOriginalLine(Se++,Je,it,c.LineDecoration.extractWrapped(He,Xe,Qe),fe,Te,Ne,ge,pe,Ae,We,Ve,Ke,Ye,be,he,Ce,Ee)),Xe=Qe}for(Ie||(Ie=[]);Ie.length<Ue;)Ie[Ie.length]=1;Ie[Ue]=je.breakOffsets.length,qe.heightInLines+=je.breakOffsets.length-1;const Ge=document.createElement("div");Ge.className="line-delete",q.original.push({afterLineNumber:xe,afterColumn:0,heightInLines:je.breakOffsets.length-1,domNode:j(),marginDomNode:Ge})}else we=Math.max(we,this._renderOriginalLine(Se++,Ze,$e,He,fe,Te,Ne,ge,pe,Ae,We,Ve,Ke,Ye,be,he,Ce,Ee))}we+=Le;const Be=Ce.build(),Pe=le?le.createHTML(Be):Be;if(De.innerHTML=Pe,qe.minWidthInPx=we*ve,Ie){const xe=Fe.originalEndLineNumber-Fe.originalStartLineNumber;for(;Ie.length<=xe;)Ie[Ie.length]=1}qe.diff.viewLineCounts=Ie}q.original.sort((ze,Fe)=>ze.afterLineNumber-Fe.afterLineNumber)}_renderOriginalLine(q,oe,he,ge,pe,ve,Le,Te,Ne,Ae,Oe,We,Ve,Ke,Ye,be,_e,Me){_e.appendASCIIString('<div class="view-line'),pe||_e.appendASCIIString(" char-delete"),_e.appendASCIIString('" style="top:'),_e.appendASCIIString(String(q*Ae)),_e.appendASCIIString('px;width:1000000px;">');const ze=y.ViewLineRenderingData.isBasicASCII(oe,ve),Fe=y.ViewLineRenderingData.containsRTL(oe,ze,Le),qe=(0,f.renderViewLine)(new f.RenderLineInput(Te.isMonospace&&!Ne,Te.canUseHalfwidthRightwardsArrow,oe,!1,ze,Fe,0,he,ge,be,0,Te.spaceWidth,Te.middotWidth,Te.wsmiddotWidth,We,Ve,Ke,Ye!==h.EditorFontLigatures.OFF,null),_e);if(_e.appendASCIIString("</div>"),this._renderIndicators){const De=document.createElement("div");De.className=`delete-sign ${k.ThemeIcon.asClassName(J)}`,De.setAttribute("style",`position:absolute;top:${q*Ae}px;width:${Oe}px;height:${Ae}px;right:0;`),Me.appendChild(De)}return qe.characterMapping.getAbsoluteOffset(qe.characterMapping.length)}}function U(X,q){return(0,h.stringSet)(X,q,["off","on","inherit"])}function ee(X){return X.modifiedEndLineNumber>0}function de(X){return X.originalEndLineNumber>0}function j(){const X=document.createElement("div");return X.className="diagonal-fill",X}function ue(X,q,oe,he){const ge=X.getLineCount();return oe=Math.min(ge,Math.max(1,oe)),he=Math.min(ge,Math.max(1,he)),q.coordinatesConverter.convertModelRangeToViewRange(new d.Range(oe,X.getLineMinColumn(oe),he,X.getLineMaxColumn(he)))}(0,k.registerThemingParticipant)((X,q)=>{const oe=X.getColor(D.diffInserted);oe&&(q.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${oe}; }`),q.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${oe}; }`),q.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${oe}; }`));const he=X.getColor(D.diffRemoved);he&&(q.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${he}; }`),q.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${he}; }`),q.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${he}; }`));const ge=X.getColor(D.diffInsertedOutline);ge&&q.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${X.type==="hc"?"dashed":"solid"} ${ge}; }`);const pe=X.getColor(D.diffRemovedOutline);pe&&q.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${X.type==="hc"?"dashed":"solid"} ${pe}; }`);const ve=X.getColor(D.scrollbarShadow);ve&&q.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ve}; }`);const Le=X.getColor(D.diffBorder);Le&&q.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Le}; }`);const Te=X.getColor(D.scrollbarSliderBackground);Te&&q.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Te};
			}
		`);const Ne=X.getColor(D.scrollbarSliderHoverBackground);Ne&&q.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Ne};
			}
		`);const Ae=X.getColor(D.scrollbarSliderActiveBackground);Ae&&q.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ae};
			}
		`);const Oe=X.getColor(D.diffDiagonalFill);q.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Oe} 12.5%,
			#0000 12.5%, #0000 50%,
			${Oe} 50%, ${Oe} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(te[684],ne([0,1,493,7,45,167,108,52,14,10,2,17,8,3,149,22,12,588,27,81,356]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const o=(0,t.registerIcon)("find-selection",l.Codicon.selection,_.localize(0,null)),c=(0,t.registerIcon)("find-collapsed",l.Codicon.chevronRight,_.localize(1,null)),f=(0,t.registerIcon)("find-expanded",l.Codicon.chevronDown,_.localize(2,null));e.findReplaceIcon=(0,t.registerIcon)("find-replace",l.Codicon.replace,_.localize(3,null)),e.findReplaceAllIcon=(0,t.registerIcon)("find-replace-all",l.Codicon.replaceAll,_.localize(4,null)),e.findPreviousMatchIcon=(0,t.registerIcon)("find-previous-match",l.Codicon.arrowUp,_.localize(5,null)),e.findNextMatchIcon=(0,t.registerIcon)("find-next-match",l.Codicon.arrowDown,_.localize(6,null));const y=_.localize(7,null),b=_.localize(8,null),g=_.localize(9,null),m=_.localize(10,null),w=_.localize(11,null),D=_.localize(12,null),k=_.localize(13,null),T=_.localize(14,null),R=_.localize(15,null),M=_.localize(16,null),A=_.localize(17,null),O=_.localize(18,null,h.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=_.localize(19,null),e.NLS_NO_RESULTS=_.localize(20,null);const P=419,E=275-54;let x=69;const W=33,G="ctrlEnterReplaceAll.windows.donotask",Y=s.isMacintosh?256:2048;class se{constructor(B){this.afterLineNumber=B,this.heightInPx=W,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=se;function re(V,B,Z){const H=!!B.match(/\n/);if(Z&&H&&Z.selectionStart>0){V.stopPropagation();return}}function J(V,B,Z){const H=!!B.match(/\n/);if(Z&&H&&Z.selectionEnd<Z.value.length){V.stopPropagation();return}}class le extends p.Widget{constructor(B,Z,H,z,ie,ce,K,Q,U){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=B,this._controller=Z,this._state=H,this._contextViewProvider=z,this._keybindingService=ie,this._contextKeyService=ce,this._storageService=Q,this._notificationService=U,this._ctrlEnterReplaceAllWarningPrompted=!!Q.getBoolean(G,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new v.Delayer(500),this._register((0,C.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ee=>this._onStateChanged(ee))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ee=>{if(ee.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ee.hasChanged(130)&&this._tryUpdateWidgetWidth(),ee.hasChanged(2)&&this.updateAccessibilitySupport(),ee.hasChanged(34)){const de=this._codeEditor.getOption(34).addExtraSpaceOnTop;de&&!this._viewZone&&(this._viewZone=new se(0),this._showViewZone()),!de&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>ke(this,void 0,void 0,function*(){if(this._isVisible){let ee=yield this._controller.getGlobalBufferTerm();ee&&ee!==this._state.searchString&&(this._state.change({searchString:ee},!1),this._findInput.select())}}))),this._findInputFocused=h.CONTEXT_FIND_INPUT_FOCUSED.bindTo(ce),this._findFocusTracker=this._register(N.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=h.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(ce),this._replaceFocusTracker=this._register(N.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(34).addExtraSpaceOnTop&&(this._viewZone=new se(0)),this._applyTheme(K.getColorTheme()),this._register(K.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ee=>{if(ee.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return le.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(B){if(B.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(B.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),B.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),B.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=N.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(B.isRevealed||B.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),B.isRegex&&this._findInput.setRegex(this._state.isRegex),B.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),B.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),B.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),B.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),B.searchString||B.matchesCount||B.matchesPosition){let Z=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",Z),this._updateMatchesCount(),this._updateButtons()}(B.searchString||B.currentMatch)&&this._layoutViewZone(),B.updateHistory&&this._delayedUpdateHistory(),B.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=x+"px",this._state.matchesCount>=h.MATCHES_LIMIT?this._matchesCount.title=O:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let B;if(this._state.matchesCount>0){let Z=String(this._state.matchesCount);this._state.matchesCount>=h.MATCHES_LIMIT&&(Z+="+");let H=String(this._state.matchesPosition);H==="0"&&(H="?"),B=a.format(e.NLS_MATCHES_LOCATION,H,Z)}else B=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(B)),(0,I.alert)(this._getAriaLabel(B,this._state.currentMatch,this._state.searchString)),x=Math.max(x,this._matchesCount.clientWidth)}_getAriaLabel(B,Z,H){if(B===e.NLS_NO_RESULTS)return H===""?_.localize(21,null,B):_.localize(22,null,B,H);if(Z){const z=_.localize(23,null,B,H,Z.startLineNumber+":"+Z.startColumn),ie=this._codeEditor.getModel();return ie&&Z.startLineNumber<=ie.getLineCount()&&Z.startLineNumber>=1?`${ie.getLineContent(Z.startLineNumber)}, ${z}`:z}return _.localize(24,null,B,H)}_updateToggleSelectionFindButton(){let B=this._codeEditor.getSelection(),Z=B?B.startLineNumber!==B.endLineNumber||B.startColumn!==B.endColumn:!1,H=this._toggleSelectionFind.checked;this._isVisible&&(H||Z)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let B=this._state.searchString.length>0,Z=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&B&&Z&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&B&&Z&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let H=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&H)}_reveal(){if(this._revealTimeouts.forEach(B=>{clearTimeout(B)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const B=this._codeEditor.getSelection();switch(this._codeEditor.getOption(34).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const H=!!B&&B.startLineNumber!==B.endLineNumber;this._toggleSelectionFind.checked=H;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Z=!0;if(this._codeEditor.getOption(34).seedSearchStringFromSelection&&B){const H=this._codeEditor.getDomNode();if(H){const z=N.getDomNodePagePosition(H),ie=this._codeEditor.getScrolledVisiblePosition(B.getStartPosition()),ce=z.left+(ie?ie.left:0),K=ie?ie.top:0;if(this._viewZone&&K<this._viewZone.heightInPx){B.endLineNumber>B.startLineNumber&&(Z=!1);const Q=N.getTopLeftOffset(this._domNode).left;ce>Q&&(Z=!1);const U=this._codeEditor.getScrolledVisiblePosition(B.getEndPosition());z.left+(U?U.left:0)>Q&&(Z=!1)}}}this._showViewZone(Z)}}_hide(B){this._revealTimeouts.forEach(Z=>{clearTimeout(Z)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),B&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(B){if(!this._codeEditor.getOption(34).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const H=this._viewZone;this._viewZoneId!==void 0||!H||this._codeEditor.changeViewZones(z=>{H.heightInPx=this._getHeight(),this._viewZoneId=z.addZone(H),this._codeEditor.setScrollTop(B||this._codeEditor.getScrollTop()+H.heightInPx)})}_showViewZone(B=!0){if(!this._isVisible||!this._codeEditor.getOption(34).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new se(0));const H=this._viewZone;this._codeEditor.changeViewZones(z=>{if(this._viewZoneId!==void 0){const ie=this._getHeight();if(ie===H.heightInPx)return;let ce=ie-H.heightInPx;H.heightInPx=ie,z.layoutZone(this._viewZoneId),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ce);return}else{let ie=this._getHeight();if(ie-=this._codeEditor.getOption(74).top,ie<=0)return;H.heightInPx=ie,this._viewZoneId=z.addZone(H),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ie)}})}_removeViewZone(){this._codeEditor.changeViewZones(B=>{this._viewZoneId!==void 0&&(B.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(B){let Z={inputActiveOptionBorder:B.getColor(d.inputActiveOptionBorder),inputActiveOptionBackground:B.getColor(d.inputActiveOptionBackground),inputActiveOptionForeground:B.getColor(d.inputActiveOptionForeground),inputBackground:B.getColor(d.inputBackground),inputForeground:B.getColor(d.inputForeground),inputBorder:B.getColor(d.inputBorder),inputValidationInfoBackground:B.getColor(d.inputValidationInfoBackground),inputValidationInfoForeground:B.getColor(d.inputValidationInfoForeground),inputValidationInfoBorder:B.getColor(d.inputValidationInfoBorder),inputValidationWarningBackground:B.getColor(d.inputValidationWarningBackground),inputValidationWarningForeground:B.getColor(d.inputValidationWarningForeground),inputValidationWarningBorder:B.getColor(d.inputValidationWarningBorder),inputValidationErrorBackground:B.getColor(d.inputValidationErrorBackground),inputValidationErrorForeground:B.getColor(d.inputValidationErrorForeground),inputValidationErrorBorder:B.getColor(d.inputValidationErrorBorder)};this._findInput.style(Z),this._replaceInput.style(Z),this._toggleSelectionFind.style(Z)}_tryUpdateWidgetWidth(){if(!this._isVisible||!N.isInDOM(this._domNode))return;const B=this._codeEditor.getLayoutInfo();if(B.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const H=B.width,z=B.minimap.minimapWidth;let ie=!1,ce=!1,K=!1;if(this._resized&&N.getTotalWidth(this._domNode)>P){this._domNode.style.maxWidth=`${H-28-z-15}px`,this._replaceInput.width=N.getTotalWidth(this._findInput.domNode);return}if(P+28+z>=H&&(ce=!0),P+28+z-x>=H&&(K=!0),P+28+z-x>=H+50&&(ie=!0),this._domNode.classList.toggle("collapsed-find-widget",ie),this._domNode.classList.toggle("narrow-find-widget",K),this._domNode.classList.toggle("reduced-find-widget",ce),!K&&!ie&&(this._domNode.style.maxWidth=`${H-28-z-15}px`),this._resized){this._findInput.inputBox.layout();let Q=this._findInput.inputBox.element.clientWidth;Q>0&&(this._replaceInput.width=Q)}else this._isReplaceVisible&&(this._replaceInput.width=N.getTotalWidth(this._findInput.domNode))}_getHeight(){let B=0;return B+=4,B+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(B+=4,B+=this._replaceInput.inputBox.height+2),B+=4,B}_tryUpdateHeight(){const B=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===B?!1:(this._cachedHeight=B,this._domNode.style.height=`${B}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let B=this._codeEditor.getSelections();B.map(Z=>{Z.endColumn===1&&Z.endLineNumber>Z.startLineNumber&&(Z=Z.setEndPosition(Z.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Z.endLineNumber-1)));const H=this._state.currentMatch;return Z.startLineNumber!==Z.endLineNumber&&!u.Range.equalsRange(Z,H)?Z:null}).filter(Z=>!!Z),B.length&&this._state.change({searchScope:B},!0)}}_onFindInputMouseDown(B){B.middleButton&&B.stopPropagation()}_onFindInputKeyDown(B){if(B.equals(Y|3)){this._findInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return re(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(B.equals(18))return J(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(B){if(B.equals(Y|3)){s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(G,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(1024|2)){this._findInput.focus(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return re(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(B.equals(18))return J(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(B){return 0}_keybindingLabelFor(B){let Z=this._keybindingService.lookupKeybinding(B);return Z?` (${Z.getLabel()})`:""}_buildDomNode(){const B=!0,Z=!0;this._findInput=this._register(new n.ContextScopedFindInput(null,this._contextViewProvider,{width:E,label:y,placeholder:b,appendCaseSensitiveLabel:this._keybindingLabelFor(h.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(h.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(h.FIND_IDS.ToggleRegexCommand),validation:Q=>{if(Q.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Q,"gu"),null}catch(U){return{content:U.message}}},flexibleHeight:B,flexibleWidth:Z,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Q=>this._onFindInputKeyDown(Q))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Q=>{Q.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),Q.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Q=>{Q.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Q.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Q=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(Q=>this._onFindInputMouseDown(Q))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ae({label:g+this._keybindingLabelFor(h.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(h.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new ae({label:m+this._keybindingLabelFor(h.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(h.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let H=document.createElement("div");H.className="find-part",H.appendChild(this._findInput.domNode);const z=document.createElement("div");z.className="find-actions",H.appendChild(z),z.appendChild(this._matchesCount),z.appendChild(this._prevBtn.domNode),z.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L.Checkbox({icon:o,title:w+this._keybindingLabelFor(h.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let Q=this._codeEditor.getSelections();Q.map(U=>(U.endColumn===1&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(U.endLineNumber-1))),U.isEmpty()?null:U)).filter(U=>!!U),Q.length&&this._state.change({searchScope:Q},!0)}}else this._state.change({searchScope:null},!0)})),z.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ae({label:D+this._keybindingLabelFor(h.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Q=>{Q.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Q.preventDefault())}})),z.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new n.ContextScopedReplaceInput(null,void 0,{label:k,placeholder:T,appendPreserveCaseLabel:this._keybindingLabelFor(h.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:B,flexibleWidth:Z,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Q=>this._onReplaceInputKeyDown(Q))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Q=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Q=>{Q.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Q.preventDefault())})),this._replaceBtn=this._register(new ae({label:R+this._keybindingLabelFor(h.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:Q=>{Q.equals(1024|2)&&(this._closeBtn.focus(),Q.preventDefault())}})),this._replaceAllBtn=this._register(new ae({label:M+this._keybindingLabelFor(h.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let ie=document.createElement("div");ie.className="replace-part",ie.appendChild(this._replaceInput.domNode);const ce=document.createElement("div");ce.className="replace-actions",ie.appendChild(ce),ce.appendChild(this._replaceBtn.domNode),ce.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ae({label:A,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=N.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${P}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(H),this._domNode.appendChild(ie),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let K=P;this._register(this._resizeSash.onDidStart(()=>{K=N.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(Q=>{this._resized=!0;let U=K+Q.startX-Q.currentX;if(U<P)return;const ee=parseFloat(N.getComputedStyle(this._domNode).maxWidth)||0;U>ee||(this._domNode.style.width=`${U}px`,this._isReplaceVisible&&(this._replaceInput.width=N.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Q=N.getTotalWidth(this._domNode);if(Q<P)return;let U=P;if(!this._resized||Q===P){const ee=this._codeEditor.getLayoutInfo();U=ee.width-28-ee.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${U}px`,this._isReplaceVisible&&(this._replaceInput.width=N.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const B=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(B!==2)}}e.FindWidget=le,le.ID="editor.contrib.findWidget";class ae extends p.Widget{constructor(B){super();this._opts=B;let Z="button";this._opts.className&&(Z=Z+" "+this._opts.className),this._opts.icon&&(Z=Z+" "+r.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Z,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,H=>{this._opts.onTrigger(),H.preventDefault()}),this.onkeydown(this._domNode,H=>{if(H.equals(10)||H.equals(3)){this._opts.onTrigger(),H.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(H)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(B){this._domNode.classList.toggle("disabled",!B),this._domNode.setAttribute("aria-disabled",String(!B)),this._domNode.tabIndex=B?0:-1}setExpanded(B){this._domNode.setAttribute("aria-expanded",String(!!B)),B?(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(c)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(f))):(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(f)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(c)))}}e.SimpleButton=ae,(0,r.registerThemingParticipant)((V,B)=>{const Z=(X,q)=>{q&&B.addRule(`.monaco-editor ${X} { background-color: ${q}; }`)};Z(".findMatch",V.getColor(d.editorFindMatchHighlight)),Z(".currentFindMatch",V.getColor(d.editorFindMatch)),Z(".findScope",V.getColor(d.editorFindRangeHighlight));const H=V.getColor(d.editorWidgetBackground);Z(".find-widget",H);const z=V.getColor(d.widgetShadow);z&&B.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${z}; }`);const ie=V.getColor(d.editorFindMatchHighlightBorder);ie&&B.addRule(`.monaco-editor .findMatch { border: 1px ${V.type==="hc"?"dotted":"solid"} ${ie}; box-sizing: border-box; }`);const ce=V.getColor(d.editorFindMatchBorder);ce&&B.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${ce}; padding: 1px; box-sizing: border-box; }`);const K=V.getColor(d.editorFindRangeHighlightBorder);K&&B.addRule(`.monaco-editor .findScope { border: 1px ${V.type==="hc"?"dashed":"solid"} ${K}; }`);const Q=V.getColor(d.contrastBorder);Q&&B.addRule(`.monaco-editor .find-widget { border: 1px solid ${Q}; }`);const U=V.getColor(d.editorWidgetForeground);U&&B.addRule(`.monaco-editor .find-widget { color: ${U}; }`);const ee=V.getColor(d.errorForeground);ee&&B.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ee}; }`);const de=V.getColor(d.editorWidgetResizeBorder);if(de)B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${de}; }`);else{const X=V.getColor(d.editorWidgetBorder);X&&B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${X}; }`)}const j=V.getColor(d.toolbarHoverBackground);j&&B.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${j} !important;
		}
	`);const ue=V.getColor(d.focusBorder);ue&&B.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ue}; }`)})}),define(te[279],ne([0,1,492,14,2,8,16,25,149,622,623,684,33,88,15,69,39,71,12,34]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const o=524288;function c(M,A="single",O=!1){if(!M.hasModel())return null;const P=M.getSelection();if(A==="single"&&P.startLineNumber===P.endLineNumber||A==="multiple"){if(P.isEmpty()){const F=M.getConfiguredWordAtPosition(P.getStartPosition());if(F&&O===!1)return F.word}else if(M.getModel().getValueLengthInRange(P)<o)return M.getModel().getValueInRange(P)}return null}e.getSelectionSearchString=c;let f=class Jt extends I.Disposable{constructor(A,O,P,F){super();this._editor=A,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=P,this._clipboardService=F,this._updateHistoryDelayer=new N.Delayer(500),this._state=this._register(new C.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(E=>this._onStateChanged(E))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let E=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),E&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(34).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(Jt.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let A=this._editor.getSelections();A.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=L.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A){return ke(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let O={isRevealed:!0};if(A.seedSearchStringFromSelection==="single"){let P=c(this._editor,A.seedSearchStringFromSelection,A.seedSearchStringFromNonEmptySelection);P&&(this._state.isRegex?O.searchString=L.escapeRegExpCharacters(P):O.searchString=P)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){let P=c(this._editor,A.seedSearchStringFromSelection);P&&(O.searchString=P)}if(!O.searchString&&A.seedSearchStringFromGlobalClipboard){let P=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;P&&(O.searchString=P)}if(A.forceRevealReplace?O.isReplaceRevealed=!0:this._findWidgetVisible.get()||(O.isReplaceRevealed=!1),A.updateSearchScope){let P=this._editor.getSelections();P.some(F=>!F.isEmpty())&&(O.searchScope=P)}O.loop=A.loop,this._state.change(O,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))})}start(A){return this._start(A)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return ke(this,void 0,void 0,function*(){return this._editor.getOption(34).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(34).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};f.ID="editor.contrib.findController",f=Re([me(1,h.IContextKeyService),me(2,n.IStorageService),me(3,u.IClipboardService)],f),e.CommonFindController=f;let y=class extends f{constructor(A,O,P,F,E,x,W,G){super(A,P,W,G);this._contextViewService=O,this._keybindingService=F,this._themeService=E,this._notificationService=x,this._widget=null,this._findOptionsWidget=null}_start(A){const O=Object.create(null,{_start:{get:()=>super._start}});return ke(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const P=this._editor.getSelection();let F=!1;switch(this._editor.getOption(34).autoFindInSelection){case"always":F=!0;break;case"never":F=!1;break;case"multiline":F=!!P&&P.startLineNumber!==P.endLineNumber;break;default:break}A.updateSearchScope=F,yield O._start.call(this,A),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new s.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};y=Re([me(1,d.IContextViewService),me(2,h.IContextKeyService),me(3,r.IKeybindingService),me(4,l.IThemeService),me(5,t.INotificationService),me(6,n.IStorageService),me(7,u.IClipboardService)],y),e.FindController=y,e.StartFindAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:_.localize(0,null),alias:"Find",precondition:h.ContextKeyExpr.or(p.EditorContextKeys.focus,h.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:_.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(M,A,O)=>{const P=f.get(A);return P?P.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(34).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(34).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(34).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(34).loop}):!1});class b extends S.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:_.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,O){return ke(this,void 0,void 0,function*(){let P=f.get(O);P&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(34).loop}),P.setGlobalBufferTerm(P.getState().searchString))})}}e.StartFindWithSelectionAction=b;class g extends S.EditorAction{run(A,O){return ke(this,void 0,void 0,function*(){let P=f.get(O);P&&!this._run(P)&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getState().searchString.length===0&&O.getOption(34).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(34).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(34).loop}),this._run(P))})}}e.MatchFindAction=g;class m extends g{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:_.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=m;class w extends g{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:_.localize(4,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=w;class D extends S.EditorAction{run(A,O){return ke(this,void 0,void 0,function*(){let P=f.get(O);if(!P)return;const F=O.getOption(34).seedSearchStringFromSelection==="selection";let E=null;O.getOption(34).seedSearchStringFromSelection!=="never"&&(E=c(O,"single",F)),E&&P.setSearchString(E),this._run(P)||(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(34).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(34).loop}),this._run(P))})}}e.SelectionMatchFindAction=D;class k extends D{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:_.localize(5,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=k;class T extends D{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:_.localize(6,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=T,e.StartFindReplaceAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:_.localize(7,null),alias:"Replace",precondition:h.ContextKeyExpr.or(p.EditorContextKeys.focus,h.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:_.localize(8,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(M,A,O)=>{if(!A.hasModel()||A.getOption(80))return!1;const P=f.get(A);if(!P)return!1;const F=A.getSelection(),E=P.isFindInputFocused(),x=!F.isEmpty()&&F.startLineNumber===F.endLineNumber&&A.getOption(34).seedSearchStringFromSelection!=="never"&&!E,W=E||x?2:1;return P.start({forceRevealReplace:!0,seedSearchStringFromSelection:x?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(34).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(34).seedSearchStringFromSelection!=="never",shouldFocus:W,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(34).loop})}),(0,S.registerEditorContribution)(f.ID,y),(0,S.registerEditorAction)(b),(0,S.registerEditorAction)(m),(0,S.registerEditorAction)(w),(0,S.registerEditorAction)(k),(0,S.registerEditorAction)(T);const R=S.EditorCommand.bindToContribution(f.get);(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,h.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:M=>M.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:M=>M.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:M=>M.toggleRegex(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:M=>M.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:M=>M.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replace(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|1024|22}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replace(),kbOpts:{weight:100+5,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replaceAll(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|512|3}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.replaceAll(),kbOpts:{weight:100+5,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,S.registerEditorCommand)(new R({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:M=>M.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:512|3}}))}),define(te[685],ne([0,1,31,27,495,81,12]),function($,e,_,N,I,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,L.registerIcon)("folding-expanded",N.Codicon.chevronDown,(0,I.localize)(0,null)),e.foldingCollapsedIcon=(0,L.registerIcon)("folding-collapsed",N.Codicon.chevronRight,(0,I.localize)(1,null));class p{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,C){return C?p.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:p.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:p.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,C){return this.editor.deltaDecorations(i,C)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=p,p.COLLAPSED_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.EXPANDED_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.HIDDEN_RANGE_DECORATION=_.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(te[686],ne([0,1,494,20,8,14,43,2,16,423,685,25,424,36,624,18,232,425,10,15,12,22,66,357]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const y=new t.RawContextKey("foldingEnabled",!1);let b=class ei extends p.Disposable{constructor(J,le){super();this.contextKeyService=le,this.localToDispose=this._register(new p.DisposableStore),this.editor=J;const ae=this.editor.getOptions();this._isEnabled=ae.get(36),this._useFoldingProviders=ae.get(37)!=="indentation",this._unfoldOnClickAfterEndOfLine=ae.get(40),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ae.get(39),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new C.FoldingDecorationProvider(J),this.foldingDecorationProvider.autoHideFoldingControls=ae.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ae.get(38),this.foldingEnabled=y.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(V=>{if(V.hasChanged(36)&&(this._isEnabled=this.editor.getOptions().get(36),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),V.hasChanged(99)||V.hasChanged(38)){const B=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=B.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=B.get(38),this.onModelContentChanged()}V.hasChanged(37)&&(this._useFoldingProviders=this.editor.getOptions().get(37)!=="indentation",this.onFoldingStrategyChanged()),V.hasChanged(40)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(40)),V.hasChanged(39)&&(this._foldingImportsByDefault=this.editor.getOptions().get(39))})),this.onModelChanged()}static get(J){return J.getContribution(ei.ID)}saveViewState(){let J=this.editor.getModel();if(!J||!this._isEnabled||J.isTooLargeForTokenization())return{};if(this.foldingModel){let le=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),ae=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:le,lineCount:J.getLineCount(),provider:ae,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(J){let le=this.editor.getModel();if(!le||!this._isEnabled||le.isTooLargeForTokenization()||!this.hiddenRangeModel||!J||J.lineCount!==le.getLineCount()||(this._currentModelHasFoldedImports=!!J.foldedImports,!J.collapsedRegions))return;(J.provider===r.ID_SYNTAX_PROVIDER||J.provider===n.ID_INIT_PROVIDER)&&(this.foldingStateMemento=J);const ae=J.collapsedRegions;if(this.hiddenRangeModel.applyMemento(ae)){const V=this.getFoldingModel();V&&V.then(B=>{if(B){this._restoringViewState=!0;try{B.applyMemento(ae)}finally{this._restoringViewState=!1}}}).then(void 0,l.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let J=this.editor.getModel();!this._isEnabled||!J||J.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new i.FoldingModel(J,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(le=>this.onHiddenRangesChanges(le))),this.updateScheduler=new L.Delayer(200),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(d.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(le=>this.onEditorMouseDown(le))),this.localToDispose.add(this.editor.onMouseUp(le=>this.onEditorMouseUp(le))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(J){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new h.IndentRangeProvider(J),this._useFoldingProviders&&this.foldingModel){let le=d.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(le.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new n.InitializingRangeProvider(J,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);le.length>0&&(this.rangeProvider=new r.SyntaxRangeProvider(J,le,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const J=this.foldingModel;if(!J)return null;const le=this.getRangeProvider(J.textModel);let ae=this.foldingRegionPromise=(0,L.createCancelablePromise)(V=>le.compute(V));return ae.then(V=>{if(V&&ae===this.foldingRegionPromise){let B;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const z=V.setCollapsedAllOfType(d.FoldingRangeKind.Imports.value,!0);z&&(B=f.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=z)}let Z=this.editor.getSelections(),H=Z?Z.map(z=>z.startLineNumber):[];J.update(V,H),B&&B.restore(this.editor)}return J})}).then(void 0,J=>((0,l.onUnexpectedError)(J),null)))}onHiddenRangesChanges(J){if(this.hiddenRangeModel&&J.length&&!this._restoringViewState){let le=this.editor.getSelections();le&&this.hiddenRangeModel.adjustSelections(le)&&this.editor.setSelections(le)}this.editor.setHiddenAreas(J)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const J=this.getFoldingModel();!J||J.then(le=>{if(le){let ae=this.editor.getSelections();if(ae&&ae.length>0){let V=[];for(let B of ae){let Z=B.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(Z)&&V.push(...le.getAllRegionsAtLine(Z,H=>H.isCollapsed&&Z>H.startLineNumber))}V.length&&(le.toggleCollapseState(V),this.reveal(ae[0].getPosition()))}}}).then(void 0,l.onUnexpectedError)}onEditorMouseDown(J){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!J.target||!J.target.range||!J.event.leftButton&&!J.event.middleButton)return;const le=J.target.range;let ae=!1;switch(J.target.type){case 4:const V=J.target.detail,B=J.target.element.offsetLeft;if(V.offsetX-B<5)return;ae=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!J.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let H=this.editor.getModel();if(H&&le.startColumn===H.getLineMaxColumn(le.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:le.startLineNumber,iconClicked:ae}}onEditorMouseUp(J){const le=this.getFoldingModel();if(!le||!this.mouseDownInfo||!J.target)return;let ae=this.mouseDownInfo.lineNumber,V=this.mouseDownInfo.iconClicked,B=J.target.range;if(!(!B||B.startLineNumber!==ae)){if(V){if(J.target.type!==4)return}else{let Z=this.editor.getModel();if(!Z||B.startColumn!==Z.getLineMaxColumn(ae))return}le.then(Z=>{if(Z){let H=Z.getRegionAtLine(ae);if(H&&H.startLineNumber===ae){let z=H.isCollapsed;if(V||z){let ie=J.event.altKey,ce=[];if(ie){let K=U=>!U.containedBy(H)&&!H.containedBy(U),Q=Z.getRegionsInside(null,K);for(const U of Q)U.isCollapsed&&ce.push(U);ce.length===0&&(ce=Q)}else{let K=J.event.middleButton||J.event.shiftKey;if(K)for(const Q of Z.getRegionsInside(H))Q.isCollapsed===z&&ce.push(Q);(z||!K||ce.length===0)&&ce.push(H)}Z.toggleCollapseState(ce),this.reveal({lineNumber:ae,column:1})}}}}).then(void 0,l.onUnexpectedError)}}reveal(J){this.editor.revealPositionInCenterIfOutsideViewport(J,0)}};b.ID="editor.contrib.folding",b=Re([me(1,t.IContextKeyService)],b),e.FoldingController=b;class g extends v.EditorAction{runEditorCommand(J,le,ae){let V=b.get(le);if(!V)return;let B=V.getFoldingModel();if(B)return this.reportTelemetry(J,le),B.then(Z=>{if(Z){this.invoke(V,Z,le,ae);const H=le.getSelection();H&&V.reveal(H.getStartPosition())}})}getSelectedLines(J){let le=J.getSelections();return le?le.map(ae=>ae.startLineNumber):[]}getLineNumbers(J,le){return J&&J.selectionLines?J.selectionLines.map(ae=>ae+1):this.getSelectedLines(le)}run(J,le){}}function m(re){if(!N.isUndefined(re)){if(!N.isObject(re))return!1;const J=re;if(!N.isUndefined(J.levels)&&!N.isNumber(J.levels)||!N.isUndefined(J.direction)&&!N.isString(J.direction)||!N.isUndefined(J.selectionLines)&&(!N.isArray(J.selectionLines)||!J.selectionLines.every(N.isNumber)))return!1}return!0}class w extends g{constructor(){super({id:"editor.unfold",label:_.localize(0,null),alias:"Unfold",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:m,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,le,ae,V){let B=V&&V.levels||1,Z=this.getLineNumbers(V,ae);V&&V.direction==="up"?(0,i.setCollapseStateLevelsUp)(le,!1,B,Z):(0,i.setCollapseStateLevelsDown)(le,!1,B,Z)}}class D extends g{constructor(){super({id:"editor.unfoldRecursively",label:_.localize(1,null),alias:"Unfold Recursively",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|89),weight:100}})}invoke(J,le,ae,V){(0,i.setCollapseStateLevelsDown)(le,!1,Number.MAX_VALUE,this.getSelectedLines(ae))}}class k extends g{constructor(){super({id:"editor.fold",label:_.localize(2,null),alias:"Fold",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:m,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,le,ae,V){let B=this.getLineNumbers(V,ae);const Z=V&&V.levels,H=V&&V.direction;typeof Z!="number"&&typeof H!="string"?(0,i.setCollapseStateUp)(le,!0,B):H==="up"?(0,i.setCollapseStateLevelsUp)(le,!0,Z||1,B):(0,i.setCollapseStateLevelsDown)(le,!0,Z||1,B)}}class T extends g{constructor(){super({id:"editor.toggleFold",label:_.localize(3,null),alias:"Toggle Fold",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|42),weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);(0,i.toggleCollapseState)(le,1,V)}}class R extends g{constructor(){super({id:"editor.foldRecursively",label:_.localize(4,null),alias:"Fold Recursively",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|87),weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);(0,i.setCollapseStateLevelsDown)(le,!0,Number.MAX_VALUE,V)}}class M extends g{constructor(){super({id:"editor.foldAllBlockComments",label:_.localize(5,null),alias:"Fold All Block Comments",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|85),weight:100}})}invoke(J,le,ae){if(le.regions.hasTypes())(0,i.setCollapseStateForType)(le,d.FoldingRangeKind.Comment.value,!0);else{const V=ae.getModel();if(!V)return;let B=u.LanguageConfigurationRegistry.getComments(V.getLanguageIdentifier().id);if(B&&B.blockCommentStartToken){let Z=new RegExp("^\\s*"+(0,I.escapeRegExpCharacters)(B.blockCommentStartToken));(0,i.setCollapseStateForMatchingLines)(le,Z,!0)}}}}class A extends g{constructor(){super({id:"editor.foldAllMarkerRegions",label:_.localize(6,null),alias:"Fold All Regions",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|29),weight:100}})}invoke(J,le,ae){if(le.regions.hasTypes())(0,i.setCollapseStateForType)(le,d.FoldingRangeKind.Region.value,!0);else{const V=ae.getModel();if(!V)return;let B=u.LanguageConfigurationRegistry.getFoldingRules(V.getLanguageIdentifier().id);if(B&&B.markers&&B.markers.start){let Z=new RegExp(B.markers.start);(0,i.setCollapseStateForMatchingLines)(le,Z,!0)}}}}class O extends g{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_.localize(7,null),alias:"Unfold All Regions",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|30),weight:100}})}invoke(J,le,ae){if(le.regions.hasTypes())(0,i.setCollapseStateForType)(le,d.FoldingRangeKind.Region.value,!1);else{const V=ae.getModel();if(!V)return;let B=u.LanguageConfigurationRegistry.getFoldingRules(V.getLanguageIdentifier().id);if(B&&B.markers&&B.markers.start){let Z=new RegExp(B.markers.start);(0,i.setCollapseStateForMatchingLines)(le,Z,!1)}}}}class P extends g{constructor(){super({id:"editor.foldAllExcept",label:_.localize(8,null),alias:"Fold All Regions Except Selected",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|83),weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);(0,i.setCollapseStateForRest)(le,!0,V)}}class F extends g{constructor(){super({id:"editor.unfoldAllExcept",label:_.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|81),weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);(0,i.setCollapseStateForRest)(le,!1,V)}}class E extends g{constructor(){super({id:"editor.foldAll",label:_.localize(10,null),alias:"Fold All",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21),weight:100}})}invoke(J,le,ae){(0,i.setCollapseStateLevelsDown)(le,!0)}}class x extends g{constructor(){super({id:"editor.unfoldAll",label:_.localize(11,null),alias:"Unfold All",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|40),weight:100}})}invoke(J,le,ae){(0,i.setCollapseStateLevelsDown)(le,!1)}}class W extends g{getFoldingLevel(){return parseInt(this.id.substr(W.ID_PREFIX.length))}invoke(J,le,ae){(0,i.setCollapseStateAtLevel)(le,this.getFoldingLevel(),!0,this.getSelectedLines(ae))}}W.ID_PREFIX="editor.foldLevel",W.ID=re=>W.ID_PREFIX+re;class G extends g{constructor(){super({id:"editor.gotoParentFold",label:_.localize(12,null),alias:"Go to Parent Fold",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);if(V.length>0){let B=(0,i.getParentFoldLine)(V[0],le);B!==null&&ae.setSelection({startLineNumber:B,startColumn:1,endLineNumber:B,endColumn:1})}}}class Y extends g{constructor(){super({id:"editor.gotoPreviousFold",label:_.localize(13,null),alias:"Go to Previous Fold",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);if(V.length>0){let B=(0,i.getPreviousFoldLine)(V[0],le);B!==null&&ae.setSelection({startLineNumber:B,startColumn:1,endLineNumber:B,endColumn:1})}}}class se extends g{constructor(){super({id:"editor.gotoNextFold",label:_.localize(14,null),alias:"Go to Next Fold",precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(J,le,ae){let V=this.getSelectedLines(ae);if(V.length>0){let B=(0,i.getNextFoldLine)(V[0],le);B!==null&&ae.setSelection({startLineNumber:B,startColumn:1,endLineNumber:B,endColumn:1})}}}(0,v.registerEditorContribution)(b.ID,b),(0,v.registerEditorAction)(w),(0,v.registerEditorAction)(D),(0,v.registerEditorAction)(k),(0,v.registerEditorAction)(R),(0,v.registerEditorAction)(E),(0,v.registerEditorAction)(x),(0,v.registerEditorAction)(M),(0,v.registerEditorAction)(A),(0,v.registerEditorAction)(O),(0,v.registerEditorAction)(P),(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(T),(0,v.registerEditorAction)(G),(0,v.registerEditorAction)(Y),(0,v.registerEditorAction)(se);for(let re=1;re<=7;re++)(0,v.registerInstantiatedEditorAction)(new W({id:W.ID(re),label:_.localize(15,null,re),alias:`Fold Level ${re}`,precondition:y,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21+re),weight:100}}));e.foldBackgroundBackground=(0,c.registerColor)("editor.foldBackground",{light:(0,c.transparent)(c.editorSelectionBackground,.3),dark:(0,c.transparent)(c.editorSelectionBackground,.3),hc:null},_.localize(16,null),!0),e.editorFoldForeground=(0,c.registerColor)("editorGutter.foldingControlForeground",{dark:c.iconForeground,light:c.iconForeground,hc:c.iconForeground},_.localize(17,null)),(0,o.registerThemingParticipant)((re,J)=>{const le=re.getColor(e.foldBackgroundBackground);le&&J.addRule(`.monaco-editor .folded-background { background-color: ${le}; }`);const ae=re.getColor(e.editorFoldForeground);ae&&J.addRule(`
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(C.foldingExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(C.foldingCollapsedIcon)} {
			color: ${ae} !important;
		}
		`)})}),define(te[280],ne([0,1,499,2,15,13,3,16,25,682,28,33,27,9,574,81]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class pt{constructor(g,m,w,D,k){this._markerNavigationService=m,this._contextKeyService=w,this._editorService=D,this._instantiationService=k,this._sessionDispoables=new N.DisposableStore,this._editor=g,this._widgetVisible=f.bindTo(this._contextKeyService)}static get(g){return g.getContribution(pt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(g){if(this._model&&this._model.matches(g))return this._model;let m=!1;return this._model&&(m=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(g),m&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(i.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(w=>{var D,k,T;(!((D=this._model)===null||D===void 0?void 0:D.selected)||!S.Range.containsPosition((k=this._model)===null||k===void 0?void 0:k.selected.marker,w.position))&&((T=this._model)===null||T===void 0||T.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const w=this._model.find(this._editor.getModel().uri,this._widget.position);w?this._widget.updateMarker(w.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(w=>{this._editorService.openCodeEditor({resource:w.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(w).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(g=!0){this._cleanUp(),g&&this._editor.focus()}showAtMarker(g){if(this._editor.hasModel()){const m=this._getOrCreateModel(this._editor.getModel().uri);m.resetIndex(),m.move(!0,this._editor.getModel(),new L.Position(g.startLineNumber,g.startColumn)),m.selected&&this._widget.showAtMarker(m.selected.marker,m.selected.index,m.selected.total)}}nagivate(g,m){return ke(this,void 0,void 0,function*(){if(this._editor.hasModel()){const w=this._getOrCreateModel(m?void 0:this._editor.getModel().uri);if(w.move(g,this._editor.getModel(),this._editor.getPosition()),!w.selected)return;if(w.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const D=yield this._editorService.openCodeEditor({resource:w.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:w.selected.marker}},this._editor);D&&(pt.get(D).close(),pt.get(D).nagivate(g,m))}else this._widget.showAtMarker(w.selected.marker,w.selected.index,w.selected.total)}})}};r.ID="editor.contrib.markerController",r=Re([me(1,h.IMarkerNavigationService),me(2,I.IContextKeyService),me(3,C.ICodeEditorService),me(4,u.IInstantiationService)],r),e.MarkerController=r;class n extends p.EditorAction{constructor(g,m,w){super(w);this._next=g,this._multiFile=m}run(g,m){return ke(this,void 0,void 0,function*(){m.hasModel()&&r.get(m).nagivate(this._next,this._multiFile)})}}class l extends n{constructor(){super(!0,!1,{id:l.ID,label:l.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:(0,d.registerIcon)("marker-navigation-next",a.Codicon.arrowDown,_.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=l,l.ID="editor.action.marker.next",l.LABEL=_.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:(0,d.registerIcon)("marker-navigation-previous",a.Codicon.arrowUp,_.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=_.localize(2,null);class o extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:_.localize(5,null),group:"6_problem_nav",order:1}})}}class c extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:_.localize(7,null),group:"6_problem_nav",order:2}})}}(0,p.registerEditorContribution)(r.ID,r),(0,p.registerEditorAction)(l),(0,p.registerEditorAction)(t),(0,p.registerEditorAction)(o),(0,p.registerEditorAction)(c);const f=new I.RawContextKey("markersNavigationVisible",!1),y=p.EditorCommand.bindToContribution(r.get);(0,p.registerEditorCommand)(new y({id:"closeMarkersNavigation",precondition:f,handler:b=>b.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(te[687],ne([0,1,510,7,2,3,19,89,44,187,10,57,280,14,153,275,140,61,12,22]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const o=N.$;class c{constructor(g,m,w){this.owner=g,this.range=m,this.marker=w}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.MarkerHover=c;const f={type:1,filter:{include:r.CodeActionKind.QuickFix}};let y=class{constructor(g,m,w,D){this._editor=g,this._hover=m,this._markerDecorationsService=w,this._openerService=D,this.recentMarkerCodeActionsInfo=void 0}computeSync(g,m){if(!this._editor.hasModel()||g.type!==1)return[];const w=this._editor.getModel(),D=g.range.startLineNumber,k=w.getLineMaxColumn(D),T=[];for(const R of m){const M=R.range.startLineNumber===D?R.range.startColumn:1,A=R.range.endLineNumber===D?R.range.endColumn:k,O=this._markerDecorationsService.getMarker(w.uri,R);if(!O)continue;const P=new L.Range(g.range.startLineNumber,M,g.range.startLineNumber,A);T.push(new c(this,P,O))}return T}renderHoverParts(g,m,w){if(!g.length)return I.Disposable.None;const D=new I.DisposableStore;g.forEach(T=>m.appendChild(this.renderMarkerHover(T,D)));const k=g.length===1?g[0]:g.sort((T,R)=>p.MarkerSeverity.compare(T.marker.severity,R.marker.severity))[0];return this.renderMarkerStatusbar(k,w,D),D}renderMarkerHover(g,m){const w=o("div.hover-row"),D=N.append(w,o("div.marker.hover-contents")),{source:k,message:T,code:R,relatedInformation:M}=g.marker;this._editor.applyFontInfo(D);const A=N.append(D,o("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=T,k||R)if(R&&typeof R!="string"){const O=o("span");if(k){const x=N.append(O,o("span"));x.innerText=k}const P=N.append(O,o("a.code-link"));P.setAttribute("href",R.target.toString()),m.add(N.addDisposableListener(P,"click",x=>{this._openerService.open(R.target,{allowCommands:!0}),x.preventDefault(),x.stopPropagation()}));const F=N.append(P,o("span"));F.innerText=R.value;const E=N.append(D,O);E.style.opacity="0.6",E.style.paddingLeft="6px"}else{const O=N.append(D,o("span"));O.style.opacity="0.6",O.style.paddingLeft="6px",O.innerText=k&&R?`${k}(${R})`:k||`(${R})`}if((0,S.isNonEmptyArray)(M))for(const{message:O,resource:P,startLineNumber:F,startColumn:E}of M){const x=N.append(D,o("div"));x.style.marginTop="8px";const W=N.append(x,o("a"));W.innerText=`${(0,v.basename)(P)}(${F}, ${E}): `,W.style.cursor="pointer",m.add(N.addDisposableListener(W,"click",Y=>{Y.stopPropagation(),Y.preventDefault(),this._openerService&&this._openerService.open(P,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:F,startColumn:E}}}).catch(C.onUnexpectedError)}));const G=N.append(x,o("span"));G.innerText=O,this._editor.applyFontInfo(G)}return w}renderMarkerStatusbar(g,m,w){if((g.marker.severity===p.MarkerSeverity.Error||g.marker.severity===p.MarkerSeverity.Warning||g.marker.severity===p.MarkerSeverity.Info)&&m.addAction({label:_.localize(0,null),commandId:a.NextMarkerAction.ID,run:()=>{this._hover.hide(),a.MarkerController.get(this._editor).showAtMarker(g.marker),this._editor.focus()}}),!this._editor.getOption(80)){const D=m.append(o("div"));this.recentMarkerCodeActionsInfo&&(p.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===p.IMarkerData.makeKey(g.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(D.textContent=_.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const k=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?I.Disposable.None:w.add((0,u.disposableTimeout)(()=>D.textContent=_.localize(2,null),200));D.textContent||(D.textContent=String.fromCharCode(160));const T=this.getCodeActions(g.marker);w.add((0,I.toDisposable)(()=>T.cancel())),T.then(R=>{if(k.dispose(),this.recentMarkerCodeActionsInfo={marker:g.marker,hasCodeActions:R.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){R.dispose(),D.textContent=_.localize(3,null);return}D.style.display="none";let M=!1;w.add((0,I.toDisposable)(()=>{M||R.dispose()})),m.addAction({label:_.localize(4,null),commandId:d.QuickFixAction.Id,run:A=>{M=!0;const O=d.QuickFixController.get(this._editor),P=N.getDomNodePagePosition(A);this._hover.hide(),O.showCodeActions(f,R,{x:P.left+6,y:P.top+P.height+6})}})},C.onUnexpectedError)}}getCodeActions(g){return(0,u.createCancelablePromise)(m=>(0,h.getCodeActions)(this._editor.getModel(),new L.Range(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn),f,n.Progress.None,m))}};y=Re([me(2,i.IMarkerDecorationsService),me(3,s.IOpenerService)],y),e.MarkerHoverParticipant=y,(0,l.registerThemingParticipant)((b,g)=>{const m=b.getColor(t.textLinkForeground);m&&g.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${m}; }`);const w=b.getColor(t.textLinkActiveForeground);w&&g.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${w}; }`)})}),define(te[688],ne([0,1,519,14,43,2,45,16,266,3,21,25,53,31,18,279,33,22,12,15]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function o(G,Y){const se=Y.filter(re=>!G.find(J=>J.equals(re)));if(se.length>=1){const re=se.map(le=>`line ${le.viewState.position.lineNumber} column ${le.viewState.position.column}`).join(", "),J=se.length===1?_.localize(0,null,re):_.localize(1,null,re);(0,S.status)(J)}}class c extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:_.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(3,null),order:2}})}run(Y,se,re){if(!se.hasModel())return;const J=re&&re.logicalLine===!0,le=se._getViewModel();if(le.cursorConfig.readOnly)return;le.pushStackElement();const ae=le.getCursorStates();le.setCursorStates(re.source,3,v.CursorMoveCommands.addCursorUp(le,ae,J)),le.revealTopMostCursor(re.source),o(ae,le.getCursorStates())}}e.InsertCursorAbove=c;class f extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:_.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(5,null),order:3}})}run(Y,se,re){if(!se.hasModel())return;const J=re&&re.logicalLine===!0,le=se._getViewModel();if(le.cursorConfig.readOnly)return;le.pushStackElement();const ae=le.getCursorStates();le.setCursorStates(re.source,3,v.CursorMoveCommands.addCursorDown(le,ae,J)),le.revealBottomMostCursor(re.source),o(ae,le.getCursorStates())}}e.InsertCursorBelow=f;class y extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(7,null),order:4}})}getCursorsForSelection(Y,se,re){if(!Y.isEmpty()){for(let J=Y.startLineNumber;J<Y.endLineNumber;J++){let le=se.getLineMaxColumn(J);re.push(new C.Selection(J,le,J,le))}Y.endColumn>1&&re.push(new C.Selection(Y.endLineNumber,Y.endColumn,Y.endLineNumber,Y.endColumn))}}run(Y,se){if(!se.hasModel())return;const re=se.getModel(),J=se.getSelections(),le=se._getViewModel(),ae=le.getCursorStates();let V=[];J.forEach(B=>this.getCursorsForSelection(B,re,V)),V.length>0&&se.setSelections(V),o(ae,le.getCursorStates())}}class b extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:_.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(Y,se){if(!se.hasModel())return;const re=se.getSelections(),J=se.getModel().getLineCount();let le=[];for(let B=re[0].startLineNumber;B<=J;B++)le.push(new C.Selection(B,re[0].startColumn,B,re[0].endColumn));const ae=se._getViewModel(),V=ae.getCursorStates();le.length>0&&se.setSelections(le),o(V,ae.getCursorStates())}}class g extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:_.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(Y,se){if(!se.hasModel())return;const re=se.getSelections();let J=[];for(let V=re[0].startLineNumber;V>=1;V--)J.push(new C.Selection(V,re[0].startColumn,V,re[0].endColumn));const le=se._getViewModel(),ae=le.getCursorStates();J.length>0&&se.setSelections(J),o(ae,le.getCursorStates())}}class m{constructor(Y,se,re){this.selections=Y,this.revealRange=se,this.revealScrollType=re}}e.MultiCursorSessionResult=m;class w{constructor(Y,se,re,J,le,ae,V){this._editor=Y,this.findController=se,this.isDisconnectedFromFindController=re,this.searchText=J,this.wholeWord=le,this.matchCase=ae,this.currentMatch=V}static create(Y,se){if(!Y.hasModel())return null;const re=se.getState();if(!Y.hasTextFocus()&&re.isRevealed&&re.searchString.length>0)return new w(Y,se,!1,re.searchString,re.wholeWord,re.matchCase,null);let J=!1,le,ae;const V=Y.getSelections();V.length===1&&V[0].isEmpty()?(J=!0,le=!0,ae=!0):(le=re.wholeWord,ae=re.matchCase);const B=Y.getSelection();let Z,H=null;if(B.isEmpty()){const z=Y.getConfiguredWordAtPosition(B.getStartPosition());if(!z)return null;Z=z.word,H=new C.Selection(B.startLineNumber,z.startColumn,B.startLineNumber,z.endColumn)}else Z=Y.getModel().getValueInRange(B).replace(/\r\n/g,`
`);return new w(Y,se,J,Z,le,ae,H)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getNextMatch();if(!Y)return null;const se=this._editor.getSelections();return new m(se.concat(Y),Y,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getNextMatch();if(!Y)return null;const se=this._editor.getSelections();return new m(se.slice(0,se.length-1).concat(Y),Y,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const Y=this._editor.getSelections(),se=Y[Y.length-1],re=this._editor.getModel().findNextMatch(this.searchText,se.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return re?new C.Selection(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getPreviousMatch();if(!Y)return null;const se=this._editor.getSelections();return new m(se.concat(Y),Y,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getPreviousMatch();if(!Y)return null;const se=this._editor.getSelections();return new m(se.slice(0,se.length-1).concat(Y),Y,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const Y=this._editor.getSelections(),se=Y[Y.length-1],re=this._editor.getModel().findPreviousMatch(this.searchText,se.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return re?new C.Selection(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}}e.MultiCursorSession=w;class D extends L.Disposable{constructor(Y){super();this._sessionDispose=this._register(new L.DisposableStore),this._editor=Y,this._ignoreSelectionChange=!1,this._session=null}static get(Y){return Y.getContribution(D.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(Y){if(!this._session){const se=w.create(this._editor,Y);if(!se)return;this._session=se;const re={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(re.wholeWordOverride=1,re.matchCaseOverride=1,re.isRegexOverride=2),Y.getState().change(re,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(J=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(Y.getState().onFindReplaceStateChange(J=>{(J.matchCase||J.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const Y={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(Y,!1)}this._session=null}_setSelections(Y){this._ignoreSelectionChange=!0,this._editor.setSelections(Y),this._ignoreSelectionChange=!1}_expandEmptyToWord(Y,se){if(!se.isEmpty())return se;const re=this._editor.getConfiguredWordAtPosition(se.getStartPosition());return re?new C.Selection(se.startLineNumber,re.startColumn,se.startLineNumber,re.endColumn):se}_applySessionResult(Y){!Y||(this._setSelections(Y.selections),Y.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(Y.revealRange,Y.revealScrollType))}getSession(Y){return this._session}addSelectionToNextFindMatch(Y){if(!!this._editor.hasModel()){if(!this._session){const se=this._editor.getSelections();if(se.length>1){const J=Y.getState().matchCase;if(!x(this._editor.getModel(),se,J)){const ae=this._editor.getModel();let V=[];for(let B=0,Z=se.length;B<Z;B++)V[B]=this._expandEmptyToWord(ae,se[B]);this._editor.setSelections(V);return}}}this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(Y){if(!this._editor.hasModel())return;let se=null;const re=Y.getState();if(re.isRevealed&&re.searchString.length>0&&re.isRegex)se=this._editor.getModel().findMatches(re.searchString,!0,re.isRegex,re.matchCase,re.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(Y),!this._session)return;se=this._session.selectAll()}if(re.searchScope){const J=re.searchScope;let le=[];se.forEach(ae=>{J.forEach(V=>{ae.range.endLineNumber<=V.endLineNumber&&ae.range.startLineNumber>=V.startLineNumber&&le.push(ae)})}),se=le}if(se.length>0){const J=this._editor.getSelection();for(let le=0,ae=se.length;le<ae;le++){const V=se[le];if(V.range.intersectRanges(J)){se[le]=se[0],se[0]=V;break}}this._setSelections(se.map(le=>new C.Selection(le.range.startLineNumber,le.range.startColumn,le.range.endLineNumber,le.range.endColumn)))}}}e.MultiCursorSelectionController=D,D.ID="editor.contrib.multiCursorController";class k extends p.EditorAction{run(Y,se){const re=D.get(se);if(!re)return;const J=d.CommonFindController.get(se);if(!J)return;const le=se._getViewModel();if(le){const ae=le.getCursorStates();this._run(re,J),o(ae,le.getCursorStates())}}}e.MultiCursorSelectionControllerAction=k;class T extends k{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(11,null),order:5}})}_run(Y,se){Y.addSelectionToNextFindMatch(se)}}e.AddSelectionToNextFindMatchAction=T;class R extends k{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(13,null),order:6}})}_run(Y,se){Y.addSelectionToPreviousFindMatch(se)}}e.AddSelectionToPreviousFindMatchAction=R;class M extends k{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:(0,I.KeyChord)(2048|41,2048|34),weight:100}})}_run(Y,se){Y.moveSelectionToNextFindMatch(se)}}e.MoveSelectionToNextFindMatchAction=M;class A extends k{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(Y,se){Y.moveSelectionToPreviousFindMatch(se)}}e.MoveSelectionToPreviousFindMatchAction=A;class O extends k{constructor(){super({id:"editor.action.selectHighlights",label:_.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(17,null),order:7}})}_run(Y,se){Y.selectAll(se)}}e.SelectHighlightsAction=O;class P extends k{constructor(){super({id:"editor.action.changeAll",label:_.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(Y,se){Y.selectAll(se)}}e.CompatChangeAll=P;class F{constructor(Y,se,re,J){this.searchText=Y,this.matchCase=se,this.wordSeparators=re,this.modelVersionId=J}static softEquals(Y,se){return!Y&&!se?!0:!Y||!se?!1:Y.searchText===se.searchText&&Y.matchCase===se.matchCase&&Y.wordSeparators===se.wordSeparators&&Y.modelVersionId===se.modelVersionId}}class E extends L.Disposable{constructor(Y){super();this.editor=Y,this._isEnabled=Y.getOption(97),this.decorations=[],this.updateSoon=this._register(new N.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(Y.onDidChangeConfiguration(se=>{this._isEnabled=Y.getOption(97)})),this._register(Y.onDidChangeCursorSelection(se=>{!this._isEnabled||(se.selection.isEmpty()?se.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(Y.onDidChangeModel(se=>{this._setState(null)})),this._register(Y.onDidChangeModelContent(se=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(d.CommonFindController.get(Y).getState().onFindReplaceStateChange(se=>{this._update()}))}_update(){this._setState(E._createState(this._isEnabled,this.editor))}static _createState(Y,se){if(!Y||!se.hasModel())return null;const re=se.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const J=D.get(se);if(!J)return null;const le=d.CommonFindController.get(se);if(!le)return null;let ae=J.getSession(le);if(!ae){const Z=se.getSelections();if(Z.length>1){const z=le.getState().matchCase;if(!x(se.getModel(),Z,z))return null}ae=w.create(se,le)}if(!ae||ae.currentMatch||/^[ \t]+$/.test(ae.searchText)||ae.searchText.length>200)return null;const V=le.getState(),B=V.matchCase;if(V.isRevealed){let Z=V.searchString;B||(Z=Z.toLowerCase());let H=ae.searchText;if(B||(H=H.toLowerCase()),Z===H&&ae.matchCase===V.matchCase&&ae.wholeWord===V.wholeWord&&!V.isRegex)return null}return new F(ae.searchText,ae.matchCase,ae.wholeWord?se.getOption(116):null,se.getModel().getVersionId())}_setState(Y){if(F.softEquals(this.state,Y)){this.state=Y;return}if(this.state=Y,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const se=this.editor.getModel();if(se.isTooLargeForTokenization())return;const re=h.DocumentHighlightProviderRegistry.has(se)&&this.editor.getOption(71);let J=se.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(B=>B.range);J.sort(i.Range.compareRangesUsingStarts);let le=this.editor.getSelections();le.sort(i.Range.compareRangesUsingStarts);let ae=[];for(let B=0,Z=0,H=J.length,z=le.length;B<H;){const ie=J[B];if(Z>=z)ae.push(ie),B++;else{const ce=i.Range.compareRangesUsingStarts(ie,le[Z]);ce<0?((le[Z].isEmpty()||!i.Range.areIntersecting(ie,le[Z]))&&ae.push(ie),B++):(ce>0||B++,Z++)}}const V=ae.map(B=>({range:B,options:re?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,V)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=E,E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=u.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,l.themeColorFromId)(n.overviewRulerSelectionHighlightForeground),position:a.OverviewRulerLane.Center}}),E._SELECTION_HIGHLIGHT=u.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function x(G,Y,se){const re=W(G,Y[0],!se);for(let J=1,le=Y.length;J<le;J++){const ae=Y[J];if(ae.isEmpty())return!1;const V=W(G,ae,!se);if(re!==V)return!1}return!0}function W(G,Y,se){const re=G.getValueInRange(Y);return se?re.toLowerCase():re}(0,p.registerEditorContribution)(D.ID,D),(0,p.registerEditorContribution)(E.ID,E),(0,p.registerEditorAction)(c),(0,p.registerEditorAction)(f),(0,p.registerEditorAction)(y),(0,p.registerEditorAction)(T),(0,p.registerEditorAction)(R),(0,p.registerEditorAction)(M),(0,p.registerEditorAction)(A),(0,p.registerEditorAction)(O),(0,p.registerEditorAction)(P),(0,p.registerEditorAction)(b),(0,p.registerEditorAction)(g)}),define(te[689],ne([0,1,7,45,62,6,2,56,123,188,521,15,57,22,12,564,8,27,20,101,81,364]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const c=_.$,f=(0,o.registerIcon)("parameter-hints-next",n.Codicon.chevronDown,C.localize(0,null)),y=(0,o.registerIcon)("parameter-hints-previous",n.Codicon.chevronUp,C.localize(1,null));let b=class ti extends S.Disposable{constructor(m,w,D,k){super();this.editor=m,this.renderDisposeables=this._register(new S.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new v.MarkdownRenderer({editor:m},k,D)),this.model=this._register(new d.ParameterHintsModel(m)),this.keyVisible=i.Context.Visible.bindTo(w),this.keyMultipleSignatures=i.Context.MultipleSignatures.bindTo(w),this._register(this.model.onChangedHints(T=>{T?(this.show(),this.render(T)):this.hide()}))}createParameterHintDOMNodes(){const m=c(".editor-widget.parameter-hints-widget"),w=_.append(m,c(".phwrapper"));w.tabIndex=-1;const D=_.append(w,c(".controls")),k=_.append(D,c(".button"+h.ThemeIcon.asCSSSelector(y))),T=_.append(D,c(".overloads")),R=_.append(D,c(".button"+h.ThemeIcon.asCSSSelector(f)));this._register(_.addDisposableListener(k,"click",E=>{_.EventHelper.stop(E),this.previous()})),this._register(_.addDisposableListener(R,"click",E=>{_.EventHelper.stop(E),this.next()}));const M=c(".body"),A=new I.DomScrollableElement(M,{});this._register(A),w.appendChild(A.getDomNode());const O=_.append(M,c(".signature")),P=_.append(M,c(".docs"));m.style.userSelect="text",this.domNodes={element:m,signature:O,overloads:T,docs:P,scrollbar:A},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(E=>{this.visible&&this.editor.layoutContentWidget(this)}));const F=()=>{if(!this.domNodes)return;const E=this.editor.getOption(42);this.domNodes.element.style.fontSize=`${E.fontSize}px`};F(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(E=>E.hasChanged(42)).on(F,null)),this._register(this.editor.onDidLayoutChange(E=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(m){var w;if(this.renderDisposeables.clear(),!this.domNodes)return;const D=m.signatures.length>1;this.domNodes.element.classList.toggle("multiple",D),this.keyMultipleSignatures.set(D),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const k=m.signatures[m.activeSignature];if(!k)return;const T=_.append(this.domNodes.signature,c(".code")),R=this.editor.getOption(42);T.style.fontSize=`${R.fontSize}px`,T.style.fontFamily=R.fontFamily;const M=k.parameters.length>0,A=(w=k.activeParameter)!==null&&w!==void 0?w:m.activeParameter;if(M)this.renderParameters(T,k,A);else{const F=_.append(T,c("span"));F.textContent=k.label}const O=k.parameters[A];if(O==null?void 0:O.documentation){const F=c("span.documentation");if(typeof O.documentation=="string")F.textContent=O.documentation;else{const E=this.renderMarkdownDocs(O.documentation);F.appendChild(E.element)}_.append(this.domNodes.docs,c("p",{},F))}if(k.documentation!==void 0)if(typeof k.documentation=="string")_.append(this.domNodes.docs,c("p",{},k.documentation));else{const F=this.renderMarkdownDocs(k.documentation);_.append(this.domNodes.docs,F.element)}const P=this.hasDocs(k,O);if(this.domNodes.signature.classList.toggle("has-docs",P),this.domNodes.docs.classList.toggle("empty",!P),this.domNodes.overloads.textContent=String(m.activeSignature+1).padStart(m.signatures.length.toString().length,"0")+"/"+m.signatures.length,O){let F="";const E=k.parameters[A];Array.isArray(E.label)?F=k.label.substring(E.label[0],E.label[1]):F=E.label,E.documentation&&(F+=typeof E.documentation=="string"?`, ${E.documentation}`:`, ${E.documentation.value}`),k.documentation&&(F+=typeof k.documentation=="string"?`, ${k.documentation}`:`, ${k.documentation.value}`),this.announcedLabel!==F&&(N.alert(C.localize(2,null,F)),this.announcedLabel=F)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(m){const w=this.renderDisposeables.add(this.markdownRenderer.render(m,{asyncRenderCallback:()=>{var D;(D=this.domNodes)===null||D===void 0||D.scrollbar.scanDomNode()}}));return w.element.classList.add("markdown-docs"),w}hasDocs(m,w){return!!(w&&typeof w.documentation=="string"&&(0,l.assertIsDefined)(w.documentation).length>0||w&&typeof w.documentation=="object"&&(0,l.assertIsDefined)(w.documentation).value.length>0||m.documentation&&typeof m.documentation=="string"&&(0,l.assertIsDefined)(m.documentation).length>0||m.documentation&&typeof m.documentation=="object"&&(0,l.assertIsDefined)(m.documentation.value).length>0)}renderParameters(m,w,D){const[k,T]=this.getParameterLabelOffsets(w,D),R=document.createElement("span");R.textContent=w.label.substring(0,k);const M=document.createElement("span");M.textContent=w.label.substring(k,T),M.className="parameter active";const A=document.createElement("span");A.textContent=w.label.substring(T),_.append(m,R,M,A)}getParameterLabelOffsets(m,w){const D=m.parameters[w];if(D){if(Array.isArray(D.label))return D.label;if(D.label.length){const k=new RegExp(`(\\W|^)${(0,r.escapeRegExpCharacters)(D.label)}(?=\\W|$)`,"g");k.test(m.label);const T=k.lastIndex-D.label.length;return T>=0?[T,k.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return ti.ID}trigger(m){this.model.trigger(m,0)}updateMaxHeight(){if(!this.domNodes)return;const w=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=w;const D=this.domNodes.element.getElementsByClassName("phwrapper");D.length&&(D[0].style.maxHeight=w)}};b.ID="editor.widget.parameterHintsWidget",b=Re([me(1,s.IContextKeyService),me(2,a.IOpenerService),me(3,p.IModeService)],b),e.ParameterHintsWidget=b,(0,h.registerThemingParticipant)((g,m)=>{const w=g.getColor(u.editorHoverBorder);if(w){const A=g.type===t.ColorScheme.HIGH_CONTRAST?2:1;m.addRule(`.monaco-editor .parameter-hints-widget { border: ${A}px solid ${w}; }`),m.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${w.transparent(.5)}; }`),m.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${w.transparent(.5)}; }`)}const D=g.getColor(u.editorHoverBackground);D&&m.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${D}; }`);const k=g.getColor(u.textLinkForeground);k&&m.addRule(`.monaco-editor .parameter-hints-widget a { color: ${k}; }`);const T=g.getColor(u.textLinkActiveForeground);T&&m.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${T}; }`);const R=g.getColor(u.editorHoverForeground);R&&m.addRule(`.monaco-editor .parameter-hints-widget { color: ${R}; }`);const M=g.getColor(u.textCodeBlockBackground);M&&m.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${M}; }`)})}),define(te[690],ne([0,1,520,2,9,25,15,16,689,188,18]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let s=class ii extends N.Disposable{constructor(r,n){super();this.editor=r,this.widget=this._register(n.createInstance(v.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(ii.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};s.ID="editor.controller.parameterHints",s=Re([me(1,I.IInstantiationService)],s);class a extends p.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:_.localize(0,null),alias:"Trigger Parameter Hints",precondition:L.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,n){const l=s.get(n);l&&l.trigger({triggerKind:C.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=a,(0,p.registerEditorContribution)(s.ID,s),(0,p.registerEditorAction)(a);const u=100+75,h=p.EditorCommand.bindToContribution(s.get);(0,p.registerEditorCommand)(new h({id:"closeParameterHints",precondition:i.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:u,kbExpr:L.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,p.registerEditorCommand)(new h({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:u,kbExpr:L.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,p.registerEditorCommand)(new h({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:u,kbExpr:L.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(te[691],ne([0,1,534,67,2,7,12,56,18,183,579,38,24,246,19,261,27,6,81]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function o(b){return`suggest-aria-id:${b}`}e.getAriaId=o,e.suggestMoreInfoIcon=(0,l.registerIcon)("suggest-more-info",r.Codicon.chevronRight,_.localize(0,null));const c=new(t=class Ct{extract(g,m){if(g.textLabel.match(Ct._regexStrict))return m[0]=g.textLabel,!0;if(g.completion.detail&&g.completion.detail.match(Ct._regexStrict))return m[0]=g.completion.detail,!0;if(typeof g.completion.documentation=="string"){const w=Ct._regexRelaxed.exec(g.completion.documentation);if(w&&(w.index===0||w.index+w[0].length===g.completion.documentation.length))return m[0]=w[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let f=class{constructor(g,m,w,D){this._editor=g,this._modelService=m,this._modeService=w,this._themeService=D,this._onDidToggleDetails=new n.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(g){const m=Object.create(null);m.disposables=new I.DisposableStore,m.root=g,m.root.classList.add("show-file-icons"),m.icon=(0,L.append)(g,(0,L.$)(".icon")),m.colorspan=(0,L.append)(m.icon,(0,L.$)("span.colorspan"));const w=(0,L.append)(g,(0,L.$)(".contents")),D=(0,L.append)(w,(0,L.$)(".main"));m.iconContainer=(0,L.append)(D,(0,L.$)(".icon-label.codicon")),m.left=(0,L.append)(D,(0,L.$)("span.left")),m.right=(0,L.append)(D,(0,L.$)("span.right")),m.iconLabel=new i.IconLabel(m.left,{supportHighlights:!0,supportIcons:!0}),m.disposables.add(m.iconLabel),m.parametersLabel=(0,L.append)(m.left,(0,L.$)("span.signature-label")),m.qualifierLabel=(0,L.append)(m.left,(0,L.$)("span.qualifier-label")),m.detailsLabel=(0,L.append)(m.right,(0,L.$)("span.details-label")),m.readMore=(0,L.append)(m.right,(0,L.$)("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),m.readMore.title=_.localize(1,null);const k=()=>{const T=this._editor.getOptions(),R=T.get(42),M=R.fontFamily,A=R.fontFeatureSettings,O=T.get(107)||R.fontSize,P=T.get(108)||R.lineHeight,F=R.fontWeight,E=`${O}px`,x=`${P}px`;m.root.style.fontSize=E,m.root.style.fontWeight=F,D.style.fontFamily=M,D.style.fontFeatureSettings=A,D.style.lineHeight=x,m.icon.style.height=x,m.icon.style.width=x,m.readMore.style.height=x,m.readMore.style.width=x};return k(),m.disposables.add(this._editor.onDidChangeConfiguration(T=>{(T.hasChanged(42)||T.hasChanged(107)||T.hasChanged(108))&&k()})),m}renderElement(g,m,w){const{completion:D}=g;w.root.id=o(m),w.colorspan.style.backgroundColor="";const k={labelEscapeNewLines:!0,matches:(0,N.createMatches)(g.score)};let T=[];if(D.kind===19&&c.extract(g,T))w.icon.className="icon customcolor",w.iconContainer.className="icon hide",w.colorspan.style.backgroundColor=T[0];else if(D.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){w.icon.className="icon hide",w.iconContainer.className="icon hide";const R=(0,C.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:g.textLabel}),u.FileKind.FILE),M=(0,C.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),u.FileKind.FILE);k.extraClasses=R.length>M.length?R:M}else D.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(w.icon.className="icon hide",w.iconContainer.className="icon hide",k.extraClasses=(0,h.flatten)([(0,C.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:g.textLabel}),u.FileKind.FOLDER),(0,C.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),u.FileKind.FOLDER)])):(w.icon.className="icon hide",w.iconContainer.className="",w.iconContainer.classList.add("suggest-icon",...(0,v.completionKindToCssClass)(D.kind).split(" ")));D.tags&&D.tags.indexOf(1)>=0&&(k.extraClasses=(k.extraClasses||[]).concat(["deprecated"]),k.matches=[]),w.iconLabel.setLabel(g.textLabel,void 0,k),typeof D.label=="string"?(w.parametersLabel.textContent="",w.detailsLabel.textContent=y(D.detail||""),w.root.classList.add("string-label")):(w.parametersLabel.textContent=y(D.label.detail||""),w.detailsLabel.textContent=y(D.label.description||""),w.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,L.show)(w.detailsLabel):(0,L.hide)(w.detailsLabel),(0,d.canExpandCompletionItem)(g)?(w.right.classList.add("can-expand-details"),(0,L.show)(w.readMore),w.readMore.onmousedown=R=>{R.stopPropagation(),R.preventDefault()},w.readMore.onclick=R=>{R.stopPropagation(),R.preventDefault(),this._onDidToggleDetails.fire()}):(w.right.classList.remove("can-expand-details"),(0,L.hide)(w.readMore),w.readMore.onmousedown=null,w.readMore.onclick=null)}disposeTemplate(g){g.disposables.dispose()}};f=Re([me(1,s.IModelService),me(2,p.IModeService),me(3,S.IThemeService)],f),e.ItemRenderer=f;function y(b){return b.replace(/\r\n|\r|\n/g,"")}}),define(te[692],ne([0,1,532,8,7,6,10,2,109,15,125,124,12,22,71,14,9,261,676,691,241,152,104,368,132,269]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,u.registerColor)("editorSuggestWidget.background",{dark:u.editorWidgetBackground,light:u.editorWidgetBackground,hc:u.editorWidgetBackground},_.localize(0,null)),e.editorSuggestWidgetBorder=(0,u.registerColor)("editorSuggestWidget.border",{dark:u.editorWidgetBorder,light:u.editorWidgetBorder,hc:u.editorWidgetBorder},_.localize(1,null)),e.editorSuggestWidgetForeground=(0,u.registerColor)("editorSuggestWidget.foreground",{dark:u.editorForeground,light:u.editorForeground,hc:u.editorForeground},_.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,u.registerColor)("editorSuggestWidget.selectedForeground",{dark:u.quickInputListFocusForeground,light:u.quickInputListFocusForeground,hc:u.quickInputListFocusForeground},_.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,u.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:u.quickInputListFocusIconForeground,light:u.quickInputListFocusIconForeground,hc:u.quickInputListFocusIconForeground},_.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,u.registerColor)("editorSuggestWidget.selectedBackground",{dark:u.quickInputListFocusBackground,light:u.quickInputListFocusBackground,hc:u.quickInputListFocusBackground},_.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,u.registerColor)("editorSuggestWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hc:u.listHighlightForeground},_.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,u.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:u.listFocusHighlightForeground,light:u.listFocusHighlightForeground,hc:u.listFocusHighlightForeground},_.localize(7,null));class y{constructor(w,D){this._service=w,this._key=`suggestWidget.size/${D.getEditorType()}/${D instanceof c.EmbeddedCodeEditorWidget}`}restore(){var w;const D=(w=this._service.get(this._key,0))!==null&&w!==void 0?w:"";try{const k=JSON.parse(D);if(I.Dimension.is(k))return I.Dimension.lift(k)}catch(k){}}store(w){this._service.store(this._key,JSON.stringify(w),0,1)}reset(){this._service.remove(this._key,0)}}let b=class Dt{constructor(w,D,k,T,R){this.editor=w,this._storageService=D,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new d.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new o.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new g(this,w),this._persistedSize=new y(D,w);class M{constructor(W,G,Y=!1,se=!1){this.persistedSize=W,this.currentSize=G,this.persistHeight=Y,this.persistWidth=se}}let A;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),A=new M(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(x=>{var W,G,Y,se;if(this._resize(x.dimension.width,x.dimension.height),A&&(A.persistHeight=A.persistHeight||!!x.north||!!x.south,A.persistWidth=A.persistWidth||!!x.east||!!x.west),!!x.done){if(A){const{itemHeight:re,defaultSize:J}=this.getLayoutInfo(),le=Math.round(re/2);let{width:ae,height:V}=this.element.size;(!A.persistHeight||Math.abs(A.currentSize.height-V)<=le)&&(V=(G=(W=A.persistedSize)===null||W===void 0?void 0:W.height)!==null&&G!==void 0?G:J.height),(!A.persistWidth||Math.abs(A.currentSize.width-ae)<=le)&&(ae=(se=(Y=A.persistedSize)===null||Y===void 0?void 0:Y.width)!==null&&se!==void 0?se:J.width),this._persistedSize.store(new I.Dimension(ae,V))}this._contentWidget.unlockPreference(),A=void 0}})),this._messageElement=I.append(this.element.domNode,I.$(".message")),this._listElement=I.append(this.element.domNode,I.$(".tree"));const O=R.createInstance(n.SuggestDetailsWidget,this.editor);O.onDidClose(this.toggleDetails,this,this._disposables),this._details=new n.SuggestDetailsOverlay(O,this.editor);const P=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);P();const F=R.createInstance(t.ItemRenderer,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new v.List("SuggestWidget",this._listElement,{getHeight:x=>this.getLayoutInfo().itemHeight,getTemplateId:x=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:x=>{if(x.isResolved&&this._isDetailsVisible()){const{documentation:W,detail:G}=x.completion,Y=N.format("{0}{1}",G||"",W?typeof W=="string"?W:W.value:"");return _.localize(10,null,x.textLabel,Y)}else return x.textLabel},getWidgetAriaLabel:()=>_.localize(11,null),getWidgetRole:()=>"listbox"}}),this._status=R.createInstance(l.SuggestWidgetStatus,this.element.domNode);const E=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);E(),this._disposables.add((0,s.attachListStyler)(this._list,T,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:u.activeContrastBorder})),this._disposables.add(T.onDidColorThemeChange(x=>this._onThemeChange(x))),this._onThemeChange(T.getColorTheme()),this._disposables.add(this._list.onMouseDown(x=>this._onListMouseDownOrTap(x))),this._disposables.add(this._list.onTap(x=>this._onListMouseDownOrTap(x))),this._disposables.add(this._list.onDidChangeSelection(x=>this._onListSelection(x))),this._disposables.add(this._list.onDidChangeFocus(x=>this._onListFocus(x))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(x=>{x.hasChanged(106)&&(E(),P())})),this._ctxSuggestWidgetVisible=C.Context.Visible.bindTo(k),this._ctxSuggestWidgetDetailsVisible=C.Context.DetailsVisible.bindTo(k),this._ctxSuggestWidgetMultipleSuggestions=C.Context.MultipleSuggestions.bindTo(k),this._disposables.add(I.addStandardDisposableListener(this._details.widget.domNode,"keydown",x=>{this._onDetailsKeydown.fire(x)})),this._disposables.add(this.editor.onMouseDown(x=>this._onEditorMouseDown(x)))}dispose(){var w;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(w=this._loadingTimeout)===null||w===void 0||w.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(w){this._details.widget.domNode.contains(w.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(w.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(w){typeof w.element=="undefined"||typeof w.index=="undefined"||(w.browserEvent.preventDefault(),w.browserEvent.stopPropagation(),this._select(w.element,w.index))}_onListSelection(w){w.elements.length&&this._select(w.elements[0],w.indexes[0])}_select(w,D){const k=this._completionModel;k&&(this._onDidSelect.fire({item:w,index:D,model:k}),this.editor.focus())}_onThemeChange(w){const D=w.getColor(e.editorSuggestWidgetBackground);D&&(this.element.domNode.style.backgroundColor=D.toString(),this._messageElement.style.backgroundColor=D.toString(),this._details.widget.domNode.style.backgroundColor=D.toString());const k=w.getColor(e.editorSuggestWidgetBorder);k&&(this.element.domNode.style.borderColor=k.toString(),this._messageElement.style.borderColor=k.toString(),this._status.element.style.borderTopColor=k.toString(),this._details.widget.domNode.style.borderColor=k.toString(),this._detailsBorderColor=k.toString());const T=w.getColor(u.focusBorder);T&&(this._detailsFocusBorderColor=T.toString()),this._details.widget.borderWidth=w.type==="hc"?2:1}_onListFocus(w){var D;if(this._ignoreFocusEvents)return;if(!w.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const k=w.elements[0],T=w.indexes[0];k!==this._focusedItem&&((D=this._currentSuggestionDetails)===null||D===void 0||D.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=k,this._list.reveal(T),this._currentSuggestionDetails=(0,d.createCancelablePromise)(R=>ke(this,void 0,void 0,function*(){const M=(0,d.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);R.onCancellationRequested(()=>M.dispose());const A=yield k.resolve(R);return M.dispose(),A})),this._currentSuggestionDetails.then(()=>{T>=this._list.length||k!==this._list.element(T)||(this._ignoreFocusEvents=!0,this._list.splice(T,1,[k]),this._list.setFocus([T]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,t.getAriaId)(T)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:k,index:T,model:this._completionModel})}_setState(w){if(this._state!==w)switch(this._state=w,this.element.domNode.classList.toggle("frozen",w===4),this.element.domNode.classList.remove("message"),w){case 0:I.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Dt.LOADING_MESSAGE,I.hide(this._listElement,this._status.element),I.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Dt.NO_SUGGESTIONS_MESSAGE,I.hide(this._listElement,this._status.element),I.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:I.hide(this._messageElement),I.show(this._listElement,this._status.element),this._show();break;case 4:I.hide(this._messageElement),I.show(this._listElement,this._status.element),this._show();break;case 5:I.hide(this._messageElement),I.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(w,D){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!w,this._isAuto||(this._loadingTimeout=(0,d.disposableTimeout)(()=>this._setState(1),D)))}showSuggestions(w,D,k,T){var R,M;if(this._contentWidget.setPosition(this.editor.getPosition()),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),(M=this._currentSuggestionDetails)===null||M===void 0||M.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==w&&(this._completionModel=w),k&&this._state!==2&&this._state!==0){this._setState(4);return}const A=this._completionModel.items.length,O=A===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(A>1),O){this._setState(T?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(k?4:3),this._list.reveal(D,0),this._list.setFocus([D]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,n.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(w){this._details.show(),w?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var w;(w=this._loadingTimeout)===null||w===void 0||w.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const D=this._persistedSize.restore(),k=Math.ceil(this.getLayoutInfo().itemHeight*4.3);D&&D.height<k&&this._persistedSize.store(D.with(void 0,k))}isFrozen(){return this._state===4}_afterRender(w){if(w===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(w){var D,k,T;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const R=I.getClientArea(document.body),M=this.getLayoutInfo();w||(w=M.defaultSize);let A=w.height,O=w.width;if(this._status.element.style.lineHeight=`${M.itemHeight}px`,this._state===2||this._state===1)A=M.itemHeight+M.borderHeight,O=M.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new I.Dimension(O,A),this._contentWidget.setPreference(2);else{const P=R.width-M.borderHeight-2*M.horizontalPadding;O>P&&(O=P);const F=this._completionModel?this._completionModel.stats.pLabelLen*M.typicalHalfwidthCharacterWidth:O,E=M.statusBarHeight+this._list.contentHeight+M.borderHeight,x=M.itemHeight+M.statusBarHeight,W=I.getDomNodePagePosition(this.editor.getDomNode()),G=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Y=W.top+G.top+G.height,se=Math.min(R.height-Y-M.verticalPadding,E),re=W.top+G.top-M.verticalPadding,J=Math.min(re,E);let le=Math.min(Math.max(J,se)+M.borderHeight,E);A===((D=this._cappedHeight)===null||D===void 0?void 0:D.capped)&&(A=this._cappedHeight.wanted),A<x&&(A=x),A>le&&(A=le);const ae=150;A>se||this._forceRenderingAbove&&re>ae?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),le=J):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),le=se),this.element.preferredSize=new I.Dimension(F,M.defaultSize.height),this.element.maxSize=new I.Dimension(P,le),this.element.minSize=new I.Dimension(220,x),this._cappedHeight=A===E?{wanted:(T=(k=this._cappedHeight)===null||k===void 0?void 0:k.wanted)!==null&&T!==void 0?T:w.height,capped:A}:void 0}this._resize(O,A)}_resize(w,D){const{width:k,height:T}=this.element.maxSize;w=Math.min(k,w),D=Math.min(T,D);const{statusBarHeight:R}=this.getLayoutInfo();this._list.layout(D-R,w),this._listElement.style.height=`${D-R}px`,this.element.layout(D,w),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const w=this.editor.getOption(42),D=(0,f.clamp)(this.editor.getOption(108)||w.lineHeight,8,1e3),k=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:D,T=this._details.widget.borderWidth,R=2*T;return{itemHeight:D,statusBarHeight:k,borderWidth:T,borderHeight:R,typicalHalfwidthCharacterWidth:w.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new I.Dimension(430,k+12*D+R)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(w){this._storageService.store("expandSuggestionDocs",w,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};b.LOADING_MESSAGE=_.localize(8,null),b.NO_SUGGESTIONS_MESSAGE=_.localize(9,null),b=Re([me(1,h.IStorageService),me(2,i.IContextKeyService),me(3,a.IThemeService),me(4,r.IInstantiationService)],b),e.SuggestWidget=b;class g{constructor(w,D){this._widget=w,this._editor=D,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:w,width:D}=this._widget.element.size,{borderWidth:k,horizontalPadding:T}=this._widget.getLayoutInfo();return new I.Dimension(D+2*k+T,w+2*k)}afterRender(w){this._widget._afterRender(w)}setPreference(w){this._preferenceLocked||(this._preference=w)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(w){this._position=w}}e.SuggestContentWidget=g,(0,a.registerThemingParticipant)((m,w)=>{const D=m.getColor(e.editorSuggestWidgetHighlightForeground);D&&w.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${D}; }`);const k=m.getColor(e.editorSuggestWidgetHighlightFocusForeground);D&&w.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${k}; }`);const T=m.getColor(e.editorSuggestWidgetForeground);T&&w.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${T}; }`);const R=m.getColor(e.editorSuggestWidgetSelectedForeground);R&&w.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${R}; }`);const M=m.getColor(e.editorSuggestWidgetSelectedIconForeground);M&&w.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${M}; }`);const A=m.getColor(u.textLinkForeground);A&&w.addRule(`.monaco-editor .suggest-details a { color: ${A}; }`);const O=m.getColor(u.textLinkActiveForeground);O&&w.addRule(`.monaco-editor .suggest-details a:hover { color: ${O}; }`);const P=m.getColor(u.textCodeBlockBackground);P&&w.addRule(`.monaco-editor .suggest-details code { background-color: ${P}; }`)})}),define(te[693],ne([0,1,7,6,81,12]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function S(){const p=new N.Emitter,v=(0,I.getIconRegistry)();return v.onDidChange(()=>p.fire()),{onDidChange:p.event,getCSS(){const i={},C=a=>{let u=a.defaults;for(;L.ThemeIcon.isThemeIcon(u);){const d=v.getIcon(u.id);if(!d)return;u=d.defaults}const h=u.fontId;if(h){const d=v.getIconFont(h);if(d)return i[h]=d,`.codicon-${a.id}:before { content: '${u.fontCharacter}'; font-family: ${(0,_.asCSSPropertyValue)(h)}; }`}return`.codicon-${a.id}:before { content: '${u.fontCharacter}'; }`},s=[];for(let a of v.getIcons()){const u=C(a);u&&s.push(u)}for(let a in i){const h=i[a].definition.src.map(d=>`${(0,_.asCSSUrl)(d.location)} format('${d.format}')`).join(", ");s.push(`@font-face { src: ${h}; font-family: ${(0,_.asCSSPropertyValue)(a)}; font-display: block; }`)}return s.join(`
`)}}}e.getIconsStyleSheet=S}),define(te[694],ne([0,1,7,29,6,18,399,632,32,22,12,2,101,693]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const h="vs",d="vs-dark",r="hc-black",n=v.Registry.as(i.Extensions.ColorContribution),l=v.Registry.as(C.Extensions.ThemingContribution);class t{constructor(g,m){this.semanticHighlighting=!1,this.themeData=m;let w=m.base;g.length>0?(o(g)?this.id=g:this.id=w+" "+g,this.themeName=g):(this.id=w,this.themeName=w),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const g=new Map;for(let m in this.themeData.colors)g.set(m,N.Color.fromHex(this.themeData.colors[m]));if(this.themeData.inherit){let m=c(this.themeData.base);for(let w in m.colors)g.has(w)||g.set(w,N.Color.fromHex(m.colors[w]))}this.colors=g}return this.colors}getColor(g,m){const w=this.getColors().get(g);if(w)return w;if(m!==!1)return this.getDefault(g)}getDefault(g){let m=this.defaultColors[g];return m||(m=n.resolveDefaultColor(g,this),this.defaultColors[g]=m,m)}defines(g){return Object.prototype.hasOwnProperty.call(this.getColors(),g)}get type(){switch(this.base){case h:return a.ColorScheme.LIGHT;case r:return a.ColorScheme.HIGH_CONTRAST;default:return a.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let g=[],m=[];if(this.themeData.inherit){let w=c(this.themeData.base);g=w.rules,w.encodedTokensColors&&(m=w.encodedTokensColors)}g=g.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(m=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(g,m)}return this._tokenTheme}getTokenStyleMetadata(g,m,w){const k=this.tokenTheme._match([g].concat(m).join(".")).metadata,T=L.TokenMetadata.getForeground(k),R=L.TokenMetadata.getFontStyle(k);return{foreground:T,italic:Boolean(R&1),bold:Boolean(R&2),underline:Boolean(R&4)}}}function o(b){return b===h||b===d||b===r}function c(b){switch(b){case h:return p.vs;case d:return p.vs_dark;case r:return p.hc_black}}function f(b){let g=c(b);return new t(b,g)}class y extends s.Disposable{constructor(){super();this._onColorThemeChange=this._register(new I.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(h,f(h)),this._knownThemes.set(d,f(d)),this._knownThemes.set(r,f(r));const g=(0,u.getIconsStyleSheet)();this._codiconCSS=g.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(h),g.onDidChange(()=>{this._codiconCSS=g.getCSS(),this._updateCSS()}),_.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(g){return _.isInShadowDOM(g)?this._registerShadowDomContainer(g):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=_.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),s.Disposable.None}_registerShadowDomContainer(g){const m=_.createStyleSheet(g);return m.className="monaco-colors",m.textContent=this._allCSS,this._styleElements.push(m),{dispose:()=>{for(let w=0;w<this._styleElements.length;w++)if(this._styleElements[w]===m){this._styleElements.splice(w,1);return}}}}defineTheme(g,m){if(!/^[a-z0-9\-]+$/i.test(g))throw new Error("Illegal theme name!");if(!o(m.base)&&!o(g))throw new Error("Illegal theme base!");this._knownThemes.set(g,new t(g,m)),o(g)&&this._knownThemes.forEach(w=>{w.base===g&&w.notifyBaseUpdated()}),this._theme.themeName===g&&this.setTheme(g)}getColorTheme(){return this._theme}setColorMapOverride(g){this._colorMapOverride=g,this._updateThemeOrColorMap()}setTheme(g){let m;this._knownThemes.has(g)?m=this._knownThemes.get(g):m=this._knownThemes.get(h),this._desiredTheme=m,this._updateActualTheme()}_updateActualTheme(){const g=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(r):this._desiredTheme;this._theme!==g&&(this._theme=g,this._updateThemeOrColorMap())}setAutoDetectHighContrast(g){this._autoDetectHighContrast=g,this._updateActualTheme()}_updateThemeOrColorMap(){let g=[],m={},w={addRule:k=>{m[k]||(g.push(k),m[k]=!0)}};l.getThemingParticipants().forEach(k=>k(this._theme,w,this._environment));const D=this._colorMapOverride||this._theme.tokenTheme.getColorMap();w.addRule((0,S.generateTokensCSSForColorMap)(D)),this._themeCSS=g.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(D),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(g=>g.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=y}),define(te[156],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,_.createDecorator)("undoRedoService");class N{constructor(p,v){this.resource=p,this.elements=v}}e.ResourceEditStackSnapshot=N;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=I,I._ID=0,I.None=new I;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=L,L._ID=0,L.None=new L}),define(te[281],ne([0,1,6,2,17,10,37,31,18,147,144,40,14,23,12,70,156,93,245,47,260,254,35]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function y(P){return P.toString()}function b(P){const F=new n.StringSHA1,E=P.createSnapshot();let x;for(;x=E.read();)F.update(x);return F.digest()}class g{constructor(F,E,x){this._modelEventListeners=new N.DisposableStore,this.model=F,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(F.onWillDispose(()=>E(F))),this._modelEventListeners.add(F.onDidChangeLanguage(W=>x(F,W)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(F){this._disposeLanguageSelection(),this._languageSelection=F,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(F.languageIdentifier)),this.model.setMode(F.languageIdentifier)}}const m=I.isLinux||I.isMacintosh?1:2;class w{constructor(F,E,x,W,G,Y,se,re){this.uri=F,this.initialUndoRedoSnapshot=E,this.time=x,this.sharesUndoRedoStack=W,this.heapSize=G,this.sha1=Y,this.versionId=se,this.alternativeVersionId=re}}function D(P){return P.scheme===t.Schemas.file||P.scheme===t.Schemas.vscodeRemote||P.scheme===t.Schemas.userData||P.scheme===t.Schemas.vscodeNotebookCell||P.scheme==="fake-fs"}let k=class at extends N.Disposable{constructor(F,E,x,W,G){super();this._configurationService=F,this._resourcePropertiesService=E,this._themeService=x,this._logService=W,this._undoRedoService=G,this._onModelAdded=this._register(new _.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new _.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new _.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new M(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new R(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(F,E){var x;let W=S.EDITOR_MODEL_DEFAULTS.tabSize;if(F.editor&&typeof F.editor.tabSize!="undefined"){const B=parseInt(F.editor.tabSize,10);isNaN(B)||(W=B),W<1&&(W=1)}let G=W;if(F.editor&&typeof F.editor.indentSize!="undefined"&&F.editor.indentSize!=="tabSize"){const B=parseInt(F.editor.indentSize,10);isNaN(B)||(G=B),G<1&&(G=1)}let Y=S.EDITOR_MODEL_DEFAULTS.insertSpaces;F.editor&&typeof F.editor.insertSpaces!="undefined"&&(Y=F.editor.insertSpaces==="false"?!1:Boolean(F.editor.insertSpaces));let se=m;const re=F.eol;re===`\r
`?se=2:re===`
`&&(se=1);let J=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;F.editor&&typeof F.editor.trimAutoWhitespace!="undefined"&&(J=F.editor.trimAutoWhitespace==="false"?!1:Boolean(F.editor.trimAutoWhitespace));let le=S.EDITOR_MODEL_DEFAULTS.detectIndentation;F.editor&&typeof F.editor.detectIndentation!="undefined"&&(le=F.editor.detectIndentation==="false"?!1:Boolean(F.editor.detectIndentation));let ae=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;F.editor&&typeof F.editor.largeFileOptimizations!="undefined"&&(ae=F.editor.largeFileOptimizations==="false"?!1:Boolean(F.editor.largeFileOptimizations));let V=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((x=F.editor)===null||x===void 0?void 0:x.bracketPairColorization)&&typeof F.editor.bracketPairColorization=="object"&&(V={enabled:!!F.editor.bracketPairColorization.enabled}),{isForSimpleWidget:E,tabSize:W,indentSize:G,insertSpaces:Y,detectIndentation:le,defaultEOL:se,trimAutoWhitespace:J,largeFileOptimizations:ae,bracketPairColorizationOptions:V}}_getEOL(F,E){if(F)return this._resourcePropertiesService.getEOL(F,E);const x=this._configurationService.getValue("files.eol",{overrideIdentifier:E});return x&&typeof x=="string"&&x!=="auto"?x:I.OS===3||I.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const F=this._configurationService.getValue("files.restoreUndoStack");return typeof F=="boolean"?F:!0}getCreationOptions(F,E,x){let W=this._modelCreationOptionsByLanguageAndResource[F+E];if(!W){const G=this._configurationService.getValue("editor",{overrideIdentifier:F,resource:E}),Y=this._getEOL(E,F);W=at._readModelOptions({editor:G,eol:Y},x),this._modelCreationOptionsByLanguageAndResource[F+E]=W}return W}_updateModelOptions(){const F=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const E=Object.keys(this._models);for(let x=0,W=E.length;x<W;x++){const G=E[x],Y=this._models[G],se=Y.model.getLanguageIdentifier().language,re=Y.model.uri,J=F[se+re],le=this.getCreationOptions(se,re,Y.model.isForSimpleWidget);at._setModelOptionsForModel(Y.model,le,J)}}static _setModelOptionsForModel(F,E,x){x&&x.defaultEOL!==E.defaultEOL&&F.getLineCount()===1&&F.setEOL(E.defaultEOL===1?0:1),!(x&&x.detectIndentation===E.detectIndentation&&x.insertSpaces===E.insertSpaces&&x.tabSize===E.tabSize&&x.indentSize===E.indentSize&&x.trimAutoWhitespace===E.trimAutoWhitespace&&(0,f.equals)(x.bracketPairColorizationOptions,E.bracketPairColorizationOptions))&&(E.detectIndentation?(F.detectIndentation(E.insertSpaces,E.tabSize),F.updateOptions({trimAutoWhitespace:E.trimAutoWhitespace,bracketColorizationOptions:E.bracketPairColorizationOptions})):F.updateOptions({insertSpaces:E.insertSpaces,tabSize:E.tabSize,indentSize:E.indentSize,trimAutoWhitespace:E.trimAutoWhitespace,bracketColorizationOptions:E.bracketPairColorizationOptions}))}_insertDisposedModel(F){this._disposedModels.set(y(F.uri),F),this._disposedModelsHeapSize+=F.heapSize}_removeDisposedModel(F){const E=this._disposedModels.get(y(F));return E&&(this._disposedModelsHeapSize-=E.heapSize),this._disposedModels.delete(y(F)),E}_ensureDisposedModelsHeapSize(F){if(this._disposedModelsHeapSize>F){const E=[];for(this._disposedModels.forEach(x=>{x.sharesUndoRedoStack||E.push(x)}),E.sort((x,W)=>x.time-W.time);E.length>0&&this._disposedModelsHeapSize>F;){const x=E.shift();this._removeDisposedModel(x.uri),x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}}}_createModelData(F,E,x,W){const G=this.getCreationOptions(E.language,x,W),Y=new p.TextModel(F,G,E,x,this._undoRedoService);if(x&&this._disposedModels.has(y(x))){const J=this._removeDisposedModel(x),le=this._undoRedoService.getElements(x),ae=b(Y)===J.sha1;if(ae||J.sharesUndoRedoStack){for(const V of le.past)(0,l.isEditStackElement)(V)&&V.matchesResource(x)&&V.setModel(Y);for(const V of le.future)(0,l.isEditStackElement)(V)&&V.matchesResource(x)&&V.setModel(Y);this._undoRedoService.setElementsValidFlag(x,!0,V=>(0,l.isEditStackElement)(V)&&V.matchesResource(x)),ae&&(Y._overwriteVersionId(J.versionId),Y._overwriteAlternativeVersionId(J.alternativeVersionId),Y._overwriteInitialUndoRedoSnapshot(J.initialUndoRedoSnapshot))}else J.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(J.initialUndoRedoSnapshot)}const se=y(Y.uri);if(this._models[se])throw new Error("ModelService: Cannot add model because it already exists!");const re=new g(Y,J=>this._onWillDispose(J),(J,le)=>this._onDidChangeLanguage(J,le));return this._models[se]=re,re}createModel(F,E,x,W=!1){let G;return E?(G=this._createModelData(F,E.languageIdentifier,x,W),this.setMode(G.model,E)):G=this._createModelData(F,i.PLAINTEXT_LANGUAGE_IDENTIFIER,x,W),this._onModelAdded.fire(G.model),G.model}setMode(F,E){if(!E)return;const x=this._models[y(F.uri)];!x||x.setLanguage(E)}getModels(){const F=[],E=Object.keys(this._models);for(let x=0,W=E.length;x<W;x++){const G=E[x];F.push(this._models[G].model)}return F}getModel(F){const E=y(F),x=this._models[E];return x?x.model:null}getSemanticTokensProviderStyling(F){return this._semanticStyling.get(F)}_onWillDispose(F){const E=y(F.uri),x=this._models[E],W=this._undoRedoService.getUriComparisonKey(F.uri)!==F.uri.toString();let G=!1,Y=0;if(W||this._shouldRestoreUndoStack()&&D(F.uri)){const re=this._undoRedoService.getElements(F.uri);if(re.past.length>0||re.future.length>0){for(const J of re.past)(0,l.isEditStackElement)(J)&&J.matchesResource(F.uri)&&(G=!0,Y+=J.heapSize(F.uri),J.setModel(F.uri));for(const J of re.future)(0,l.isEditStackElement)(J)&&J.matchesResource(F.uri)&&(G=!0,Y+=J.heapSize(F.uri),J.setModel(F.uri))}}const se=at.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(G)if(!W&&Y>se){const re=x.model.getInitialUndoRedoSnapshot();re!==null&&this._undoRedoService.restoreSnapshot(re)}else this._ensureDisposedModelsHeapSize(se-Y),this._undoRedoService.setElementsValidFlag(F.uri,!1,re=>(0,l.isEditStackElement)(re)&&re.matchesResource(F.uri)),this._insertDisposedModel(new w(F.uri,x.model.getInitialUndoRedoSnapshot(),Date.now(),W,Y,b(F),F.getVersionId(),F.getAlternativeVersionId()));else if(!W){const re=x.model.getInitialUndoRedoSnapshot();re!==null&&this._undoRedoService.restoreSnapshot(re)}delete this._models[E],x.dispose(),delete this._modelCreationOptionsByLanguageAndResource[F.getLanguageIdentifier().language+F.uri],this._onModelRemoved.fire(F)}_onDidChangeLanguage(F,E){const x=E.oldLanguage,W=F.getLanguageIdentifier().language,G=this.getCreationOptions(x,F.uri,F.isForSimpleWidget),Y=this.getCreationOptions(W,F.uri,F.isForSimpleWidget);at._setModelOptionsForModel(F,Y,G),this._onModelModeChanged.fire({model:F,oldModeId:x})}};k.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,k=Re([me(0,s.IConfigurationService),me(1,C.ITextResourcePropertiesService),me(2,h.IThemeService),me(3,d.ILogService),me(4,r.IUndoRedoService)],k),e.ModelServiceImpl=k,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function T(P,F,E){var x;const W=(x=E.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:P.getLanguageIdentifier().language,resource:P.uri}))===null||x===void 0?void 0:x.enabled;return typeof W=="boolean"?W:F.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=T;class R extends N.Disposable{constructor(F,E,x,W){super();this._watchers=Object.create(null),this._semanticStyling=W;const G=re=>{this._watchers[re.uri.toString()]=new O(re,E,this._semanticStyling)},Y=(re,J)=>{J.dispose(),delete this._watchers[re.uri.toString()]},se=()=>{for(let re of F.getModels()){const J=this._watchers[re.uri.toString()];T(re,E,x)?J||G(re):J&&Y(re,J)}};this._register(F.onModelAdded(re=>{T(re,E,x)&&G(re)})),this._register(F.onModelRemoved(re=>{const J=this._watchers[re.uri.toString()];J&&Y(re,J)})),this._register(x.onDidChangeConfiguration(re=>{re.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&se()})),this._register(E.onDidColorThemeChange(se))}}class M extends N.Disposable{constructor(F,E){super();this._themeService=F,this._logService=E,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(F){return this._caches.has(F)||this._caches.set(F,new o.SemanticTokensProviderStyling(F.getLegend(),this._themeService,this._logService)),this._caches.get(F)}}class A{constructor(F,E,x){this._provider=F,this.resultId=E,this.data=x}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class O extends N.Disposable{constructor(F,E,x){super();this._isDisposed=!1,this._model=F,this._semanticStyling=x,this._fetchDocumentSemanticTokens=this._register(new a.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),O.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const W=()=>{(0,N.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const G of v.DocumentSemanticTokensProviderRegistry.all(F))typeof G.onDidChange=="function"&&this._documentProvidersChangeListeners.push(G.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};W(),this._register(v.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{W(),this._fetchDocumentSemanticTokens.schedule()})),this._register(E.onDidColorThemeChange(G=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const F=new u.CancellationTokenSource,E=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,x=(0,c.getDocumentSemanticTokens)(this._model,E,F.token);if(!x){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:W,request:G}=x;this._currentDocumentRequestCancellationTokenSource=F;const Y=[],se=this._model.onDidChangeContent(J=>{Y.push(J)}),re=this._semanticStyling.get(W);G.then(J=>{this._currentDocumentRequestCancellationTokenSource=null,se.dispose(),this._setDocumentSemanticTokens(W,J||null,re,Y)},J=>{J&&(L.isPromiseCanceledError(J)||typeof J.message=="string"&&J.message.indexOf("busy")!==-1)||L.onUnexpectedError(J),this._currentDocumentRequestCancellationTokenSource=null,se.dispose(),Y.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(F,E,x,W,G){for(let Y=0;Y<G;Y++)x[W+Y]=F[E+Y]}_setDocumentSemanticTokens(F,E,x,W){const G=this._currentDocumentResponse,Y=()=>{W.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){F&&E&&F.releaseDocumentSemanticTokens(E.resultId);return}if(!F||!x){this._model.setSemanticTokens(null,!1);return}if(!E){this._model.setSemanticTokens(null,!0),Y();return}if((0,c.isSemanticTokensEdits)(E)){if(!G){this._model.setSemanticTokens(null,!0);return}if(E.edits.length===0)E={resultId:E.resultId,data:G.data};else{let se=0;for(const V of E.edits)se+=(V.data?V.data.length:0)-V.deleteCount;const re=G.data,J=new Uint32Array(re.length+se);let le=re.length,ae=J.length;for(let V=E.edits.length-1;V>=0;V--){const B=E.edits[V],Z=le-(B.start+B.deleteCount);Z>0&&(O._copy(re,le-Z,J,ae-Z,Z),ae-=Z),B.data&&(O._copy(B.data,0,J,ae-B.data.length,B.data.length),ae-=B.data.length),le=B.start}le>0&&O._copy(re,0,J,0,le),E={resultId:E.resultId,data:J}}}if((0,c.isSemanticTokens)(E)){this._currentDocumentResponse=new A(F,E.resultId,E.data);const se=(0,o.toMultilineTokens2)(E,x,this._model.getLanguageIdentifier());if(W.length>0)for(const re of W)for(const J of se)for(const le of re.changes)J.applyEdit(le.range,le.text);this._model.setSemanticTokens(se,!0)}else this._model.setSemanticTokens(null,!0);Y()}}e.ModelSemanticColoring=O,O.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(te[695],ne([0,1,7,29,6,2,47,44,152,3,31,68,625,505,9,122,155,22,12,126,119,216,156,39,360]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(k,T){this._editor=k,this._model=T,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const k=this._editor.getModel();if(!!k){for(let T of this._model.references)if(T.uri.toString()===k.uri.toString()){this._addDecorations(T.parent);return}}}_addDecorations(k){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const T=[],R=[];for(let A=0,O=k.children.length;A<O;A++){let P=k.children[A];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(T.push({range:P.range,options:b.DecorationOptions}),R.push(A))}const M=this._editor.deltaDecorations([],T);for(let A=0;A<M.length;A++)this._decorations.set(M[A],k.children[R[A]])}_onDecorationChanged(){const k=[],T=this._editor.getModel();if(!!T){for(let[R,M]of this._decorations){const A=T.getDecorationRange(R);if(!A)continue;let O=!1;if(!i.Range.equalsRange(A,M.range)){if(i.Range.spansMultipleLines(A))O=!0;else{const P=M.range.endColumn-M.range.startColumn,F=A.endColumn-A.startColumn;P!==F&&(O=!0)}O?(this._decorationIgnoreSet.add(M.id),k.push(R)):M.range=A}}for(let R=0,M=k.length;R<M;R++)this._decorations.delete(k[R]);this._editor.deltaDecorations(k,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}b.DecorationOptions=C.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class g{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(k){let T,R;try{const M=JSON.parse(k);T=M.ratio,R=M.heightInLines}catch(M){}return{ratio:T||.7,heightInLines:R||18}}}e.LayoutData=g;class m extends r.WorkbenchAsyncDataTree{}let w=class extends t.PeekViewWidget{constructor(k,T,R,M,A,O,P,F,E,x){super(k,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},O);this._defaultTreeKeyboardSupport=T,this.layoutData=R,this._textModelResolverService=A,this._instantiationService=O,this._peekViewService=P,this._uriLabel=F,this._undoRedoService=E,this._keybindingService=x,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new _.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(k,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(k){const T=k.getColor(t.peekViewBorder)||N.Color.transparent;this.style({arrowColor:T,frameColor:T,headerBackgroundColor:k.getColor(t.peekViewTitleBackground)||N.Color.transparent,primaryHeadingColor:k.getColor(t.peekViewTitleForeground),secondaryHeadingColor:k.getColor(t.peekViewTitleInfoForeground)})}show(k){this.editor.revealRangeInCenterIfOutsideViewport(k,0),super.show(k,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(k){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:k.ctrlKey||k.metaKey||k.altKey?"side":"open",source:"title"})}_fillBody(k){this.setCssClass("reference-zone-widget"),this._messageContainer=_.append(k,_.$("div.messages")),_.hide(this._messageContainer),this._splitView=new c.SplitView(k,{orientation:1}),this._previewContainer=_.append(k,_.$("div.preview.inline"));let T={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,T,this.editor),_.hide(this._previewContainer),this._previewNotAvailableMessage=new C.TextModel(u.localize(0,null),C.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=_.append(k,_.$("div.ref-tree.inline"));const R={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new a.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(a.StringRepresentationProvider),identityProvider:new a.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(_.addStandardDisposableListener(this._treeContainer,"keydown",A=>{A.equals(9)&&(this._keybindingService.dispatchEvent(A,A.target),A.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(m,"ReferencesWidget",this._treeContainer,new a.Delegate,[this._instantiationService.createInstance(a.FileReferencesRenderer),this._instantiationService.createInstance(a.OneReferenceRenderer)],this._instantiationService.createInstance(a.DataSource),R),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:A=>{this._preview.layout({height:this._dim.height,width:A})}},c.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:A=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${A}px`,this._tree.layout(this._dim.height,A)}},c.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let M=(A,O)=>{A instanceof o.OneReference&&(O==="show"&&this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:O,source:"tree"}))};this._tree.onDidOpen(A=>{A.sideBySide?M(A.element,"side"):A.editorOptions.pinned?M(A.element,"goto"):M(A.element,"show")}),_.hide(this._treeContainer)}_onWidth(k){this._dim&&this._doLayoutBody(this._dim.height,k)}_doLayoutBody(k,T){super._doLayoutBody(k,T),this._dim=new _.Dimension(T,k),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(T),this._splitView.resizeView(0,T*this.layoutData.ratio)}setSelection(k){return this._revealReference(k,!0).then(()=>{!this._model||(this._tree.setSelection([k]),this._tree.setFocus([k]))})}setModel(k){return this._disposeOnNewModel.clear(),this._model=k,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),_.show(this._messageContainer),Promise.resolve(void 0)):(_.hide(this._messageContainer),this._decorationsManager=new b(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(k=>this._tree.rerender(k))),this._disposeOnNewModel.add(this._preview.onMouseDown(k=>{const{event:T,target:R}=k;if(T.detail!==2)return;const M=this._getFocusedReference();!M||this._onDidSelectReference.fire({element:{uri:M.uri,range:R.range},kind:T.ctrlKey||T.metaKey||T.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),_.show(this._treeContainer),_.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[k]=this._tree.getFocus();if(k instanceof o.OneReference)return k;if(k instanceof o.FileReferences&&k.children.length>0)return k.children[0]}revealReference(k){return ke(this,void 0,void 0,function*(){yield this._revealReference(k,!1),this._onDidSelectReference.fire({element:k,kind:"goto",source:"tree"})})}_revealReference(k,T){return ke(this,void 0,void 0,function*(){if(this._revealedReference===k)return;this._revealedReference=k,k.uri.scheme!==S.Schemas.inMemory?this.setTitle((0,p.basenameOrAuthority)(k.uri),this._uriLabel.getUriLabel((0,p.dirname)(k.uri))):this.setTitle(u.localize(2,null));const R=this._textModelResolverService.createModelReference(k.uri);this._tree.getInput()===k.parent?this._tree.reveal(k):(T&&this._tree.reveal(k.parent),yield this._tree.expand(k.parent),this._tree.reveal(k));const M=yield R;if(!this._model){M.dispose();return}(0,L.dispose)(this._previewModelReference);const A=M.object;if(A){const O=this._preview.getModel()===A.textEditorModel?0:1,P=i.Range.lift(k.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(A.textEditorModel),this._preview.setSelection(P),this._preview.revealRangeInCenter(P,O)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()})}};w=Re([me(3,l.IThemeService),me(4,s.ITextModelService),me(5,h.IInstantiationService),me(6,t.IPeekViewService),me(7,d.ILabelService),me(8,f.IUndoRedoService),me(9,y.IKeybindingService)],w),e.ReferenceWidget=w,(0,l.registerThemingParticipant)((D,k)=>{const T=D.getColor(t.peekViewResultsMatchHighlight);T&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${T}; }`);const R=D.getColor(t.peekViewEditorMatchHighlight);R&&k.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${R}; }`);const M=D.getColor(t.peekViewEditorMatchHighlightBorder);M&&k.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${M}; box-sizing: border-box; }`);const A=D.getColor(n.activeContrastBorder);A&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${A}; box-sizing: border-box; }`);const O=D.getColor(t.peekViewResultsBackground);O&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${O}; }`);const P=D.getColor(t.peekViewResultsMatchForeground);P&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${P}; }`);const F=D.getColor(t.peekViewResultsFileForeground);F&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${F}; }`);const E=D.getColor(t.peekViewResultsSelectionBackground);E&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${E}; }`);const x=D.getColor(t.peekViewResultsSelectionForeground);x&&k.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${x} !important; }`);const W=D.getColor(t.peekViewEditorBackground);W&&k.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${W};}`);const G=D.getColor(t.peekViewEditorGutterBackground);G&&k.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${G};}`)})}),define(te[282],ne([0,1,503,10,2,28,9,15,40,71,119,695,3,13,34,14,126,155,80,43,26]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new p.RawContextKey("referenceSearchVisible",!1,_.localize(0,null));let c=class It{constructor(b,g,m,w,D,k,T,R){this._defaultTreeKeyboardSupport=b,this._editor=g,this._editorService=w,this._notificationService=D,this._instantiationService=k,this._storageService=T,this._configurationService=R,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(m)}static get(b){return b.getContribution(It.ID)}dispose(){var b,g;this._referenceSearchVisible.reset(),this._disposables.dispose(),(b=this._widget)===null||b===void 0||b.dispose(),(g=this._model)===null||g===void 0||g.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(b,g,m){let w;if(this._widget&&(w=this._widget.position),this.closeWidget(),!!w&&b.containsPosition(w))return;this._peekMode=m,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const D="peekViewLayout",k=s.LayoutData.fromJSON(this._storageService.get(D,0,"{}"));this._widget=this._instantiationService.createInstance(s.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,k),this._widget.setTitle(_.localize(1,null)),this._widget.show(b),this._disposables.add(this._widget.onDidClose(()=>{g.cancel(),this._widget&&(this._storageService.store(D,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:M,kind:A}=R;if(!!M)switch(A){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(M,!1,!1);break;case"side":this.openReference(M,!0,!1);break;case"goto":m?this._gotoReference(M):this.openReference(M,!1,!0);break}}));const T=++this._requestIdPool;g.then(R=>{var M;if(T!==this._requestIdPool||!this._widget){R.dispose();return}return(M=this._model)===null||M===void 0||M.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_.localize(2,null,this._model.title,this._model.references.length));let A=this._editor.getModel().uri,O=new u.Position(b.startLineNumber,b.startColumn),P=this._model.nearestReference(A,O);if(P)return this._widget.setSelection(P).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(b){return ke(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const g=this._widget.position;if(!g)return;const m=this._model.nearestReference(this._editor.getModel().uri,g);if(!m)return;const w=this._model.nextOrPreviousReference(m,b),D=this._editor.hasTextFocus(),k=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(w),yield this._gotoReference(w),D?this._editor.focus():this._widget&&k&&this._widget.focusOnPreviewEditor()})}revealReference(b){return ke(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(b))})}closeWidget(b=!0){var g,m;(g=this._widget)===null||g===void 0||g.dispose(),(m=this._model)===null||m===void 0||m.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,b&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(b){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const g=a.Range.lift(b.range).collapseToStart();return this._editorService.openCodeEditor({resource:b.uri,options:{selection:g}},this._editor).then(m=>{var w;if(this._ignoreModelChangeEvent=!1,!m||!this._widget){this.closeWidget();return}if(this._editor===m)this._widget.show(g),this._widget.focusOnReferenceTree();else{const D=It.get(m),k=this._model.clone();this.closeWidget(),m.focus(),D.toggleWidget(g,(0,d.createCancelablePromise)(T=>Promise.resolve(k)),(w=this._peekMode)!==null&&w!==void 0?w:!1)}},m=>{this._ignoreModelChangeEvent=!1,(0,N.onUnexpectedError)(m)})}openReference(b,g,m){g||this.closeWidget();const{uri:w,range:D}=b;this._editorService.openCodeEditor({resource:w,options:{selection:D,pinned:m}},this._editor,g)}};c.ID="editor.contrib.referencesController",c=Re([me(2,p.IContextKeyService),me(3,L.ICodeEditorService),me(4,h.INotificationService),me(5,S.IInstantiationService),me(6,i.IStorageService),me(7,v.IConfigurationService)],c),e.ReferencesController=c;function f(y,b){const g=(0,r.getOuterEditor)(y);if(!g)return;let m=c.get(g);m&&b(m)}l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,t.KeyChord)(2048|41,60),when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(y){f(y,b=>{b.changeFocusBetweenPreviewAndReferences()})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(y){f(y,b=>{b.goToNextOrPreviousReference(!0)})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(y){f(y,b=>{b.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",y=>f(y,b=>b.closeWidget())),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(r.PeekContext.inPeekEditor,p.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,p.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(y){var b;const m=(b=y.get(n.IListService).lastFocusedList)===null||b===void 0?void 0:b.getFocus();Array.isArray(m)&&m[0]instanceof C.OneReference&&f(y,w=>w.revealReference(m[0]))}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(y){var b;const m=(b=y.get(n.IListService).lastFocusedList)===null||b===void 0?void 0:b.getFocus();Array.isArray(m)&&m[0]instanceof C.OneReference&&f(y,w=>w.openReference(m[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",y=>{var b;const m=(b=y.get(n.IListService).lastFocusedList)===null||b===void 0?void 0:b.getFocus();Array.isArray(m)&&m[0]instanceof C.OneReference&&f(y,w=>w.openReference(m[0],!1,!0))})}),define(te[283],ne([0,1,45,14,43,17,112,16,28,13,3,25,18,154,126,282,119,501,33,15,34,61,273,26,66,651,41,24,9,20,152]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T){"use strict";var R,M,A,O,P,F,E,x;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,l.MenuRegistry.appendMenuItem(l.MenuId.EditorContext,{submenu:l.MenuId.EditorContextPeek,title:n.localize(0,null),group:"navigation",order:100});const W=new Set;function G(Z){const H=new Z;return(0,p.registerInstantiatedEditorAction)(H),W.add(H.id),H}class Y extends p.EditorAction{constructor(H,z){super(z);this._configuration=H}run(H,z){if(!z.hasModel())return Promise.resolve(void 0);const ie=H.get(o.INotificationService),ce=H.get(v.ICodeEditorService),K=H.get(c.IEditorProgressService),Q=H.get(g.ISymbolNavigationService),U=z.getModel(),ee=z.getPosition(),de=new b.EditorStateCancellationTokenSource(z,1|4),j=(0,N.raceCancellation)(this._getLocationModel(U,ee,de.token),de.token).then(ue=>ke(this,void 0,void 0,function*(){if(!ue||de.token.isCancellationRequested)return;(0,_.alert)(ue.ariaMessage);let X;if(ue.referenceAt(U.uri,ee)){const oe=this._getAlternativeCommand(z);oe!==this.id&&W.has(oe)&&(X=z.getAction(oe))}const q=ue.references.length;if(q===0){if(!this._configuration.muteMessage){const oe=U.getWordAtPosition(ee);u.MessageController.get(z).showMessage(this._getNoResultFoundMessage(oe),ee)}}else if(q===1&&X)X.run();else return this._onResult(ce,Q,z,ue)}),ue=>{ie.error(ue)}).finally(()=>{de.dispose()});return K.showWhile(j,250),j}_onResult(H,z,ie,ce){return ke(this,void 0,void 0,function*(){const K=this._getGoToPreference(ie);if(!(ie instanceof T.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||K==="peek"&&ce.references.length>1))this._openInPeek(ie,ce);else{const Q=ce.firstReference(),U=ce.references.length>1&&K==="gotoAndPeek",ee=yield this._openReference(ie,H,Q,this._configuration.openToSide,!U);U&&ee?this._openInPeek(ee,ce):ce.dispose(),K==="goto"&&z.put(Q)}})}_openReference(H,z,ie,ce,K){return ke(this,void 0,void 0,function*(){let Q;if((0,a.isLocationLink)(ie)&&(Q=ie.targetSelectionRange),Q||(Q=ie.range),!Q)return;const U=yield z.openCodeEditor({resource:ie.uri,options:{selection:C.Range.collapseToStart(Q),selectionRevealType:3}},H,ce);if(!!U){if(K){const ee=U.getModel(),de=U.deltaDecorations([],[{range:Q,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{U.getModel()===ee&&U.deltaDecorations(de,[])},350)}return U}})}_openInPeek(H,z){let ie=d.ReferencesController.get(H);ie&&H.hasModel()?ie.toggleWidget(H.getSelection(),(0,N.createCancelablePromise)(ce=>Promise.resolve(z)),this._configuration.openInPeek):z.dispose()}}class se extends Y{_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getDefinitionsAtPosition)(H,z,ie),n.localize(1,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(2,null,H.word):n.localize(3,null)}_getAlternativeCommand(H){return H.getOption(49).alternativeDefinitionCommand}_getGoToPreference(H){return H.getOption(49).multipleDefinitions}}e.DefinitionAction=se;const re=L.isWeb&&!m.isStandalone?2048|70:70;G((R=class kt extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:kt.id,label:n.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:re,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});y.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",kt.id)}},R.id="editor.action.revealDefinition",R)),G((M=class Nt extends se{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Nt.id,label:n.localize(5,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,re),weight:100}});y.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Nt.id)}},M.id="editor.action.revealDefinitionAside",M)),G((A=class Tt extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Tt.id,label:n.localize(6,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:2}});y.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",Tt.id)}},A.id="editor.action.peekDefinition",A));class J extends Y{_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getDeclarationsAtPosition)(H,z,ie),n.localize(7,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(8,null,H.word):n.localize(9,null)}_getAlternativeCommand(H){return H.getOption(49).alternativeDeclarationCommand}_getGoToPreference(H){return H.getOption(49).multipleDeclarations}}G((O=class ni extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ni.id,label:n.localize(10,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(11,null,H.word):n.localize(12,null)}},O.id="editor.action.revealDeclaration",O)),G(class extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:n.localize(13,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:3}})}});class le extends Y{_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getTypeDefinitionsAtPosition)(H,z,ie),n.localize(14,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(15,null,H.word):n.localize(16,null)}_getAlternativeCommand(H){return H.getOption(49).alternativeTypeDefinitionCommand}_getGoToPreference(H){return H.getOption(49).multipleTypeDefinitions}}G((P=class si extends le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:si.ID,label:n.localize(17,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},P.ID="editor.action.goToTypeDefinition",P)),G((F=class ri extends le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ri.ID,label:n.localize(18,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class ae extends Y{_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getImplementationsAtPosition)(H,z,ie),n.localize(19,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(20,null,H.word):n.localize(21,null)}_getAlternativeCommand(H){return H.getOption(49).alternativeImplementationCommand}_getGoToPreference(H){return H.getOption(49).multipleImplementations}}G((E=class oi extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:oi.ID,label:n.localize(22,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},E.ID="editor.action.goToImplementation",E)),G((x=class ai extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ai.ID,label:n.localize(23,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:5}})}},x.ID="editor.action.peekImplementation",x));class V extends Y{_getNoResultFoundMessage(H){return H?n.localize(24,null,H.word):n.localize(25,null)}_getAlternativeCommand(H){return H.getOption(49).alternativeReferenceCommand}_getGoToPreference(H){return H.getOption(49).multipleReferences}}G(class extends V{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:n.localize(26,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getReferencesAtPosition)(H,z,!0,ie),n.localize(27,null))})}}),G(class extends V{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:n.localize(28,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,f.getReferencesAtPosition)(H,z,!1,ie),n.localize(29,null))})}});class B extends Y{constructor(H,z,ie){super(H,{id:"editor.action.goToLocation",label:n.localize(30,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(h.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=z,this._gotoMultipleBehaviour=ie}_getLocationModel(H,z,ie){return ke(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,n.localize(31,null))})}_getNoResultFoundMessage(H){return H&&n.localize(32,null,H.word)||""}_getGoToPreference(H){var z;return(z=this._gotoMultipleBehaviour)!==null&&z!==void 0?z:H.getOption(49).multipleReferences}_getAlternativeCommand(){return""}}y.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:w.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Z,H,z,ie,ce,K,Q)=>ke(void 0,void 0,void 0,function*(){(0,k.assertType)(w.URI.isUri(H)),(0,k.assertType)(i.Position.isIPosition(z)),(0,k.assertType)(Array.isArray(ie)),(0,k.assertType)(typeof ce=="undefined"||typeof ce=="string"),(0,k.assertType)(typeof Q=="undefined"||typeof Q=="boolean");const U=Z.get(v.ICodeEditorService),ee=yield U.openCodeEditor({resource:H},U.getFocusedCodeEditor());if((0,S.isCodeEditor)(ee))return ee.setPosition(z),ee.revealPositionInCenterIfOutsideViewport(z,0),ee.invokeWithinContext(de=>{const j=new class extends B{_getNoResultFoundMessage(ue){return K||super._getNoResultFoundMessage(ue)}}({muteMessage:!Boolean(K),openInPeek:Boolean(Q),openToSide:!1},ie,ce);de.get(D.IInstantiationService).invokeFunction(j.run.bind(j),ee)})})}),y.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:w.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Z,H,z,ie,ce)=>ke(void 0,void 0,void 0,function*(){Z.get(y.ICommandService).executeCommand("editor.action.goToLocations",H,z,ie,ce,void 0,!0)})}),y.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(Z,H,z)=>{(0,k.assertType)(w.URI.isUri(H)),(0,k.assertType)(i.Position.isIPosition(z));const ie=Z.get(v.ICodeEditorService);return ie.openCodeEditor({resource:H},ie.getFocusedCodeEditor()).then(ce=>{if(!(0,S.isCodeEditor)(ce)||!ce.hasModel())return;const K=d.ReferencesController.get(ce);if(!K)return;const Q=(0,N.createCancelablePromise)(ee=>(0,f.getReferencesAtPosition)(ce.getModel(),i.Position.lift(z),!1,ee).then(de=>new r.ReferencesModel(de,n.localize(33,null)))),U=new C.Range(z.lineNumber,z.column,z.lineNumber,z.column);return Promise.resolve(K.toggleWidget(U,Q,!1))})}}),y.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),l.MenuRegistry.appendMenuItems([{id:l.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:n.localize(34,null)},group:"4_symbol_nav",order:2}},{id:l.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:n.localize(35,null)},group:"4_symbol_nav",order:3}},{id:l.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:n.localize(36,null)},group:"4_symbol_nav",order:3}},{id:l.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:n.localize(37,null)},group:"4_symbol_nav",order:4}},{id:l.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:n.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(te[284],ne([0,1,502,14,10,75,56,3,18,16,273,2,68,12,22,66,283,234,13,20,126,15,359]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let f=class lt{constructor(b,g,m){this.textModelResolverService=g,this.modeService=m,this.toUnhook=new s.DisposableStore,this.toUnhookForKeyboard=new s.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=b;let w=new n.ClickLinkGesture(b);this.toUnhook.add(w),this.toUnhook.add(w.onMouseMoveOrRelevantKeyDown(([D,k])=>{this.startFindDefinitionFromMouse(D,(0,t.withNullAsUndefined)(k))})),this.toUnhook.add(w.onExecute(D=>{this.isEnabled(D)&&this.gotoDefinition(D.target.position,D.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},k=>{this.removeLinkDecorations(),(0,I.onUnexpectedError)(k)})})),this.toUnhook.add(w.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(b){return b.getContribution(lt.ID)}startFindDefinitionFromCursor(b){return this.startFindDefinition(b).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(b,g){if(b.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(b,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const m=b.target.position;this.startFindDefinition(m)}startFindDefinition(b){var g;this.toUnhookForKeyboard.clear();const m=b?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(b):null;if(!m)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===m.startColumn&&this.currentWordAtPosition.endColumn===m.endColumn&&this.currentWordAtPosition.word===m.word)return Promise.resolve(0);this.currentWordAtPosition=m;let w=new d.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,N.createCancelablePromise)(D=>this.findDefinition(b,D)),this.previousPromise.then(D=>{if(!D||!D.length||!w.validate(this.editor)){this.removeLinkDecorations();return}if(D.length>1)this.addDecoration(new p.Range(b.lineNumber,m.startColumn,b.lineNumber,m.endColumn),new L.MarkdownString().appendText(_.localize(0,null,D.length)));else{let k=D[0];if(!k.uri)return;this.textModelResolverService.createModelReference(k.uri).then(T=>{if(!T.object||!T.object.textEditorModel){T.dispose();return}const{object:{textEditorModel:R}}=T,{startLineNumber:M}=k.range;if(M<1||M>R.getLineCount()){T.dispose();return}const A=this.getPreviewValue(R,M,k);let O;k.originSelectionRange?O=p.Range.lift(k.originSelectionRange):O=new p.Range(b.lineNumber,m.startColumn,b.lineNumber,m.endColumn);const P=this.modeService.getModeIdByFilepathOrFirstLine(R.uri);this.addDecoration(O,new L.MarkdownString().appendCodeblock(P||"",A)),T.dispose()})}}).then(void 0,I.onUnexpectedError)}getPreviewValue(b,g,m){let w=m.targetSelectionRange?m.range:this.getPreviewRangeBasedOnBrackets(b,g);return w.endLineNumber-w.startLineNumber>=lt.MAX_SOURCE_PREVIEW_LINES&&(w=this.getPreviewRangeBasedOnIndentation(b,g)),this.stripIndentationFromPreviewRange(b,g,w)}stripIndentationFromPreviewRange(b,g,m){let D=b.getLineFirstNonWhitespaceColumn(g);for(let T=g+1;T<m.endLineNumber;T++){const R=b.getLineFirstNonWhitespaceColumn(T);D=Math.min(D,R)}return b.getValueInRange(m).replace(new RegExp(`^\\s{${D-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(b,g){const m=b.getLineFirstNonWhitespaceColumn(g),w=Math.min(b.getLineCount(),g+lt.MAX_SOURCE_PREVIEW_LINES);let D=g+1;for(;D<w;D++){let k=b.getLineFirstNonWhitespaceColumn(D);if(m===k)break}return new p.Range(g,1,D+1,1)}getPreviewRangeBasedOnBrackets(b,g){const m=Math.min(b.getLineCount(),g+lt.MAX_SOURCE_PREVIEW_LINES),w=[];let D=!0,k=b.findNextBracket(new l.Position(g,1));for(;k!==null;){if(w.length===0)w.push(k);else{const A=w[w.length-1];if(A.open[0]===k.open[0]&&A.isOpen&&!k.isOpen?w.pop():w.push(k),w.length===0)if(D)D=!1;else return new p.Range(g,1,k.range.endLineNumber+1,1)}const T=b.getLineMaxColumn(g);let R=k.range.endLineNumber,M=k.range.endColumn;if(T===k.range.endColumn&&(R++,M=1),R>m)return new p.Range(g,1,m+1,1);k=b.findNextBracket(new l.Position(R,M))}return new p.Range(g,1,m+1,1)}addDecoration(b,g){const m={range:b,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[m])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(b,g){return this.editor.hasModel()&&b.isNoneOrSingleMouseDown&&b.target.type===6&&(b.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&v.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(b,g){const m=this.editor.getModel();return m?(0,C.getDefinitionsAtPosition)(m,b,g):Promise.resolve(null)}gotoDefinition(b,g){return this.editor.setPosition(b),this.editor.invokeWithinContext(m=>{const w=!g&&this.editor.getOption(77)&&!this.isInPeekEditor(m);return new r.DefinitionAction({openToSide:g,openInPeek:w,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(m,this.editor)})}isInPeekEditor(b){const g=b.get(c.IContextKeyService);return o.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose()}};f.ID="editor.contrib.gotodefinitionatposition",f.MAX_SOURCE_PREVIEW_LINES=8,f=Re([me(1,a.ITextModelService),me(2,S.IModeService)],f),e.GotoDefinitionAtPositionEditorContribution=f,(0,i.registerEditorContribution)(f.ID,f),(0,u.registerThemingParticipant)((y,b)=>{const g=y.getColor(h.editorActiveLinkForeground);g&&b.addRule(`.monaco-editor .goto-definition-link { color: ${g} !important; }`)})}),define(te[696],ne([0,1,14,2,16,18,38,260,12,40,281,254]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class extends N.Disposable{constructor(h,d,r,n){super();this._modelService=d,this._themeService=r,this._configurationService=n,this._editor=h,this._tokenizeViewport=new _.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(L.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(C.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const h of this._outstandingRequests)h.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(h){for(let d=0,r=this._outstandingRequests.length;d<r;d++)if(this._outstandingRequests[d]===h){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const h=this._editor.getModel();if(h.hasCompleteSemanticTokens())return;if(!(0,C.isSemanticColoringEnabled)(h,this._themeService,this._configurationService)){h.hasSomeSemanticTokens()&&h.setSemanticTokens(null,!1);return}const d=(0,s.getDocumentRangeSemanticTokensProvider)(h);if(!d){h.hasSomeSemanticTokens()&&h.setSemanticTokens(null,!1);return}const r=this._modelService.getSemanticTokensProviderStyling(d),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(l=>this._requestRange(h,l,d,r)))}_requestRange(h,d,r,n){const l=h.getVersionId(),t=(0,_.createCancelablePromise)(o=>Promise.resolve(r.provideDocumentRangeSemanticTokens(h,d,o)));return t.then(o=>{!o||h.isDisposed()||h.getVersionId()!==l||h.setPartialSemanticTokens(d,(0,p.toMultilineTokens2)(o,n,h.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};a.ID="editor.contrib.viewportSemanticTokens",a=Re([me(1,S.IModelService),me(2,v.IThemeService),me(3,i.IConfigurationService)],a),(0,I.registerEditorContribution)(a.ID,a)}),define(te[697],ne([0,1,16,28,282,40,15,9,34,71]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends I.ReferencesController{constructor(a,u,h,d,r,n,l){super(!0,a,u,h,d,r,n,l)}};C=Re([me(1,S.IContextKeyService),me(2,N.ICodeEditorService),me(3,v.INotificationService),me(4,p.IInstantiationService),me(5,i.IStorageService),me(6,L.IConfigurationService)],C),e.StandaloneReferencesController=C,(0,_.registerEditorContribution)(I.ReferencesController.ID,C)}),define(te[698],ne([0,1,10,2,47,74,553,121,76,34,156]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function a(y){return y.scheme===I.Schemas.file?y.fsPath:y.path}let u=0;class h{constructor(b,g,m,w,D,k,T){this.id=++u,this.type=0,this.actual=b,this.label=b.label,this.confirmBeforeUndo=b.confirmBeforeUndo||!1,this.resourceLabel=g,this.strResource=m,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=D,this.sourceId=k,this.sourceOrder=T,this.isValid=!0}setValid(b){this.isValid=b}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(b,g){this.resourceLabel=b,this.reason=g}}class r{constructor(){this.elements=new Map}createMessage(){const b=[],g=[];for(const[,w]of this.elements)(w.reason===0?b:g).push(w.resourceLabel);let m=[];return b.length>0&&m.push(S.localize(0,null,b.join(", "))),g.length>0&&m.push(S.localize(1,null,g.join(", "))),m.join(`
`)}get size(){return this.elements.size}has(b){return this.elements.has(b)}set(b,g){this.elements.set(b,g)}delete(b){return this.elements.delete(b)}}class n{constructor(b,g,m,w,D,k,T){this.id=++u,this.type=1,this.actual=b,this.label=b.label,this.confirmBeforeUndo=b.confirmBeforeUndo||!1,this.resourceLabels=g,this.strResources=m,this.groupId=w,this.groupOrder=D,this.sourceId=k,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(b,g,m){this.removedResources||(this.removedResources=new r),this.removedResources.has(g)||this.removedResources.set(g,new d(b,m))}setValid(b,g,m){m?this.invalidatedResources&&(this.invalidatedResources.delete(g),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(g)||this.invalidatedResources.set(g,new d(b,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(b,g){this.resourceLabel=b,this.strResource=g,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const b of this._past)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,0);for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let b=[];b.push(`* ${this.strResource}:`);for(let g=0;g<this._past.length;g++)b.push(`   * [UNDO] ${this._past[g]}`);for(let g=this._future.length-1;g>=0;g--)b.push(`   * [REDO] ${this._future[g]}`);return b.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(b,g){b.type===1?b.setValid(this.resourceLabel,this.strResource,g):b.setValid(g)}setElementsValidFlag(b,g){for(const m of this._past)g(m.actual)&&this._setElementValidFlag(m,b);for(const m of this._future)g(m.actual)&&this._setElementValidFlag(m,b)}pushElement(b){for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(b),this.versionId++}createSnapshot(b){const g=[];for(let m=0,w=this._past.length;m<w;m++)g.push(this._past[m].id);for(let m=this._future.length-1;m>=0;m--)g.push(this._future[m].id);return new C.ResourceEditStackSnapshot(b,g)}restoreSnapshot(b){const g=b.elements.length;let m=!0,w=0,D=-1;for(let T=0,R=this._past.length;T<R;T++,w++){const M=this._past[T];m&&(w>=g||M.id!==b.elements[w])&&(m=!1,D=0),!m&&M.type===1&&M.removeResource(this.resourceLabel,this.strResource,0)}let k=-1;for(let T=this._future.length-1;T>=0;T--,w++){const R=this._future[T];m&&(w>=g||R.id!==b.elements[w])&&(m=!1,k=T),!m&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}D!==-1&&(this._past=this._past.slice(0,D)),k!==-1&&(this._future=this._future.slice(k+1)),this.versionId++}getElements(){const b=[],g=[];for(const m of this._past)b.push(m.actual);for(const m of this._future)g.push(m.actual);return{past:b,future:g}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(b,g){for(let m=this._past.length-1;m>=0;m--)if(this._past[m]===b){g.has(this.strResource)?this._past[m]=g.get(this.strResource):this._past.splice(m,1);break}this.versionId++}splitFutureWorkspaceElement(b,g){for(let m=this._future.length-1;m>=0;m--)if(this._future[m]===b){g.has(this.strResource)?this._future[m]=g.get(this.strResource):this._future.splice(m,1);break}this.versionId++}moveBackward(b){this._past.pop(),this._future.push(b),this.versionId++}moveForward(b){this._future.pop(),this._past.push(b),this.versionId++}}class t{constructor(b){this.editStacks=b,this._versionIds=[];for(let g=0,m=this.editStacks.length;g<m;g++)this._versionIds[g]=this.editStacks[g].versionId}isValid(){for(let b=0,g=this.editStacks.length;b<g;b++)if(this._versionIds[b]!==this.editStacks[b].versionId)return!1;return!0}}const o=new l("","");o.locked=!0;let c=class{constructor(b,g){this._dialogService=b,this._notificationService=g,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(b){for(const g of this._uriComparisonKeyComputers)if(g[0]===b.scheme)return g[1].getComparisonKey(b);return b.toString()}_print(b){console.log("------------------------------------"),console.log(`AFTER ${b}: `);let g=[];for(const m of this._editStacks)g.push(m[1].toString());console.log(g.join(`
`))}pushElement(b,g=C.UndoRedoGroup.None,m=C.UndoRedoSource.None){if(b.type===0){const w=a(b.resource),D=this.getUriComparisonKey(b.resource);this._pushElement(new h(b,w,D,g.id,g.nextOrder(),m.id,m.nextOrder()))}else{const w=new Set,D=[],k=[];for(const T of b.resources){const R=a(T),M=this.getUriComparisonKey(T);w.has(M)||(w.add(M),D.push(R),k.push(M))}D.length===1?this._pushElement(new h(b,D[0],k[0],g.id,g.nextOrder(),m.id,m.nextOrder())):this._pushElement(new n(b,D,k,g.id,g.nextOrder(),m.id,m.nextOrder()))}s&&this._print("pushElement")}_pushElement(b){for(let g=0,m=b.strResources.length;g<m;g++){const w=b.resourceLabels[g],D=b.strResources[g];let k;this._editStacks.has(D)?k=this._editStacks.get(D):(k=new l(w,D),this._editStacks.set(D,k)),k.pushElement(b)}}getLastElement(b){const g=this.getUriComparisonKey(b);if(this._editStacks.has(g)){const m=this._editStacks.get(g);if(m.hasFutureElements())return null;const w=m.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(b,g){const m=b.actual.split(),w=new Map;for(const D of m){const k=a(D.resource),T=this.getUriComparisonKey(D.resource),R=new h(D,k,T,0,0,0,0);w.set(R.strResource,R)}for(const D of b.strResources){if(g&&g.has(D))continue;this._editStacks.get(D).splitPastWorkspaceElement(b,w)}}_splitFutureWorkspaceElement(b,g){const m=b.actual.split(),w=new Map;for(const D of m){const k=a(D.resource),T=this.getUriComparisonKey(D.resource),R=new h(D,k,T,0,0,0,0);w.set(R.strResource,R)}for(const D of b.strResources){if(g&&g.has(D))continue;this._editStacks.get(D).splitFutureWorkspaceElement(b,w)}}removeElements(b){const g=typeof b=="string"?b:this.getUriComparisonKey(b);this._editStacks.has(g)&&(this._editStacks.get(g).dispose(),this._editStacks.delete(g)),s&&this._print("removeElements")}setElementsValidFlag(b,g,m){const w=this.getUriComparisonKey(b);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(g,m),s&&this._print("setElementsValidFlag")}createSnapshot(b){const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).createSnapshot(b):new C.ResourceEditStackSnapshot(b,[])}restoreSnapshot(b){const g=this.getUriComparisonKey(b.resource);if(this._editStacks.has(g)){const m=this._editStacks.get(g);m.restoreSnapshot(b),!m.hasPastElements()&&!m.hasFutureElements()&&(m.dispose(),this._editStacks.delete(g))}s&&this._print("restoreSnapshot")}getElements(b){const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(b){if(!b)return[null,null];let g=null,m=null;for(const[w,D]of this._editStacks){const k=D.getClosestPastElement();!k||k.sourceId===b&&(!g||k.sourceOrder>g.sourceOrder)&&(g=k,m=w)}return[g,m]}canUndo(b){if(b instanceof C.UndoRedoSource){const[,m]=this._findClosestUndoElementWithSource(b.id);return!!m}const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).hasPastElements():!1}_onError(b,g){(0,_.onUnexpectedError)(b);for(const m of g.strResources)this.removeElements(m);this._notificationService.error(b)}_acquireLocks(b){for(const g of b.editStacks)if(g.locked)throw new Error("Cannot acquire edit stack lock");for(const g of b.editStacks)g.locked=!0;return()=>{for(const g of b.editStacks)g.locked=!1}}_safeInvokeWithLocks(b,g,m,w,D){const k=this._acquireLocks(m);let T;try{T=g()}catch(R){return k(),w.dispose(),this._onError(R,b)}return T?T.then(()=>(k(),w.dispose(),D()),R=>(k(),w.dispose(),this._onError(R,b))):(k(),w.dispose(),D())}_invokeWorkspacePrepare(b){return ke(this,void 0,void 0,function*(){if(typeof b.actual.prepareUndoRedo=="undefined")return N.Disposable.None;const g=b.actual.prepareUndoRedo();return typeof g=="undefined"?N.Disposable.None:g})}_invokeResourcePrepare(b,g){if(b.actual.type!==1||typeof b.actual.prepareUndoRedo=="undefined")return g(N.Disposable.None);const m=b.actual.prepareUndoRedo();return m?(0,N.isDisposable)(m)?g(m):m.then(w=>g(w)):g(N.Disposable.None)}_getAffectedEditStacks(b){const g=[];for(const m of b.strResources)g.push(this._editStacks.get(m)||o);return new t(g)}_tryToSplitAndUndo(b,g,m,w){if(g.canSplit())return this._splitPastWorkspaceElement(g,m),this._notificationService.warn(w),new f(this._undo(b,0,!0));for(const D of g.strResources)this.removeElements(D);return this._notificationService.warn(w),new f}_checkWorkspaceUndo(b,g,m,w){if(g.removedResources)return this._tryToSplitAndUndo(b,g,g.removedResources,S.localize(2,null,g.label,g.removedResources.createMessage()));if(w&&g.invalidatedResources)return this._tryToSplitAndUndo(b,g,g.invalidatedResources,S.localize(3,null,g.label,g.invalidatedResources.createMessage()));const D=[];for(const T of m.editStacks)T.getClosestPastElement()!==g&&D.push(T.resourceLabel);if(D.length>0)return this._tryToSplitAndUndo(b,g,null,S.localize(4,null,g.label,D.join(", ")));const k=[];for(const T of m.editStacks)T.locked&&k.push(T.resourceLabel);return k.length>0?this._tryToSplitAndUndo(b,g,null,S.localize(5,null,g.label,k.join(", "))):m.isValid()?null:this._tryToSplitAndUndo(b,g,null,S.localize(6,null,g.label))}_workspaceUndo(b,g,m){const w=this._getAffectedEditStacks(g),D=this._checkWorkspaceUndo(b,g,w,!1);return D?D.returnValue:this._confirmAndExecuteWorkspaceUndo(b,g,w,m)}_isPartOfUndoGroup(b){if(!b.groupId)return!1;for(const[,g]of this._editStacks){const m=g.getClosestPastElement();if(!!m){if(m===b){const w=g.getSecondClosestPastElement();if(w&&w.groupId===b.groupId)return!0}if(m.groupId===b.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(b,g,m,w){return ke(this,void 0,void 0,function*(){if(g.canSplit()&&!this._isPartOfUndoGroup(g)){const T=yield this._dialogService.show(L.default.Info,S.localize(7,null,g.label),[S.localize(8,null,m.editStacks.length),S.localize(9,null),S.localize(10,null)],{cancelId:2});if(T.choice===2)return;if(T.choice===1)return this._splitPastWorkspaceElement(g,null),this._undo(b,0,!0);const R=this._checkWorkspaceUndo(b,g,m,!1);if(R)return R.returnValue;w=!0}let D;try{D=yield this._invokeWorkspacePrepare(g)}catch(T){return this._onError(T,g)}const k=this._checkWorkspaceUndo(b,g,m,!0);if(k)return D.dispose(),k.returnValue;for(const T of m.editStacks)T.moveBackward(g);return this._safeInvokeWithLocks(g,()=>g.actual.undo(),m,D,()=>this._continueUndoInGroup(g.groupId,w))})}_resourceUndo(b,g,m){if(!g.isValid){b.flushAllElements();return}if(b.locked){const w=S.localize(11,null,g.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(g,w=>(b.moveBackward(g),this._safeInvokeWithLocks(g,()=>g.actual.undo(),new t([b]),w,()=>this._continueUndoInGroup(g.groupId,m))))}_findClosestUndoElementInGroup(b){if(!b)return[null,null];let g=null,m=null;for(const[w,D]of this._editStacks){const k=D.getClosestPastElement();!k||k.groupId===b&&(!g||k.groupOrder>g.groupOrder)&&(g=k,m=w)}return[g,m]}_continueUndoInGroup(b,g){if(!b)return;const[,m]=this._findClosestUndoElementInGroup(b);if(m)return this._undo(m,0,g)}undo(b){if(b instanceof C.UndoRedoSource){const[,g]=this._findClosestUndoElementWithSource(b.id);return g?this._undo(g,b.id,!1):void 0}return typeof b=="string"?this._undo(b,0,!1):this._undo(this.getUriComparisonKey(b),0,!1)}_undo(b,g=0,m){if(!this._editStacks.has(b))return;const w=this._editStacks.get(b),D=w.getClosestPastElement();if(!D)return;if(D.groupId){const[T,R]=this._findClosestUndoElementInGroup(D.groupId);if(D!==T&&R)return this._undo(R,g,m)}if((D.sourceId!==g||D.confirmBeforeUndo)&&!m)return this._confirmAndContinueUndo(b,g,D);try{return D.type===1?this._workspaceUndo(b,D,m):this._resourceUndo(w,D,m)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(b,g,m){return ke(this,void 0,void 0,function*(){if((yield this._dialogService.show(L.default.Info,S.localize(12,null,m.label),[S.localize(13,null),S.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(b,g,!0)})}_findClosestRedoElementWithSource(b){if(!b)return[null,null];let g=null,m=null;for(const[w,D]of this._editStacks){const k=D.getClosestFutureElement();!k||k.sourceId===b&&(!g||k.sourceOrder<g.sourceOrder)&&(g=k,m=w)}return[g,m]}canRedo(b){if(b instanceof C.UndoRedoSource){const[,m]=this._findClosestRedoElementWithSource(b.id);return!!m}const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).hasFutureElements():!1}_tryToSplitAndRedo(b,g,m,w){if(g.canSplit())return this._splitFutureWorkspaceElement(g,m),this._notificationService.warn(w),new f(this._redo(b));for(const D of g.strResources)this.removeElements(D);return this._notificationService.warn(w),new f}_checkWorkspaceRedo(b,g,m,w){if(g.removedResources)return this._tryToSplitAndRedo(b,g,g.removedResources,S.localize(15,null,g.label,g.removedResources.createMessage()));if(w&&g.invalidatedResources)return this._tryToSplitAndRedo(b,g,g.invalidatedResources,S.localize(16,null,g.label,g.invalidatedResources.createMessage()));const D=[];for(const T of m.editStacks)T.getClosestFutureElement()!==g&&D.push(T.resourceLabel);if(D.length>0)return this._tryToSplitAndRedo(b,g,null,S.localize(17,null,g.label,D.join(", ")));const k=[];for(const T of m.editStacks)T.locked&&k.push(T.resourceLabel);return k.length>0?this._tryToSplitAndRedo(b,g,null,S.localize(18,null,g.label,k.join(", "))):m.isValid()?null:this._tryToSplitAndRedo(b,g,null,S.localize(19,null,g.label))}_workspaceRedo(b,g){const m=this._getAffectedEditStacks(g),w=this._checkWorkspaceRedo(b,g,m,!1);return w?w.returnValue:this._executeWorkspaceRedo(b,g,m)}_executeWorkspaceRedo(b,g,m){return ke(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(g)}catch(k){return this._onError(k,g)}const D=this._checkWorkspaceRedo(b,g,m,!0);if(D)return w.dispose(),D.returnValue;for(const k of m.editStacks)k.moveForward(g);return this._safeInvokeWithLocks(g,()=>g.actual.redo(),m,w,()=>this._continueRedoInGroup(g.groupId))})}_resourceRedo(b,g){if(!g.isValid){b.flushAllElements();return}if(b.locked){const m=S.localize(20,null,g.label);this._notificationService.warn(m);return}return this._invokeResourcePrepare(g,m=>(b.moveForward(g),this._safeInvokeWithLocks(g,()=>g.actual.redo(),new t([b]),m,()=>this._continueRedoInGroup(g.groupId))))}_findClosestRedoElementInGroup(b){if(!b)return[null,null];let g=null,m=null;for(const[w,D]of this._editStacks){const k=D.getClosestFutureElement();!k||k.groupId===b&&(!g||k.groupOrder<g.groupOrder)&&(g=k,m=w)}return[g,m]}_continueRedoInGroup(b){if(!b)return;const[,g]=this._findClosestRedoElementInGroup(b);if(g)return this._redo(g)}redo(b){if(b instanceof C.UndoRedoSource){const[,g]=this._findClosestRedoElementWithSource(b.id);return g?this._redo(g):void 0}return typeof b=="string"?this._redo(b):this._redo(this.getUriComparisonKey(b))}_redo(b){if(!this._editStacks.has(b))return;const g=this._editStacks.get(b),m=g.getClosestFutureElement();if(!!m){if(m.groupId){const[w,D]=this._findClosestRedoElementInGroup(m.groupId);if(m!==w&&D)return this._redo(D)}try{return m.type===1?this._workspaceRedo(b,m):this._resourceRedo(g,m)}finally{s&&this._print("redo")}}}};c=Re([me(0,p.IDialogService),me(1,i.INotificationService)],c),e.UndoRedoService=c;class f{constructor(b){this.returnValue=b}}(0,v.registerSingleton)(C.IUndoRedoService,c)}),define(te[197],ne([0,1,49,9]),function($,e,_,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,N.createDecorator)("contextService");class I{constructor(p,v,i,C){this._id=p,this._configuration=i,this._ignorePathCasing=C,this._foldersMap=_.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=v}get folders(){return this._folders}set folders(p){this._folders=p,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(p){this._configuration=p}getFolder(p){return p&&this._foldersMap.findSubstr(p.with({scheme:p.scheme,authority:p.authority,path:p.path}))||null}updateFoldersMap(){this._foldersMap=_.TernarySearchTree.forUris(this._ignorePathCasing);for(const p of this.folders)this._foldersMap.set(p.uri,p)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=I;class L{constructor(p,v){this.raw=v,this.uri=p.uri,this.index=p.index,this.name=p.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=L}),define(te[198],ne([0,1,8,7,51,6,43,2,17,74,24,112,141,190,59,13,3,38,26,40,586,568,258,80,570,571,34,197,64]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class k{constructor(B){this.disposed=!1,this.model=B,this._onWillDispose=new L.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=k;function T(V,B,Z){return(0,s.isCodeEditor)(V)?B(V):Z(V)}let R=class{constructor(B){this.modelService=B}setEditor(B){this.editor=B}createModelReference(B){let Z=null;return this.editor&&(Z=T(this.editor,H=>this.findModel(H,B),H=>this.findModel(H.getOriginalEditor(),B)||this.findModel(H.getModifiedEditor(),B))),Z?Promise.resolve(new p.ImmortalReference(new k(Z))):Promise.reject(new Error("Model not found"))}findModel(B,Z){let H=this.modelService.getModel(Z);return H&&H.uri.toString()!==Z.toString()?null:H}};R=Re([me(0,n.IModelService)],R),e.SimpleEditorModelResolverService=R;class M{show(){return M.NULL_PROGRESS_RUNNER}showWhile(B,Z){return ke(this,void 0,void 0,function*(){yield B})}}e.SimpleEditorProgressService=M,M.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class A{confirm(B){return this.doConfirm(B).then(Z=>({confirmed:Z,checkboxChecked:!1}))}doConfirm(B){let Z=B.message;return B.detail&&(Z=Z+`

`+B.detail),Promise.resolve(window.confirm(Z))}show(B,Z,H,z){return Promise.resolve({choice:0})}}e.SimpleDialogService=A;class O{info(B){return this.notify({severity:i.default.Info,message:B})}warn(B){return this.notify({severity:i.default.Warning,message:B})}error(B){return this.notify({severity:i.default.Error,message:B})}notify(B){switch(B.severity){case i.default.Error:console.error(B.message);break;case i.default.Warning:console.warn(B.message);break;default:console.log(B.message);break}return O.NO_OP}status(B,Z){return p.Disposable.None}}e.SimpleNotificationService=O,O.NO_OP=new m.NoOpNotification;class P{constructor(B){this._onWillExecuteCommand=new L.Emitter,this._onDidExecuteCommand=new L.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=B}executeCommand(B,...Z){const H=l.CommandsRegistry.getCommand(B);if(!H)return Promise.reject(new Error(`command '${B}' not found`));try{this._onWillExecuteCommand.fire({commandId:B,args:Z});const z=this._instantiationService.invokeFunction.apply(this._instantiationService,[H.handler,...Z]);return this._onDidExecuteCommand.fire({commandId:B,args:Z}),Promise.resolve(z)}catch(z){return Promise.reject(z)}}}e.StandaloneCommandService=P;class F extends c.AbstractKeybindingService{constructor(B,Z,H,z,ie,ce){super(B,Z,H,z,ie);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(N.addDisposableListener(ce,N.EventType.KEY_DOWN,K=>{const Q=new I.StandardKeyboardEvent(K);this._dispatch(Q,Q.target)&&(Q.preventDefault(),Q.stopPropagation())})),this._register(N.addDisposableListener(window,N.EventType.KEY_UP,K=>{const Q=new I.StandardKeyboardEvent(K);this._singleModifierDispatch(Q,Q.target)&&Q.preventDefault()}))}addDynamicKeybinding(B,Z,H,z){const ie=(0,S.createKeybinding)(Z,v.OS),ce=new p.DisposableStore;return ie&&(this._dynamicKeybindings.push({keybinding:ie,command:B,when:z,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ce.add((0,p.toDisposable)(()=>{for(let K=0;K<this._dynamicKeybindings.length;K++)if(this._dynamicKeybindings[K].command===B){this._dynamicKeybindings.splice(K,1),this.updateResolver({source:1});return}}))),ce.add(l.CommandsRegistry.registerCommand(B,H)),this.updateResolver({source:1}),ce}updateResolver(B){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(B)}_getResolver(){if(!this._cachedResolver){const B=this._toNormalizedKeybindingItems(y.KeybindingsRegistry.getDefaultKeybindings(),!0),Z=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new f.KeybindingResolver(B,Z,H=>this._log(H))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(B,Z){let H=[],z=0;for(const ie of B){const ce=ie.when||void 0,K=ie.keybinding;if(!K)H[z++]=new b.ResolvedKeybindingItem(void 0,ie.command,ie.commandArgs,ce,Z,null,!1);else{const Q=this.resolveKeybinding(K);for(const U of Q)H[z++]=new b.ResolvedKeybindingItem(U,ie.command,ie.commandArgs,ce,Z,null,!1)}}return H}resolveKeybinding(B){return[new g.USLayoutResolvedKeybinding(B,v.OS)]}resolveKeyboardEvent(B){let Z=new S.SimpleKeybinding(B.ctrlKey,B.shiftKey,B.altKey,B.metaKey,B.keyCode).toChord();return new g.USLayoutResolvedKeybinding(Z,v.OS)}}e.StandaloneKeybindingService=F;function E(V){return V&&typeof V=="object"&&(!V.overrideIdentifier||typeof V.overrideIdentifier=="string")&&(!V.resource||V.resource instanceof C.URI)}class x{constructor(){this._onDidChangeConfiguration=new L.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new o.Configuration(new o.DefaultConfigurationModel,new o.ConfigurationModel)}getValue(B,Z){const H=typeof B=="string"?B:void 0,z=E(B)?B:E(Z)?Z:{};return this._configuration.getValue(H,z,void 0)}updateValues(B){const Z={data:this._configuration.toData()};let H=[];for(const z of B){const[ie,ce]=z;this.getValue(ie)!==ce&&(this._configuration.updateValue(ie,ce),H.push(ie))}if(H.length>0){const z=new o.ConfigurationChangeEvent({keys:H,overrides:[]},Z,this._configuration);z.source=7,z.sourceConfig=null,this._onDidChangeConfiguration.fire(z)}return Promise.resolve()}}e.SimpleConfigurationService=x;class W{constructor(B){this.configurationService=B,this._onDidChangeConfiguration=new L.Emitter,this.configurationService.onDidChangeConfiguration(Z=>{this._onDidChangeConfiguration.fire({affectedKeys:Z.affectedKeys,affectsConfiguration:(H,z)=>Z.affectsConfiguration(z)})})}getValue(B,Z,H){const ie=(d.Position.isIPosition(Z)?Z:null)?typeof H=="string"?H:void 0:typeof Z=="string"?Z:void 0;return typeof ie=="undefined"?this.configurationService.getValue():this.configurationService.getValue(ie)}}e.SimpleResourceConfigurationService=W;let G=class{constructor(B){this.configurationService=B}getEOL(B,Z){const H=this.configurationService.getValue("files.eol",{overrideIdentifier:Z,resource:B});return H&&typeof H=="string"&&H!=="auto"?H:v.isLinux||v.isMacintosh?`
`:`\r
`}};G=Re([me(0,t.IConfigurationService)],G),e.SimpleResourcePropertiesService=G;class Y{publicLog(B,Z){return Promise.resolve(void 0)}publicLog2(B,Z){return this.publicLog(B,Z)}}e.StandaloneTelemetryService=Y;class se{constructor(){const B=C.URI.from({scheme:se.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new w.WorkspaceFolder({uri:B,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=se,se.SCHEME="inmemory";function re(V,B,Z){if(!B||!(V instanceof x))return;let H=[];Object.keys(B).forEach(z=>{(0,u.isEditorConfigurationKey)(z)&&H.push([`editor.${z}`,B[z]]),Z&&(0,u.isDiffEditorConfigurationKey)(z)&&H.push([`diffEditor.${z}`,B[z]])}),H.length>0&&V.updateValues(H)}e.updateConfigurationService=re;class J{constructor(B){this._modelService=B}hasPreviewHandler(){return!1}apply(B,Z){return ke(this,void 0,void 0,function*(){const H=new Map;for(let ce of B){if(!(ce instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const K=this._modelService.getModel(ce.resource);if(!K)throw new Error("bad edit - model not found");if(typeof ce.versionId=="number"&&K.getVersionId()!==ce.versionId)throw new Error("bad state - model changed in the meantime");let Q=H.get(K);Q||(Q=[],H.set(K,Q)),Q.push(h.EditOperation.replaceMove(r.Range.lift(ce.textEdit.range),ce.textEdit.text))}let z=0,ie=0;for(const[ce,K]of H)ce.pushStackElement(),ce.pushEditOperations([],K,()=>[]),ce.pushStackElement(),ie+=1,z+=K.length;return{ariaSummary:_.format(D.SimpleServicesNLS.bulkEditServiceSummary,z,ie)}})}}e.SimpleBulkEditService=J;class le{getUriLabel(B,Z){return B.scheme==="file"?B.fsPath:B.path}}e.SimpleUriLabelService=le;class ae{constructor(B,Z){this._codeEditorService=B,this._container=Z,this.onDidLayout=L.Event.None}get dimension(){return this._dimension||(this._dimension=N.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var B;(B=this._codeEditorService.getFocusedCodeEditor())===null||B===void 0||B.focus()}}e.SimpleLayoutService=ae}),define(te[699],ne([0,1,45,2,28,151,278,223,77,198,120,33,26,40,15,69,9,39,34,12,60,64,88,61,38,56,270,107]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let D=0,k=!1;function T(){k||(k=!0,_.setARIAContainer(document.body))}let R=class extends L.CodeEditorWidget{constructor(E,x,W,G,Y,se,re,J,le,ae){const V=Object.assign({},x);V.ariaLabel=V.ariaLabel||c.StandaloneCodeEditorNLS.editorViewAccessibleLabel,V.ariaLabel=V.ariaLabel+";"+c.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(E,V,{},W,G,Y,se,J,le,ae),re instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=re:this._standaloneKeybindingService=null,T()}addCommand(E,x,W){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let G="DYNAMIC_"+ ++D,Y=h.ContextKeyExpr.deserialize(W);return this._standaloneKeybindingService.addDynamicKeybinding(G,E,x,Y),G}createContextKey(E,x){return this._contextKeyService.createKey(E,x)}addAction(E){if(typeof E.id!="string"||typeof E.label!="string"||typeof E.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),N.Disposable.None;const x=E.id,W=E.label,G=h.ContextKeyExpr.and(h.ContextKeyExpr.equals("editorId",this.getId()),h.ContextKeyExpr.deserialize(E.precondition)),Y=E.keybindings,se=h.ContextKeyExpr.and(G,h.ContextKeyExpr.deserialize(E.keybindingContext)),re=E.contextMenuGroupId||null,J=E.contextMenuOrder||0,le=(Z,...H)=>Promise.resolve(E.run(this,...H)),ae=new N.DisposableStore,V=this.getId()+":"+x;if(ae.add(a.CommandsRegistry.registerCommand(V,le)),re){let Z={command:{id:V,title:W},when:G,group:re,order:J};ae.add(s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,Z))}if(Array.isArray(Y))for(const Z of Y)ae.add(this._standaloneKeybindingService.addDynamicKeybinding(V,Z,le,se));let B=new p.InternalEditorAction(V,W,W,G,le,this._contextKeyService);return this._actions[x]=B,ae.add((0,N.toDisposable)(()=>{delete this._actions[x]})),ae}_triggerCommand(E,x){if(this._codeEditorService instanceof m.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(E,x)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(E,x)}};R=Re([me(2,r.IInstantiationService),me(3,I.ICodeEditorService),me(4,a.ICommandService),me(5,h.IContextKeyService),me(6,n.IKeybindingService),me(7,t.IThemeService),me(8,l.INotificationService),me(9,o.IAccessibilityService)],R),e.StandaloneCodeEditor=R;let M=class extends R{constructor(E,x,W,G,Y,se,re,J,le,ae,V,B,Z,H,z){const ie=Object.assign({},x);(0,i.updateConfigurationService)(B,ie,!1);const ce=ae.registerEditorContainer(E);typeof ie.theme=="string"&&ae.setTheme(ie.theme),typeof ie.autoDetectHighContrast!="undefined"&&ae.setAutoDetectHighContrast(Boolean(ie.autoDetectHighContrast));let K=ie.model;delete ie.model,super(E,ie,G,Y,se,re,J,ae,V,Z),this._contextViewService=le,this._configurationService=B,this._standaloneThemeService=ae,this._register(W),this._register(ce);let Q;if(typeof K=="undefined"?(Q=O(H,z,ie.value||"",ie.language||w.Mimes.text,void 0),this._ownsModel=!0):(Q=K,this._ownsModel=!1),this._attachModel(Q),Q){let U={oldModelUrl:null,newModelUrl:Q.uri};this._onDidChangeModel.fire(U)}}dispose(){super.dispose()}updateOptions(E){(0,i.updateConfigurationService)(this._configurationService,E,!1),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_attachModel(E){super._attachModel(E),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(E){super._postDetachModelCleanup(E),E&&this._ownsModel&&(E.dispose(),this._ownsModel=!1)}};M=Re([me(3,r.IInstantiationService),me(4,I.ICodeEditorService),me(5,a.ICommandService),me(6,h.IContextKeyService),me(7,n.IKeybindingService),me(8,d.IContextViewService),me(9,C.IStandaloneThemeService),me(10,l.INotificationService),me(11,u.IConfigurationService),me(12,o.IAccessibilityService),me(13,b.IModelService),me(14,g.IModeService)],M),e.StandaloneEditor=M;let A=class extends S.DiffEditorWidget{constructor(E,x,W,G,Y,se,re,J,le,ae,V,B,Z,H,z){const ie=Object.assign({},x);(0,i.updateConfigurationService)(B,ie,!0);const ce=ae.registerEditorContainer(E);typeof ie.theme=="string"&&ae.setTheme(ie.theme),typeof ie.autoDetectHighContrast!="undefined"&&ae.setAutoDetectHighContrast(Boolean(ie.autoDetectHighContrast)),super(E,ie,{},z,J,Y,G,le,ae,V,Z,H),this._contextViewService=re,this._configurationService=B,this._standaloneThemeService=ae,this._register(W),this._register(ce),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(E){(0,i.updateConfigurationService)(this._configurationService,E,!0),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_createInnerEditor(E,x,W){return E.createInstance(R,x,W)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(E,x,W){return this.getModifiedEditor().addCommand(E,x,W)}createContextKey(E,x){return this.getModifiedEditor().createContextKey(E,x)}addAction(E){return this.getModifiedEditor().addAction(E)}};A=Re([me(3,r.IInstantiationService),me(4,h.IContextKeyService),me(5,n.IKeybindingService),me(6,d.IContextViewService),me(7,v.IEditorWorkerService),me(8,I.ICodeEditorService),me(9,C.IStandaloneThemeService),me(10,l.INotificationService),me(11,u.IConfigurationService),me(12,d.IContextMenuService),me(13,y.IEditorProgressService),me(14,f.IClipboardService)],A),e.StandaloneDiffEditor=A;function O(F,E,x,W,G){if(x=x||"",!W){const Y=x.indexOf(`
`);let se=x;return Y!==-1&&(se=x.substring(0,Y)),P(F,x,E.createByFilepathOrFirstLine(G||null,se),G)}return P(F,x,E.create(W),G)}e.createTextModel=O;function P(F,E,x,W){return F.createModel(E,x,W)}}),define(te[285],ne([0,1,2,141,28,77,259,56,584,38,281,144,198,270,694,120,33,26,40,587,15,678,69,572,121,9,567,145,39,122,155,70,575,89,34,61,71,90,12,197,677,187,615,60,146,76,585,88,554,156,698,680,79]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T,R,M,A,O,P,F,E,x,W,G,Y,se,re,J,le,ae,V,B,Z,H,z,ie){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var ce;(function(Q){const U=new w.ServiceCollection;class ee{constructor(oe,he){this._serviceId=oe,this._factory=he,this._value=null}get id(){return this._serviceId}get(oe){if(!this._value){if(oe&&(this._value=oe[this._serviceId.toString()]),this._value||(this._value=this._factory(oe)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");U.set(this._serviceId,this._value)}return this._value}}Q.LazyStaticService=ee;let de=[];function j(q,oe){let he=new ee(q,oe);return de.push(he),he}function ue(q){let oe=new w.ServiceCollection;for(const[ge,pe]of(0,le.getSingletonServiceDescriptors)())oe.set(ge,pe);for(let ge in q)q.hasOwnProperty(ge)&&oe.set((0,g.createDecorator)(ge),q[ge]);de.forEach(ge=>oe.set(ge.id,ge.get(q)));let he=new m.InstantiationService(oe,!0);return oe.set(g.IInstantiationService,he),[oe,he]}Q.init=ue,Q.instantiationService=j(g.IInstantiationService,()=>new m.InstantiationService(U,!0));const X=new a.SimpleConfigurationService;Q.configurationService=j(l.IConfigurationService,()=>X),Q.resourceConfigurationService=j(s.ITextResourceConfigurationService,()=>new a.SimpleResourceConfigurationService(X)),Q.resourcePropertiesService=j(s.ITextResourcePropertiesService,()=>new a.SimpleResourcePropertiesService(X)),Q.contextService=j(W.IWorkspaceContextService,()=>new a.SimpleWorkspaceContextService),Q.labelService=j(k.ILabelService,()=>new a.SimpleUriLabelService),Q.telemetryService=j(E.ITelemetryService,()=>new a.StandaloneTelemetryService),Q.dialogService=j(b.IDialogService,()=>new a.SimpleDialogService),Q.notificationService=j(O.INotificationService,()=>new a.SimpleNotificationService),Q.markerService=j(A.IMarkerService,()=>new M.MarkerService),Q.modeService=j(p.IModeService,q=>new v.ModeServiceImpl),Q.standaloneThemeService=j(d.IStandaloneThemeService,()=>new h.StandaloneThemeServiceImpl),Q.logService=j(R.ILogService,()=>new R.LogService(new R.ConsoleLogger)),Q.undoRedoService=j(Z.IUndoRedoService,q=>new H.UndoRedoService(Q.dialogService.get(q),Q.notificationService.get(q))),Q.modelService=j(i.IModelService,q=>new C.ModelServiceImpl(Q.configurationService.get(q),Q.resourcePropertiesService.get(q),Q.standaloneThemeService.get(q),Q.logService.get(q),Q.undoRedoService.get(q))),Q.markerDecorationsService=j(Y.IMarkerDecorationsService,q=>new se.MarkerDecorationsService(Q.modelService.get(q),Q.markerService.get(q))),Q.contextKeyService=j(o.IContextKeyService,q=>new t.ContextKeyService(Q.configurationService.get(q))),Q.codeEditorService=j(I.ICodeEditorService,q=>new u.StandaloneCodeEditorServiceImpl(null,Q.contextKeyService.get(q),Q.standaloneThemeService.get(q))),Q.editorProgressService=j(P.IEditorProgressService,()=>new a.SimpleEditorProgressService),Q.storageService=j(F.IStorageService,()=>new F.InMemoryStorageService),Q.editorWorkerService=j(L.IEditorWorkerService,q=>new S.EditorWorkerServiceImpl(Q.modelService.get(q),Q.resourceConfigurationService.get(q),Q.logService.get(q)))})(ce=e.StaticServices||(e.StaticServices={}));class K extends _.Disposable{constructor(U,ee){super();const[de,j]=ce.init(ee);this._serviceCollection=de,this._instantiationService=j;const ue=this.get(l.IConfigurationService),X=this.get(O.INotificationService),q=this.get(E.ITelemetryService),oe=this.get(x.IThemeService),he=this.get(R.ILogService),ge=this.get(o.IContextKeyService);let pe=(Ae,Oe)=>{let We=null;return ee&&(We=ee[Ae.toString()]),We||(We=Oe()),this._serviceCollection.set(Ae,We),We};pe(re.IAccessibilityService,()=>new ae.AccessibilityService(ge,ue)),pe(T.IListService,()=>new T.ListService(oe));let ve=pe(n.ICommandService,()=>new a.StandaloneCommandService(this._instantiationService)),Le=pe(D.IKeybindingService,()=>this._register(new a.StandaloneKeybindingService(ge,ve,q,X,he,U))),Te=pe(J.ILayoutService,()=>new a.SimpleLayoutService(ce.codeEditorService.get(I.ICodeEditorService),U));pe(ie.IQuickInputService,()=>new z.StandaloneQuickInputServiceImpl(j,ce.codeEditorService.get(I.ICodeEditorService)));let Ne=pe(f.IContextViewService,()=>this._register(new y.ContextViewService(Te)));pe(V.IClipboardService,()=>new B.BrowserClipboardService),pe(f.IContextMenuService,()=>{const Ae=new c.ContextMenuService(q,X,Ne,Le,oe);return Ae.configure({blockMouse:!1}),this._register(Ae)}),pe(r.IMenuService,()=>new G.MenuService(ve)),pe(N.IBulkEditService,()=>new a.SimpleBulkEditService(ce.modelService.get(i.IModelService)))}get(U){let ee=this._serviceCollection.get(U);if(!ee)throw new Error("Missing service "+U);return ee}set(U,ee){this._serviceCollection.set(U,ee)}has(U){return this._serviceCollection.has(U)}}e.DynamicStandaloneServices=K}),define(te[700],ne([0,1,28,576,221,37,170,111,53,18,78,77,56,68,573,177,561,198,699,285,120,26,40,15,69,9,39,34,57,60,65,61,88,8,38,374]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T,R,M,A,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function P(X,q,oe){let he=new t.DynamicStandaloneServices(X,q),ge=null;he.has(u.ITextModelService)||(ge=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),he.set(u.ITextModelService,ge)),he.has(D.IOpenerService)||he.set(D.IOpenerService,new N.OpenerService(he.get(_.ICodeEditorService),he.get(c.ICommandService)));let pe=oe(he);return ge&&ge.setEditor(pe),pe}function F(X,q,oe){return P(X,oe||{},he=>new l.StandaloneEditor(X,q,he,he.get(g.IInstantiationService),he.get(_.ICodeEditorService),he.get(c.ICommandService),he.get(y.IContextKeyService),he.get(m.IKeybindingService),he.get(b.IContextViewService),he.get(o.IStandaloneThemeService),he.get(w.INotificationService),he.get(f.IConfigurationService),he.get(k.IAccessibilityService),he.get(O.IModelService),he.get(a.IModeService)))}e.create=F;function E(X){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(q=>{X(q)})}e.onDidCreateEditor=E;function x(X,q,oe){return P(X,oe||{},he=>new l.StandaloneDiffEditor(X,q,he,he.get(g.IInstantiationService),he.get(y.IContextKeyService),he.get(m.IKeybindingService),he.get(b.IContextViewService),he.get(s.IEditorWorkerService),he.get(_.ICodeEditorService),he.get(o.IStandaloneThemeService),he.get(w.INotificationService),he.get(f.IConfigurationService),he.get(b.IContextMenuService),he.get(R.IEditorProgressService),he.get(M.IClipboardService)))}e.createDiffEditor=x;function W(X,q){return new I.DiffNavigator(X,q)}e.createDiffNavigator=W;function G(X,q,oe){return(0,l.createTextModel)(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),X,q,oe)}e.createModel=G;function Y(X,q){t.StaticServices.modelService.get().setMode(X,t.StaticServices.modeService.get().create(q))}e.setModelLanguage=Y;function se(X,q,oe){X&&t.StaticServices.markerService.get().changeOne(q,X.uri,oe)}e.setModelMarkers=se;function re(X){return t.StaticServices.markerService.get().read(X)}e.getModelMarkers=re;function J(X){return t.StaticServices.markerService.get().onMarkerChanged(X)}e.onDidChangeMarkers=J;function le(X){return t.StaticServices.modelService.get().getModel(X)}e.getModel=le;function ae(){return t.StaticServices.modelService.get().getModels()}e.getModels=ae;function V(X){return t.StaticServices.modelService.get().onModelAdded(X)}e.onDidCreateModel=V;function B(X){return t.StaticServices.modelService.get().onModelRemoved(X)}e.onWillDisposeModel=B;function Z(X){return t.StaticServices.modelService.get().onModelModeChanged(q=>{X({model:q.model,oldLanguage:q.oldModeId})})}e.onDidChangeModelLanguage=Z;function H(X){return(0,h.createWebWorker)(t.StaticServices.modelService.get(),X)}e.createWebWorker=H;function z(X,q){const oe=t.StaticServices.standaloneThemeService.get();return oe.registerEditorContainer(X),r.Colorizer.colorizeElement(oe,t.StaticServices.modeService.get(),X,q)}e.colorizeElement=z;function ie(X,q,oe){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorize(t.StaticServices.modeService.get(),X,q,oe)}e.colorize=ie;function ce(X,q,oe=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorizeModelLine(X,q,oe)}e.colorizeModelLine=ce;function K(X){let q=i.TokenizationRegistry.get(X);return q||{getInitialState:()=>C.NULL_STATE,tokenize:(oe,he,ge,pe)=>(0,C.nullTokenize)(X,oe,ge,pe)}}function Q(X,q){t.StaticServices.modeService.get().triggerMode(q);let he=K(q),ge=(0,A.splitLines)(X),pe=[],ve=he.getInitialState();for(let Le=0,Te=ge.length;Le<Te;Le++){let Ne=ge[Le],Ae=he.tokenize(Ne,!0,ve,0);pe[Le]=Ae.tokens,ve=Ae.endState}return pe}e.tokenize=Q;function U(X,q){t.StaticServices.standaloneThemeService.get().defineTheme(X,q)}e.defineTheme=U;function ee(X){t.StaticServices.standaloneThemeService.get().setTheme(X)}e.setTheme=ee;function de(){(0,T.clearAllFontInfos)()}e.remeasureFonts=de;function j(X,q){return c.CommandsRegistry.registerCommand({id:X,handler:q})}e.registerCommand=j;function ue(){return{create:F,onDidCreateEditor:E,createDiffEditor:x,createDiffNavigator:W,createModel:G,setModelLanguage:Y,setModelMarkers:se,getModelMarkers:re,onDidChangeMarkers:J,getModels:ae,getModel:le,onDidCreateModel:V,onWillDisposeModel:B,onDidChangeModelLanguage:Z,createWebWorker:H,colorizeElement:z,colorize:ie,colorizeModelLine:ce,tokenize:Q,defineTheme:U,setTheme:ee,remeasureFonts:de,registerCommand:j,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,ConfigurationChangedEvent:L.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:v.TextModelResolvedOptions,FindMatch:v.FindMatch,EditorType:p.EditorType,EditorOptions:L.EditorOptions}}e.createMonacoEditorAPI=ue}),define(te[701],ne([0,1,29,3,136,18,36,147,177,285,436,253]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function a(H){p.ModesRegistry.registerLanguage(H)}e.register=a;function u(){let H=[];return H=H.concat(p.ModesRegistry.getLanguages()),H}e.getLanguages=u;function h(H){let z=i.StaticServices.modeService.get().getLanguageIdentifier(H);return z?z.id:0}e.getEncodedLanguageId=h;function d(H,z){let ie=i.StaticServices.modeService.get().onDidCreateMode(ce=>{ce.getId()===H&&(ie.dispose(),z())});return ie}e.onLanguage=d;function r(H,z){let ie=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!ie)throw new Error(`Cannot set configuration for unknown language ${H}`);return S.LanguageConfigurationRegistry.register(ie,z,100)}e.setLanguageConfiguration=r;class n{constructor(z,ie){this._languageIdentifier=z,this._actual=ie}getInitialState(){return this._actual.getInitialState()}tokenize(z,ie,ce,K){if(typeof this._actual.tokenize=="function")return l.adaptTokenize(this._languageIdentifier.language,this._actual,z,ce,K);throw new Error("Not supported!")}tokenize2(z,ie,ce){let K=this._actual.tokenizeEncoded(z,ce);return new I.TokenizationResult2(K.tokens,K.endState)}}e.EncodedTokenizationSupport2Adapter=n;class l{constructor(z,ie,ce){this._standaloneThemeService=z,this._languageIdentifier=ie,this._actual=ce}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(z,ie,ce){let K=[],Q=0;for(let U=0,ee=z.length;U<ee;U++){const de=z[U];let j=de.startIndex;U===0?j=0:j<Q&&(j=Q),K[U]=new I.Token(j+ce,de.scopes,ie),Q=j}return K}static adaptTokenize(z,ie,ce,K,Q){let U=ie.tokenize(ce,K),ee=l._toClassicTokens(U.tokens,z,Q),de;return U.endState.equals(K)?de=K:de=U.endState,new I.TokenizationResult(ee,de)}tokenize(z,ie,ce,K){return l.adaptTokenize(this._languageIdentifier.language,this._actual,z,ce,K)}_toBinaryTokens(z,ie){const ce=this._languageIdentifier.id,K=this._standaloneThemeService.getColorTheme().tokenTheme;let Q=[],U=0,ee=0;for(let j=0,ue=z.length;j<ue;j++){const X=z[j],q=K.match(ce,X.scopes);if(U>0&&Q[U-1]===q)continue;let oe=X.startIndex;j===0?oe=0:oe<ee&&(oe=ee),Q[U++]=oe+ie,Q[U++]=q,ee=oe}let de=new Uint32Array(U);for(let j=0;j<U;j++)de[j]=Q[j];return de}tokenize2(z,ie,ce,K){let Q=this._actual.tokenize(z,ce),U=this._toBinaryTokens(Q.tokens,K),ee;return Q.endState.equals(ce)?ee=ce:ee=Q.endState,new I.TokenizationResult2(U,ee)}}e.TokenizationSupport2Adapter=l;function t(H){return"tokenizeEncoded"in H}function o(H){return H&&typeof H.then=="function"}function c(H){if(H){const z=[null];for(let ie=1,ce=H.length;ie<ce;ie++)z[ie]=_.Color.fromHex(H[ie]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(z)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=c;function f(H,z){let ie=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!ie)throw new Error(`Cannot set tokens provider for unknown language ${H}`);const ce=K=>t(K)?new n(ie,K):new l(i.StaticServices.standaloneThemeService.get(),ie,K);return o(z)?L.TokenizationRegistry.registerPromise(H,z.then(K=>ce(K))):L.TokenizationRegistry.register(H,ce(z))}e.setTokensProvider=f;function y(H,z){const ie=ce=>(0,s.createTokenizationSupport)(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),H,(0,C.compile)(H,ce));return o(z)?L.TokenizationRegistry.registerPromise(H,z.then(ce=>ie(ce))):L.TokenizationRegistry.register(H,ie(z))}e.setMonarchTokensProvider=y;function b(H,z){return L.ReferenceProviderRegistry.register(H,z)}e.registerReferenceProvider=b;function g(H,z){return L.RenameProviderRegistry.register(H,z)}e.registerRenameProvider=g;function m(H,z){return L.SignatureHelpProviderRegistry.register(H,z)}e.registerSignatureHelpProvider=m;function w(H,z){return L.HoverProviderRegistry.register(H,{provideHover:(ie,ce,K)=>{let Q=ie.getWordAtPosition(ce);return Promise.resolve(z.provideHover(ie,ce,K)).then(U=>{if(!!U)return!U.range&&Q&&(U.range=new N.Range(ce.lineNumber,Q.startColumn,ce.lineNumber,Q.endColumn)),U.range||(U.range=new N.Range(ce.lineNumber,ce.column,ce.lineNumber,ce.column)),U})}})}e.registerHoverProvider=w;function D(H,z){return L.DocumentSymbolProviderRegistry.register(H,z)}e.registerDocumentSymbolProvider=D;function k(H,z){return L.DocumentHighlightProviderRegistry.register(H,z)}e.registerDocumentHighlightProvider=k;function T(H,z){return L.LinkedEditingRangeProviderRegistry.register(H,z)}e.registerLinkedEditingRangeProvider=T;function R(H,z){return L.DefinitionProviderRegistry.register(H,z)}e.registerDefinitionProvider=R;function M(H,z){return L.ImplementationProviderRegistry.register(H,z)}e.registerImplementationProvider=M;function A(H,z){return L.TypeDefinitionProviderRegistry.register(H,z)}e.registerTypeDefinitionProvider=A;function O(H,z){return L.CodeLensProviderRegistry.register(H,z)}e.registerCodeLensProvider=O;function P(H,z,ie){return L.CodeActionProviderRegistry.register(H,{providedCodeActionKinds:ie==null?void 0:ie.providedCodeActionKinds,provideCodeActions:(ce,K,Q,U)=>{let ee=i.StaticServices.markerService.get().read({resource:ce.uri}).filter(de=>N.Range.areIntersectingOrTouching(de,K));return z.provideCodeActions(ce,K,{markers:ee,only:Q.only},U)}})}e.registerCodeActionProvider=P;function F(H,z){return L.DocumentFormattingEditProviderRegistry.register(H,z)}e.registerDocumentFormattingEditProvider=F;function E(H,z){return L.DocumentRangeFormattingEditProviderRegistry.register(H,z)}e.registerDocumentRangeFormattingEditProvider=E;function x(H,z){return L.OnTypeFormattingEditProviderRegistry.register(H,z)}e.registerOnTypeFormattingEditProvider=x;function W(H,z){return L.LinkProviderRegistry.register(H,z)}e.registerLinkProvider=W;function G(H,z){return L.CompletionProviderRegistry.register(H,z)}e.registerCompletionItemProvider=G;function Y(H,z){return L.ColorProviderRegistry.register(H,z)}e.registerColorProvider=Y;function se(H,z){return L.FoldingRangeProviderRegistry.register(H,z)}e.registerFoldingRangeProvider=se;function re(H,z){return L.DeclarationProviderRegistry.register(H,z)}e.registerDeclarationProvider=re;function J(H,z){return L.SelectionRangeRegistry.register(H,z)}e.registerSelectionRangeProvider=J;function le(H,z){return L.DocumentSemanticTokensProviderRegistry.register(H,z)}e.registerDocumentSemanticTokensProvider=le;function ae(H,z){return L.DocumentRangeSemanticTokensProviderRegistry.register(H,z)}e.registerDocumentRangeSemanticTokensProvider=ae;function V(H,z){return L.InlineCompletionsProviderRegistry.register(H,z)}e.registerInlineCompletionsProvider=V;function B(H,z){return L.InlayHintsProviderRegistry.register(H,z)}e.registerInlayHintsProvider=B;function Z(){return{register:a,getLanguages:u,onLanguage:d,getEncodedLanguageId:h,setLanguageConfiguration:r,setColorMap:c,setTokensProvider:f,setMonarchTokensProvider:y,registerReferenceProvider:b,registerRenameProvider:g,registerCompletionItemProvider:G,registerSignatureHelpProvider:m,registerHoverProvider:w,registerDocumentSymbolProvider:D,registerDocumentHighlightProvider:k,registerLinkedEditingRangeProvider:T,registerDefinitionProvider:R,registerImplementationProvider:M,registerTypeDefinitionProvider:A,registerCodeLensProvider:O,registerCodeActionProvider:P,registerDocumentFormattingEditProvider:F,registerDocumentRangeFormattingEditProvider:E,registerOnTypeFormattingEditProvider:x,registerLinkProvider:W,registerColorProvider:Y,registerFoldingRangeProvider:se,registerDeclarationProvider:re,registerSelectionRangeProvider:J,registerDocumentSemanticTokensProvider:le,registerDocumentRangeSemanticTokensProvider:ae,registerInlineCompletionsProvider:V,registerInlayHintsProvider:B,DocumentHighlightKind:v.DocumentHighlightKind,CompletionItemKind:v.CompletionItemKind,CompletionItemTag:v.CompletionItemTag,CompletionItemInsertTextRule:v.CompletionItemInsertTextRule,SymbolKind:v.SymbolKind,SymbolTag:v.SymbolTag,IndentAction:v.IndentAction,CompletionTriggerKind:v.CompletionTriggerKind,SignatureHelpTriggerKind:v.SignatureHelpTriggerKind,InlayHintKind:v.InlayHintKind,InlineCompletionTriggerKind:v.InlineCompletionTriggerKind,FoldingRangeKind:L.FoldingRangeKind}}e.createMonacoLanguagesAPI=Z}),define(te[702],ne([0,1,37,227,700,701,17,272]),function($,e,_,N,I,L,S,p){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,_.EditorOptions.wrappingIndent.defaultValue=0,_.EditorOptions.glyphMargin.defaultValue=!1,_.EditorOptions.autoIndent.defaultValue=3,_.EditorOptions.overviewRulerLanes.defaultValue=2,p.FormattingConflicts.setFormatterSelector((C,s,a)=>Promise.resolve(C[0]));const i=(0,N.createMonacoBaseAPI)();i.editor=(0,I.createMonacoEditorAPI)(),i.languages=(0,L.createMonacoLanguagesAPI)(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((v=S.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(te[703],ne([0,1,24]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function N(L){const S=L;return typeof(S==null?void 0:S.id)=="string"&&_.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=N;function I(L){if(L.configuration)return{id:L.id,configPath:L.configuration};if(L.folders.length===1)return{id:L.id,uri:L.folders[0].uri}}e.toWorkspaceIdentifier=I}),define(te[704],ne([0,1,529,73,44,117,36,8,703,165,306]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class s{constructor(o){this._delegates=o}resolve(o){for(const c of this._delegates){let f=c.resolve(o);if(f!==void 0)return f}}}e.CompositeSnippetVariableResolver=s;class a{constructor(o,c,f,y){this._model=o,this._selection=c,this._selectionIdx=f,this._overtypingCapturer=y}resolve(o){const{name:c}=o;if(c==="SELECTION"||c==="TM_SELECTED_TEXT"){let f=this._model.getValueInRange(this._selection)||void 0,y=this._selection.startLineNumber!==this._selection.endLineNumber;if(!f&&this._overtypingCapturer){const b=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);b&&(f=b.value,y=b.multiline)}if(f&&y&&o.snippet){const b=this._model.getLineContent(this._selection.startLineNumber),g=(0,p.getLeadingWhitespace)(b,0,this._selection.startColumn-1);let m=g;o.snippet.walk(D=>D===o?!1:(D instanceof L.Text&&(m=(0,p.getLeadingWhitespace)((0,p.splitLines)(D.value).pop())),!0));const w=(0,p.commonPrefixLength)(m,g);f=f.replace(/(\r\n|\r|\n)(.*)/g,(D,k,T)=>`${k}${m.substr(w)}${T}`)}return f}else{if(c==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(c==="TM_CURRENT_WORD"){const f=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return f&&f.word||void 0}else{if(c==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(c==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=a;class u{constructor(o,c){this._labelService=o,this._model=c}resolve(o){const{name:c}=o;if(c==="TM_FILENAME")return N.basename(this._model.uri.fsPath);if(c==="TM_FILENAME_BASE"){const f=N.basename(this._model.uri.fsPath),y=f.lastIndexOf(".");return y<=0?f:f.slice(0,y)}else{if(c==="TM_DIRECTORY"&&this._labelService)return N.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,I.dirname)(this._model.uri));if(c==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(c==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=u;class h{constructor(o,c,f,y){this._readClipboardText=o,this._selectionIdx=c,this._selectionCount=f,this._spread=y}resolve(o){if(o.name!=="CLIPBOARD")return;const c=this._readClipboardText();if(!!c){if(this._spread){const f=c.split(/\r\n|\n|\r/).filter(y=>!(0,p.isFalsyOrWhitespace)(y));if(f.length===this._selectionCount)return f[this._selectionIdx]}return c}}}e.ClipboardBasedVariableResolver=h;class d{constructor(o,c){this._model=o,this._selection=c}resolve(o){const{name:c}=o,f=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),y=S.LanguageConfigurationRegistry.getComments(f);if(!!y){if(c==="LINE_COMMENT")return y.lineCommentToken||void 0;if(c==="BLOCK_COMMENT_START")return y.blockCommentStartToken||void 0;if(c==="BLOCK_COMMENT_END")return y.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=d;class r{constructor(){this._date=new Date}resolve(o){const{name:c}=o;if(c==="CURRENT_YEAR")return String(this._date.getFullYear());if(c==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(c==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(c==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(c==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(c==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(c==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(c==="CURRENT_DAY_NAME")return r.dayNames[this._date.getDay()];if(c==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[this._date.getDay()];if(c==="CURRENT_MONTH_NAME")return r.monthNames[this._date.getMonth()];if(c==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[this._date.getMonth()];if(c==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[_.localize(0,null),_.localize(1,null),_.localize(2,null),_.localize(3,null),_.localize(4,null),_.localize(5,null),_.localize(6,null)],r.dayNamesShort=[_.localize(7,null),_.localize(8,null),_.localize(9,null),_.localize(10,null),_.localize(11,null),_.localize(12,null),_.localize(13,null)],r.monthNames=[_.localize(14,null),_.localize(15,null),_.localize(16,null),_.localize(17,null),_.localize(18,null),_.localize(19,null),_.localize(20,null),_.localize(21,null),_.localize(22,null),_.localize(23,null),_.localize(24,null),_.localize(25,null)],r.monthNamesShort=[_.localize(26,null),_.localize(27,null),_.localize(28,null),_.localize(29,null),_.localize(30,null),_.localize(31,null),_.localize(32,null),_.localize(33,null),_.localize(34,null),_.localize(35,null),_.localize(36,null),_.localize(37,null)];class n{constructor(o){this._workspaceService=o}resolve(o){if(!this._workspaceService)return;const c=(0,v.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!c){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(c);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(c)}}_resolveWorkspaceName(o){if((0,v.isSingleFolderWorkspaceIdentifier)(o))return N.basename(o.uri.path);let c=N.basename(o.configPath.path);return c.endsWith(v.WORKSPACE_EXTENSION)&&(c=c.substr(0,c.length-v.WORKSPACE_EXTENSION.length-1)),c}_resoveWorkspacePath(o){if((0,v.isSingleFolderWorkspaceIdentifier)(o))return(0,i.normalizeDriveLetter)(o.uri.fsPath);let c=N.basename(o.configPath.path),f=o.configPath.fsPath;return f.endsWith(c)&&(f=f.substr(0,f.length-c.length-1)),f?(0,i.normalizeDriveLetter)(f):"/"}}e.WorkspaceBasedVariableResolver=n;class l{resolve(o){const{name:c}=o;if(c==="RANDOM")return Math.random().toString().slice(-6);if(c==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(c==="UUID")return(0,C.generateUuid)()}}e.RandomBasedVariableResolver=l}),define(te[286],ne([0,1,19,2,8,59,3,21,31,197,9,117,704,12,22,122,367]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,(0,u.registerThemingParticipant)((t,o)=>{function c(f){const y=t.getColor(f);return y?y.toString():"transparent"}o.addRule(`.monaco-editor .snippet-placeholder { background-color: ${c(h.snippetTabstopHighlightBackground)}; outline-color: ${c(h.snippetTabstopHighlightBorder)}; }`),o.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${c(h.snippetFinalTabstopHighlightBackground)}; outline-color: ${c(h.snippetFinalTabstopHighlightBorder)}; }`)});class r{constructor(o,c,f,y){this._editor=o,this._snippet=c,this._offset=f,this._snippetLineLeadingWhitespace=y,this._nestingLevel=1,this._placeholderGroups=(0,_.groupBy)(c.placeholders,s.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const o=this._editor.getModel();this._editor.changeDecorations(c=>{for(const f of this._snippet.placeholders){const y=this._snippet.offset(f),b=this._snippet.fullLen(f),g=S.Range.fromPositions(o.getPositionAt(this._offset+y),o.getPositionAt(this._offset+y+b)),m=f.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,w=c.addDecoration(g,m);this._placeholderDecorations.set(f,w)}})}move(o){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let y=[];for(const b of this._placeholderGroups[this._placeholderGroupsIdx])if(b.transform){const g=this._placeholderDecorations.get(b),m=this._editor.getModel().getDecorationRange(g),w=this._editor.getModel().getValueInRange(m),D=b.transform.resolve(w).split(/\r\n|\r|\n/);for(let k=1;k<D.length;k++)D[k]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+D[k]);y.push(L.EditOperation.replace(m,D.join(this._editor.getModel().getEOL())))}y.length>0&&this._editor.executeEdits("snippet.placeholderTransform",y)}let c=!1;o===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,c=!0):o===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,c=!0);const f=this._editor.getModel().changeDecorations(y=>{const b=new Set,g=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const w=this._placeholderDecorations.get(m),D=this._editor.getModel().getDecorationRange(w);g.push(new p.Selection(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn)),c=c&&this._hasPlaceholderBeenCollapsed(m),y.changeDecorationOptions(w,m.isFinalTabstop?r._decor.activeFinal:r._decor.active),b.add(m);for(const k of this._snippet.enclosingPlaceholders(m)){const T=this._placeholderDecorations.get(k);y.changeDecorationOptions(T,k.isFinalTabstop?r._decor.activeFinal:r._decor.active),b.add(k)}}for(const[m,w]of this._placeholderDecorations)b.has(m)||y.changeDecorationOptions(w,m.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return g});return c?this.move(o):f??[]}_hasPlaceholderBeenCollapsed(o){let c=o;for(;c;){if(c instanceof s.Placeholder){const f=this._placeholderDecorations.get(c);if(this._editor.getModel().getDecorationRange(f).isEmpty()&&c.toString().length>0)return!0}c=c.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const o=new Map;for(const c of this._placeholderGroups){let f;for(const y of c){if(y.isFinalTabstop)break;f||(f=[],o.set(y.index,f));const b=this._placeholderDecorations.get(y),g=this._editor.getModel().getDecorationRange(b);if(!g){o.delete(y.index);break}f.push(g)}}return o}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(o){const c=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(f=>{for(const y of this._placeholderGroups[this._placeholderGroupsIdx]){const b=o.shift();console.assert(!b._placeholderDecorations);const g=b._snippet.placeholderInfo.last.index;for(const w of b._snippet.placeholderInfo.all)w.isFinalTabstop?w.index=y.index+(g+1)/this._nestingLevel:w.index=y.index+w.index/this._nestingLevel;this._snippet.replace(y,b._snippet.children);const m=this._placeholderDecorations.get(y);f.removeDecoration(m),this._placeholderDecorations.delete(y);for(const w of b._snippet.placeholders){const D=b._snippet.offset(w),k=b._snippet.fullLen(w),T=S.Range.fromPositions(c.getPositionAt(b._offset+D),c.getPositionAt(b._offset+D+k)),R=f.addDecoration(T,r._decor.inactive);this._placeholderDecorations.set(w,R)}}this._placeholderGroups=(0,_.groupBy)(this._snippet.placeholders,s.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const n={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class l{constructor(o,c,f=n){this._templateMerges=[],this._snippets=[],this._editor=o,this._template=c,this._options=f}static adjustWhitespace(o,c,f,y,b){const g=o.getLineContent(c.lineNumber),m=(0,I.getLeadingWhitespace)(g,0,c.column-1);let w;return f.walk(D=>{if(!(D instanceof s.Text)||D.parent instanceof s.Choice)return!0;const k=D.value.split(/\r\n|\r|\n/);if(y){const R=f.offset(D);if(R===0)k[0]=o.normalizeIndentation(k[0]);else{w=w??f.toString();let M=w.charCodeAt(R-1);(M===10||M===13)&&(k[0]=o.normalizeIndentation(m+k[0]))}for(let M=1;M<k.length;M++)k[M]=o.normalizeIndentation(m+k[M])}const T=k.join(o.getEOL());return T!==D.value&&(D.parent.replace(D,[new s.Text(T)]),w=void 0),!0}),m}static adjustSelection(o,c,f,y){if(f!==0||y!==0){const{positionLineNumber:b,positionColumn:g}=c,m=g-f,w=g+y,D=o.validateRange({startLineNumber:b,startColumn:m,endLineNumber:b,endColumn:w});c=p.Selection.createWithDirection(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn,c.getDirection())}return c}static createEditsAndSnippets(o,c,f,y,b,g,m,w){const D=[],k=[];if(!o.hasModel())return{edits:D,snippets:k};const T=o.getModel(),R=o.invokeWithinContext(W=>W.get(i.IWorkspaceContextService,C.optional)),M=o.invokeWithinContext(W=>new a.ModelBasedVariableResolver(W.get(d.ILabelService,C.optional),T)),A=()=>m;let O=0,P=T.getValueInRange(l.adjustSelection(T,o.getSelection(),f,0)),F=T.getValueInRange(l.adjustSelection(T,o.getSelection(),0,y)),E=T.getLineFirstNonWhitespaceColumn(o.getSelection().positionLineNumber);const x=o.getSelections().map((W,G)=>({selection:W,idx:G})).sort((W,G)=>S.Range.compareRangesUsingStarts(W.selection,G.selection));for(const{selection:W,idx:G}of x){let Y=l.adjustSelection(T,W,f,0),se=l.adjustSelection(T,W,0,y);P!==T.getValueInRange(Y)&&(Y=W),F!==T.getValueInRange(se)&&(se=W);const re=W.setStartPosition(Y.startLineNumber,Y.startColumn).setEndPosition(se.endLineNumber,se.endColumn),J=new s.SnippetParser().parse(c,!0,b),le=re.getStartPosition(),ae=l.adjustWhitespace(T,le,J,g||G>0&&E!==T.getLineFirstNonWhitespaceColumn(W.positionLineNumber),!0);J.resolveVariables(new a.CompositeSnippetVariableResolver([M,new a.ClipboardBasedVariableResolver(A,G,x.length,o.getOption(70)==="spread"),new a.SelectionBasedVariableResolver(T,W,G,w),new a.CommentBasedVariableResolver(T,W),new a.TimeBasedVariableResolver,new a.WorkspaceBasedVariableResolver(R),new a.RandomBasedVariableResolver]));const V=T.getOffsetAt(le)+O;O+=J.toString().length-T.getValueLengthInRange(re),D[G]=L.EditOperation.replace(re,J.toString()),D[G].identifier={major:G,minor:0},k[G]=new r(o,J,V,ae)}return{edits:D,snippets:k}}dispose(){(0,N.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:o,snippets:c}=l.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=c,this._editor.executeEdits("snippet",o,f=>this._snippets[0].hasPlaceholder?this._move(!0):f.filter(y=>!!y.identifier).map(y=>p.Selection.fromPositions(y.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(o,c=n){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,o]);const{edits:f,snippets:y}=l.createEditsAndSnippets(this._editor,o,c.overwriteBefore,c.overwriteAfter,!0,c.adjustWhitespace,c.clipboardText,c.overtypingCapturer);this._editor.executeEdits("snippet",f,b=>{for(const g of this._snippets)g.merge(y);return console.assert(y.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):b.filter(g=>!!g.identifier).map(g=>p.Selection.fromPositions(g.range.getEndPosition()))})}next(){const o=this._move(!0);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}prev(){const o=this._move(!1);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}_move(o){const c=[];for(const f of this._snippets){const y=f.move(o);c.push(...y)}return c}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const o=this._editor.getSelections();if(o.length<this._snippets.length)return!1;let c=new Map;for(const f of this._snippets){const y=f.computePossibleSelections();if(c.size===0)for(const[b,g]of y){g.sort(S.Range.compareRangesUsingStarts);for(const m of o)if(g[0].containsRange(m)){c.set(b,[]);break}}if(c.size===0)return!1;c.forEach((b,g)=>{b.push(...y.get(g))})}o.sort(S.Range.compareRangesUsingStarts);for(let[f,y]of c){if(y.length!==o.length){c.delete(f);continue}y.sort(S.Range.compareRangesUsingStarts);for(let b=0;b<y.length;b++)if(!y[b].containsRange(o[b])){c.delete(f);continue}}return c.size>0}}e.SnippetSession=l}),define(te[199],ne([0,1,2,16,3,21,25,125,15,70,286,528]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=class dt{constructor(r,n,l){this._editor=r,this._logService=n,this._snippetListener=new _.DisposableStore,this._modelVersionId=-1,this._inSnippet=dt.InSnippetMode.bindTo(l),this._hasNextTabstop=dt.HasNextTabstop.bindTo(l),this._hasPrevTabstop=dt.HasPrevTabstop.bindTo(l)}static get(r){return r.getContribution(dt.ID)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,n){try{this._doInsert(r,typeof n=="undefined"?a:Object.assign(Object.assign({},a),n))}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(r,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new C.SnippetSession(this._editor,r,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(l=>l.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:r}=this._session;if(!r){this._currentChoice=void 0;return}if(this._currentChoice!==r){this._currentChoice=r,this._editor.setSelections(this._editor.getSelections().map(l=>L.Selection.fromPositions(l.getStartPosition())));const[n]=r.options;(0,p.showSimpleSuggestions)(this._editor,r.options.map((l,t)=>({kind:13,label:l.value,insertText:l.value,sortText:"a".repeat(t+1),range:I.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};u.ID="snippetController2",u.InSnippetMode=new v.RawContextKey("inSnippetMode",!1,(0,s.localize)(0,null)),u.HasNextTabstop=new v.RawContextKey("hasNextTabstop",!1,(0,s.localize)(1,null)),u.HasPrevTabstop=new v.RawContextKey("hasPrevTabstop",!1,(0,s.localize)(2,null)),u=Re([me(1,i.ILogService),me(2,v.IContextKeyService)],u),e.SnippetController2=u,(0,N.registerEditorContribution)(u.ID,u);const h=N.EditorCommand.bindToContribution(u.get);(0,N.registerEditorCommand)(new h({id:"jumpToNextSnippetPlaceholder",precondition:v.ContextKeyExpr.and(u.InSnippetMode,u.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,N.registerEditorCommand)(new h({id:"jumpToPrevSnippetPlaceholder",precondition:v.ContextKeyExpr.and(u.InSnippetMode,u.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,N.registerEditorCommand)(new h({id:"leaveSnippet",precondition:u.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new h({id:"acceptSnippet",precondition:u.InSnippetMode,handler:d=>d.finish()}))}),define(te[705],ne([0,1,14,10,6,2,21,18,432,125,199,23,77,435,8,88,90,70,15,40]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class o{constructor(g,m,w,D){this.leadingLineContent=g.getLineContent(m.lineNumber).substr(0,m.column-1),this.leadingWord=g.getWordUntilPosition(m),this.lineNumber=m.lineNumber,this.column=m.column,this.auto=w,this.shy=D}static shouldAutoTrigger(g){if(!g.hasModel())return!1;const m=g.getModel(),w=g.getPosition();m.tokenizeIfCheap(w.lineNumber);const D=m.getWordAtPosition(w);return!(!D||D.endColumn!==w.column||!isNaN(Number(D.word)))}}e.LineContext=o;function c(b,g){return Boolean(b.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(g.getValue("editor.inlineSuggest.allowQuickSuggestions"))}function f(b,g){return Boolean(b.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(g.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters"))}let y=class li{constructor(g,m,w,D,k,T,R){this._editor=g,this._editorWorkerService=m,this._clipboardService=w,this._telemetryService=D,this._logService=k,this._contextKeyService=T,this._configurationService=R,this._toDispose=new L.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new _.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(p.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(A=>{this._onCursorChange(A)}));let M=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{M=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{M=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{M||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(109))return;const g=new Map;for(const w of p.CompletionProviderRegistry.all(this._editor.getModel()))for(const D of w.triggerCharacters||[]){let k=g.get(D);k||(k=new Set,k.add((0,i.getSnippetSuggestSupport)()),g.set(D,k)),k.add(w)}const m=w=>{if(f(this._contextKeyService,this._configurationService)||o.shouldAutoTrigger(this._editor))return;if(!w){const T=this._editor.getPosition();w=this._editor.getModel().getLineContent(T.lineNumber).substr(0,T.column-1)}let D="";(0,h.isLowSurrogate)(w.charCodeAt(w.length-1))?(0,h.isHighSurrogate)(w.charCodeAt(w.length-2))&&(D=w.substr(w.length-2)):D=w.charAt(w.length-1);const k=g.get(D);if(k){const T=this._completionModel?{items:this._completionModel.adopt(k),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:D},Boolean(this._completionModel),k,T)}};this._triggerCharacterListener.add(this._editor.onDidType(m)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(m))}get state(){return this._state}cancel(g=!1){var m;this._state!==0&&(this._triggerQuickSuggest.cancel(),(m=this._requestToken)===null||m===void 0||m.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:g}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!p.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(g){if(!this._editor.hasModel())return;const m=this._editor.getModel(),w=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!g.selection.isEmpty()||g.reason!==0&&g.reason!==3||g.source!=="keyboard"&&g.source!=="deleteLeft"){this.cancel();return}if(!!p.CompletionProviderRegistry.has(m))if(this._state===0&&g.reason===0){if(this._editor.getOption(78)===!1||!w.containsRange(this._currentSelection)&&!w.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(106).snippetsPreventQuickSuggestions&&C.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!o.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const D=this._editor.getModel(),k=this._editor.getPosition(),T=this._editor.getOption(78);if(T!==!1){if(T!==!0){D.tokenizeIfCheap(k.lineNumber);const R=D.getLineTokens(k.lineNumber),M=R.getStandardTokenType(R.findTokenIndexAtOffset(Math.max(k.column-1-1,0)));if(!(T.other&&M===0||T.comments&&M===1||T.strings&&M===2))return}c(this._contextKeyService,this._configurationService)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&g.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const g=this._editor.getModel(),m=this._editor.getPosition(),w=new o(g,m,this._state===2,!1);this._onNewContext(w)})}trigger(g,m=!1,w,D){var k;if(!this._editor.hasModel())return;const T=this._editor.getModel(),R=g.auto,M=new o(T,this._editor.getPosition(),R,g.shy);this.cancel(m),this._state=R?2:1,this._onDidTrigger.fire({auto:R,shy:g.shy,position:this._editor.getPosition()}),this._context=M;let A={triggerKind:(k=g.triggerKind)!==null&&k!==void 0?k:0};g.triggerCharacter&&(A={triggerKind:1,triggerCharacter:g.triggerCharacter}),this._requestToken=new s.CancellationTokenSource;const O=this._editor.getOption(101);let P=1;switch(O){case"top":P=0;break;case"bottom":P=2;break}const{itemKind:F,showDeprecated:E}=li._createSuggestFilter(this._editor),x=u.WordDistance.create(this._editorWorkerService,this._editor),W=(0,i.provideSuggestionItems)(T,this._editor.getPosition(),new i.CompletionOptions(P,F,w,E),A,this._requestToken.token);Promise.all([W,x]).then(([G,Y])=>ke(this,void 0,void 0,function*(){var se;if((se=this._requestToken)===null||se===void 0||se.dispose(),!this._editor.hasModel())return;let re=D==null?void 0:D.clipboardText;if(!re&&G.needsClipboard&&(re=yield this._clipboardService.readText()),this._state===0)return;const J=this._editor.getModel();let le=G.items;if(D){const V=(0,i.getSuggestionComparator)(P);le=le.concat(D.items).sort(V)}const ae=new o(J,this._editor.getPosition(),R,g.shy);this._completionModel=new v.CompletionModel(le,this._context.column,{leadingLineContent:ae.leadingLineContent,characterCountDelta:ae.column-this._context.column},Y,this._editor.getOption(106),this._editor.getOption(101),re),this._completionDisposables.add(G.disposable),this._onNewContext(ae),this._reportDurationsTelemetry(G.durations)})).catch(N.onUnexpectedError)}_reportDurationsTelemetry(g){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(g)}),this._logService.debug("suggest.durations.json",g)})}static _createSuggestFilter(g){const m=new Set;g.getOption(101)==="none"&&m.add(27);const D=g.getOption(106);return D.showMethods||m.add(0),D.showFunctions||m.add(1),D.showConstructors||m.add(2),D.showFields||m.add(3),D.showVariables||m.add(4),D.showClasses||m.add(5),D.showStructs||m.add(6),D.showInterfaces||m.add(7),D.showModules||m.add(8),D.showProperties||m.add(9),D.showEvents||m.add(10),D.showOperators||m.add(11),D.showUnits||m.add(12),D.showValues||m.add(13),D.showConstants||m.add(14),D.showEnums||m.add(15),D.showEnumMembers||m.add(16),D.showKeywords||m.add(17),D.showWords||m.add(18),D.showColors||m.add(19),D.showFiles||m.add(20),D.showReferences||m.add(21),D.showColors||m.add(22),D.showFolders||m.add(23),D.showTypeParameters||m.add(24),D.showSnippets||m.add(27),D.showUsers||m.add(25),D.showIssues||m.add(26),{itemKind:m,showDeprecated:D.showDeprecated}}_onNewContext(g){if(!!this._context){if(g.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,h.getLeadingWhitespace)(g.leadingLineContent)!==(0,h.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(g.column<this._context.column){g.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(g.leadingWord.word.length!==0&&g.leadingWord.startColumn>this._context.leadingWord.startColumn){const m=new Set(p.CompletionProviderRegistry.all(this._editor.getModel()));for(let D of this._completionModel.allProvider)m.delete(D);const w=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,m,{items:w,clipboardText:this._completionModel.clipboardText});return}if(g.column>this._context.column&&this._completionModel.incomplete.size>0&&g.leadingWord.word.length!==0){const{incomplete:m}=this._completionModel,w=this._completionModel.adopt(m);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,m,{items:w,clipboardText:this._completionModel.clipboardText})}else{let m=this._completionModel.lineContext,w=!1;if(this._completionModel.lineContext={leadingLineContent:g.leadingLineContent,characterCountDelta:g.column-this._context.column},this._completionModel.items.length===0){if(o.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<g.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=m,w=this._completionModel.items.length>0,w&&g.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:w})}}}}};y=Re([me(1,a.IEditorWorkerService),me(2,d.IClipboardService),me(3,r.ITelemetryService),me(4,n.ILogService),me(5,l.IContextKeyService),me(6,t.IConfigurationService)],y),e.SuggestModel=y}),define(te[287],ne([0,1,45,19,10,43,2,66,16,59,3,25,199,117,593,531,26,15,9,80,125,565,705,692,566,6,14,20,433,434,13,17,33,23,70,83]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l,t,o,c,f,y,b,g,m,w,D,k,T,R,M,A,O,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let F=!1;class E{constructor(re,J){if(this._model=re,this._position=J,re.getLineMaxColumn(J.lineNumber)!==J.column){const ae=re.getOffsetAt(J),V=re.getPositionAt(ae+1);this._marker=re.deltaDecorations([],[{range:C.Range.fromPositions(J,V),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(re){if(this._model.isDisposed()||this._position.lineNumber!==re.lineNumber)return 0;if(this._marker){const J=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(J.getStartPosition())-this._model.getOffsetAt(re)}else return this._model.getLineMaxColumn(re.lineNumber)-re.column}}let x=class di{constructor(re,J,le,ae,V,B){this._memoryService=J,this._commandService=le,this._contextKeyService=ae,this._instantiationService=V,this._logService=B,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=re,this.model=V.createInstance(f.SuggestModel,this.editor);const Z=o.Context.InsertMode.bindTo(ae);Z.set(re.getOption(106).insertMode),this.model.onDidTrigger(()=>Z.set(re.getOption(106).insertMode)),this.widget=this._toDispose.add(new m.IdleValue(()=>{const ie=this._instantiationService.createInstance(y.SuggestWidget,this.editor);this._toDispose.add(ie),this._toDispose.add(ie.onDidSelect(ee=>this._insertSuggestion(ee,0),this));const ce=new D.CommitCharacterController(this.editor,ie,ee=>this._insertSuggestion(ee,2));this._toDispose.add(ce),this._toDispose.add(this.model.onDidSuggest(ee=>{ee.completionModel.items.length===0&&ce.reset()}));const K=o.Context.MakesTextEdit.bindTo(this._contextKeyService),Q=o.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),U=o.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,S.toDisposable)(()=>{K.reset(),Q.reset(),U.reset()})),this._toDispose.add(ie.onDidFocus(({item:ee})=>{const de=this.editor.getPosition(),j=ee.editStart.column,ue=de.column;let X=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ee.completion.command&&!ee.completion.additionalTextEdits&&!(ee.completion.insertTextRules&4)&&ue-j===ee.completion.insertText.length&&(X=this.editor.getModel().getValueInRange({startLineNumber:de.lineNumber,startColumn:j,endLineNumber:de.lineNumber,endColumn:ue})!==ee.completion.insertText),K.set(X),Q.set(!T.Position.equals(ee.editInsertEnd,ee.editReplaceEnd)),U.set(Boolean(ee.provider.resolveCompletionItem)||Boolean(ee.completion.documentation)||ee.completion.detail!==ee.completion.label)})),this._toDispose.add(ie.onDetailsKeyDown(ee=>{if(ee.toKeybinding().equals(new L.SimpleKeybinding(!0,!1,!1,!1,33))||R.isMacintosh&&ee.toKeybinding().equals(new L.SimpleKeybinding(!1,!1,!1,!0,33))){ee.stopPropagation();return}ee.toKeybinding().isModifierKey()||this.editor.focus()})),ie})),this._overtypingCapturer=this._toDispose.add(new m.IdleValue(()=>this._toDispose.add(new k.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new m.IdleValue(()=>this._toDispose.add(new c.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(V.createInstance(b.WordContextKey,re)),this._toDispose.add(this.model.onDidTrigger(ie=>{this.widget.value.showTriggered(ie.auto,ie.shy?250:50),this._lineSuffix.value=new E(this.editor.getModel(),ie.position)})),this._toDispose.add(this.model.onDidSuggest(ie=>{if(!ie.shy){let ce=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ie.completionModel.items);this.widget.value.showSuggestions(ie.completionModel,ce,ie.isFrozen,ie.auto)}})),this._toDispose.add(this.model.onDidCancel(ie=>{ie.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));let H=o.Context.AcceptSuggestionsOnEnter.bindTo(ae),z=()=>{const ie=this.editor.getOption(1);H.set(ie==="on"||ie==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(re){return re.getContribution(di.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(re,J){if(!re||!re.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const le=this.editor.getModel(),ae=le.getAlternativeVersionId(),{item:V}=re,B=[],Z=new A.CancellationTokenSource;J&1||this.editor.pushUndoStop();const H=this.getOverwriteInfo(V,Boolean(J&8));if(this._memoryService.memorize(le,this.editor.getPosition(),V),Array.isArray(V.completion.additionalTextEdits)){const ie=p.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",V.completion.additionalTextEdits.map(ce=>i.EditOperation.replace(C.Range.lift(ce.range),ce.text))),ie.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!V.isResolved){const ie=new P.StopWatch(!0);let ce;const K=le.onDidChangeContent(de=>{if(de.isFlush){Z.cancel(),K.dispose();return}for(let j of de.changes){const ue=C.Range.getEndPosition(j.range);(!ce||T.Position.isBefore(ue,ce))&&(ce=ue)}});let Q=J;J|=2;let U=!1,ee=this.editor.onWillType(()=>{ee.dispose(),U=!0,Q&2||this.editor.pushUndoStop()});B.push(V.resolve(Z.token).then(()=>{if(!V.completion.additionalTextEdits||Z.token.isCancellationRequested||ce&&V.completion.additionalTextEdits.some(j=>T.Position.isBefore(ce,C.Range.getStartPosition(j.range))))return!1;U&&this.editor.pushUndoStop();const de=p.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",V.completion.additionalTextEdits.map(j=>i.EditOperation.replace(C.Range.lift(j.range),j.text))),de.restoreRelativeVerticalPositionOfCursor(this.editor),(U||!(Q&2))&&this.editor.pushUndoStop(),!0}).then(de=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ie.elapsed(),de),K.dispose(),ee.dispose()}))}let{insertText:z}=V.completion;V.completion.insertTextRules&4||(z=u.SnippetParser.escape(z)),a.SnippetController2.get(this.editor).insert(z,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(V.completion.insertTextRules&1),clipboardText:re.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),J&2||this.editor.pushUndoStop(),V.completion.command?V.completion.command.id===W.id?this.model.trigger({auto:!0,shy:!1},!0):(B.push(this._commandService.executeCommand(V.completion.command.id,...V.completion.command.arguments?[...V.completion.command.arguments]:[]).catch(I.onUnexpectedError)),this.model.cancel()):this.model.cancel(),J&4&&this._alternatives.value.set(re,ie=>{for(Z.cancel();le.canUndo();){ae!==le.getAlternativeVersionId()&&le.undo(),this._insertSuggestion(ie,1|2|(J&8?8:0));break}}),this._alertCompletionItem(V),Promise.all(B).finally(()=>{this.model.clear(),Z.dispose()})}getOverwriteInfo(re,J){(0,w.assertType)(this.editor.hasModel());let le=this.editor.getOption(106).insertMode==="replace";J&&(le=!le);const ae=re.position.column-re.editStart.column,V=(le?re.editReplaceEnd.column:re.editInsertEnd.column)-re.position.column,B=this.editor.getPosition().column-re.position.column,Z=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ae+B,overwriteAfter:V+Z}}_alertCompletionItem(re){if((0,N.isNonEmptyArray)(re.completion.additionalTextEdits)){let J=d.localize(0,null,re.textLabel,re.completion.additionalTextEdits.length);(0,_.alert)(J)}}triggerSuggest(re){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,re),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(re){if(!this.editor.hasModel())return;const J=this.editor.getPosition(),le=()=>{J.equals(this.editor.getPosition())&&this._commandService.executeCommand(re.fallback)},ae=V=>{if(V.completion.insertTextRules&4||V.completion.additionalTextEdits)return!0;const B=this.editor.getPosition(),Z=V.editStart.column,H=B.column;return H-Z!==V.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:B.lineNumber,startColumn:Z,endLineNumber:B.lineNumber,endColumn:H})!==V.completion.insertText};g.Event.once(this.model.onDidTrigger)(V=>{let B=[];g.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,S.dispose)(B),le()},void 0,B),this.model.onDidSuggest(({completionModel:Z})=>{if((0,S.dispose)(B),Z.items.length===0){le();return}const H=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Z.items),z=Z.items[H];if(!ae(z)){le();return}this.editor.pushUndoStop(),this._insertSuggestion({index:H,item:z,model:Z},4|1|2)},void 0,B)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(J.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(re,J){const le=this.widget.value.getFocusedItem();let ae=0;re&&(ae|=4),J&&(ae|=8),this._insertSuggestion(le,ae)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}};x.ID="editor.contrib.suggestController",x=Re([me(1,h.ISuggestMemoryService),me(2,r.ICommandService),me(3,n.IContextKeyService),me(4,l.IInstantiationService),me(5,O.ILogService)],x),e.SuggestController=x;class W extends v.EditorAction{constructor(){super({id:W.id,label:d.localize(1,null),alias:"Trigger Suggest",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(re,J){const le=x.get(J);!le||le.triggerSuggest()}}e.TriggerSuggestAction=W,W.id="editor.action.triggerSuggest",(0,v.registerEditorContribution)(x.ID,x),(0,v.registerEditorAction)(W);const G=100+90,Y=v.EditorCommand.bindToContribution(x.get);(0,v.registerEditorCommand)(new Y({id:"acceptSelectedSuggestion",precondition:o.Context.Visible,handler(se){se.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,s.EditorContextKeys.textInputFocus),primary:2,weight:G}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,s.EditorContextKeys.textInputFocus,o.Context.AcceptSuggestionsOnEnter,o.Context.MakesTextEdit),primary:3,weight:G}),M.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(2,null)},group:"left",order:1,when:o.Context.HasInsertAndReplaceRange.toNegated()}),M.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(3,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert"))}),M.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(4,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace"))}),(0,v.registerEditorCommand)(new Y({id:"acceptAlternativeSelectedSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,s.EditorContextKeys.textInputFocus),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(se){se.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert")),title:d.localize(5,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace")),title:d.localize(6,null)}]})),r.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,v.registerEditorCommand)(new Y({id:"hideSuggestWidget",precondition:o.Context.Visible,handler:se=>se.cancelSuggestWidget(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,v.registerEditorCommand)(new Y({id:"selectNextSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:se=>se.selectNextSuggestion(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,v.registerEditorCommand)(new Y({id:"selectNextPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:se=>se.selectNextPageSuggestion(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,v.registerEditorCommand)(new Y({id:"selectLastSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:se=>se.selectLastSuggestion()})),(0,v.registerEditorCommand)(new Y({id:"selectPrevSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:se=>se.selectPrevSuggestion(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,v.registerEditorCommand)(new Y({id:"selectPrevPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:se=>se.selectPrevPageSuggestion(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,v.registerEditorCommand)(new Y({id:"selectFirstSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:se=>se.selectFirstSuggestion()})),(0,v.registerEditorCommand)(new Y({id:"toggleSuggestionDetails",precondition:o.Context.Visible,handler:se=>se.toggleSuggestionDetails(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible,o.Context.CanResolve),title:d.localize(7,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible.toNegated(),o.Context.CanResolve),title:d.localize(8,null)}]})),(0,v.registerEditorCommand)(new Y({id:"toggleExplainMode",precondition:o.Context.Visible,handler:se=>se.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,v.registerEditorCommand)(new Y({id:"toggleSuggestionFocus",precondition:o.Context.Visible,handler:se=>se.toggleSuggestionFocus(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,v.registerEditorCommand)(new Y({id:"insertBestCompletion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),b.WordContextKey.AtEnd,o.Context.Visible.toNegated(),c.SuggestAlternatives.OtherSuggestions.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:(se,re)=>{se.triggerSuggestAndAcceptBest((0,w.isObject)(re)?Object.assign({fallback:"tab"},re):{fallback:"tab"})},kbOpts:{weight:G,primary:2}})),(0,v.registerEditorCommand)(new Y({id:"insertNextSuggestion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),c.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:se=>se.acceptNextSuggestion(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),(0,v.registerEditorCommand)(new Y({id:"insertPrevSuggestion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),c.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:se=>se.acceptPrevSuggestion(),kbOpts:{weight:G,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,v.registerEditorAction)(class extends v.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:d.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(se,re){x.get(re).resetWidgetSize()}})}),define(te[706],ne([0,1,14,6,2,3,117,286,287]),function($,e,_,N,I,L,S,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetInlineCompletionProvider=void 0;class i extends I.Disposable{constructor(a){super();this.editor=a,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new _.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(h=>{h.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(h=>{h.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const u=v.SuggestController.get(this.editor);if(u){let h=!1;const d=()=>{h||(h=!0,this._register(u.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(u.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(u.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(u.model.onDidTrigger)(r=>{d()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(a){const u=this.getInlineCompletion();let h=!1;this._currentInlineCompletion!==u&&(this._currentInlineCompletion=u,h=!0),this._isActive!==a&&(this._isActive=a,h=!0),h&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const a=v.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const u=a.widget.value.getFocusedItem();if(!!u)return C(a,this.editor.getPosition(),u,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=v.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=v.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=i;function C(s,a,u,h){const d=u.item;if(Array.isArray(d.completion.additionalTextEdits)&&d.completion.additionalTextEdits.length>0)return{text:"",range:L.Range.fromPositions(a,a)};let{insertText:r}=d.completion;if(d.completion.insertTextRules&4){const l=new S.SnippetParser().parse(r),t=s.editor.getModel();p.SnippetSession.adjustWhitespace(t,a,l,!0,!0),r=l.toString()}const n=s.getOverwriteInfo(d,h);return{text:r,range:L.Range.fromPositions(a.delta(0,-n.overwriteBefore),a.delta(0,Math.max(n.overwriteAfter,0)))}}}),define(te[707],ne([0,1,14,10,2,3,18,182,274,239,706]),function($,e,_,N,I,L,S,p,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimizeInlineCompletion=e.SuggestWidgetPreviewModel=void 0;class s extends p.BaseGhostTextWidgetModel{constructor(n,l){super(n);this.cache=l,this.suggestionInlineCompletionSource=this._register(new C.SuggestWidgetInlineCompletionProvider(this.editor)),this.updateOperation=this._register(new I.MutableDisposable),this.updateCacheSoon=this._register(new _.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const o=this.ghostText;o&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,a(o.parts.map(c=>c.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(t=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register((0,I.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return ke(this,void 0,void 0,function*(){const n=this.suggestionInlineCompletionSource.state;if(!n||!n.selectedItemAsInlineCompletion)return;const l={text:n.selectedItemAsInlineCompletion.text,range:n.selectedItemAsInlineCompletion.range},t=this.editor.getPosition(),o=(0,_.createCancelablePromise)(f=>ke(this,void 0,void 0,function*(){let y;try{y=yield(0,v.provideInlineCompletions)(t,this.editor.getModel(),{triggerKind:S.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:l},f)}catch(b){(0,N.onUnexpectedError)(b);return}f.isCancellationRequested||(this.cache.setValue(this.editor,y,S.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})),c=new v.UpdateOperation(o,S.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=c,yield o,this.updateOperation.value===c&&this.updateOperation.clear()})}get ghostText(){var n,l;const t=this.suggestionInlineCompletionSource.state,o=d(this.editor.getModel(),t==null?void 0:t.selectedItemAsInlineCompletion),c=d(this.editor.getModel(),(l=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||l===void 0?void 0:l.toLiveInlineCompletion()),f=c&&o&&c.text.startsWith(o.text)&&c.range.equalsRange(o.range)?c:o||c,y=o?((f==null?void 0:f.text.length)||0)-o.text.length:0,g=(m=>{const w=this.editor.getOptions().get(106).previewMode;return m?(0,i.inlineCompletionToGhostText)(m,this.editor.getModel(),w,this.editor.getPosition(),y)||new p.GhostText(m.range.endLineNumber,[],this.minReservedLineCount):void 0})(f);return this.isSuggestionPreviewEnabled()?g:void 0}}e.SuggestWidgetPreviewModel=s;function a(r){return r.reduce((n,l)=>n+l,0)}function u(r,n){let l=0;for(;l<r.length&&l<n.length&&r[l]===n[l];)l++;return l}function h(r,n){let l=0;for(;l<r.length&&l<n.length&&r[r.length-l-1]===n[n.length-l-1];)l++;return l}function d(r,n){if(!n)return n;const l=r.getValueInRange(n.range),t=u(l,n.text),o=r.getOffsetAt(n.range.getStartPosition())+t,c=r.getPositionAt(o),f=l.substr(t),y=h(f,n.text),b=r.getPositionAt(Math.max(o,r.getOffsetAt(n.range.getEndPosition())-y));return{range:L.Range.fromPositions(c,b),text:n.text.substr(t,n.text.length-t-y)}}e.minimizeInlineCompletion=d}),define(te[708],ne([0,1,2,274,707,26,6,13,428,18]),function($,e,_,N,I,L,S,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class C extends _.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new S.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new _.MutableDisposable)}get targetModel(){var h;return(h=this.currentModelRef.value)===null||h===void 0?void 0:h.object}setTargetModel(h){var d;((d=this.currentModelRef.value)===null||d===void 0?void 0:d.object)!==h&&(this.currentModelRef.clear(),this.currentModelRef.value=h?(0,v.createDisposableRef)(h,h.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var h,d;return this.hasCachedGhostText||(this.cachedGhostText=(d=(h=this.currentModelRef.value)===null||h===void 0?void 0:h.object)===null||d===void 0?void 0:d.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(h){var d;(d=this.targetModel)===null||d===void 0||d.setExpanded(h)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=C;let s=class extends C{constructor(h,d){super();this.editor=h,this.commandService=d,this.sharedCache=this._register(new a),this.suggestWidgetAdapterModel=this._register(new I.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new N.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(h){var d;const r=(d=this.activeInlineCompletionsModel)===null||d===void 0?void 0:d.ghostText;return r?r.parts.some(n=>h.containsPosition(new p.Position(r.lineNumber,n.column))):!1}triggerInlineCompletion(){var h;(h=this.activeInlineCompletionsModel)===null||h===void 0||h.trigger(i.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var h;(h=this.activeInlineCompletionsModel)===null||h===void 0||h.commitCurrentSuggestion()}hideInlineCompletion(){var h;(h=this.activeInlineCompletionsModel)===null||h===void 0||h.hide()}showNextInlineCompletion(){var h;(h=this.activeInlineCompletionsModel)===null||h===void 0||h.showNext()}showPreviousInlineCompletion(){var h;(h=this.activeInlineCompletionsModel)===null||h===void 0||h.showPrevious()}hasMultipleInlineCompletions(){var h;return ke(this,void 0,void 0,function*(){const d=yield(h=this.activeInlineCompletionsModel)===null||h===void 0?void 0:h.hasMultipleInlineCompletions();return d!==void 0?d:!1})}};s=Re([me(1,L.ICommandService)],s),e.GhostTextModel=s;class a extends _.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new S.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new _.MutableDisposable)}get value(){return this.cache.value}setValue(h,d,r){this.cache.value=new N.SynchronizedInlineCompletionsCache(h,d,()=>this.onDidChangeEmitter.fire(),r)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=a}),define(te[288],ne([0,1,2,16,25,626,513,15,9,708,80,238]),function($,e,_,N,I,L,S,p,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let a=class ui extends _.Disposable{constructor(o,c){super();this.editor=o,this.instantiationService=c,this.triggeredExplicitly=!1,this.activeController=this._register(new _.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(f=>{f.hasChanged(106)&&this.updateModelController(),f.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(o){return o.getContribution(ui.ID)}get activeModel(){var o;return(o=this.activeController.value)===null||o===void 0?void 0:o.model}updateModelController(){const o=this.editor.getOption(106),c=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(o.preview||c.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(h,this.editor):void 0}shouldShowHoverAt(o){var c;return((c=this.activeModel)===null||c===void 0?void 0:c.shouldShowHoverAt(o))||!1}shouldShowHoverAtViewZone(o){var c,f;return((f=(c=this.activeController.value)===null||c===void 0?void 0:c.widget)===null||f===void 0?void 0:f.shouldShowHoverAtViewZone(o))||!1}trigger(){var o;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(o=this.activeModel)===null||o===void 0||o.triggerInlineCompletion()}commit(){var o;(o=this.activeModel)===null||o===void 0||o.commitInlineCompletion()}hide(){var o;(o=this.activeModel)===null||o===void 0||o.hideInlineCompletion()}showNextInlineCompletion(){var o;(o=this.activeModel)===null||o===void 0||o.showNextInlineCompletion()}showPreviousInlineCompletion(){var o;(o=this.activeModel)===null||o===void 0||o.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var o;return ke(this,void 0,void 0,function*(){const c=yield(o=this.activeModel)===null||o===void 0?void 0:o.hasMultipleInlineCompletions();return c!==void 0?c:!1})}};a.inlineSuggestionVisible=new p.RawContextKey("inlineSuggestionVisible",!1,S.localize(0,null)),a.inlineSuggestionHasIndentation=new p.RawContextKey("inlineSuggestionHasIndentation",!1,S.localize(1,null)),a.ID="editor.contrib.ghostTextController",a=Re([me(1,v.IInstantiationService)],a),e.GhostTextController=a;class u{constructor(o){this.contextKeyService=o,this.inlineCompletionVisible=a.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=a.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let h=class extends _.Disposable{constructor(o,c,f){super();this.editor=o,this.instantiationService=c,this.contextKeyService=f,this.contextKeys=new u(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(i.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(L.GhostTextWidget,this.editor,this.model)),this._register((0,_.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var o;this.contextKeys.inlineCompletionVisible.set(((o=this.model.activeInlineCompletionsModel)===null||o===void 0?void 0:o.ghostText)!==void 0);const c=this.model.inlineCompletionsModel.ghostText;if(c&&c.parts.length>0){const{column:f,lines:y}=c.parts[0],b=y[0].startsWith(" ")||y[0].startsWith("	"),g=this.editor.getModel().getLineIndentColumn(c.lineNumber),m=f<=g;this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&b&&m)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};h=Re([me(1,v.IInstantiationService),me(2,p.IContextKeyService)],h),e.ActiveGhostTextController=h;const d=N.EditorCommand.bindToContribution(a.get);e.commitInlineSuggestionAction=new d({id:s.inlineSuggestCommitId,precondition:a.inlineSuggestionVisible,handler(t){t.commit(),t.editor.focus()}}),(0,N.registerEditorCommand)(e.commitInlineSuggestionAction),C.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:p.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,I.EditorContextKeys.tabMovesFocus.toNegated(),a.inlineSuggestionHasIndentation.toNegated())}),(0,N.registerEditorCommand)(new d({id:"editor.action.inlineSuggest.hide",precondition:a.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(t){t.hide()}}));class r extends N.EditorAction{constructor(){super({id:r.ID,label:S.localize(2,null),alias:"Show Next Inline Suggestion",precondition:p.ContextKeyExpr.and(I.EditorContextKeys.writable,a.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(o,c){return ke(this,void 0,void 0,function*(){const f=a.get(c);f&&(f.showNextInlineCompletion(),c.focus())})}}e.ShowNextInlineSuggestionAction=r,r.ID="editor.action.inlineSuggest.showNext";class n extends N.EditorAction{constructor(){super({id:n.ID,label:S.localize(3,null),alias:"Show Previous Inline Suggestion",precondition:p.ContextKeyExpr.and(I.EditorContextKeys.writable,a.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(o,c){return ke(this,void 0,void 0,function*(){const f=a.get(c);f&&(f.showPreviousInlineCompletion(),c.focus())})}}e.ShowPreviousInlineSuggestionAction=n,n.ID="editor.action.inlineSuggest.showPrevious";class l extends N.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:S.localize(4,null),alias:"Trigger Inline Suggestion",precondition:I.EditorContextKeys.writable})}run(o,c){return ke(this,void 0,void 0,function*(){const f=a.get(c);f&&f.trigger()})}}e.TriggerInlineSuggestionAction=l,(0,N.registerEditorContribution)(a.ID,a),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(n)}),define(te[709],ne([0,1,514,236,3,2,288,26,33,15,7,123,75,56,57,60]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class r{constructor(t,o,c){this.owner=t,this.range=o,this.controller=c}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=r;let n=class{constructor(t,o,c,f,y,b,g,m){this._editor=t,this._hover=o,this._commandService=c,this._menuService=f,this._contextKeyService=y,this._modeService=b,this._openerService=g,this.accessibilityService=m}suggestHoverAnchor(t){const o=S.GhostTextController.get(this._editor);if(!o)return null;if(t.target.type===8){const c=t.target.detail;if(o.shouldShowHoverAtViewZone(c.viewZoneId))return new N.HoverForeignElementAnchor(1e3,this,I.Range.fromPositions(c.positionBefore||c.position,c.positionBefore||c.position))}return t.target.type===7&&t.target.range&&o.shouldShowHoverAt(t.target.range)?new N.HoverForeignElementAnchor(1e3,this,t.target.range):t.target.type===6&&t.target.range&&t.target.detail&&t.target.detail.mightBeForeignElement&&o.shouldShowHoverAt(t.target.range)?new N.HoverForeignElementAnchor(1e3,this,t.target.range):null}computeSync(t,o){const c=S.GhostTextController.get(this._editor);return c&&c.shouldShowHoverAt(t.range)?[new r(this,t.range,c)]:[]}renderHoverParts(t,o,c){const f=new L.DisposableStore,y=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(y,o,f);const b=f.add(this._menuService.createMenu(v.MenuId.InlineCompletionsActions,this._contextKeyService)),g=c.addAction({label:_.localize(0,null),commandId:S.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(S.ShowNextInlineSuggestionAction.ID)}),m=c.addAction({label:_.localize(1,null),commandId:S.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(S.ShowPreviousInlineSuggestionAction.ID)});c.addAction({label:_.localize(2,null),commandId:S.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(S.commitInlineSuggestionAction.id)});const w=[g,m];for(const D of w)D.setEnabled(!1);y.hasMultipleSuggestions().then(D=>{for(const k of w)k.setEnabled(D)});for(const[D,k]of b.getActions())for(const T of k)T instanceof v.MenuItemAction&&c.addAction({label:T.label,commandId:T.item.id,run:()=>this._commandService.executeCommand(T.item.id)});return f}renderScreenReaderText(t,o,c){var f,y;const b=C.$,g=b("div.hover-row.markdown-hover"),m=C.append(g,b("div.hover-contents")),w=c.add(new s.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService)),D=T=>{c.add(w.onDidRenderAsync(()=>{m.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const R=_.localize(3,null),M=c.add(w.render(new a.MarkdownString().appendText(R).appendCodeblock("text",T)));m.replaceChildren(M.element)},k=(y=(f=t.controller.activeModel)===null||f===void 0?void 0:f.inlineCompletionsModel)===null||y===void 0?void 0:y.ghostText;if(k){const T=this._editor.getModel().getLineContent(k.lineNumber);D(k.renderForScreenReader(T))}o.appendChild(g)}};n=Re([me(2,p.ICommandService),me(3,v.IMenuService),me(4,i.IContextKeyService),me(5,u.IModeService),me(6,h.IOpenerService),me(7,d.IAccessibilityService)],n),e.InlineCompletionsHoverParticipant=n}),define(te[710],ne([0,1,7,2,13,3,31,18,235,19,52,326,687,9,654,709,652,39,236]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const t=_.$;let o=class extends N.Disposable{constructor(b){super();this._keybindingService=b,this._hasContent=!1,this.hoverElement=t("div.hover-row.status-bar"),this.actionsElement=_.append(this.hoverElement,t("div.actions"))}get hasContent(){return this._hasContent}addAction(b){const g=this._keybindingService.lookupKeybinding(b.commandId),m=g?g.getLabel():null;return this._hasContent=!0,this._register(s.HoverAction.render(this.actionsElement,b,m))}append(b){const g=_.append(this.actionsElement,b);return this._hasContent=!0,g}};o=Re([me(0,n.IKeybindingService)],o);class c{constructor(b,g){this._participants=g,this._editor=b,this._result=[],this._anchor=null}setAnchor(b){this._anchor=b,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(b,g){if(g.type!==1)return[];const m=b.getModel(),w=g.range.startLineNumber,D=m.getLineMaxColumn(w);return b.getLineDecorations(w).filter(k=>{if(k.options.isWholeLine)return!0;const T=k.range.startLineNumber===w?k.range.startColumn:1,R=k.range.endLineNumber===w?k.range.endColumn:D;return!(T>g.range.startColumn||g.range.endColumn>R)})}computeAsync(b){return ke(this,void 0,void 0,function*(){const g=this._anchor;if(!this._editor.hasModel()||!g)return Promise.resolve([]);const m=c._getLineDecorations(this._editor,g),w=yield Promise.all(this._participants.map(D=>this._computeAsync(D,m,g,b)));return(0,i.flatten)(w)})}_computeAsync(b,g,m,w){return ke(this,void 0,void 0,function*(){return b.computeAsync?b.computeAsync(m,g,w):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const b=c._getLineDecorations(this._editor,this._anchor);let g=[];for(const m of this._participants)g=g.concat(m.computeSync(this._anchor,b));return(0,i.coalesce)(g)}onResult(b,g){g?this._result=b.concat(this._result):this._result=this._result.concat(b)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const b of this._participants)if(b.createLoadingMessage){const g=b.createLoadingMessage(this._anchor);if(g)return this._result.slice(0).concat([g])}}return this._result.slice(0)}}let f=class Mt extends C.Widget{constructor(b,g,m,w){super();this._hoverVisibleKey=g,this._keybindingService=w,this.allowEditorOverflow=!0,this._participants=[m.createInstance(r.ColorHoverParticipant,b,this),m.createInstance(h.MarkdownHoverParticipant,b,this),m.createInstance(d.InlineCompletionsHoverParticipant,b,this),m.createInstance(a.MarkerHoverParticipant,b,this)],this._hover=this._register(new s.HoverWidget),this._id=Mt.ID,this._editor=b,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,D=>{D.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(D=>{D.hasChanged(42)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new c(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new v.HoverOperation(this._computer,D=>this._withResult(D,!0),null,D=>this._withResult(D,!1),this._editor.getOption(52).delay),this._register(_.addStandardDisposableListener(this.getDomNode(),_.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(_.addStandardDisposableListener(this.getDomNode(),_.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(b.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay)})),this._register(p.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(b){const g=b.target.type;if(g===6)return!0;if(g===7){const m=this._editor.getOption(42).typicalHalfwidthCharacterWidth/2,w=b.target.detail;if(w&&!w.isAfterLines&&typeof w.horizontalDistanceToText=="number"&&w.horizontalDistanceToText<m)return!0}return!1}maybeShowAt(b){var g;const m=[];for(const w of this._participants)if(typeof w.suggestHoverAnchor=="function"){const D=w.suggestHoverAnchor(b);D&&m.push(D)}if(this._shouldShowAt(b)&&b.target.range){const D=[...((g=b.target.element)===null||g===void 0?void 0:g.classList.values())||[]].find(k=>k.startsWith("ced-colorBox"))&&b.target.range.endColumn-b.target.range.startColumn==1?new L.Range(b.target.range.startLineNumber,b.target.range.startColumn+1,b.target.range.endLineNumber,b.target.range.endColumn+1):b.target.range;m.push(new l.HoverRangeAnchor(0,D))}return m.length===0?!1:(m.sort((w,D)=>D.priority-w.priority),this._startShowingAt(m[0],0,!1),!0)}_showAt(b,g,m){this._showAtPosition=b,this._showAtRange=g,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=m,m&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(g=>this._editor.applyFontInfo(g))}_updateContents(b){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(b),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const b=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:g,lineHeight:m}=this._editor.getOption(42);this._hover.contentsDomNode.style.fontSize=`${g}px`,this._hover.contentsDomNode.style.lineHeight=`${m}px`,this._hover.contentsDomNode.style.maxHeight=`${b}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(b,g,m){this._startShowingAt(new l.HoverRangeAnchor(0,b),g,m)}_startShowingAt(b,g,m){if(!(this._lastAnchor&&this._lastAnchor.equals(b))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!b.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const w=this._messages.filter(D=>D.isValidForHoverAnchor(b));if(w.length===0)this.hide();else{if(w.length===this._messages.length)return;this._renderMessages(b,w)}}this._lastAnchor=b,this._computer.setAnchor(b),this._shouldFocus=m,this._hoverOperation.start(g)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(b){this._colorPicker=b}onContentsChanged(){this._hover.onContentsChanged()}_withResult(b,g){this._messages=b,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):g&&this.hide()}_renderMessages(b,g){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let m=1073741824,w=g[0].range,D=null,k=document.createDocumentFragment();const T=new N.DisposableStore,R=new Map;for(const A of g)m=Math.min(m,A.range.startColumn),w=L.Range.plusRange(w,A.range),A.forceShowAtRange&&(D=A.range),R.has(A.owner)||R.set(A.owner,[]),R.get(A.owner).push(A);const M=T.add(new o(this._keybindingService));for(const[A,O]of R)T.add(A.renderHoverParts(O,k,M));M.hasContent&&k.appendChild(M.hoverElement),this._renderDisposable=T,k.hasChildNodes()&&(D?this._showAt(D.getStartPosition(),D,this._shouldFocus):this._showAt(new I.Position(b.range.startLineNumber,m),w,this._shouldFocus),this._updateContents(k)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,w?[{range:w,options:Mt._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};f.ID="editor.contrib.modesContentHoverWidget",f._DECORATION_OPTIONS=S.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),f=Re([me(2,u.IInstantiationService),me(3,n.IKeybindingService)],f),e.ModesContentHoverWidget=f}),define(te[289],ne([0,1,508,43,2,16,3,25,56,710,577,57,22,12,284,15,9]),function($,e,_,N,I,L,S,p,v,i,C,s,a,u,h,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class ci{constructor(c,f,y,b,g){this._editor=c,this._instantiationService=f,this._openerService=y,this._modeService=b,this._toUnhook=new I.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(m=>{m.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=p.EditorContextKeys.hoverVisible.bindTo(g)}static get(c){return c.getContribution(ci.ID)}_hookEvents(){const c=()=>this._hideWidgets(),f=this._editor.getOption(52);this._isHoverEnabled=f.enabled,this._isHoverSticky=f.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(y=>this._onEditorMouseDown(y))),this._toUnhook.add(this._editor.onMouseUp(y=>this._onEditorMouseUp(y))),this._toUnhook.add(this._editor.onMouseMove(y=>this._onEditorMouseMove(y))),this._toUnhook.add(this._editor.onKeyDown(y=>this._onKeyDown(y))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(y=>this._onEditorMouseMove(y))),this._toUnhook.add(this._editor.onKeyDown(y=>this._onKeyDown(y)))),this._toUnhook.add(this._editor.onMouseLeave(c)),this._toUnhook.add(this._editor.onDidChangeModel(c)),this._toUnhook.add(this._editor.onDidScrollChange(y=>this._onEditorScrollChanged(y)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var c,f;(c=this._contentWidget)===null||c===void 0||c.onModelDecorationsChanged(),(f=this._glyphWidget)===null||f===void 0||f.onModelDecorationsChanged()}_onEditorScrollChanged(c){(c.scrollTopChanged||c.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(c){this._isMouseDown=!0;const f=c.target.type;if(f===9&&c.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}f===12&&c.target.detail===C.ModesGlyphHoverWidget.ID||(f!==12&&c.target.detail!==C.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(c){this._isMouseDown=!1}_onEditorMouseMove(c){var f,y,b,g,m;let w=c.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&w===9&&c.target.detail===i.ModesContentHoverWidget.ID||this._isHoverSticky&&!((y=(f=c.event.browserEvent.view)===null||f===void 0?void 0:f.getSelection())===null||y===void 0?void 0:y.isCollapsed)||!this._isHoverSticky&&w===9&&c.target.detail===i.ModesContentHoverWidget.ID&&((b=this._contentWidget)===null||b===void 0?void 0:b.isColorPickerVisible())||this._isHoverSticky&&w===12&&c.target.detail===C.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(c)){(g=this._glyphWidget)===null||g===void 0||g.hide();return}if(w===2&&c.target.position){(m=this._contentWidget)===null||m===void 0||m.hide(),this._glyphWidget||(this._glyphWidget=new C.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(c.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(c){c.keyCode!==5&&c.keyCode!==6&&c.keyCode!==57&&c.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var c,f,y;this._isMouseDown&&this._hoverClicked&&((c=this._contentWidget)===null||c===void 0?void 0:c.isColorPickerVisible())||(this._hoverClicked=!1,(f=this._glyphWidget)===null||f===void 0||f.hide(),(y=this._contentWidget)===null||y===void 0||y.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(i.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var c;return((c=this._contentWidget)===null||c===void 0?void 0:c.isColorPickerVisible())||!1}showContentHover(c,f,y){this._getOrCreateContentWidget().startShowingAtRange(c,f,y)}dispose(){var c,f;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(c=this._glyphWidget)===null||c===void 0||c.dispose(),(f=this._contentWidget)===null||f===void 0||f.dispose()}};n.ID="editor.contrib.hover",n=Re([me(1,r.IInstantiationService),me(2,s.IOpenerService),me(3,v.IModeService),me(4,d.IContextKeyService)],n),e.ModesHoverController=n;class l extends L.EditorAction{constructor(){super({id:"editor.action.showHover",label:_.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|39),weight:100}})}run(c,f){if(!f.hasModel())return;let y=n.get(f);if(!y)return;const b=f.getPosition(),g=new S.Range(b.lineNumber,b.column,b.lineNumber,b.column),m=f.getOption(2)===2;y.showContentHover(g,1,m)}}class t extends L.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:_.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(c,f){let y=n.get(f);if(!y)return;const b=f.getPosition();if(!b)return;const g=new S.Range(b.lineNumber,b.column,b.lineNumber,b.column);h.GotoDefinitionAtPositionEditorContribution.get(f).startFindDefinitionFromCursor(b).then(()=>{y.showContentHover(g,1,!0)})}}(0,L.registerEditorContribution)(n.ID,n),(0,L.registerEditorAction)(l),(0,L.registerEditorAction)(t),(0,u.registerThemingParticipant)((o,c)=>{const f=o.getColor(a.editorHoverHighlight);f&&c.addRule(`.monaco-editor .hoverHighlight { background-color: ${f}; }`);const y=o.getColor(a.editorHoverBackground);y&&c.addRule(`.monaco-editor .monaco-hover { background-color: ${y}; }`);const b=o.getColor(a.editorHoverBorder);b&&(c.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${b}; }`),c.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${b.transparent(.5)}; }`),c.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${b.transparent(.5)}; }`),c.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${b.transparent(.5)}; }`));const g=o.getColor(a.textLinkForeground);g&&c.addRule(`.monaco-editor .monaco-hover a { color: ${g}; }`);const m=o.getColor(a.textLinkActiveForeground);m&&c.addRule(`.monaco-editor .monaco-hover a:hover { color: ${m}; }`);const w=o.getColor(a.editorHoverForeground);w&&c.addRule(`.monaco-editor .monaco-hover { color: ${w}; }`);const D=o.getColor(a.editorHoverStatusBarBackground);D&&c.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${D}; }`);const k=o.getColor(a.textCodeBlockBackground);k&&c.addRule(`.monaco-editor .monaco-hover code { background-color: ${k}; }`)})}),define(te[711],ne([0,1,2,16,289,3,271]),function($,e,_,N,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends _.Disposable{constructor(v){super();this._editor=v,this._register(v.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(v){var i;if(v.target.type!==6||![...((i=v.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(u=>u.startsWith("ced-colorBox"))||!v.target.range)return;const a=this._editor.getContribution(I.ModesHoverController.ID);if(!a.isColorPickerVisible()){const u=new L.Range(v.target.range.startLineNumber,v.target.range.startColumn+1,v.target.range.endLineNumber,v.target.range.endColumn+1);a.showContentHover(u,0,!1)}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",(0,N.registerEditorContribution)(S.ID,S)}),define(te[712],ne([0,1,150,151,278,221,637,638,639,640,641,662,644,711,645,646,647,648,279,686,649,650,562,288,283,284,280,289,656,657,655,658,659,660,688,690,663,664,199,287,665,276,666,696,667,277,668,64,132]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var vt=this&&this.__createBinding||(Object.create?function($,e,_,N){N===void 0&&(N=_),Object.defineProperty($,N,{enumerable:!0,get:function(){return e[_]}})}:function($,e,_,N){N===void 0&&(N=_),$[N]=e[_]}),bt=this&&this.__exportStar||function($,e){for(var _ in $)_!=="default"&&!Object.prototype.hasOwnProperty.call(e,_)&&vt(e,$,_)};define(te[715],ne([0,1,702,712,669,670,671,590,673,674,672,697,675]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),bt(_,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.8.1(1a0d39eb314376debfc8064f0d03a338557d2555)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.4.2"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i,r){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setInlayHintsOptions=function(t){this._inlayHintsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.8.1(1684631ef49ad4ba0e0e824f6a1507510015d99a)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.8.1(1196e892980eeadfb1c1d6c575146dd9d4c91a03)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.8.1(38d3d8d9882523f534fba67f39d85bbf6f34e68e)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco}));var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerHTMLLanguageService=t.razorDefaults=t.razorLanguageService=t.handlebarDefaults=t.handlebarLanguageService=t.htmlDefaults=t.htmlLanguageService=void 0;var r=function(){function e(e,t,r){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function o(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",u="handlebars",l="razor";function s(t,i,u){var l=this;void 0===i&&(i=a),void 0===u&&(u=o(t));var s,c=new r(t,i,u),g=n.languages.onLanguage(t,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){e(["./htmlMode"],t,n)}))];case 1:return s=t.sent().setupMode(c),[2]}}))}))}));return{defaults:c,dispose:function(){g.dispose(),null==s||s.dispose(),s=void 0}}}t.htmlLanguageService=s(i,a,o(i)),t.htmlDefaults=t.htmlLanguageService.defaults,t.handlebarLanguageService=s(u,a,o(u)),t.handlebarDefaults=t.handlebarLanguageService.defaults,t.razorLanguageService=s(l,a,o(l)),t.razorDefaults=t.razorLanguageService.defaults,n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults,htmlLanguageService:t.htmlLanguageService,handlebarLanguageService:t.handlebarLanguageService,razorLanguageService:t.razorLanguageService,registerHTMLLanguageService:s},t.registerHTMLLanguageService=s}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.8.1(1b8581c9aa6b47fa0e3003498e3e756a3d55f2b1)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},r={},s=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return r[i]||(r[i]=new e(i)),r[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return s.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var r=s.getOrCreate(i);t.languages.setMonarchTokensProvider(i,r.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){r.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/bicep/bicep.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return new Promise((function(i,t){e(["./bicep"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/elixir/elixir.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return new Promise((function(i,t){e(["./elixir"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/liquid/liquid.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return new Promise((function(i,t){e(["./liquid"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/qsharp/qsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return new Promise((function(i,t){e(["./qsharp"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sparql/sparql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return new Promise((function(i,t){e(["./sparql"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./bicep/bicep.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./elixir/elixir.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./liquid/liquid.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./qsharp/qsharp.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sparql/sparql.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map