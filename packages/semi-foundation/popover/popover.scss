@use "sass:meta";
@use '../tooltip/variables.scss' as tooltip-variables;
@use "animation.scss";
@use 'variables.scss';

$module: #{$prefix}-popover;
$module-icon: #{$module}-icon-arrow;


@keyframes #{$module}-zoomIn {
    from {
        opacity: tooltip-variables.$motion-zoom_opacity-from;
        transform: scale(tooltip-variables.$motion-zoom_scale-from, tooltip-variables.$motion-zoom_scale-from);
    }

    50% {
        opacity: tooltip-variables.$motion-zoom_opacity-to;
    }
}

@keyframes #{$module}-zoomOut {
    from {
        opacity: tooltip-variables.$motion-zoom_opacity-to;
    }

    60% {
        opacity: tooltip-variables.$motion-zoom_opacity-from;
        transform: scale(tooltip-variables.$motion-zoom_scale-from, tooltip-variables.$motion-zoom_scale-from);
    }

    to {
        opacity: tooltip-variables.$motion-zoom_opacity-from;
    }
}


.#{$module} {

    &-wrapper {
        position: relative;
        // position: absolute;
        background-color: variables.$color-popover-bg-default;
        // background-color: transparent;

        @include shadow-elevated;
        // box-shadow: 0 0 1px rgba(0, 0, 0, 0.4), 0 4px 14px rgba(0, 0, 0, 0.1);
        z-index: $z-popover;
        border-radius: variables.$radius-popover;
        // padding: $spacing-extra-tight $spacing-tight;
        @include font-size-regular;
        opacity: 0;

        &-show {
            opacity: 1;
        }
    }

    &-trigger {
        display: inline-block;
        width: auto;
        height: auto;
    }

    &-title {
        padding: variables.$spacing-popover_title-padding;
        border-bottom: variables.$width-popover_title-border solid variables.$color-popover-border-default;
    }

    // &-content {
    //     padding: 20px;
    // }

    &-confirm {
        position: absolute;
    }

    &-with-arrow {
        padding: variables.$spacing-popover_withArrow-padding;
        box-sizing: border-box;
    }
    &-animation-show{
        animation: #{$module}-zoomIn animation.$animation_duration-popover-in animation.$animation_function-popover-in;
        animation-fill-mode: forwards;
    }

    &-animation-hide{
        animation: #{$module}-zoomOut animation.$animation_duration-popover-out animation.$animation_function-popover-out;
        animation-fill-mode: forwards;
    }
}

.#{$module}-icon-arrow {
    path:nth-child(1) {
        fill: variables.$color-popover-arrow-border;
    }
  
    path:nth-child(2) {
        fill: variables.$color-popover-arrow-bg;
    }
}

@include meta.load-css('../tooltip/arrow.scss');
@include meta.load-css("rtl.scss");
