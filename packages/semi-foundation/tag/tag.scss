//@import '../theme/variables.scss';
@use "sass:meta";
@use "variables.scss";
@use "mixin.scss";
$module: #{$prefix}-tag;

$colors: "amber", "blue", "cyan", "green", "grey", "indigo", "light-blue", "light-green", "lime", "orange", "pink",
    "purple", "red", "teal", "violet", "yellow";

$types: "ghost", "solid", "light";

.#{$module} {
    box-sizing: border-box;
    border-radius: variables.$radius-tag;
    background-color: transparent;
    position: relative;
    user-select: none;
    // hidden avatar tag image
    overflow: hidden;
    white-space: nowrap;
    vertical-align: bottom;
    @include all-center;
    display: inline-flex;

    &-default,
    &-small {
        @include font-size-small;
        height: variables.$height-tag_small;
        padding: variables.$spacing-tag_small-paddingY variables.$spacing-tag_small-paddingX;
        &:focus-visible {
            outline: variables.$width-tag-outline solid variables.$color-tag-outline-focus;
        }
    }

    &-square {
        border-radius: variables.$radius-tag;
    }
    &-circle {
        border-radius: variables.$radius-tag_circle;
    }

    &-large {
        @include font-size-small;
        padding: variables.$spacing-tag_large-paddingY variables.$spacing-tag_large-paddingX;
        height: variables.$height-tag_large;
        &:focus-visible {
            outline: variables.$width-tag-outline solid variables.$color-tag-outline-focus;
        }
    }

    &-invisible {
        display: none;
    }

    &-prefix-icon {
        display: flex;
        padding-right: variables.$spacing-tag_prefix_icon_paddingRight;
    }

    &-suffix-icon {
        display: flex;
        padding-left: variables.$spacing-tag_suffix_icon_paddingLeft;
    }

    &-content {
        flex: 1;

        &-ellipsis {
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        &-center {
            display: flex;
            @include all-center;
            height: 100%;
            min-width: 0;
        }
    }

    &-close {
        @include all-center;
        color: variables.$color-tag_close-icon-default;
        padding-left: variables.$spacing-tag_close-paddingLeft;
        cursor: pointer;

        &:hover {
            color: variables.$color-tag_close-icon-hover;
        }

        &:active {
            color: variables.$color-tag_close-icon-active;
        }
    }

    &-closable {
        padding: variables.$spacing-tag_closable-paddingTop variables.$spacing-tag_closable-paddingRight variables.$spacing-tag_closable-paddingBottom
            variables.$spacing-tag_closable-paddingLeft;
    }

    &-avatar-square,
    &-avatar-circle {
        .#{$prefix}-avatar {
            margin-right: variables.$spacing-tag_avatar-marginRight;
        }
    }

    &-avatar-square {
        padding: variables.$spacing-tag_avatar_square-paddingTop variables.$spacing-tag_avatar_square-paddingRight
            variables.$spacing-tag_avatar_square-paddingBottom variables.$spacing-tag_avatar_square-paddingLeft;

        .#{$prefix}-avatar {
            & > img {
                background-color: variables.$color-tag_avatar_square_img-bg-default;
            }
        }
    }

    &-avatar-circle {
        padding: variables.$spacing-tag_avatar_circle-paddingTop variables.$spacing-tag_avatar_circle-paddingRight
            variables.$spacing-tag_avatar_circle-paddingBottom variables.$spacing-tag_avatar_circle-paddingLeft;
    }

    &-avatar-square.#{$module}-default,
    &-avatar-square.#{$module}-small {
        .#{$prefix}-avatar {
            width: variables.$height-tag_small;
            height: variables.$height-tag_small;
        }
    }

    &-avatar-square.#{$module}-large {
        .#{$prefix}-avatar {
            width: variables.$height-tag_large;
            height: variables.$height-tag_large;
        }
    }

    &-avatar-circle.#{$module}-small,
    &-avatar-circle.#{$module}-default {
        // when avatarShape=circle change tag border radius
        border-radius: variables.$height-tag_small * 0.5 + 1;

        .#{$prefix}-avatar {
            width: variables.$width-tag_avatar_circle_small;
            height: variables.$width-tag_avatar_circle_small;
        }
    }

    &-avatar-circle.#{$module}-large {
        border-radius: variables.$height-tag_large * 0.5 + 1;

        .#{$prefix}-avatar {
            width: variables.$width-tag_avatar_circle_large;
            height: variables.$width-tag_avatar_circle_large;
        }
    }

    &-solid {
        .#{$module}-close {
            color: variables.$color-tag_close-icon_deep-default;
            opacity: .8;

            &:hover {
                opacity: 1.0;
            }

            &:active {
                opacity: .9;
            }
        }
    }
}

.#{$module}-group {
    display: block;
    height: auto;

    .#{$module} {
        margin-bottom: variables.$spacing-tag_group-marginBottom;
        margin-right: variables.$spacing-tag_group-marginRight;
    }

    &-max.#{$module}-group-small {
        height: (variables.$height-tag_small + 2);
    }
    &-max.#{$module}-group-large {
        height: (variables.$height-tag_large + 2);
    }
    // &-small {
    //     height: ($height-tag_small + 2);
    // }
    // &-large {
    //     height: ($height-tag_large + 2);
    // }
}

.#{$module}-rest-group-popover {
    .#{$module} {
        margin-right: variables.$spacing-tag_group-marginRight;
        margin-bottom: variables.$spacing-tag_group-marginBottom;
        &:last-of-type {
            margin-right: 0;
        }
    }
}

@each $c in $colors {
    @each $t in $types {
        .#{$module}-#{$c}-#{$t} {
            @include mixin.tag-style($c, $t);
        }
    }
}

@each $t in $types {
    .#{$module}-white-#{$t} {
        background-color: variables.$color-tag_white-bg-default;
        border: variables.$width-tag-border solid variables.$color-tag_white-border-default;
        color: variables.$color-tag_white-text-default;
        // .#{$module}-close {
        //     color: $tag-color-white-default-icon;
        // }
    }
}

.#{$module}-white-ghost,
.#{$module}-white-light,
.#{$module}-white-solid {
    .#{$module}-close {
        color: variables.$color-tag_white-icon-default;
    }
}

.#{$module}-avatar-square,
.#{$module}-avatar-circle {
    background-color: variables.$color-tag_avatar-bg-default;
    border: variables.$width-tag_avatar-border solid variables.$color-tag_avatar-border-default;
    color: variables.$color-tag_avatar-text-default;
}

@include meta.load-css('rtl.scss');
