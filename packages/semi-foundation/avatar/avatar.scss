@use "sass:meta";
@use "animation.scss";
@use 'variables.scss';
@use 'mixin.scss';


$module: #{$prefix}-avatar;
$colors: 'amber', 'blue', 'cyan', 'green', 'grey', 'indigo', 'light-blue', 'light-green', 'lime', 'orange', 'pink',
    'purple', 'red', 'teal', 'violet', 'yellow';

.#{$module} {
    position: relative;
    display: inline-flex;
    overflow: hidden;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
    text-align: center;
    vertical-align: middle;







    &:focus-visible {
        outline: variables.$width-avatar-outline solid variables.$color-avatar-outline-focus;
    }

    &-focus {
        outline: variables.$width-avatar-outline solid variables.$color-avatar-outline-focus;
    }

    &-no-focus-visible {
        &:focus-visible {
            outline: none;
        }
    }

    .#{$module}-label {
        display: flex;
        align-items: center;
        @include font-size-regular;
        font-weight: $font-weight-bold;
    }

    &-content {
        user-select: none;
    }

    &-extra-extra-small {
        width: variables.$width-avatar_extra_extra_small;
        height: variables.$width-avatar_extra_extra_small;
        border-radius: variables.$radius-avatar_extra_extra_small;

        .#{$module}-content {
            transform-origin: center;
            transform: scale(0.8);
        }

        .#{$module}-label {
            font-size: variables.$font-avatar_extra_extra_small-size;
            line-height: variables.$font-avatar_extra_extra_small-lineHeight;
        }
    }

    &-extra-small {
        width: variables.$width-avatar_extra_small;
        height: variables.$width-avatar_extra_small;
        border-radius: variables.$radius-avatar_extra_small;

        .#{$module}-content {
            transform-origin: center;
            transform: scale(0.8);
        }

        .#{$module}-label {
            font-size: variables.$font-avatar_extra_small-size;
            line-height: variables.$font-avatar_extra_small-lineHeight;
        }
    }

    &-small {
        width: variables.$width-avatar_small;
        height: variables.$width-avatar_small;
        border-radius: variables.$radius-avatar_small;

        .#{$module}-label {
            @include font-size-small;
        }
    }

    &-default {
        width: variables.$width-avatar_default;
        height: variables.$width-avatar_default;
        border-radius: variables.$radius-avatar_default;

        .#{$module}-label {
            @include font-size-header-5;
        }
    }

    &-medium {
        width: variables.$width-avatar_medium;
        height: variables.$width-avatar_medium;
        border-radius: variables.$radius-avatar_medium;

        .#{$module}-label {
            @include font-size-header-4;
        }
    }

    &-large {
        width: variables.$width-avatar_large;
        height: variables.$width-avatar_large;
        border-radius: variables.$radius-avatar_large;

        .#{$module}-label {
            @include font-size-header-1;
        }
    }

    &-extra-large {
        width: variables.$width-avatar_extra_large;
        height: variables.$width-avatar_extra_large;
        border-radius: variables.$radius-avatar_extra_large;

        .#{$module}-label {
            font-size: variables.$font-avatar_extra_large-size;
            line-height: variables.$font-avatar_extra_large-lineHeight;
        }
    }

    &-circle {
        border-radius: variables.$radius-avatar;
    }

    &-image {
        background-color: transparent;
    }

    & > img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    &-hover {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
    }

    &:hover {
        cursor: pointer;
    }


}


.#{$module}-wrapper{
    position: relative;
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    width: fit-content;
    .#{$module}-top_slot-bg{
        position: absolute;
        display: flex;
        justify-content: center;
        border-radius: 50%;
        overflow: hidden;
        
        &-small{
            width: variables.$width-avatar_small;
            height: variables.$width-avatar_small;
        }

        &-default{
            width: variables.$width-avatar_default;
            height: variables.$width-avatar_default;
        }

        &-medium{
            width: variables.$width-avatar_medium;
            height: variables.$width-avatar_medium;
        }

        &-large{
            width: variables.$width-avatar_large;
            height: variables.$width-avatar_large;
        }

        &-extra-large{
            width: variables.$width-avatar_extra_large;
            height: variables.$width-avatar_extra_large;
        }


        &-svg{
            position: absolute;
        }
        &-svg-small{
            top: variables.$spacing-avatar-top_slot_small-shift;
            scale: variables.$spacing-avatar-top_slot_small-scale;
        }
        &-svg-default{
            top: variables.$spacing-avatar-top_slot_default-shift;
            scale: variables.$spacing-avatar-top_slot_default-scale;
        }
        &-svg-medium{
            top: variables.$spacing-avatar-top_slot_medium-shift;
            scale: variables.$spacing-avatar-top_slot_medium-scale;
        }
        &-svg-large{
            top: variables.$spacing-avatar-top_slot_large-shift;
            scale: variables.$spacing-avatar-top_slot_large-scale;
        }
        &-svg-extra-large{
            top: variables.$spacing-avatar-top_slot_extra_large-shift;
            scale: variables.$spacing-avatar-top_slot_extra_large-scale;
        }
    }

    .#{$module}-top_slot-bg-with_border{
        //top: $width-avatar_additional-border;
    }

    .#{$module}-top_slot-wrapper{
        position: absolute;
        display: flex;
        justify-content: center;
        .#{$module}-top_slot{
            color:variables.$color-avatar-top_slot_text;
            font-weight: $font-weight-bold;
            &-content{
                user-select: none;
                position: relative;
                line-height: normal;
                &-small{
                    font-size: variables.$font-avatar_top_slot-small-fontSize;
                    margin-top: variables.$spacing-avatar-top_slot_small-content-marginTop;
                }
                &-default{
                    font-size: variables.$font-avatar_top_slot-default-fontSize;
                    margin-top: variables.$spacing-avatar-top_slot_default-content-marginTop;
                }
                &-medium{
                    font-size: variables.$font-avatar_top_slot-medium-fontSize;
                    margin-top: variables.$spacing-avatar-top_slot_medium-content-marginTop;
                }
                &-large{
                    font-size: variables.$font-avatar_top_slot-large-fontSize;
                    margin-top: variables.$spacing-avatar-top_slot_large-content-marginTop;
                }
                &-extra-large{
                    font-size: variables.$font-avatar_top_slot-extra_large-fontSize;
                    margin-top: variables.$spacing-avatar-top_slot_extra_large-content-marginTop;
                }
            }

        }
    }



    .#{$module}-bottom_slot{
        color:var(--semi-color-bg-0);
        position: absolute;
        cursor: pointer;
        bottom: variables.$spacing-avatar_additional-borderGap + variables.$width-avatar_additional-border;
        transform: translateY(50%);
        user-select: none;
        &-shape_circle{
            display: flex;
            justify-content: center;
            align-items: center;
            background: variables.$color-avatar-bottom_slot_bg;
            border-radius: var(--semi-border-radius-circle);
            line-height:normal;
        }
        &-shape_circle-extra-small{
            width:variables.$width-avatar-bottom_slot_circle_extra_small;
            height:variables.$width-avatar-bottom_slot_circle_extra_small;
            font-size: variables.$font-avatar_bottom_slot-extra_small-fontSize;
        }
        &-shape_circle-small{
            width:variables.$width-avatar-bottom_slot_circle_small;
            height:variables.$width-avatar-bottom_slot_circle_small;
            font-size: variables.$font-avatar_bottom_slot-small-fontSize;
        }
        &-shape_circle-default{
            width:variables.$width-avatar-bottom_slot_circle_default;
            height:variables.$width-avatar-bottom_slot_circle_default;
            font-size: variables.$font-avatar_bottom_slot-default-fontSize;
        }
        &-shape_circle-medium{
            width:variables.$width-avatar-bottom_slot_circle_medium;
            height:variables.$width-avatar-bottom_slot_circle_medium;
            font-size: variables.$font-avatar_bottom_slot-medium-fontSize;
        }
        &-shape_circle-large{
            width:variables.$width-avatar-bottom_slot_circle_large;
            height:variables.$width-avatar-bottom_slot_circle_large;
            font-size: variables.$font-avatar_bottom_slot-large-fontSize;
        }

        &-shape_circle-extra-large{
            width:variables.$width-avatar-bottom_slot_circle_extra_large;
            height:variables.$width-avatar-bottom_slot_circle_extra_large;
            font-size: variables.$font-avatar_bottom_slot-extra_large-fontSize;
        }



        &-shape_square{
            display: flex;
            justify-content: center;
            align-items: center;
            background: variables.$color-avatar-bottom_slot_bg;
            border-radius: variables.$radius-avatar-bottom_slot_square;
            padding: variables.$spacing-avatar-bottom_slot_square-paddingY variables.$spacing-avatar-bottom_slot_square-paddingX;
            font-weight: $font-weight-bold;
            border-style: solid;
            border-color: variables.$color-avatar-bottom_slot_square-border;
        }

        &-shape_square-extra_small{
            font-size: variables.$font-avatar_bottom_slot-extra_small-fontSize;
            border-width: variables.$width-avatar-bottom_slot_square_extra_small-border;
        }

        &-shape_square-small{
            font-size: variables.$font-avatar_bottom_slot-small-fontSize;
            border-width: variables.$width-avatar-bottom_slot_square_small-border;
        }
        &-shape_square-default{
            font-size: variables.$font-avatar_bottom_slot-default-fontSize;
            border-width: variables.$width-avatar-bottom_slot_square_default-border;

        }
        &-shape_square-medium{
            font-size: variables.$font-avatar_bottom_slot-medium-fontSize;
            border-width: variables.$width-avatar-bottom_slot_square_medium-border;

        }
        &-shape_square-large{
          font-size: variables.$font-avatar_bottom_slot-large-fontSize;
            border-width: variables.$width-avatar-bottom_slot_square_large-border;
        }

        &-shape_square-extra-large{
            font-size: variables.$font-avatar_bottom_slot-extra_large-fontSize;
              border-width: variables.$width-avatar-bottom_slot_square_extra_large-border;
          }
    }
}

.#{$module}-group {
    display: inline-block;

    .#{$module} {
        box-sizing: border-box;

        &:first-child {
            margin-left: 0;
        }
    }

    .#{$module}-extra-large {
        border: variables.$width-avatar_extra_large-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_extra_large-marginLeft;
    }

    .#{$module}-large {
        border: variables.$width-avatar_large-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_large-marginLeft;
    }

    .#{$module}-medium {
        border: variables.$width-avatar_medium-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_medium-marginLeft;
    }

    .#{$module}-default {
        border: variables.$width-avatar_default-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_default-marginLeft;
    }

    .#{$module}-small {
        border: variables.$width-avatar_small-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_small-marginLeft;
    }

    .#{$module}-extra-small {
        border: variables.$width-avatar_extra_small-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_extra_small-marginLeft;
    }

    .#{$module}-extra-extra-small {
        border: variables.$width-avatar_extra_extra_small-border variables.$color-avatar_default-border-default solid;
        margin-left: variables.$spacing-avatar_extra_extra_small-marginLeft;
    }

    @for $i from 0 through 20 {
        .#{$module}-item-start-#{$i} {
            z-index: variables.$z-avatar-default - $i;
        }
        .#{$module}-item-end-#{$i} {
            z-index: variables.$z-avatar-default - 20 + $i;
        }
    }


    .#{$module}-item-more {
        background-color: variables.$color-avatar_more_default-bg-default;
    }
}

@each $c in $colors {
    .#{$module}-#{$c} {
        @include mixin.avatar-style($c);
    }
}


.#{$module}-additionalBorder{
    border-style: solid;
    border-color: variables.$color-avatar_additional-border;
    display: inline-block;
    box-sizing: border-box;  
    position: absolute;
    border-width: variables.$width-avatar_additional-border;
    top: -1 *  variables.$width-avatar_additional-border - variables.$spacing-avatar_additional-borderGap;
    left: -1 *  variables.$width-avatar_additional-border - variables.$spacing-avatar_additional-borderGap;

    &-extra-extra-small{
        width: variables.$width-avatar_extra_extra_small + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_extra_extra_small + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
    }

    &-extra-small{
        width: variables.$width-avatar_extra-small + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_extra-small + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
    }

    &-small{
        width: variables.$width-avatar_small + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_small + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
    }

    &-default{
        width: variables.$width-avatar_default + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_default + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
    }

    &-medium{
      
        width: variables.$width-avatar_medium + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_medium + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
    }

    &-large{
        width: variables.$width-avatar_large + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_large + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
       
    }

    &-extra-large{
        width: variables.$width-avatar_extra_large + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
        height: variables.$width-avatar_extra_large + 2 * variables.$spacing-avatar_additional-borderGap + 2 * variables.$width-avatar_additional-border;
    }
}

.#{$module}-square.#{$module}-additionalBorder-extra_extra_small {
    border-radius: variables.$radius-avatar-extra_extra_small;
}

.#{$module}-square.#{$module}-additionalBorder-extra_small {
    border-radius: variables.$radius-avatar-extra_small;
}

.#{$module}-square.#{$module}-additionalBorder-small {
    border-radius: variables.$radius-avatar-small;
}

.#{$module}-square.#{$module}-additionalBorder-default {
    border-radius: variables.$radius-avatar-default;
}

.#{$module}-square.#{$module}-additionalBorder-medium {
    border-radius: variables.$radius-avatar-medium;
}

.#{$module}-square.#{$module}-additionalBorder-large {
    border-radius: variables.$radius-avatar-large;
}

.#{$module}-additionalBorder-circle{
    border-radius: var(--semi-border-radius-circle);
}


.#{$module}-additionalBorder-animated{
    animation: animation.$animation_duration-additionalBorder linear infinite #{$module}-additionalBorder;
}

.#{$module}-animated{
    animation: animation.$animation_duration-content linear infinite #{$module}-content ;
}

@keyframes #{$module}-additionalBorder {
    0% {
        opacity: animation.$animation_opacity-additionalBorder-start;
        transform: scale(animation.$animation_scale-additionalBorder-start)
    }

    to {
        border-width: animation.$animation_width-additionalBorder-end;
        opacity: animation.$animation_opacity-additionalBorder-end;
        transform: scale(animation.$animation_scale-additionalBorder-end);
    }
}

@keyframes #{$module}-content{
    0% {
        transform: scale(animation.$animation_scale-content-start)
    }

    50% {
        transform: scale(animation.$animation_scale-content-middle)
    }

    to {
        transform: scale(animation.$animation_scale-content-start)
    }
}

@include meta.load-css('rtl.scss');
