@use "sass:meta";
@use 'animation.scss';
@use 'variables.scss';
@use 'splitButtonGroup.scss';

splitButtonGroup.$module: #{$prefix}-button;

.#{splitButtonGroup.$module} {
    @include shadow-0;
    height: variables.$height-button_default;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
    border: variables.$width-button-border variables.$color-button_primary-border-default solid;
    border-radius: variables.$radius-button;
    padding-left: variables.$spacing-button_default-paddingLeft;
    padding-right: variables.$spacing-button_default-paddingRight;
    padding-top: variables.$spacing-button_default-paddingTop;
    padding-bottom: variables.$spacing-button_default-paddingTop;
    font-size: variables.$font-button-fontSize;
    line-height: variables.$font-button-lineHeight;
    font-weight: variables.$font-button-fontWeight;
    outline: none;
    vertical-align: middle;
    white-space: nowrap;

    // the specificity of `.#{$module}:focus-visible`  may lower than `reset.css` default `focus-visible` style
    // so we add a class at the same level
    &.#{splitButtonGroup.$module}-primary,
    &.#{splitButtonGroup.$module}-secondary,
    &.#{splitButtonGroup.$module}-tertiary,
    &.#{splitButtonGroup.$module}-warning,
    &.#{splitButtonGroup.$module}-danger {
        &:focus-visible {
            outline: variables.$width-button-outline solid variables.$color-button_primary-outline-focus;
        }
    }

    &-content{
        display: flex;
        align-items: center;
    }

    &-danger {
        background-color: variables.$color-button_danger-bg-default;
        color: variables.$color-button_danger-text-default;
        transition: background-color animation.$transition_duration-button_danger-bg animation.$transition_function-button_danger-bg animation.$transition_delay-button_danger-bg,
        border animation.$transition_duration-button_danger-border animation.$transition_function-button_danger-border animation.$transition_delay-button_danger-border;
        transform: scale(animation.$transform-scale-button_danger);

        &-disabled {
            background-color: variables.$color-button_disabled_danger-bg-default;
            &.#{splitButtonGroup.$module}-outline {
                background-color: transparent;
                border: variables.$width-button_outline-border solid variables.$color-button_disabled_outline-border-default;
            }
            &.#{splitButtonGroup.$module}-light {
                background-color: variables.$color-button_disabled_light_danger-bg-default;
            }
        }

        &:hover {
            background-color: variables.$color-button_danger-bg-hover;
        }

        &:active {
            background-color: variables.$color-button_danger-bg-active;
        }

        &.#{splitButtonGroup.$module}-outline{
            background-color: transparent;
            border: variables.$width-button_outline-border solid variables.$color-button_danger_outline-border-default;
        }


        &.#{splitButtonGroup.$module}-light,
        &.#{splitButtonGroup.$module}-outline,
        &.#{splitButtonGroup.$module}-borderless {
            color: variables.$color-button_danger_borderless-text-default;
        }

        &:not(.#{splitButtonGroup.$module}-borderless):not(.#{splitButtonGroup.$module}-light):focus-visible {
            outline: variables.$width-button-outline solid variables.$color-button_danger-outline-focus;
        }
    }

    &-warning {
        background-color: variables.$color-button_warning-bg-default;
        color: variables.$color-button_warning-text-default;
        transition: background-color animation.$transition_duration-button_warning-bg animation.$transition_function-button_warning-bg animation.$transition_delay-button_warning-bg,
        border animation.$transition_duration-button_warning-border animation.$transition_function-button_warning-border animation.$transition_delay-button_warning-border;
        transform: scale(animation.$transform_scale-button_warning);

        &-disabled {
            background-color: variables.$color-button_disabled_warning-bg-default;
            &.#{splitButtonGroup.$module}-outline {
                background-color: transparent;
                border: variables.$width-button_outline-border solid variables.$color-button_disabled_outline-border-default;
            }
            &.#{splitButtonGroup.$module}-light {
                background-color: variables.$color-button_disabled_light_warning-bg-default;
            }
        }

        &:hover {
            background-color: variables.$color-button_warning-bg-hover;
        }

        &:active {
            background-color: variables.$color-button_warning-bg-active;
        }

        &.#{splitButtonGroup.$module}-outline{
            background-color: transparent;
            border: variables.$width-button_outline-border solid variables.$color-button_warning_outline-border-default;
        }

        &.#{splitButtonGroup.$module}-light,
        &.#{splitButtonGroup.$module}-outline,
        &.#{splitButtonGroup.$module}-borderless {
            color: variables.$color-button_warning_borderless-text-default;
        }

        &:not(.#{splitButtonGroup.$module}-borderless):not(.#{splitButtonGroup.$module}-light):focus-visible {
            outline: variables.$width-button-outline solid variables.$color-button_warning-outline-focus;
        }
    }

    &-tertiary {
        background-color: variables.$color-button_tertiary-bg-default;
        color: variables.$color-button_tertiary-text-default;
        transition: background-color animation.$transition_duration-button_tertiary-bg animation.$transition_function-button_tertiary-bg animation.$transition_delay-button_tertiary-bg,
        border animation.$transition_duration-button_tertiary-border animation.$transition_function-button_tertiary-border animation.$transition_delay-button_tertiary-border;
        transform: scale(animation.$transform_scale_button_tertiary);

        &-disabled {
            background-color: variables.$color-button_disabled_tertiary-bg-default;
            &.#{splitButtonGroup.$module}-outline {
                background-color: transparent;
                border: variables.$width-button_outline-border solid variables.$color-button_disabled_outline-border-default;
            }
            &.#{splitButtonGroup.$module}-light {
                background-color: variables.$color-button_disabled_light_tertiary-bg-default;
            }
        }

        &:hover {
            background-color: variables.$color-button_tertiary-bg-hover;
        }

        &:active {
            background-color: variables.$color-button_tertiary-bg-active;
        }

        &.#{splitButtonGroup.$module}-outline{
            background-color: transparent;
            border: variables.$width-button_outline-border solid variables.$color-button_tertiary_outline-border-default;
        }

        &.#{splitButtonGroup.$module}-light,
        &.#{splitButtonGroup.$module}-outline,
        &.#{splitButtonGroup.$module}-borderless {
            color: variables.$color-button_tertiary_solid-text-default;
        }
    }

    &-primary {
        background-color: variables.$color-button_primary-bg-default;
        color: variables.$color-button_primary-text-default;
        transition: background-color animation.$transition_duration-button_primary-bg animation.$transition_function-button_primary-bg animation.$transition_delay-button_primary-bg,
        border animation.$transition_duration-button_primary-border animation.$transition_function-button_primary-border animation.$transition_delay-button_primary-border;;
        transform: scale(animation.$transform_scale-button_primary);

        &-disabled {
            background-color: variables.$color-button_disabled_primary-bg-default;

            &.#{splitButtonGroup.$module}-light {
                background: variables.$color-button_disabled_light_primary-bg-default;
            }

            &.#{splitButtonGroup.$module}-outline {
                background-color: transparent;
                border: variables.$width-button_outline-border solid variables.$color-button_disabled_outline-border-default;
            }
        }

        &:not(.#{splitButtonGroup.$module}-borderless):not(.#{splitButtonGroup.$module}-light):not(.#{splitButtonGroup.$module}-outline):hover {
            background-color: variables.$color-button_primary-bg-hover;
        }

        &.#{splitButtonGroup.$module}-outline{
            background-color: transparent;
            border: variables.$width-button_outline-border solid variables.$color-button_primary_outline-border-default;
        }


        &:not(.#{splitButtonGroup.$module}-borderless):not(.#{splitButtonGroup.$module}-light):not(.#{splitButtonGroup.$module}-outline):active {
            background-color: variables.$color-button_primary-bg-active;
        }

        &.#{splitButtonGroup.$module}-light,
        &.#{splitButtonGroup.$module}-outline,
        &.#{splitButtonGroup.$module}-borderless {
            color: variables.$color-button_primary_borderless-text-default;
        }
    }

    &-secondary {
        background-color: variables.$color-button_secondary-bg-default;
        outline-color: variables.$color-button_secondary-border-default;
        color: variables.$color-button_secondary-text-default;
        transition: background-color animation.$transition_duration-button_secondary-bg animation.$transition_function-button_secondary-bg animation.$transition_delay-button_secondary-bg,
        border animation.$transition_duration-button_secondary-border animation.$transition_function-button_secondary-border animation.$transition_delay-button_secondary-border;
        transform: scale(animation.$transform_scale-button_secondary);

        &-disabled {
            background-color: variables.$color-button_disabled_secondary-bg-default;

            &.#{splitButtonGroup.$module}-outline {
                background-color: transparent;
                border: variables.$width-button_outline-border solid variables.$color-button_disabled_outline-border-default;
            }

            &.#{splitButtonGroup.$module}-light {
                background-color: variables.$color-button_disabled_light_secondary-bg-default;
            }
        }

        &.#{splitButtonGroup.$module}-outline{
            background-color: transparent;
            border: variables.$width-button_outline-border solid variables.$color-button_secondary_outline-border-default;
        }

        &:hover {
            background-color: variables.$color-button_secondary-bg-hover;
        }

        &:active {
            background-color: variables.$color-button_secondary-bg-active;
        }

        &.#{splitButtonGroup.$module}-light,
        &.#{splitButtonGroup.$module}-outline,
        &.#{splitButtonGroup.$module}-borderless {
            color: variables.$color-button_secondary_borderless-text-default;
        }
    }

    &-disabled {
        color: variables.$color-button_disabled_solid-text-default;
        cursor: not-allowed;

        &:not(.#{splitButtonGroup.$module}-borderless):not(.#{splitButtonGroup.$module}-light):not(.#{splitButtonGroup.$module}-outline):hover {
            color: variables.$color-button_disabled-text-hover;
        }

        &.#{splitButtonGroup.$module}-light,
        &.#{splitButtonGroup.$module}-borderless {
            color: variables.$color-button_disabled-text-default;
        }

        &.#{splitButtonGroup.$module}-outline {
            color: variables.$color-button_disabled_outline_text-default;
        }
    }

    &-borderless {
        background-color: transparent;
        border: variables.$width-button_borderless-border variables.$color-button_borderless-border-default solid;
        transition: background-color animation.$transition_duration-button_borderless-bg animation.$transition_function-button_borderless-bg animation.$transition_delay-button_borderless-bg;
        transform: scale(animation.$transform_scale-button_borderless);

        &:not(.#{splitButtonGroup.$module}-disabled):hover {
            background-color: variables.$color-button_borderless-bg-hover;
            border: variables.$width-button_borderless-border variables.$color-button_borderless-border-hover solid;
        }

        &:not(.#{splitButtonGroup.$module}-disabled):active {
            background-color: variables.$color-button_borderless-bg-active;
            border: variables.$width-button_borderless-border variables.$color-button_borderless-border-active solid;
        }
    }

    &-outline {
        background-color: transparent;

        &:not(.#{splitButtonGroup.$module}-disabled):hover {
            background-color: variables.$color-button_outline-bg-hover;
        }

        &:not(.#{splitButtonGroup.$module}-disabled):active {
            background-color: variables.$color-button_outline-bg-active;
        }
    }

    &-light {
        background-color: variables.$color-button_light-bg-default;
        border: variables.$width-button_light-border variables.$color-button_light-border-default solid;
        transition: background-color animation.$transition_duration-button_light-bg animation.$transition_function-button_light-bg animation.$transition_delay-button_light-bg,
        border animation.$transition_duration-button_light-border animation.$transition_function-button_light-border animation.$transition_delay-button_light-border;
        transform: scale(animation.$transform_scale-button_light);

        &:not(.#{splitButtonGroup.$module}-disabled):hover {
            background-color: variables.$color-button_light-bg-hover;
            border: variables.$width-button_light-border variables.$color-button_light-border-hover solid;
        }

        &:not(.#{splitButtonGroup.$module}-disabled):active {
            background-color: variables.$color-button_light-bg-active;
            border: variables.$width-button_light-border variables.$color-button_light-border-active solid;
        }
    }

    &-size-small {
        height: variables.$height-button_small;
        padding-top: variables.$spacing-button_small-paddingTop;
        padding-bottom: variables.$spacing-button_small-paddingBottom;
        padding-left: variables.$spacing-button_small-paddingLeft;
        padding-right: variables.$spacing-button_small-paddingRight;
        font-size: variables.$font-button_small-fontSize;
        line-height: variables.$font-button_small-lineHeight;
        font-weight: variables.$font-button_small-fontWeight;
    }

    &-size-large {
        height: variables.$height-button_large;
        padding-top: variables.$spacing-button_large-paddingTop;
        padding-bottom: variables.$spacing-button_large-paddingBottom;
        padding-left: variables.$spacing-button_large-paddingLeft;
        padding-right: variables.$spacing-button_large-paddingRight;
        font-size: variables.$font-button_large-fontSize;
        line-height: variables.$font-button_large-lineHeight;
        font-weight: variables.$font-button_large-fontWeight;
    }

    &-block {
        width: 100%;
    }

    &-group {
        display: flex;
        flex-wrap: wrap;

        & > .#{splitButtonGroup.$module} {
            margin: 0;
            padding-left: 0;
            padding-right: 0;
            border-radius: 0;

            .#{splitButtonGroup.$module}-content {
                padding-left: variables.$spacing-button_default-paddingLeft;
                padding-right: variables.$spacing-button_default-paddingRight;
            }

            &-size-large {
                .#{splitButtonGroup.$module}-content {
                    padding-left: variables.$spacing-button_large-paddingLeft;
                    padding-right: variables.$spacing-button_large-paddingRight;
                }
            }

            &-size-small {
                .#{splitButtonGroup.$module}-content {
                    padding-left: variables.$spacing-button_small-paddingLeft;
                    padding-right: variables.$spacing-button_small-paddingRight;
                }
            }

            &.#{splitButtonGroup.$module}-with-icon-only {
                padding-left: 0;
                padding-right: 0;

                .#{splitButtonGroup.$module}-content {
                    padding-left: variables.$spacing-button_iconOnly_default-paddingLeft;
                    padding-right: variables.$spacing-button_iconOnly_default-paddingRight;
                }

                &.#{splitButtonGroup.$module}-size {
                    &-small {
                        .#{splitButtonGroup.$module}-content {
                            padding-left: variables.$spacing-button_iconOnly_small-paddingLeft;
                            padding-right: variables.$spacing-button_iconOnly_small-paddingRight;
                        }
                    }

                    &-large {
                        .#{splitButtonGroup.$module}-content {
                            padding-left: variables.$spacing-button_iconOnly_large-paddingLeft;
                            padding-right: variables.$spacing-button_iconOnly_large-paddingRight;
                        }
                    }
                }
            }

            &:first-child {
                border-top-left-radius: variables.$radius-button_group;
                border-bottom-left-radius: variables.$radius-button_group;
            }

            &:last-child {
                border-top-right-radius: variables.$radius-button_group;
                border-bottom-right-radius: variables.$radius-button_group;
            }

            &-outline:not(:last-child) {
               border-right-color: transparent;
               margin-right: -1 * variables.$width-button_outline-border;
            }
        }

        &-line {
            display: inline-flex;
            align-items: center;
            background-color: variables.$color-button_group-border-default;

            &-primary {
                background-color: variables.$color-button_primary-bg-default;
            }

            &-secondary {
                background-color: variables.$color-button_secondary-bg-default;
            }

            &-tertiary {
                background-color: variables.$color-button_tertiary-bg-default;
            }

            &-warning {
                background-color: variables.$color-button_warning-bg-default;
            }

            &-danger {
                background-color: variables.$color-button_danger-bg-default;
            }

            &-disabled {
                background-color: variables.$color-button_disabled-bg-default;
            }

            &-light {
                background-color: variables.$color-button_light-bg-default;
            }

            &-borderless {
                background-color: transparent;
            }

            &::before {
                display: block;
                content: '';
                width: variables.$width-button_group-border;
                height: variables.$height-button_group_line_default;
                background-color: variables.$color-button_group-border-default;
            }
        }
    }
}

@include meta.load-css('rtl.scss');
