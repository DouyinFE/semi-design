//@import '../theme/variables.scss';
@use "animation.scss";
@use "variables.scss";


$module: #{$prefix}-slider;

.#{$module} {
    padding: variables.$spacing-slider-paddingY variables.$spacing-slider-paddingX;
    margin: variables.$spacing-slider-margin;

    &-wrapper {
        box-sizing: border-box;
        position: relative;
        // margin: 15px 0px 15px 0px;
        height: variables.$height-slider_wrapper;
        width: 100%;
        //padding-top: 12px;
        // min-width: 500px;
        display: inline-block;
        // vertical-align 默认值 baseline 会导致父级元素高度比子元素高 https://codepen.io/shijiame/pen/rNeraYg
        vertical-align: bottom;
    }

    &-rail {
        box-sizing: border-box;
        margin: variables.$spacing-slider_rail-margin;
        padding: variables.$spacing-slider_rail-padding;
        color: variables.$color-slider_rail;
        font-size: variables.$font-slider_rail-fontSize;
        font-variant: tabular-nums;
        line-height: variables.$font-slider_rail-lineHeight;
        list-style: none;
        font-feature-settings: 'tnum';
        position: absolute;
        height: variables.$height-slider_rail;
        cursor: pointer;
        touch-action: none;
        background-color: variables.$color-slider_rail-bg-default;
        width: 100%;
        border-radius: variables.$radius-slider_rail;
        top: variables.$spacing-slider_rail-top;
    }

    &-handle {
        @include shadow-knob;
        // 不设置border-box会在点击时border向下偏移1px
        box-sizing: border-box;
        touch-action: none;
        position: absolute;
        width: variables.$width-slider_handle;
        height: variables.$width-slider_handle;
        margin-top: variables.$spacing-slider_handle-marginTop;
        // margin-left: -11px;
        background-color: variables.$color-slider_handle-bg-default; //$color-white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color animation.$transition_duration_slider_handle-bg animation.$transition_function-slider-handle-bg animation.$transition_delay-slider_handle-bg;
        transform: animation.$transform_scale-slider_handle translateX(-50%) translateY(variables.$spacing-slider_handle-translateY);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        &:focus-visible {
            outline: variables.$width-slider_handle-focus solid variables.$color-slider_handle-focus;
        }

        &-dot{
            background:variables.$color-slider_handle_dot;
            width:variables.$width-slider_handle_dot;
            height: variables.$width-slider_handle_dot;
            border-radius: var(--semi-border-radius-circle);
        }
    }

    &-handle:hover {
        background-color: variables.$color-slider_handle-bg-hover;
    }

    &-handle-clicked {
        border: solid variables.$width-slider_handle_clicked variables.$color-slider_handle-border-focus;
        cursor: grabbing;
    }

    &-track {
        height: variables.$height-slider_track;
        background: variables.$color-slider_track-bg-default;
        border-radius: variables.$radius-slider_track;
        position: absolute;
        cursor: pointer;
        top: variables.$spacing-slider_track-top;
    }

    &-tooltip {
        position: absolute;
        top: variables.$spacing-slider_tooltip-top;
        // margin-left: -15px;
    }

    &-dots {
        width: 100%;
        background: transparent;
    }

    &-dot {
        position: absolute;
        top: variables.$spacing-slider_dot-top;
        width: variables.$width-slider_dot;
        height: variables.$width-slider_dot;
        background-color: variables.$color-slider_dot-bg-default;
        //border: 1px solid $color-control-bg-default;
        border-radius: 50%;
        cursor: pointer;
        transform: translateX(variables.$spacing-slider_dot-translateX);
    }

    &-dot-active {
        background-color: variables.$color-slider_dot-border-active;
    }

    &-marks {
        position: absolute;
        top: variables.$spacing-slider_marks-top;
        left: variables.$spacing-slider_marks-left;
        width: 100%;
        font-size: variables.$font-slider_marks-fontSize;
    }

    &-mark {
        position: absolute;
        display: inline-block;
        color: variables.$color-slider_mark-text-default;
        text-align: center;
        cursor: pointer;
        transform: translate(-50%, 0);
    }

    &-marks-reverse {
        position: absolute;
        top: variables.$spacing-slider_marks-top;
        left: variables.$spacing-slider_marks-left;
        width: 100%;
        font-size: variables.$font-slider_marks-fontSize;
    }

    &-mark-reverse {
        position: absolute;
        display: inline-block;
        color: variables.$color-slider_mark-text-default;
        text-align: center;
        cursor: pointer;
        transform: translate(-50%, 0) rotate(-180deg);
    }

    &-boundary {
        position: relative;
        font-size: $font-size-small;
        color: variables.$color-slider-text-default;
        visibility: hidden;
        top: variables.$spacing-slider_boundary-top;

        span {
            position: absolute;
            display: inline-block;
        }
    }

    &-boundary-min {
        left: variables.$spacing-slider_boundary_min-left;
    }

    &-boundary-max {
        right: variables.$spacing-slider_boundary_max-right;
    }

    &-boundary-show {
        visibility: visible;
    }
}

.#{$module}-vertical-wrapper {
    width: variables.$height-slider_vertical_wrapper;
    height: 100%;

    .#{$module}-track {
        width: variables.$height-slider_track;
    }

    .#{$module}-marks {
        height: 100%;
        margin-top: variables.$spacing-slider_vertical_marks-marginTop;
        margin-left: variables.$spacing-slider_vertical_marks-marginLeft;
    }

    .#{$module}-marks-reverse {
        height: 100%;
        margin-top: variables.$spacing-slider_vertical_marks-marginTop;
        margin-left: variables.$spacing-slider_vertical_marks-reverse-marginLeft;
    }

    .#{$module}-rail {
        width: variables.$height-slider_rail;
        height: 100%;
        top: variables.$spacing-slider_vertical_rail-top;
    }

    .#{$module}-handle {
        margin-top: variables.$spacing-slider_vertical_handle-marginTop;
        margin-left: variables.$spacing-slider_vertical_handle-marginLeft;
        transform: animation.$transform_scale-slider_handle translateY(-50%) translateX(variables.$spacing-slider_vertical_handle-translateX);
    }
    .#{$module}-dot{
        transform: translateY(variables.$spacing-slider_vertical_dot-translateY);
    }
}

.#{$module}-disabled {
    cursor: not-allowed;
    $color: variables.$color-slider_disabled-text-default !important;

    .#{$module}-handle {
        cursor: not-allowed;
        @include shadow-0;
        border: variables.$width-slider_handle_border_disabled variables.$color-slider_handle_disabled-border solid;

        &:hover {
            background-color: variables.$color-slider_handle_disabled-border-hover;
        }
    }

    .#{$module}-rail {
        cursor: not-allowed;
    }

    .#{$module}-track {
        cursor: not-allowed;
        background-color: variables.$color-slider_track_disabled-bg;
    }

    .#{$module}-dot {
        cursor: not-allowed;
        background-color: variables.$color-slider_dot-bg-default;
        border-color: variables.$color-slider_dot-border;
        box-shadow: none;
    }
}

.#{$module}-handle-tooltip {
    text-align: center;
}

.#{$module}-reverse {
    transform: rotate(180deg);
}
